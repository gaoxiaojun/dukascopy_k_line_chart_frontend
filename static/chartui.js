/** Build date: 2020.04.16-04.04.43 */(function () {
    'use strict';
    var f;
    var aa = aa || {}, ba = this;

    function ca(b) {
        return void 0 !== b
    }

    function da() {
    }

    function ea(b) {
        b.Ka = function () {
            return b.xE ? b.xE : b.xE = new b
        }
    }

    function ga(b) {
        var c = typeof b;
        if ("object" == c) if (b) {
            if (b instanceof Array) return "array";
            if (b instanceof Object) return c;
            var d = Object.prototype.toString.call(b);
            if ("[object Window]" == d) return "object";
            if ("[object Array]" == d || "number" == typeof b.length && "undefined" != typeof b.splice && "undefined" != typeof b.propertyIsEnumerable && !b.propertyIsEnumerable("splice")) return "array";
            if ("[object Function]" == d || "undefined" != typeof b.call && "undefined" != typeof b.propertyIsEnumerable && !b.propertyIsEnumerable("call")) return "function"
        } else return "null";
        else if ("function" == c && "undefined" == typeof b.call) return "object";
        return c
    }

    function ha(b) {
        return null != b
    }

    function ia(b) {
        return "array" == ga(b)
    }

    function ja(b) {
        var c = ga(b);
        return "array" == c || "object" == c && "number" == typeof b.length
    }

    function ka(b) {
        return "string" == typeof b
    }

    function la(b) {
        return "boolean" == typeof b
    }

    function ma(b) {
        return "number" == typeof b
    }

    function oa(b) {
        return "function" == ga(b)
    }

    function pa(b) {
        var c = typeof b;
        return "object" == c && null != b || "function" == c
    }

    function qa(b) {
        return b[ra] || (b[ra] = ++sa)
    }

    var ra = "closure_uid_" + (1E9 * Math.random() >>> 0), sa = 0;

    function ta(b, c, d) {
        return b.call.apply(b.bind, arguments)
    }

    function ua(b, c, d) {
        if (!b) throw Error();
        if (2 < arguments.length) {
            var e = Array.prototype.slice.call(arguments, 2);
            return function () {
                var d = Array.prototype.slice.call(arguments);
                Array.prototype.unshift.apply(d, e);
                return b.apply(c, d)
            }
        }
        return function () {
            return b.apply(c, arguments)
        }
    }

    function v(b, c, d) {
        v = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? ta : ua;
        return v.apply(null, arguments)
    }

    function va(b, c) {
        var d = Array.prototype.slice.call(arguments, 1);
        return function () {
            var c = d.slice();
            c.push.apply(c, arguments);
            return b.apply(this, c)
        }
    }

    var wa = Date.now || function () {
        return +new Date
    };

    function y(b, c) {
        c && (b = b.replace(/\{\$([^}]+)}/g, function (b, e) {
            return null != c && e in c ? c[e] : b
        }));
        return b
    }

    function z(b, c) {
        var d = b.split("."), e = ba;
        d[0] in e || !e.execScript || e.execScript("var " + d[0]);
        for (var h; d.length && (h = d.shift());) !d.length && ca(c) ? e[h] = c : e[h] ? e = e[h] : e = e[h] = {}
    }

    function B(b, c) {
        function d() {
        }

        d.prototype = c.prototype;
        b.P = c.prototype;
        b.prototype = new d;
        b.prototype.constructor = b;
        b.bC = function (b, d, k) {
            for (var l = Array(arguments.length - 2), p = 2; p < arguments.length; p++) l[p - 2] = arguments[p];
            return c.prototype[d].apply(b, l)
        }
    };var ya = {};

    function za(b) {
        var c = document.createElement(D);
        Ba ? (c.innerHTML = "<br>" + b, c.removeChild(c.firstChild)) : c.innerHTML = b;
        b = document;
        if (1 == c.childNodes.length) c = c.removeChild(c.firstChild); else {
            for (b = b.createDocumentFragment(); c.firstChild;) b.appendChild(c.firstChild);
            c = b
        }
        return c
    };

    function Ca(b, c, d, e) {
        (2 > arguments.length || 4 < arguments.length) && Ca.a("Wrong number of argments");
        2 === arguments.length ? (e = c, c = 0, d = b.byteLength) : 3 === arguments.length && (e = d, d = b.byteLength - c);
        b instanceof ArrayBuffer || Ca.a("Bad ArrayBuffer");
        (0 > c || c > b.byteLength) && Ca.a("Illegal offset");
        (0 > d || c + d > b.byteLength) && Ca.a("Illegal length");
        e !== Da && e !== Ea && Ca.a("Bad byte order");
        Object.defineProperties(this, {
            buffer: {value: b, enumerable: !1, writable: !1, configurable: !1},
            byteOffset: {
                value: c, enumerable: !1, writable: !1,
                configurable: !1
            },
            byteLength: {value: d, enumerable: !1, writable: !1, configurable: !1},
            Y3: {value: e, enumerable: !0, writable: !1, configurable: !1},
            index: {
                get: function () {
                    return this.eQ
                }, set: function (b) {
                    0 > b && Ca.a("Negative index");
                    b > this.byteLength && Ca.a("Buffer overflow: index too large");
                    this.eQ = b
                }, enumerable: !0, configurable: !1
            },
            eQ: {value: 0, enumerable: !1, writable: !0, configurable: !0},
            cQ: {value: new Uint8Array(b, c, d), enumerable: !1, writable: !1, configurable: !1},
            TB: {
                value: new DataView(b, c, d), enumerable: !1, writable: !1,
                configurable: !1
            }
        })
    }

    Ca.prototype.constructor = Ca;

    function Fa(b) {
        switch (void 0) {
            case Da:
                return !0;
            case Ea:
                return !1;
            case void 0:
                return b.Y3 == Da;
            default:
                Ca.a("Invalid byte order")
        }
    }

    Ca.prototype.wh = function () {
        return this.TB.getInt8(this.index++)
    };
    Ca.prototype.CB = function (b) {
        this.TB.setInt8(this.index++, b);
        return this
    };

    function Ga(b, c) {
        b.TB.setInt32(b.index, c, Fa(b));
        b.index += 4
    }

    function Ha(b, c) {
        b.TB.setFloat64(b.index, c, Fa(b));
        b.index += 8
    }

    function Ia(b, c) {
        for (var d = b.cQ, e = b.index, h = 0; h < c.length; h++) {
            var k = c.charCodeAt(h);
            if (127 >= k) e >= d.length && Ca.a("ArrayBuffer overflow"), d[e++] = k; else {
                if (2047 >= k) e + 1 >= d.length && Ca.a("ArrayBuffer overflow"), d[e++] = 192 | (k & 1984) >>> 6; else {
                    if (55295 >= k || 57344 <= k && 65535 >= k) e + 2 >= d.length && Ca.a("ArrayBuffer overflow"), d[e++] = 224 | (k & 61440) >>> 12; else {
                        e + 3 >= d.length && Ca.a("ArrayBuffer overflow");
                        h == c.length - 1 && Ca.a("Unpaired surrogate");
                        var l = c.charCodeAt(++h);
                        if (55296 > k || 56319 < k || 56320 > l || 57343 < l) console.log(h -
                            2, k.toString(16), l.toString(16)), Ca.a("Unpaired surrogate");
                        k = ((k & 1023) << 10) + (l & 1023) + 65536;
                        d[e++] = 240 | (k & 1835008) >>> 18;
                        d[e++] = 128 | (k & 258048) >>> 12
                    }
                    d[e++] = 128 | (k & 4032) >>> 6
                }
                d[e++] = 128 | k & 63
            }
        }
        b.index = e
    }

    function Da(b, c, d) {
        return new Ca(b, c, d, Da)
    }

    function Ea(b, c, d) {
        return new Ca(b, c, d, Ea)
    }

    Ca.a = function (b) {
        throw Error(b);
    };
    Ca.g = function (b) {
        if (65536 > b.length) return String.fromCharCode.apply(String, b);
        for (var c = [], d = 0, e = 65536; d < b.length;) d = b.slice(d, e), c.push(String.fromCharCode.apply(String, d)), d = e, e += 65536, e > b.length && (e = b.length);
        return c.join("")
    };

    function Ja(b, c) {
        var d = new Ka(b), e = d.a;
        La(c || {}, function (b, c) {
            e.set(c, b)
        });
        Ma(d, Na(e));
        var h = window.open("", "popup", "height=" + Math.round(.65 * window.screen.height) + ",width=" + Math.round(.65 * window.screen.width) + ",top=" + Math.round(.15 * window.screen.height) + ",left=" + Math.round(.15 * window.screen.width) + ",centerscreen=1,toolbar=0,menubar=0,location=0,personalbar=0,status=0,dependent=1,resizeable=0,scrollbars=0");
        h.location.href = d.toString();
        return h
    };

    function Oa(b, c) {
        for (var d in b) if (b.hasOwnProperty(d)) {
            var e = "set" + d.substring(0, 1).toUpperCase() + d.substring(1);
            if (oa(this[e])) this[e](b[d]); else if (d in c) c[d] = b[d]; else throw Error("Unknown option: " + d);
        }
    };var Pa = {
        AD: "a-N-O-jb",
        AE: "a-N-O-kb",
        AF: "a-N-O-lb",
        AG: "a-N-O-mb",
        AI: "a-N-O-nb",
        AL: "a-N-O-ob",
        AM: "a-N-O-pb",
        AN: "a-N-O-qb",
        AO: "a-N-O-rb",
        AR: "a-N-O-sb",
        AS: "a-N-O-tb",
        AT: "a-N-O-ub",
        AU: "a-N-O-vb",
        AW: "a-N-O-wb",
        AX: "a-N-O-xb",
        AZ: "a-N-O-yb",
        BA: "a-N-O-zb",
        BB: "a-N-O-Ab",
        BD: "a-N-O-Bb",
        BE: "a-N-O-Cb",
        BF: "a-N-O-Db",
        BG: "a-N-O-Eb",
        BH: "a-N-O-Fb",
        BI: "a-N-O-Gb",
        BJ: "a-N-O-Hb",
        BM: "a-N-O-Ib",
        BN: "a-N-O-Jb",
        BO: "a-N-O-Kb",
        BR: "a-N-O-Lb",
        BS: "a-N-O-Mb",
        BT: "a-N-O-Nb",
        BV: "a-N-O-Ob",
        BW: "a-N-O-Pb",
        BY: "a-N-O-Qb",
        BZ: "a-N-O-Rb",
        CA: "a-N-O-Sb",
        CATALONIA: "a-N-O-Tb",
        CC: "a-N-O-Ub",
        CD: "a-N-O-Vb",
        CF: "a-N-O-Wb",
        CG: "a-N-O-Xb",
        CH: "a-N-O-P",
        CI: "a-N-O-Yb",
        CK: "a-N-O-Zb",
        CL: "a-N-O-ac",
        CM: "a-N-O-bc",
        CN: "a-N-O-cc",
        CO: "a-N-O-dc",
        CR: "a-N-O-ec",
        CS: "a-N-O-fc",
        CU: "a-N-O-gc",
        CV: "a-N-O-hc",
        CX: "a-N-O-ic",
        CY: "a-N-O-jc",
        CZ: "a-N-O-kc",
        DE: "a-N-O-lc",
        DJ: "a-N-O-mc",
        DK: "a-N-O-nc",
        DM: "a-N-O-oc",
        DO: "a-N-O-pc",
        DZ: "a-N-O-qc",
        EC: "a-N-O-rc",
        EE: "a-N-O-sc",
        EG: "a-N-O-tc",
        EH: "a-N-O-uc",
        ENGLAND: "a-N-O-vc",
        ER: "a-N-O-wc",
        ES: "a-N-O-xc",
        ET: "a-N-O-yc",
        EU: "a-N-O-zc",
        EA: "a-N-O-zc",
        EMU: "a-N-O-Bc",
        FAM: "a-N-O-Cc",
        FI: "a-N-O-Dc",
        FJ: "a-N-O-Ec",
        FK: "a-N-O-Fc",
        FM: "a-N-O-Gc",
        FO: "a-N-O-Hc",
        FR: "a-N-O-Ic",
        GA: "a-N-O-Jc",
        GB: "a-N-O-Kc",
        GD: "a-N-O-Lc",
        GE: "a-N-O-Mc",
        GF: "a-N-O-Nc",
        GH: "a-N-O-Oc",
        GI: "a-N-O-Pc",
        GL: "a-N-O-Qc",
        GM: "a-N-O-Rc",
        GN: "a-N-O-Sc",
        GP: "a-N-O-Tc",
        GQ: "a-N-O-Uc",
        GR: "a-N-O-Vc",
        GS: "a-N-O-Wc",
        GT: "a-N-O-K",
        GU: "a-N-O-Xc",
        GW: "a-N-O-Yc",
        GY: "a-N-O-Zc",
        HK: "a-N-O-ad",
        HM: "a-N-O-bd",
        HN: "a-N-O-cd",
        HR: "a-N-O-dd",
        HT: "a-N-O-ed",
        HU: "a-N-O-fd",
        ID: "a-N-O-gd",
        IE: "a-N-O-hd",
        IL: "a-N-O-id",
        IN: "a-N-O-kd",
        IM: "a-N-O-jd",
        IO: "a-N-O-ld",
        IQ: "a-N-O-md",
        IR: "a-N-O-nd",
        IS: "a-N-O-od",
        IT: "a-N-O-pd",
        JM: "a-N-O-qd",
        JO: "a-N-O-rd",
        JP: "a-N-O-sd",
        KE: "a-N-O-td",
        KG: "a-N-O-ud",
        KH: "a-N-O-vd",
        KI: "a-N-O-wd",
        KM: "a-N-O-xd",
        KN: "a-N-O-yd",
        KP: "a-N-O-zd",
        KR: "a-N-O-Ad",
        KW: "a-N-O-Bd",
        KY: "a-N-O-Cd",
        KZ: "a-N-O-Dd",
        LA: "a-N-O-Ed",
        LB: "a-N-O-Fd",
        LC: "a-N-O-Gd",
        LI: "a-N-O-Hd",
        LK: "a-N-O-Id",
        LR: "a-N-O-Jd",
        LS: "a-N-O-Kd",
        LT: "a-N-O-J",
        LU: "a-N-O-Ld",
        LV: "a-N-O-Md",
        LY: "a-N-O-Nd",
        MA: "a-N-O-Od",
        MC: "a-N-O-Pd",
        MD: "a-N-O-Qd",
        ME: "a-N-O-Rd",
        MG: "a-N-O-Sd",
        MH: "a-N-O-Td",
        MK: "a-N-O-Ud",
        ML: "a-N-O-Vd",
        MM: "a-N-O-Wd",
        MN: "a-N-O-Xd",
        MO: "a-N-O-Yd",
        MP: "a-N-O-Zd",
        MQ: "a-N-O-ae",
        MR: "a-N-O-be",
        MS: "a-N-O-ce",
        MT: "a-N-O-de",
        MU: "a-N-O-ee",
        MV: "a-N-O-fe",
        MW: "a-N-O-ge",
        MX: "a-N-O-he",
        MY: "a-N-O-ie",
        MZ: "a-N-O-je",
        NA: "a-N-O-ke",
        NC: "a-N-O-le",
        NE: "a-N-O-me",
        NF: "a-N-O-ne",
        NG: "a-N-O-oe",
        NI: "a-N-O-pe",
        NL: "a-N-O-qe",
        NO: "a-N-O-re",
        NP: "a-N-O-se",
        NR: "a-N-O-te",
        NU: "a-N-O-ue",
        NZ: "a-N-O-ve",
        OM: "a-N-O-we",
        PA: "a-N-O-xe",
        PE: "a-N-O-ye",
        PF: "a-N-O-ze",
        PG: "a-N-O-Ae",
        PH: "a-N-O-Be",
        PK: "a-N-O-Ce",
        PL: "a-N-O-De",
        PM: "a-N-O-Ee",
        PN: "a-N-O-Fe",
        PR: "a-N-O-Ge",
        PS: "a-N-O-He",
        PT: "a-N-O-Ie",
        PW: "a-N-O-Je",
        PY: "a-N-O-Ke",
        QA: "a-N-O-Le",
        RE: "a-N-O-Me",
        RO: "a-N-O-Ne",
        RS: "a-N-O-Oe",
        RU: "a-N-O-Pe",
        RW: "a-N-O-Qe",
        SA: "a-N-O-Re",
        SB: "a-N-O-Se",
        SC: "a-N-O-Te",
        SCOTLAND: "a-N-O-Ue",
        SD: "a-N-O-Ve",
        SE: "a-N-O-We",
        SG: "a-N-O-Xe",
        SH: "a-N-O-Ye",
        SI: "a-N-O-Ze",
        SJ: "a-N-O-af",
        SK: "a-N-O-bf",
        SL: "a-N-O-cf",
        SM: "a-N-O-df",
        SN: "a-N-O-ef",
        SO: "a-N-O-ff",
        SR: "a-N-O-gf",
        ST: "a-N-O-hf",
        SV: "a-N-O-if",
        SY: "a-N-O-jf",
        SZ: "a-N-O-kf",
        TC: "a-N-O-lf",
        TD: "a-N-O-mf",
        TF: "a-N-O-nf",
        TG: "a-N-O-of",
        TH: "a-N-O-pf",
        TJ: "a-N-O-qf",
        TK: "a-N-O-rf",
        TL: "a-N-O-sf",
        TM: "a-N-O-tf",
        TN: "a-N-O-uf",
        TO: "a-N-O-vf",
        TR: "a-N-O-wf",
        TT: "a-N-O-xf",
        TV: "a-N-O-yf",
        TW: "a-N-O-zf",
        TZ: "a-N-O-Af",
        UA: "a-N-O-Bf",
        UG: "a-N-O-Cf",
        UM: "a-N-O-Df",
        US: "a-N-O-Ef",
        UY: "a-N-O-Ff",
        UZ: "a-N-O-Gf",
        VA: "a-N-O-Hf",
        VC: "a-N-O-If",
        VE: "a-N-O-Jf",
        VG: "a-N-O-Kf",
        VI: "a-N-O-Lf",
        VN: "a-N-O-Mf",
        VU: "a-N-O-Nf",
        WALES: "a-N-O-Of",
        WF: "a-N-O-Pf",
        WS: "a-N-O-Qf",
        YE: "a-N-O-Rf",
        YT: "a-N-O-Sf",
        ZA: "a-N-O-Tf",
        ZM: "a-N-O-Uf",
        ZW: "a-N-O-Vf",
        XAU: "a-N-O-Wf",
        ILS: "a-N-O-Xf",
        RON: "a-N-O-Yf",
        CZK: "a-N-O-Zf",
        HUF: "a-N-O-ag",
        XAG: "a-N-O-bg",
        "GAS.CMD": "a-N-O-cg-dg",
        "BRENT.CMD": "a-N-O-eg-dg",
        "USA30.IDX": "a-N-O-fg-gg",
        "CHE.IDX": "a-N-O-hg-gg",
        "GBR.IDX": "a-N-O-ig-gg",
        "FRA.IDX": "a-N-O-jg-gg",
        "DEU.IDX": "a-N-O-kg-gg",
        "JPN.IDX": "a-N-O-lg-gg"
    };

    function Qa() {
        this.ta = []
    }

    Qa.prototype.setData = function (b, c) {
        this.ta = Ra(b, function (b) {
            return ia(b)
        });
        this.a = c
    };
    Qa.prototype.Ob = function (b) {
        var c = Sa(this.ta, function (b) {
            this.a && (b = Ta(this.a(b)));
            return b.join(",")
        }, this);
        b || (b = this.ta.length && this.a ? Ua(this.a(this.ta[0])) : [], b.length && c.unshift(b.join(",")));
        return c.join("\r\n")
    };

    function Va(b, c) {
        var d = new Ka(b), e = d.a;
        La({}, function (b, c) {
            e.set(c, b)
        });
        Ma(d, Na(e));
        var h = c || {height: null, width: null, top: null, left: null, ZG: null, zF: null},
            k = h.height || (h.ZG ? Math.round(window.screen.height * h.ZG) : Math.round(.65 * window.screen.height)),
            l = h.width || (h.ZG ? Math.round(window.screen.width * h.ZG) : Math.round(.65 * window.screen.width)),
            p = h.top || (h.zF ? Math.round(window.screen.height * h.zF) : Math.round(.15 * window.screen.height)),
            h = h.left || (h.zF ? Math.round(window.screen.width * h.zF) : Math.round(.15 * window.screen.width));
        window.open("", "popup", "height=" + k + ",width=" + l + ",top=" + p + ",left=" + h + ",centerscreen=1,toolbar=0,menubar=0,location=0,personalbar=0,status=0,dependent=1,resizeable=0,scrollbars=0").location.href = d.toString()
    };

    function Wa() {
        var b = new Date;
        b.setHours(0);
        b.setMinutes(0);
        b.setSeconds(0);
        b.setMilliseconds(0);
        return b
    };

    function Xa() {
        this.a = "undefined" !== typeof self && self || "undefined" !== typeof window && window || this.content;
        this.g = this.a.document.createElementNS("http://www.w3.org/1999/xhtml", "a");
        this.R = "download" in this.g;
        this.w = this.a.webkitRequestFileSystem;
        this.K = this.a.requestFileSystem || this.w || this.a.mozRequestFileSystem;
        this.m = 0;
        this.F = /Version\/[\d\.]+.*Safari/.test(navigator.userAgent)
    }

    function Ya() {
        return "application/octet-stream"
    }

    function $a(b) {
        return b.a.URL || b.a.webkitURL || b.a
    }

    function ab(b, c) {
        (b.a.setImmediate || b.a.setTimeout)(function () {
            throw c;
        }, 0)
    }

    function bb(b, c) {
        setTimeout(function () {
            "string" === typeof c ? $a(b).revokeObjectURL(c) : c.remove()
        }, 4E4)
    }

    function cb(b, c, d, e) {
        d = [].concat(d);
        for (var h = d.length; h--;) {
            var k = c["on" + d[h]];
            if ("function" === typeof k) try {
                k.call(c, e || c)
            } catch (l) {
                ab(b, l)
            }
        }
    }

    function db(b) {
        return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type) ? new Blob(["\ufeff", b], {type: b.type}) : b
    }

    function eb(b, c, d) {
        "undefined" !== typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent) || ("undefined" !== typeof navigator && navigator.msSaveOrOpenBlob ? (b = db(c), navigator.msSaveOrOpenBlob(b, d || "download")) : new fb(b, c, d, void 0))
    }

    function fb(b, c, d, e) {
        this.a = b;
        this.g = e ? c : db(c);
        this.Rf = d ? d : "download";
        this.Ff = this.g.type;
        this.K = !1;
        this.F = this.w = null;
        this.R = {create: !0, exclusive: !1};
        this.slice = null;
        this.m = gb;
        ib(this)
    }

    function ib(b) {
        if (b.a.R) b.w = $a(b.a).createObjectURL(b.g), setTimeout(function () {
            b.a.g.href = b.w;
            b.a.g.download = b.getName();
            var c = b.a.g, d = new MouseEvent("click");
            c.dispatchEvent(d);
            jb(b);
            bb(b.a, b.w);
            b.m = kb
        }); else {
            b.a.a.chrome && b.Kb() && b.Kb() !== Ya() && (b.slice = b.g.slice || b.g.webkitSlice, b.g = b.slice.call(b.g, 0, b.g.size, Ya()), b.K = !0);
            b.a.w && "download" !== b.getName() && (b.Rf += ".download");
            if (b.Kb() === Ya() || b.a.w) b.F = b.a.a;
            b.a.K ? (b.a.m += b.g.size, b.a.K(b.a.a.TEMPORARY, b.a.m, lb(b, function (c) {
                c.root.getDirectory("saved",
                    b.R, lb(b, function (c) {
                        function e() {
                            c.getFile(b.getName(), b.R, lb(b, function (c) {
                                c.createWriter(lb(b, function (d) {
                                    d.onwriteend = function (d) {
                                        b.F.location.href = c.toURL();
                                        b.m = kb;
                                        cb(b.a, b, "writeend", d);
                                        bb(b.a, c)
                                    };
                                    d.onerror = function () {
                                        var c = d.error;
                                        c.code !== c.ABORT_ERR && b.Xs()
                                    };
                                    ["writestart", "progress", "write", "abort"].forEach(function (c) {
                                        d["on" + c] = b["on" + c]
                                    });
                                    d.write(b.g);
                                    b.abort = function () {
                                        d.abort();
                                        b.m = kb
                                    };
                                    b.m = mb
                                }), b.Xs)
                            }), b.Xs)
                        }

                        c.getFile(b.getName(), {create: !1}, lb(b, function (b) {
                            b.remove();
                            e()
                        }), lb(b, function (c) {
                            c.code ===
                            c.NOT_FOUND_ERR ? e() : b.Xs()
                        }))
                    }), b.Xs)
            }), b.Xs)) : b.Xs()
        }
    }

    var gb = fb.prototype.m = 0, mb = 1, kb = 2;
    f = fb.prototype;
    f.error = null;
    f.onprogress = null;
    f.onerror = null;
    f.onwriteend = null;
    f.getName = function () {
        return this.Rf
    };
    f.Kb = function () {
        return this.Ff
    };

    function jb(b) {
        cb(b.a, b, ["writestart", "progress", "write", "writeend"])
    }

    f.Xs = function () {
        if (this.F && this.a.F && "undefined" !== typeof FileReader) {
            var b = new FileReader, c = this;
            b.onloadend = function () {
                var d = b.result;
                c.F.location.href = "data:attachment/file" + d.slice(d.search(/[,;]/));
                c.m = kb;
                jb(c)
            };
            b.readAsDataURL(this.g);
            this.m = gb
        } else {
            if (this.K || !this.w) this.w = $a(this.a).createObjectURL(this.g);
            this.F ? this.F.location.href = this.w : void 0 === this.a.a.open(this.w, "_blank") && this.a.F && (this.a.a.location.href = this.w);
            this.m = kb;
            jb(this);
            bb(this.a, this.w)
        }
    };

    function lb(b, c) {
        return function () {
            if (b.m !== kb) return c.apply(this, arguments)
        }
    }

    f.abort = function () {
        this.m = kb;
        cb(this.a, this, "abort")
    };

    function nb(b, c) {
        var d;
        return function () {
            var e = this, h = arguments;
            clearTimeout(d);
            d = setTimeout(function () {
                d = null;
                b.apply(e, h)
            }, c)
        }
    }

    function ob(b, c) {
        var d = Array.prototype.slice.call(arguments, 1);
        return function () {
            return b.apply(this, Array.prototype.slice.call(arguments).concat(d))
        }
    }

    function pb(b, c) {
        return function () {
            return b.apply(this, Array.prototype.slice.call(arguments, 0, c))
        }
    };

    function qb() {
    }

    qb.prototype.DA = function (b, c, d, e) {
        this.wc = Number(b);
        this.Sa = String(c);
        this.qf = Number(d);
        this.qb = Number(e)
    };
    qb.prototype.setData = function (b) {
        this.ta = new Ca(new ArrayBuffer(148 + 44 * b.length), Da);
        Ga(this.ta, 400);
        Ia(this.ta, "(c) Dukascopy Bank SA");
        for (var c = 21; 64 > c; c++) this.ta.CB(0);
        Ia(this.ta, this.Sa);
        for (c = this.Sa.length; 12 > c; c++) this.ta.CB(0);
        Ga(this.ta, this.qb);
        Ga(this.ta, this.qf);
        for (c = 0; 15 > c; c++) Ga(this.ta, 0);
        E(b, function (b) {
            Ga(this.ta, parseInt(Math.ceil(b[0] / 1E3), 10));
            Ha(this.ta, Number(b[1].toFixed(this.qf)));
            Ha(this.ta, Number(b[3].toFixed(this.qf)));
            Ha(this.ta, Number(b[2].toFixed(this.qf)));
            Ha(this.ta,
                Number(b[4].toFixed(this.qf)));
            Ha(this.ta, b[5])
        }, this)
    };
    qb.prototype.Ob = function () {
        return this.ta.cQ
    };

    function rb() {
    }

    ea(rb);
    rb.prototype.a = 0;
    rb.Ka();

    function sb(b) {
        b.Ib = null;
        b.aa = tb
    }

    function tb() {
        var b;
        (b = this.Ib) || (b = this.Ib = ":" + (rb.Ka().a++).toString(36));
        return b
    };

    function ub() {
    }

    ub.prototype.lj = -1;
    ub.prototype.qG = function (b) {
        this.lj = b
    };
    ub.prototype.Av = function () {
        return this.lj
    };

    function G(b) {
        return ~~(.5 + b)
    }

    var wb = Math.ceil;

    function xb(b, c) {
        return b > c ? b : c
    }

    function yb(b, c) {
        return b < c ? b : c
    }

    var Ab = Math.log10 || function (b) {
        return Math.log(b) * Math.LOG10E
    };

    function Bb(b, c, d) {
        this.a = b;
        this.vj(c || 0);
        this.Ow(d || 0);
        this.length = this.He - this.Pb
    }

    Bb.prototype.vj = function (b) {
        this.Pb = yb(xb(b, 0), this.a && this.a.length || 0);
        this.length = this.He - this.Pb
    };
    Bb.prototype.Cc = function () {
        return this.Pb
    };
    Bb.prototype.Ow = function (b) {
        this.He = yb(xb(this.Pb + b, 0), this.a && this.a.length || 0);
        this.length = this.He - this.Pb
    };
    Bb.prototype.kc = function (b, c) {
        return !c && b >= this.length ? void 0 : this.a[this.Pb + b]
    };

    function Cb(b, c) {
        var d;
        d = Math.ceil(b / c);
        return 1E3 * d * c / 1E3
    };

    function Db(b, c) {
        return b === c
    };

    function Eb(b, c, d) {
        if (b !== +b) return ["0", ""];
        if (null != d && d) return 1E-10 > Math.abs(b) ? ["0", ""] : [b.toExponential(1), ""];
        if (c !== +c) return ["" + b, ""];
        c = Math.abs(c);
        c = 1 <= c ? 1 : Math.ceil(Math.log(c) / -Math.LN10) + 1;
        if (0 > c || !isFinite(c)) c = 0;
        b = (+(+b).toFixed(c)).toFixed(c);
        return ~b.indexOf(".") ? [b.substr(0, b.length - 1), b.substr(b.length - 1, 1)] : [b, ""]
    };window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.setTimeout;

    function Fb(b) {
        return b.substr(0, 1).toUpperCase() + b.substring(1)
    };var Gb = new function () {
        var b, c = !1;
        this.o3 = function (b, c, h) {
            return [b.slice(c, c + h)]
        };
        this.r3 = function (b, c, h, k) {
            for (var l = 0; l < h; b[c + l] = k[l] ? k[l] : 0, l++) ;
        };
        this.p3 = function (b, c) {
            return String.fromCharCode(b[c])
        };
        this.s3 = function (b, c, h) {
            b[c] = h.charCodeAt(0)
        };
        this.Yo = function (d, e) {
            var h = c ? b.Bg - 1 : 0, k = c ? -1 : 1, l = h + k * b.Bg, p, q;
            p = 0;
            for (q = 1; h != l; p += d[e + h] * q, h += k, q *= 256) ;
            b.cp && p & Math.pow(2, 8 * b.Bg - 1) && (p -= Math.pow(2, 8 * b.Bg));
            return p
        };
        this.Zo = function (d, e, h) {
            var k = c ? b.Bg - 1 : 0, l = c ? -1 : 1, p = k + l * b.Bg;
            for (h = h < b.min ? b.min :
                h > b.max ? b.max : h; k != p; d[e + k] = h & 255, k += l, h >>= 8) ;
        };
        this.q3 = function (b, c, h) {
            for (var k = Array(h), l = 0; l < h; k[l] = String.fromCharCode(b[c + l]), l++) ;
            return k.join("")
        };
        this.t3 = function (b, c, h, k) {
            for (var l, p = 0; p < h; b[c + p] = (l = k.charCodeAt(p)) ? l : 0, p++) ;
        };
        this.aQ = function (d, e) {
            var h, k, l, p, q, r, t, u, x;
            t = b.Bz;
            l = 8 * b.Bg - b.Bz - 1;
            x = (1 << l) - 1;
            u = x >> 1;
            p = c ? 0 : b.Bg - 1;
            q = c ? 1 : -1;
            h = d[e + p];
            p += q;
            r = -7;
            k = h & (1 << -r) - 1;
            h >>= -r;
            for (r += l; 0 < r; k = 256 * k + d[e + p], p += q, r -= 8) ;
            l = k & (1 << -r) - 1;
            k >>= -r;
            for (r += t; 0 < r; l = 256 * l + d[e + p], p += q, r -= 8) ;
            switch (k) {
                case 0:
                    k =
                        1 - u;
                    break;
                case x:
                    return l ? NaN : Infinity * (h ? -1 : 1);
                default:
                    l += Math.pow(2, t), k = k - u
            }
            return (h ? -1 : 1) * l * Math.pow(2, k - t)
        };
        this.bQ = function (d, e, h) {
            var k, l, p, q, r, t, u;
            t = b.Bz;
            u = 8 * b.Bg - b.Bz - 1;
            q = (1 << u) - 1;
            p = q >> 1;
            k = 0 > h ? 1 : 0;
            h = Math.abs(h);
            isNaN(h) || Infinity == h ? (h = isNaN(h) ? 1 : 0, l = q) : (l = Math.floor(Math.log(h) / Math.LN2), 1 > h * (r = Math.pow(2, -l)) && (l--, r *= 2), h = 1 <= l + p ? h + b.YM / r : h + b.YM * Math.pow(2, 1 - p), 2 <= h * r && (l++, r /= 2), l + p >= q ? (h = 0, l = q) : 1 <= l + p ? (h = (h * r - 1) * Math.pow(2, t), l += p) : (h = h * Math.pow(2, p - 1) * Math.pow(2, t), l = 0));
            p = c ? b.Bg - 1 :
                0;
            for (q = c ? -1 : 1; 8 <= t; d[e + p] = h & 255, p += q, h /= 256, t -= 8) ;
            l = l << t | h;
            for (u += t; 0 < u; d[e + p] = l & 255, p += q, l /= 256, u -= 8) ;
            d[e + p - q] |= 128 * k
        };
        this.w3 = "(\\d+)?([AxcbBhHsfdDiIlL])";
        this.v3 = {A: 1, x: 1, c: 1, b: 1, B: 1, h: 2, H: 2, s: 1, f: 4, d: 8, D: 8, i: 4, I: 4, l: 4, L: 4};
        this.dQ = {
            A: {a: this.r3, Ti: this.o3},
            s: {a: this.t3, Ti: this.q3},
            c: {a: this.s3, Ti: this.p3},
            b: {a: this.Zo, Ti: this.Yo, Bg: 1, cp: !0, min: -Math.pow(2, 7), max: Math.pow(2, 7) - 1},
            B: {a: this.Zo, Ti: this.Yo, Bg: 1, cp: !1, min: 0, max: Math.pow(2, 8) - 1},
            h: {
                a: this.Zo, Ti: this.Yo, Bg: 2, cp: !0, min: -Math.pow(2, 15),
                max: Math.pow(2, 15) - 1
            },
            H: {a: this.Zo, Ti: this.Yo, Bg: 2, cp: !1, min: 0, max: Math.pow(2, 16) - 1},
            i: {a: this.Zo, Ti: this.Yo, Bg: 4, cp: !0, min: -Math.pow(2, 31), max: Math.pow(2, 31) - 1},
            I: {a: this.Zo, Ti: this.Yo, Bg: 4, cp: !1, min: 0, max: Math.pow(2, 32) - 1},
            l: {a: this.Zo, Ti: this.Yo, Bg: 4, cp: !0, min: -Math.pow(2, 31), max: Math.pow(2, 31) - 1},
            L: {a: this.Zo, Ti: this.Yo, Bg: 4, cp: !1, min: 0, max: Math.pow(2, 32) - 1},
            f: {a: this.bQ, Ti: this.aQ, Bg: 4, Bz: 23, YM: Math.pow(2, -24) - Math.pow(2, -77)},
            d: {a: this.bQ, Ti: this.aQ, Bg: 8, Bz: 52, YM: 0},
            D: {
                a: this.Zo, Ti: this.Yo,
                Bg: 8, cp: !0, min: -Math.pow(2, 63), max: Math.pow(2, 63) - 1
            }
        };
        this.u3 = function (c, e, h, k) {
            for (var l = b.Ti, p = [], q = 0; q < c; p.push(l(h, k + q * e)), q++) ;
            return p
        };
        this.Dh = function (d, e, h) {
            c = "<" != d.charAt(0);
            h = h ? h : 0;
            for (var k = new RegExp(this.w3, "g"), l, p, q, r = []; l = k.exec(d);) {
                p = void 0 == l[1] || "" == l[1] ? 1 : parseInt(l[1]);
                q = this.v3[l[2]];
                if (h + p * q > e.length) return;
                switch (l[2]) {
                    case "A":
                    case "s":
                        r.push(this.dQ[l[2]].Ti(e, h, p));
                        break;
                    case "c":
                    case "b":
                    case "B":
                    case "h":
                    case "H":
                    case "i":
                    case "I":
                    case "l":
                    case "L":
                    case "f":
                    case "d":
                    case "D":
                        b =
                            this.dQ[l[2]], r.push(this.u3(p, q, e, h))
                }
                h += p * q
            }
            return Array.prototype.concat.apply([], r)
        }
    };

    function Hb(b) {
        this.setData(b)
    }

    f = Hb.prototype;
    f.wh = function () {
        return "string" == this.mode ? this.data.charCodeAt(this.offset++) & 255 : this.data[this.offset++]
    };
    f.CB = function (b) {
        if ("string" == this.mode) throw"Byte writing in string streams not implemented!";
        return this.data[this.offset++] = b
    };
    f.reset = function () {
        this.offset = 0
    };
    f.clear = function () {
        this.data.length = 0;
        this.reset()
    };
    f.setData = function (b) {
        this.data = b || [];
        this.mode = typeof this.data;
        this.offset = 0
    };
    f.toString = function () {
        for (var b = "", c = 0; c < this.data.length; c++) 16 > this.data[c] && (b += "0"), b += this.data[c].toString(16) + " ";
        return b
    };
    f.wx = function () {
        return this.data
    };

    function Ib(b) {
        this.Wf(b)
    }

    Ib.prototype.N = function () {
        return this.j
    };
    Ib.prototype.Wf = function (b) {
        this.j = b instanceof Jb ? b : new this.a(b)
    };

    function Jb(b) {
        this.values = this.values || {};
        Oa.call(this, b, this.values)
    }

    Ib.prototype.a = Jb;

    function Kb(b) {
        this.Wf(b)
    }

    B(Kb, Ib);

    function Lb(b) {
        this.values = {
            VR: !0,
            vJ: "#737375",
            sI: "#D75442",
            rI: "#5B1A13",
            yI: "#6BA583",
            xI: "#225437",
            padding: 4,
            Ls: !1,
            ut: 1
        };
        Jb.call(this, b)
    }

    B(Lb, Jb);
    Kb.prototype.a = Lb;
    Kb.prototype.T = function (b, c, d, e) {
        var h = this.N().values, k = d.mo;
        e = e.mo;
        var l = c.qa();
        c = Mb(c);
        var p = xb(d.sb().a - h.padding, h.ut ? h.ut : 1), q = Math.floor(p / 2), r = h && 2 < p, t = h.vJ, u = h.sI,
            x = h.rI, A = h.yI, C = h.xI, I, N, S, T;
        d = {};
        d[t] = [];
        d[u] = [];
        d[x] = [];
        d[A] = [];
        d[C] = [];
        var U, Y;
        Nb(c);
        for (var fa = c.start, na = c.end; fa <= na; fa++) {
            U = c.kc(fa);
            S = v(h.Ls ? e.xQ : e.map, e);
            I = h.Ls ? k.xQ(l.Rj(U)) : k.map(l.Rj(U));
            T = [I, G(S(l.bb(U))), 1, G(S(l.$a(U))) - G(S(l.bb(U)))];
            I -= q;
            N = G(S(Math.max(l.jb(U), l.zb(U))));
            S = Math.abs(G(S(l.zb(U))) - G(S(l.jb(U))));
            Y =
                l;
            var xa = U;
            Y.zb(xa) < Y.jb(xa) ? (U = A, Y = C) : (Y = l, Y.zb(U) > Y.jb(U) ? (U = u, Y = x) : (U = Y = t, S = 1));
            d[U].push([I + 1, N, p - 2, S]);
            r ? (d[Y].push([I, N - 1, p, S + 2]), d[Y].push(T)) : d[U].push(T)
        }
        h = [x, C, u, A, t];
        b.save();
        k = 0;
        for (e = h.length; k < e; k++) {
            l = h[k];
            b.fillStyle = l;
            b.beginPath();
            l = d[l];
            p = 0;
            for (q = l.length; p < q; p++) c = l[p], b.rect(c[0], c[1], c[2], c[3]);
            b.fill()
        }
        b.restore()
    };

    function Ob(b) {
        this.Wf(b)
    }

    B(Ob, Ib);

    function Pb(b) {
        this.values = {color: "#000", width: 1};
        Jb.call(this, b)
    }

    B(Pb, Jb);
    Ob.prototype.a = Pb;
    Ob.prototype.T = function (b, c, d, e) {
        var h = this.N().values;
        d = d.mo;
        e = e.mo;
        var k = c.qa();
        b.save();
        b.strokeStyle = h.color;
        b.lineWidth = h.width;
        b.beginPath();
        c = Mb(c);
        Nb(c);
        for (var h = c.start, l = c.end; h < l; h++) {
            var p = c.kc(h), q = d.map(k.Rj(p)), p = e.map(k.ce(p));
            b.lineTo(q, p)
        }
        b.stroke();
        b.restore()
    };

    function Qb(b) {
        this.Wf(b)
    }

    B(Qb, Ib);

    function Rb(b) {
        this.values = {nI: "#F00", tI: "#0F0", width: 1};
        Jb.call(this, b)
    }

    B(Rb, Jb);
    Qb.prototype.a = Rb;
    Qb.prototype.T = function (b, c, d, e) {
        var h = this.N().values;
        d = d.mo;
        e = e.mo;
        var k = c.qa();
        b.save();
        b.strokeStyle = h.nI;
        b.lineWidth = h.width;
        b.beginPath();
        c = Mb(c);
        Nb(c);
        for (var l = c.start, p = c.end; l < p; l++) {
            var q = c.kc(l), r = d.map(k.Rj(q)), q = e.map(k.ed(q));
            b.lineTo(r, q)
        }
        b.stroke();
        b.restore();
        b.save();
        b.strokeStyle = h.tI;
        b.lineWidth = h.width;
        b.beginPath();
        Nb(c);
        l = c.start;
        for (p = c.end; l < p; l++) q = c.kc(l), r = d.map(k.Rj(q)), q = e.map(k.fd(q)), b.lineTo(r, q);
        b.stroke();
        b.restore()
    };
    var Sb = {FLOAT: "float", VO: "fade", HB: "common"},
        Tb = {fI: "vertical", lZ: "horizontal", VO: "fade", HB: "common"};

    function Ub(b) {
        this.o = b
    };

    function Vb(b, c, d, e, h, k, l, p, q, r, t, u, x, A) {
        pa(b) ? (this.Ib = b.orderId, this.bE = b.orderGroupId, this.jM = b.origGroupId, this.m = b.createdDate, this.a = b.amount, this.eW = null != b.originalAmount ? b.originalAmount : null, this.g = b.side, b.side == Wb && (this.g = Xb), this.xt = b.side, this.w = b.orderDirection, this.ak = b.priceClient, this.F = null != b.pips ? b.pips : null, this.K = null != b.pl ? b.pl : null, this.IJ = null != b.extSysId ? b.extSysId : null) : (this.Ib = b, this.bE = c, this.jM = d, this.m = e, this.a = h, this.eW = null != k ? k : null, this.w = p, this.xt = this.g = q, this.ak =
            r, this.F = null != u ? u : null, this.K = null != x ? x : null, this.IJ = null != A ? A : null, this.g == Wb && (this.g = Xb))
    }

    var Xb = "BUY", Wb = "NULL", Yb = {};
    Yb[Xb] = "BUY";
    Yb.SELL = "SELL";
    Yb[Wb] = "FLAT";
    f = Vb.prototype;
    f.$h = function (b) {
        this.Ib = b
    };
    f.aa = function () {
        return this.Ib
    };
    f.kr = function () {
        return this.m
    };
    f.rv = function () {
        return this.a
    };
    f.ef = function () {
        return this.w
    };
    f.Nh = function () {
        return this.g
    };
    f.Uk = function (b) {
        this.ak = b
    };
    f.gf = function () {
        return this.ak
    };
    f.iz = function () {
        return this.F
    };
    f.aK = function () {
        return this.K
    };

    function Zb(b, c, d, e, h, k, l, p) {
        this.Ib = b;
        this.a = c;
        this.F = d;
        this.g = e;
        this.Dn = null != h ? h : [];
        this.Dn = Ra(this.Dn, function (b) {
            return "null" != b
        });
        this.Kba = null != k ? k : !1;
        this.m = null != l ? l : 0;
        this.w = null != p ? p : 0
    }

    var $b = {OPEN: "Open", CLOSE: "Closed", MERGE: "Merged", DEFAULT: "Default"};
    f = Zb.prototype;
    f.$h = function (b) {
        this.Ib = b
    };
    f.aa = function () {
        return this.Ib
    };
    f.kr = function () {
        return this.a
    };
    f.Dl = function () {
        return this.F
    };
    f.Pn = function () {
        return this.g
    };
    f.iz = function () {
        return this.m
    };
    f.aK = function () {
        return this.w
    };

    function ac(b, c) {
        this.$b = b;
        c && (this.jf = c);
        this.m = !1;
        this.a = 0;
        this.Pc()
    }

    f = ac.prototype;
    f.Ok = function (b) {
        this.m = b;
        this.oc = Infinity;
        this.nc = -Infinity;
        !this.m && bc(this) && (this.a = 0);
        this.Pc()
    };

    function bc(b) {
        return b.oc > b.$b.min || b.nc < b.$b.max
    }

    f.vj = function (b) {
        var c = this.g / this.jf;
        this.oc -= b * c;
        this.nc -= b * c;
        this.Pc()
    };
    f.uA = function (b) {
        this.$b = b;
        this.m ? (this.oc = Infinity, this.nc = -Infinity) : (this.oc = this.$b.min, this.nc = this.$b.max, this.oc += this.a, this.nc -= this.a)
    };
    f.od = function () {
        return this.$b
    };
    f.Pc = function () {
        this.m && isFinite(this.oc) && isFinite(this.nc) || (this.oc = this.$b.min, this.nc = this.$b.max, this.oc += this.a, this.nc -= this.a);
        this.g = Math.abs(this.nc - this.oc)
    };
    f.zo = function (b) {
        this.jf = b
    };
    f.wg = function () {
        return this.jf
    };
    f.y = function (b) {
        return (this.nc - b) / this.g * this.jf
    };
    f.qc = function (b) {
        return this.nc - b / this.jf * this.g
    };

    function cc(b, c) {
        this.m = b;
        this.fb = c;
        this.Pc()
    }

    f = cc.prototype;
    f.sb = function () {
        return this.fb
    };
    f.Pc = function () {
        this.a = this.fb.Mg;
        this.g = this.a / 2 | 0
    };
    f.aO = function () {
    };
    f.N = function () {
        this.j || (this.j = {yq: !0, xq: !1});
        return this.j
    };
    f.au = function (b) {
        this.N().yq = b
    };
    f.$t = function (b) {
        this.N().xq = b
    };
    f.Cw = function (b, c, d, e, h) {
        for (var k = 0, l = b.wi(); k < l; k++) {
            var p = b.Lh(k);
            if (p.gu) {
                var p = p.color || d, q = b.RD(k, c.o);
                if (q) {
                    void 0 !== q.eL && (p = q.qca ? e : q.eL ? d : h);
                    var r = .6 > ec(p) ? fc.white : fc.black;
                    this.N().yq && c.QF(q.qc, p, r, b instanceof gc);
                    this.N().xq && q.QV && c.QF(q.QV, p, r, b instanceof gc)
                }
            }
        }
    };

    function hc(b, c, d) {
        this.yb = d;
        cc.call(this, b, c)
    }

    B(hc, cc);
    hc.prototype.xj = function (b) {
        this.w = b
    };

    function ic(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(ic, hc);
    ic.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        h = this.a;
        k = this.g;
        var p = k / 2 | 0, q, r = 2 < p ? 1.2 : 1.8;
        b.lineWidth = 2 < p ? 2 : 1;
        var t = this.w * this.sb().Ca(), u = jc(l.kb());
        b.beginPath();
        for (var x = 0, A = c.length; x < A; x++) q = c.kc(x), isNaN(q) || (l = d.kf(c.Cc() + x) + b.lineWidth / 2 | 0 + t, q = G(e.y(q)) - 10, b.moveTo(l - k, q - k), b.lineTo(l, q), b.lineTo(l + k, q - k), b.moveTo(l - p, q - p), b.lineTo(l - p, q - h), b.moveTo(l + p, q - p), b.lineTo(l + p, q - h), u && (b.stroke(), b.beginPath(), b.arc(l, q + 5, r, 0, 2 * Math.PI, !1), b.fill()));
        b.stroke()
    };

    function kc(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(kc, hc);
    kc.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        h = this.a;
        k = this.g;
        var p = k / 2 | 0, q, r = 2 < p ? 1.2 : 1.8;
        b.lineWidth = 2 < p ? 2 : 1;
        var t = this.w * this.sb().Ca(), u = jc(l.kb());
        b.beginPath();
        for (var x = 0, A = c.length; x < A; x++) q = c.kc(x), isNaN(q) || (l = d.kf(c.Cc() + x) + t, q = G(e.y(q)) + 10, b.moveTo(l - k, q + k), b.lineTo(l, q), b.lineTo(l + k, q + k), b.moveTo(l - p, q + p), b.lineTo(l - p, q + h), b.moveTo(l + p, q + p), b.lineTo(l + p, q + h), u && (b.stroke(), b.beginPath(), b.arc(l, q - 5, r, 0, 2 * Math.PI, !1), b.fill()));
        b.stroke()
    };

    function lc(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(lc, hc);
    lc.prototype.Pc = function () {
        lc.P.Pc.call(this);
        this.F = this.fb.Ca() - this.fb.Mg;
        this.R = this.F / 2 | 0;
        this.U = this.a / 4 | 0
    };
    lc.prototype.T = function (b, c, d, e) {
        this.Pc();
        var h = this.F, k = this.R, l = this.g, p = this.U;
        b.lineWidth = 2 < h ? 2 : h;
        h = this.w * this.sb().Ca();
        b.beginPath();
        for (var q = 0, r = c.length; q < r; q++) {
            var t = this.yb.ta[c.Cc() + q];
            if (c.kc(q)) {
                var u = G(d.kf(c.Cc() + q)) + h, x = G(e.y(t.zb())), A = G(e.y(t.jb())), t = yb(x, A) - 1,
                    x = Math.abs(x - A) + 2, A = u - l - k, C = u + 1 + l + k;
                b.moveTo(u - p, t - k);
                b.lineTo(A, t - k);
                b.lineTo(A, t + x + k);
                b.lineTo(u - p, t + x + k);
                b.moveTo(u + 1 + p, t - k);
                b.lineTo(C, t - k);
                b.lineTo(C, t + x + k);
                b.lineTo(u + 1 + p, t + x + k)
            }
        }
        b.stroke()
    };

    function mc(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(mc, hc);
    mc.prototype.T = function (b, c, d, e, h) {
        this.Pc();
        b.translate(h.left, 0);
        b.beginPath();
        d = c.a;
        for (var k = d.length; 0 < k--;) if (c = d[k], ma(c) && isFinite(c)) {
            e = G(e.y(c)) + .5;
            d = h.width;
            c = c.toFixed(5);
            k = b.measureText(c);
            b.fillText(c, d - k.width - 20, e + 3);
            b.moveTo(0, e);
            this.Zd(b, 0, e, d - k.width - 25, e);
            b.moveTo(d - 15, e);
            this.Zd(b, d - 15, e, d, e);
            break
        }
        b.stroke();
        b.translate(-h.left, 0)
    };
    mc.prototype.Zd = function (b, c, d, e, h) {
        b.lineTo(e, h)
    };

    function nc(b, c, d, e) {
        hc.call(this, b, c, d);
        this.R = null != e ? e : !1
    }

    B(nc, hc);
    nc.prototype.F = !1;
    nc.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        k = h = null;
        var p = this.w * this.sb().Ca();
        l = jc(l.kb());
        b.save();
        b.beginPath();
        for (var q = 0, r = c.length; q < r; q++) {
            var t = c.kc(q);
            if (null != t) {
                if (t = +t, !isNaN(t) && ma(t) && isFinite(t)) {
                    var u = G(d.kf(c.Cc() + q)) + p, t = G(e.y(t));
                    h ? (this.Zd(b, h, k, u, t), l && (0 == q % 10 || this.R) && (b.stroke(), b.beginPath(), b.arc(u, t, 1.8, 0, 2 * Math.PI, !1), b.fill(), b.moveTo(u, t)), h = u, k = t) : (h = u, k = t, b.moveTo(h, k))
                }
            } else this.F && (h = null)
        }
        b.stroke();
        b.restore()
    };
    nc.prototype.Zd = function (b, c, d, e, h) {
        b.lineTo(e, h)
    };

    function oc(b, c, d) {
        nc.call(this, b, c, d)
    }

    B(oc, nc);
    oc.prototype.F = !0;

    function pc(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(pc, hc);
    pc.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        k = this.g / 2 | 0;
        var p, q, r, t, u, x;
        h = 2 < k ? 1.2 : 1.8;
        var A = this.yb.od() instanceof qc;
        10 > k && (k = 10);
        14 < k && (k = 14);
        var C = this.w * this.sb().Ca();
        l = jc(l.kb());
        b.beginPath();
        for (var I = 0, N = c.length; I < N; I++) p = c.kc(I), q = A ? this.yb.od().Qr[c.Cc() + I] : this.yb.ta[c.Cc() + I], p && q && !isNaN(p) && (t = A ? q[2] : q.bb(), u = A ? q[3] : q.$a(), q = Math.abs(p), r = d.kf(c.Cc() + I) + C, t = G(e.y(0 < p ? t : u)), x = k * (9 == q ? 1.2 : 1), u = x + "px " + this.m.j.mf, p = 0 < p ? -x / 2 : x, b.font = 9 == q ? "bold " + u : u, b.fillText(q, r - b.measureText(q).width /
            2, t + p), l && (b.stroke(), b.beginPath(), b.arc(r, t, h, 0, 2 * Math.PI, !1), b.fill()));
        b.stroke()
    };

    function rc(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(rc, hc);
    rc.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        h = this.w * this.sb().Ca();
        l = jc(l.kb());
        k = 0;
        for (var p = c.length; k < p; k++) {
            var q = c.kc(k);
            if (!isNaN(q)) {
                var r = G(d.kf(c.Cc() + k)) + h - 1, q = G(e.y(q)) - 1;
                b.beginPath();
                b.moveTo(r, q);
                b.arc(r, q, 2, 0, 2 * Math.PI, !1);
                b.fill();
                b.closePath();
                l && 0 == k % 10 && (b.beginPath(), b.moveTo(r, q), b.arc(r, q, 4, 0, 2 * Math.PI, !1), b.stroke(), b.closePath())
            }
        }
    };

    function sc(b, c) {
        cc.call(this, b, c)
    }

    B(sc, cc);
    sc.prototype.T = function (b, c, d, e) {
        this.Pc();
        for (var h = this.m, k = h.j.rn, l = h.j.sn, h = h.j.ep, p = 0, q = c.length; p < q; p++) {
            var r = c.kc(p);
            r.Fk() ? b.fillStyle = k : tc(r) ? b.fillStyle = l : b.fillStyle = h;
            var t = G(d.x(r.getTime())), u = G(e.y(r.zb())), x = G(e.y(r.bb())), A = G(e.y(r.$a())), r = G(e.y(r.jb()));
            b.fillRect(t - this.g, u, this.g + 1, 1);
            b.fillRect(t, x, 1, A - x);
            b.fillRect(t, r, this.g, 1)
        }
    };

    function uc() {
    }

    B(uc, cc);
    uc.prototype.T = vc;

    function wc(b, c) {
        cc.call(this, b, c)
    }

    B(wc, cc);
    wc.prototype.T = function (b, c, d, e) {
        b.save();
        for (var h = 0, k = c.length; h < k; h++) {
            var l = c.kc(h), p = G(e.y(l.ed())), q = G(e.y(l.fd())), r = G(d.x(l.time)), t = p < q ? p : q,
                p = Math.abs(p - q), q = l.ed(), l = l.fd(), u = this.m.j.ik;
            switch (!0) {
                case this.w < q && this.F == l:
                case this.w < q && this.F < l:
                case this.w == q && this.F < l:
                    u = this.m.j.ik;
                    break;
                case this.w == q && this.F > l:
                case this.w > q && this.F > l:
                case this.w > q && this.F == l:
                    u = this.m.j.Yk
            }
            this.w = q;
            this.F = l;
            b.fillStyle = u;
            b.fillRect(r, t, 1, p)
        }
        b.restore()
    };
    wc.prototype.w = null;
    wc.prototype.F = null;
    (function () {
    }).prototype.clear;

    function xc() {
    }

    f = xc.prototype;
    f.iJ = yc;
    f.jQ = zc;
    f.clear = zc;
    f.TS = zc;
    f.oQ = vc;
    f.mI = vc;

    function Ac() {
        return Ac
    }

    Ac.getTime = function (b) {
        return b[0]
    };
    Ac.bb = function (b) {
        return b[2]
    };
    Ac.$a = function (b) {
        return b[2]
    };
    Ac.zb = function (b) {
        return b[2]
    };
    Ac.jb = function (b) {
        return b[2]
    };
    Ac.Gm = function (b) {
        return b[1]
    };
    Ac.Hd = function (b) {
        return b[4] / 1E6
    };
    Ac.pd = function (b) {
        return b[2]
    };
    Ac.ld = function (b) {
        return b[2]
    };

    function Bc() {
        return Bc
    }

    Bc.getTime = function (b) {
        return b[0]
    };
    Bc.bb = function (b) {
        return b[1]
    };
    Bc.$a = function (b) {
        return b[1]
    };
    Bc.zb = function (b) {
        return b[1]
    };
    Bc.jb = function (b) {
        return b[1]
    };
    Bc.Gm = function (b) {
        return b[2]
    };
    Bc.Hd = function (b) {
        return b[3] / 1E6
    };
    Bc.pd = function (b) {
        return b[1]
    };
    Bc.ld = function (b) {
        return b[1]
    };

    function Cc() {
        return Cc
    }

    Cc.getTime = function (b) {
        return b[0]
    };
    Cc.zb = function (b) {
        return b[1]
    };
    Cc.bb = function (b) {
        return b[2]
    };
    Cc.$a = function (b) {
        return b[3]
    };
    Cc.jb = function (b) {
        return b[4]
    };
    Cc.Gm = function () {
        return NaN
    };
    Cc.Hd = function (b) {
        return b[5]
    };
    Cc.pd = function (b) {
        return b[2]
    };
    Cc.ld = function (b) {
        return b[3]
    };
    Cc.Xaa = function (b, c) {
        var d = {0: b, 1: this.jb(c), 2: this.jb(c), 3: this.jb(c), 4: this.jb(c), 5: 0};
        d.last_time = c.last_time ? c.last_time : 0;
        d.real_time = c.real_time ? c.real_time : 0;
        return d
    };

    function Dc(b) {
        this.j = b
    }

    Dc.prototype.T = function (b, c, d, e) {
        this.g = b;
        this.Ha = c;
        this.w = d;
        this.pi = [];
        this.m = [];
        this.F = !0;
        La(this.j.Gz, function (b, c) {
            b && this.m.push({
                tw: this.j.aA[c],
                color: this.j.my[c],
                opacity: this.j.opacity[c],
                Ii: this.j.Ii[c],
                strokeStyle: this.j.jB[c]
            })
        }, this);
        Ec(this.m, function (b, c) {
            return b.tw - c.tw
        });
        this.g.save();
        E(this.m, function (b) {
            var c = e.ih + (e.vf - e.ih) * b.tw, d = e.jh + (e.af - e.jh) * b.tw, p = e.ih + (e.cl - e.ih) * b.tw,
                q = e.jh + (e.dl - e.jh) * b.tw, r = Fc(e.cd + (c - e.ih), e.Xc + (d - e.jh), c, d, this.Ha),
                t = Fc(e.cd + (p - e.ih), e.Xc + (q - e.jh),
                    p, q, this.Ha), u = Gc(e.cd + (c - e.ih), c, r), r = Gc(e.Xc + (d - e.jh), d, r),
                x = Gc(e.cd + (p - e.ih), p, t), t = Gc(e.Xc + (q - e.jh), q, t);
            switch (b.strokeStyle.toLowerCase()) {
                case Hc.Xo:
                    this.g.setLineDash([2 * b.Ii, 2 * b.Ii]);
                    break;
                case Hc.Ej:
                    this.g.setLineDash([8 * b.Ii, 6 * b.Ii]);
                    break;
                default:
                    this.g.setLineDash([])
            }
            this.g.beginPath();
            this.g.lineWidth = b.Ii;
            this.g.strokeStyle = Ic(b.color, this.w);
            this.g.fillStyle = Ic(b.color, b.opacity);
            this.F ? (this.g.beginPath(), this.wk(c, d, u, r), this.wk(p, q, x, t), this.g.stroke(), this.wk(c, d, u, r), this.wk(x,
                t), this.wk(p, q)) : (this.g.beginPath(), this.wk(c, d, u, r), this.g.stroke(), this.wk(this.a.cga, this.a.ega), this.wk(this.a.vf, this.a.af), this.g.fill(), this.g.closePath(), this.g.beginPath(), this.wk(p, q, x, t), this.g.stroke(), this.wk(this.a.dga, this.a.fga), this.wk(this.a.cl, this.a.dl));
            this.g.fill();
            this.g.closePath();
            this.g.closePath();
            this.a = {vf: c, af: d, cga: u, ega: r, cl: p, dl: q, dga: x, fga: t};
            this.pi.push([c, d, u, r]);
            this.pi.push([x, t, p, q]);
            this.F = !1
        }, this);
        this.g.restore()
    };
    Dc.prototype.DD = function () {
        return this.pi
    };
    Dc.prototype.wk = function (b, c, d, e) {
        null != d && null != e ? (this.g.moveTo(b, c), this.g.lineTo(d, e)) : this.g.lineTo(b, c)
    };

    function Jc(b) {
        this.j = b;
        this.a = new Dc(this.j)
    }

    f = Jc.prototype;
    f.N = function () {
        return this.j
    };
    f.T = function (b, c, d, e, h) {
        this.pi = this.DD();
        this.g = void 0 == h ? !0 : h;
        3 == d.length && (b.beginPath(), b.moveTo(e.vf, e.af), b.lineTo(e.cl, e.dl), b.stroke(), b.closePath(), this.pi.push([e.vf, e.af, e.cl, e.dl]), this.g && this.a.T(b, c, this.Gv(), e), E(this.a.DD(), function (b) {
            this.pi.push(b)
        }, this));
        b.beginPath();
        b.moveTo(Gc(e.cd, e.ih, e.fm), Gc(e.Xc, e.jh, e.fm));
        b.lineTo(e.cd, e.Xc);
        b.stroke();
        b.closePath();
        this.pi.push([e.cd, e.Xc, Gc(e.cd, e.ih, e.fm), Gc(e.Xc, e.jh, e.fm)])
    };
    f.DD = function () {
        return this.pi || []
    };
    f.Yt = function (b) {
        this.w = b
    };
    f.Gv = function () {
        return this.w
    };

    function Kc(b) {
        Jc.call(this, b)
    }

    B(Kc, Jc);
    Kc.prototype.T = function (b, c, d, e) {
        this.pi = [];
        b.beginPath();
        b.moveTo(e.cd, e.Xc);
        b.lineTo(e.vf, e.af);
        b.stroke();
        b.closePath();
        this.pi.push([e.cd, e.Xc, e.vf, e.af]);
        if (3 == d.length) {
            e.cd = (e.cd + e.vf) / 2;
            e.Xc = (e.Xc + e.af) / 2;
            var h = Lc(e);
            h.cd = (h.cd + h.vf) / 2;
            h.Xc = (h.Xc + h.af) / 2;
            this.a.T(b, c, this.Gv(), h);
            h.cd = e.cd;
            h.Xc = e.Xc;
            h.ih = e.cl;
            h.jh = e.dl;
            h.fm = 1;
            Mc.P.T.call(this, b, c, d, h, !1);
            e.fm = Fc(e.cd + (e.vf - e.cd) / 2, e.Xc + (e.af - e.Xc) / 2, e.ih, e.jh, c);
            b.beginPath();
            b.moveTo(e.ih, e.jh);
            b.lineTo(Gc(e.cd + (e.vf - e.cd) / 2, e.ih, e.fm), Gc(e.Xc +
                (e.af - e.Xc) / 2, e.jh, e.fm));
            b.stroke();
            b.closePath();
            this.pi.push([e.ih, e.jh, Gc(e.cd + (e.vf - e.cd) / 2, e.ih, e.fm), Gc(e.Xc + (e.af - e.Xc) / 2, e.jh, e.fm)])
        }
    };

    function Mc(b) {
        Jc.call(this, b)
    }

    B(Mc, Jc);
    Mc.prototype.T = function (b, c, d, e) {
        this.pi = [];
        b.beginPath();
        b.moveTo(e.cd, e.Xc);
        b.lineTo(e.vf, e.af);
        b.stroke();
        b.closePath();
        this.pi.push([e.cd, e.Xc, e.vf, e.af]);
        3 == d.length && (e.cd = (e.cd + e.vf) / 2, e.Xc = (e.Xc + e.af) / 2, e.fm = Fc(e.cd, e.Xc, e.ih, e.jh, c), Mc.P.T.call(this, b, c, d, e))
    };

    function Nc(b) {
        Jc.call(this, b)
    }

    B(Nc, Jc);
    Nc.prototype.T = function (b, c, d, e) {
        this.pi = [];
        b.beginPath();
        b.moveTo(e.cd, e.Xc);
        b.lineTo(e.vf, e.af);
        b.stroke();
        b.closePath();
        this.pi.push([e.cd, e.Xc, e.vf, e.af]);
        3 == d.length && (e.Xc += (e.af - e.Xc) / 2, e.fm = Fc(e.cd, e.Xc, e.ih, e.jh, c), Nc.P.T.call(this, b, c, d, e))
    };

    function Oc(b) {
        var c = "", d;
        for (d in b) if (b.hasOwnProperty(d)) if (void 0 === this[d] || oa(this[d])) {
            if (c = "set" + d.substring(0, 1).toUpperCase() + d.substring(1), oa(this[c])) this[c](b[d])
        } else this[d] = b[d]
    }

    f = Oc.prototype;
    f.Kr = 0;
    f.g7 = function () {
        return this.Kr
    };
    f.aea = function (b) {
        this.Kr = b
    };
    f.name = "";
    f.getName = function () {
        return this.name
    };
    f.Co = function (b) {
        this.name = b
    };
    f.title = "";
    f.Nb = function () {
        return this.title
    };
    f.tf = function (b) {
        this.title = b
    };
    f.nb = "";
    f.Ip = function () {
        return this.nb || this.name
    };
    f.ek = function (b) {
        this.nb = b
    };
    f.pb = "";
    f.D6 = function () {
        return this.pb
    };
    f.Eda = function (b) {
        this.pb = b
    };
    f.Vb = !1;
    f.Naa = function () {
        return this.Vb
    };
    f.mea = function (b) {
        this.Vb = b
    };
    f.Ke = !1;
    f.Qaa = function () {
        return this.Ke
    };
    f.Fea = function (b) {
        this.Ke = b
    };
    f.Qc = !1;
    f.Saa = function () {
        return this.Qc
    };
    f.jfa = function (b) {
        this.Qc = b
    };
    f.Xl = !1;
    f.Oaa = function () {
        return this.Xl
    };
    f.vea = function (b) {
        this.Xl = b
    };
    f.numberOfInputs = 0;
    f.i7 = function () {
        return this.numberOfInputs
    };
    f.dea = function (b) {
        this.numberOfInputs = b
    };
    f.rb = 0;
    f.j7 = function () {
        return this.rb
    };
    f.eea = function (b) {
        this.rb = b
    };
    f.numberOfOutputs = 0;
    f.k7 = function () {
        return this.numberOfOutputs
    };
    f.fea = function (b) {
        this.numberOfOutputs = b
    };

    function Pc(b, c) {
        this.ph = b;
        this.Kd = c
    };

    function Qc(b, c, d) {
        this.Rf = b;
        this.Ff = c;
        d && (this.rc = d)
    }

    f = Qc.prototype;
    f.Rf = "";
    f.getName = function () {
        return this.Rf
    };
    f.Co = function (b) {
        this.Rf = b
    };
    f.Kb = function () {
        return this.Ff
    };
    f.ax = function (b) {
        this.Ff = b
    };
    f.G = function () {
        return this.rc
    };
    f.V = function (b) {
        this.rc = b
    };
    f.Mn = function () {
        return this.yk
    };
    f.Zh = function (b) {
        this.yk = b
    };
    f.W = function () {
        return this.qb
    };
    f.wj = function (b) {
        this.qb = b
    };
    f.Db = function () {
        return this.of
    };
    f.Gi = function (b) {
        this.of = b
    };
    f.ma = function () {
        return this.Sa
    };
    f.Ie = function (b) {
        this.Sa = b
    };
    var Rc = {FB: 0, U2: 1, Uka: 2};

    function Sc(b) {
        this.a = b
    };

    function Tc(b, c, d) {
        this.a = b;
        this.values = c;
        this.m = d
    }

    B(Tc, Sc);
    Tc.prototype.w = function () {
        return this.a
    };
    Tc.prototype.mc = function () {
        return this.values
    };
    Tc.prototype.F = function () {
        return this.m
    };

    function Uc(b, c) {
        this.rc = b;
        this.a = c
    }

    f = Uc.prototype;
    f.G = function () {
        return this.rc
    };
    f.V = function (b) {
        this.rc = b
    };
    f.aj = function () {
        return this.a
    };
    f.xA = function (b) {
        this.a = b
    };
    f.df = function (b) {
        return b ? b.a === this.a && b.rc === this.rc : !1
    };

    function Vc(b) {
        this.bq = b || []
    };

    function Wc(b) {
        this.a = b
    }

    Wc.prototype.df = function (b) {
        var c;
        if (b === this) c = !0; else if (b) a:if (c = this.a, b = b.a, c.length != b.length) c = !1; else {
            for (var d = 0, e = b.length; d < e; d++) if (!b[d].df(c[d])) {
                c = !1;
                break a
            }
            c = !0
        } else c = !1;
        return c
    };
    ({});

    function Yc(b, c) {
        switch (!0) {
            case "low" === b && "low" === c:
                return 0;
            case "low" === b:
                return -1;
            case "medium" === b && "low" === c:
                return 1;
            case "medium" === b && "medium" === c:
                return 0;
            case "medium" === b:
                return -1;
            case "high" === b && "high" === c:
                return 0;
            case "high" === b:
                return 1
        }
        return NaN
    };var Zc = {gka: 1, Tia: 2, uha: 3};
    var $c = {VP: 1, FB: 2, hka: 3, eka: 4, f3: 5, qka: 6, via: 7, Fia: 8};
    var ad = {Hja: 1, pla: 2, jga: 3};
    var bd = {hga: 1, Hka: 2};
    var cd = {OPEN: 1, kZ: 2, rZ: 3, ZY: 4, sZ: 5, uga: 6};
    var dd = {rga: "ASK", Fga: "ASK", Qia: "ASK", Bga: "BID", Dka: "BID", SHORT: "BID"};
    var ed = {
        tga: "average",
        FB: "candle",
        vga: "bar",
        dP: "line",
        Ega: "brick",
        ula: "wicksbrick",
        Dga: "box",
        Gga: "candlebar",
        vla: "wickscandlebar"
    };

    function fd(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(fd, hc);
    fd.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        h = l.Lh(k);
        k = this.a;
        var p = this.g, q, r, t, u, x = h.Pg(), A = x / 2 | 0, C = (2 - x) / 2;
        l = jc(l.kb());
        b.beginPath();
        for (var I = 0, N = c.length; I < N; I++) if (q = c.kc(I)) {
            t = q[0];
            var S = q[2], T = q[3];
            u = q[1];
            q = G(d.kf(c.Cc() + I) - p) + C;
            b.save();
            b.beginPath();
            t > u ? (b.strokeStyle = h.ng, b.fillStyle = h.ng, r = G(e.y(t)), t = G(e.y(u) - r)) : (b.strokeStyle = h.Jb(), b.fillStyle = h.Jb(), r = G(e.y(u)), t = G(e.y(t) - r));
            r += C;
            u = q + A + p;
            b.moveTo(u, r - A);
            b.lineTo(u, G(e.y(S)) - x);
            b.moveTo(u, r + A + t + x - 2);
            b.lineTo(u, G(e.y(T)) + x);
            b.rect(q, r, k + x - 2, t + x - 2);
            b.stroke();
            l && (b.beginPath(), b.arc(u, r, 2, 0, 2 * Math.PI, !1), b.arc(u, r + t, 2, 0, 2 * Math.PI, !1), b.fill());
            b.restore()
        }
        b.closePath()
    };

    function gd(b, c, d) {
        hc.call(this, b, c, d)
    }

    B(gd, hc);
    gd.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        h = (h = l.Lh(k - 1)) ? !h.show : !0;
        k = l.Lh(k);
        l = this.a;
        var p = this.g, q, r, t, u = k.Pg(), x = (3 - u) / 2;
        b.beginPath();
        for (var A = 0, C = c.length; A < C; A++) if (q = c.kc(A)) {
            t = q[0];
            var I = q[1];
            q = G(d.kf(c.Cc() + A) - p) + x;
            b.save();
            t > I ? (b.strokeStyle = k.ng, b.fillStyle = k.ng, r = G(e.y(t)), t = G(e.y(I) - r)) : (b.strokeStyle = k.Jb(), b.fillStyle = k.Jb(), r = G(e.y(I)), t = G(e.y(t) - r));
            r += x;
            (1 <= t + u - 3 || h) && b.fillRect(q, r, l + u - 3, t + u - 3);
            b.restore()
        }
        b.closePath()
    };

    function hd(b, c) {
        this.name = b;
        this.nW = c
    }

    f = hd.prototype;
    f.name = "";
    f.getName = function () {
        return this.name
    };
    f.nW = 0;
    f.xi = function () {
        return this.nW
    };
    f.toString = function () {
        var b = y("MSG_PIP", {}, "Pip");
        return this.xi() + "\u00a0" + b
    };
    f.Zb = function () {
        return this.name
    };
    var id = {
        CP: new hd("ONE_PIP", 1),
        k3: new hd("TWO_PIPS", 2),
        e3: new hd("THREE_PIPS", 3),
        jZ: new hd("FOUR_PIPS", 4),
        iZ: new hd("FIVE_PIPS", 5),
        a3: new hd("SIX_PIPS", 6)
    };
    var jd = {ZY: 1, OPEN: 2, kZ: 3, rZ: 4, sZ: 5, cla: 6, sla: 7};

    function kd() {
    }

    kd.prototype.Sa = null;
    kd.prototype.a = {".*\\.US\\/USD": {start: {hK: 13, Ir: 31}, end: {hK: 19, Ir: 59}}};
    kd.prototype.Ie = function (b) {
        this.Sa = b
    };
    var ld = {};

    function md(b) {
        if (!b.Sa) return null;
        var c = "string" == typeof b.Sa ? b.Sa : b.Sa.getName() || b.Sa.aa(), d = null;
        if (ld[c]) return ld[c];
        for (var e in b.a) if (b.a.hasOwnProperty(e) && c.match(new RegExp(e, "i"))) {
            d = b.a[e];
            ld[c] = d;
            break
        }
        return d
    };
    for (var nd = "SMA EMA WMA DEMA TEMA TRIMA KAMA MAMA T3 HMA LWMA SMMA".split(" "), od = [], pd = nd.length; 0 < pd--;) od[pd] = pd;

    function qd(b, c, d) {
        this.a = b;
        this.vj(c || 0);
        this.Ow(d || 0);
        rd(this)
    }

    f = qd.prototype;
    f.vj = function (b) {
        this.Pb = sd(b, 0, this.a && this.a.length || 0);
        rd(this)
    };
    f.Cc = function () {
        return this.Pb
    };
    f.Ow = function (b) {
        this.He = sd(this.Pb + b, 0, this.a && this.a.length || 0);
        rd(this)
    };

    function rd(b) {
        b.length = b.He - b.Pb
    }

    f.Al = function () {
        return this.length
    };
    f.kc = function (b, c) {
        return !c && b >= this.length ? void 0 : this.a[this.Pb + b]
    };

    function td(b) {
        this.ze = b
    }

    f = td.prototype;
    f.push = function (b) {
        if (b instanceof td) for (var c = 0, d = b.ze.length; c < d; c++) this.ze[c] = this.ze[c] ? this.ze[c] + b.ze[c] : b.ze[c]; else this.ze.push(b)
    };
    f.mc = function () {
        return this.ze
    };
    f.valueOf = function () {
        return ud(this.ze, function (b, c) {
            return b + c
        }, 0)
    };
    f.toFixed = function (b) {
        return this.valueOf().toFixed(b)
    };
    f.toPrecision = function (b) {
        return this.valueOf().toPrecision(b)
    };
    f.toString = function (b) {
        return this.valueOf().toString(b)
    };

    function vd(b, c, d) {
        hc.call(this, b, c, d);
        this.F = [b.j.ik, b.j.Yk]
    }

    B(vd, hc);
    vd.prototype.T = function (b, c, d, e, h, k, l) {
        this.Pc();
        h = G(e.y(0 > e.oc ? 0 : e.oc));
        k = this.w * this.sb().Ca();
        l = jc(l.kb());
        for (var p = d.W().Y(), q = 0, r = c.length; q < r; q++) {
            var t = c.kc(q), u = d.kf(c.Cc() + q) - this.g + k, x = 0;
            if (t instanceof td) for (var t = t.mc(), A = h | 0, C = 0, I = t.length; C < I; C++) x = G(e.y(t[C])), b.fillStyle = this.F[C % this.F.length], b.fillRect(u, A, this.a, x - h), A += x - A; else x = G(e.y(t)), 0 < t ? b.fillRect(u, x, this.a, h - x) : 0 > t && b.fillRect(u, h, this.a, x - h), t = d.t(u), t -= t % p, l && 0 == t % (10 * p) && 0 != h - x && (b.stroke(), b.beginPath(), b.setLineDash([]),
                b.strokeStyle = "#fff", b.arc(u + this.a / 2, x, 3, 0, 2 * Math.PI, !1), b.fill(), b.stroke())
        }
    };
    var wd;

    function xd(b, c, d) {
        this.He = d;
        this.m = b;
        this.Mt = c;
        this.g = 0;
        this.a = null
    }

    xd.prototype.get = function () {
        var b;
        0 < this.g ? (this.g--, b = this.a, this.a = b.next, b.next = null) : b = this.m();
        return b
    };

    function yd(b, c) {
        b.Mt(c);
        b.g < b.He && (b.g++, c.next = b.a, b.a = c)
    };var fc = {
        aliceblue: "#f0f8ff",
        antiquewhite: "#faebd7",
        aqua: "#00ffff",
        aquamarine: "#7fffd4",
        azure: "#f0ffff",
        beige: "#f5f5dc",
        bisque: "#ffe4c4",
        black: "#000000",
        blanchedalmond: "#ffebcd",
        blue: "#0000ff",
        blueviolet: "#8a2be2",
        brown: "#a52a2a",
        burlywood: "#deb887",
        cadetblue: "#5f9ea0",
        chartreuse: "#7fff00",
        chocolate: "#d2691e",
        coral: "#ff7f50",
        cornflowerblue: "#6495ed",
        cornsilk: "#fff8dc",
        crimson: "#dc143c",
        cyan: "#00ffff",
        darkblue: "#00008b",
        darkcyan: "#008b8b",
        darkgoldenrod: "#b8860b",
        darkgray: "#a9a9a9",
        darkgreen: "#006400",
        darkgrey: "#a9a9a9",
        darkkhaki: "#bdb76b",
        darkmagenta: "#8b008b",
        darkolivegreen: "#556b2f",
        darkorange: "#ff8c00",
        darkorchid: "#9932cc",
        darkred: "#8b0000",
        darksalmon: "#e9967a",
        darkseagreen: "#8fbc8f",
        darkslateblue: "#483d8b",
        darkslategray: "#2f4f4f",
        darkslategrey: "#2f4f4f",
        darkturquoise: "#00ced1",
        darkviolet: "#9400d3",
        deeppink: "#ff1493",
        deepskyblue: "#00bfff",
        dimgray: "#696969",
        dimgrey: "#696969",
        dodgerblue: "#1e90ff",
        firebrick: "#b22222",
        floralwhite: "#fffaf0",
        forestgreen: "#228b22",
        fuchsia: "#ff00ff",
        gainsboro: "#dcdcdc",
        ghostwhite: "#f8f8ff",
        gold: "#ffd700",
        goldenrod: "#daa520",
        gray: "#808080",
        green: "#008000",
        greenyellow: "#adff2f",
        grey: "#808080",
        honeydew: "#f0fff0",
        hotpink: "#ff69b4",
        indianred: "#cd5c5c",
        indigo: "#4b0082",
        ivory: "#fffff0",
        khaki: "#f0e68c",
        lavender: "#e6e6fa",
        lavenderblush: "#fff0f5",
        lawngreen: "#7cfc00",
        lemonchiffon: "#fffacd",
        lightblue: "#add8e6",
        lightcoral: "#f08080",
        lightcyan: "#e0ffff",
        lightgoldenrodyellow: "#fafad2",
        lightgray: "#d3d3d3",
        lightgreen: "#90ee90",
        lightgrey: "#d3d3d3",
        lightpink: "#ffb6c1",
        lightsalmon: "#ffa07a",
        lightseagreen: "#20b2aa",
        lightskyblue: "#87cefa",
        lightslategray: "#778899",
        lightslategrey: "#778899",
        lightsteelblue: "#b0c4de",
        lightyellow: "#ffffe0",
        lime: "#00ff00",
        limegreen: "#32cd32",
        linen: "#faf0e6",
        magenta: "#ff00ff",
        maroon: "#800000",
        mediumaquamarine: "#66cdaa",
        mediumblue: "#0000cd",
        mediumorchid: "#ba55d3",
        mediumpurple: "#9370db",
        mediumseagreen: "#3cb371",
        mediumslateblue: "#7b68ee",
        mediumspringgreen: "#00fa9a",
        mediumturquoise: "#48d1cc",
        mediumvioletred: "#c71585",
        midnightblue: "#191970",
        mintcream: "#f5fffa",
        mistyrose: "#ffe4e1",
        moccasin: "#ffe4b5",
        navajowhite: "#ffdead",
        navy: "#000080",
        oldlace: "#fdf5e6",
        olive: "#808000",
        olivedrab: "#6b8e23",
        orange: "#ffa500",
        orangered: "#ff4500",
        orchid: "#da70d6",
        palegoldenrod: "#eee8aa",
        palegreen: "#98fb98",
        paleturquoise: "#afeeee",
        palevioletred: "#db7093",
        papayawhip: "#ffefd5",
        peachpuff: "#ffdab9",
        peru: "#cd853f",
        pink: "#ffc0cb",
        plum: "#dda0dd",
        powderblue: "#b0e0e6",
        purple: "#800080",
        red: "#ff0000",
        rosybrown: "#bc8f8f",
        royalblue: "#4169e1",
        saddlebrown: "#8b4513",
        salmon: "#fa8072",
        sandybrown: "#f4a460",
        seagreen: "#2e8b57",
        seashell: "#fff5ee",
        sienna: "#a0522d",
        silver: "#c0c0c0",
        skyblue: "#87ceeb",
        slateblue: "#6a5acd",
        slategray: "#708090",
        slategrey: "#708090",
        snow: "#fffafa",
        springgreen: "#00ff7f",
        steelblue: "#4682b4",
        tan: "#d2b48c",
        teal: "#008080",
        thistle: "#d8bfd8",
        tomato: "#ff6347",
        turquoise: "#40e0d0",
        violet: "#ee82ee",
        wheat: "#f5deb3",
        white: "#ffffff",
        whitesmoke: "#f5f5f5",
        yellow: "#ffff00",
        yellowgreen: "#9acd32"
    };

    function zd() {
        this.g = -1
    };

    function Ad() {
        this.g = -1;
        this.g = 64;
        this.a = Array(4);
        this.F = Array(this.g);
        this.w = this.m = 0;
        this.reset()
    }

    B(Ad, zd);
    Ad.prototype.reset = function () {
        this.a[0] = 1732584193;
        this.a[1] = 4023233417;
        this.a[2] = 2562383102;
        this.a[3] = 271733878;
        this.w = this.m = 0
    };

    function Bd(b, c, d) {
        d || (d = 0);
        var e = Array(16);
        if (ka(c)) for (var h = 0; 16 > h; ++h) e[h] = c.charCodeAt(d++) | c.charCodeAt(d++) << 8 | c.charCodeAt(d++) << 16 | c.charCodeAt(d++) << 24; else for (h = 0; 16 > h; ++h) e[h] = c[d++] | c[d++] << 8 | c[d++] << 16 | c[d++] << 24;
        c = b.a[0];
        d = b.a[1];
        var h = b.a[2], k = b.a[3], l = 0, l = c + (k ^ d & (h ^ k)) + e[0] + 3614090360 & 4294967295;
        c = d + (l << 7 & 4294967295 | l >>> 25);
        l = k + (h ^ c & (d ^ h)) + e[1] + 3905402710 & 4294967295;
        k = c + (l << 12 & 4294967295 | l >>> 20);
        l = h + (d ^ k & (c ^ d)) + e[2] + 606105819 & 4294967295;
        h = k + (l << 17 & 4294967295 | l >>> 15);
        l = d + (c ^ h & (k ^
            c)) + e[3] + 3250441966 & 4294967295;
        d = h + (l << 22 & 4294967295 | l >>> 10);
        l = c + (k ^ d & (h ^ k)) + e[4] + 4118548399 & 4294967295;
        c = d + (l << 7 & 4294967295 | l >>> 25);
        l = k + (h ^ c & (d ^ h)) + e[5] + 1200080426 & 4294967295;
        k = c + (l << 12 & 4294967295 | l >>> 20);
        l = h + (d ^ k & (c ^ d)) + e[6] + 2821735955 & 4294967295;
        h = k + (l << 17 & 4294967295 | l >>> 15);
        l = d + (c ^ h & (k ^ c)) + e[7] + 4249261313 & 4294967295;
        d = h + (l << 22 & 4294967295 | l >>> 10);
        l = c + (k ^ d & (h ^ k)) + e[8] + 1770035416 & 4294967295;
        c = d + (l << 7 & 4294967295 | l >>> 25);
        l = k + (h ^ c & (d ^ h)) + e[9] + 2336552879 & 4294967295;
        k = c + (l << 12 & 4294967295 | l >>> 20);
        l = h +
            (d ^ k & (c ^ d)) + e[10] + 4294925233 & 4294967295;
        h = k + (l << 17 & 4294967295 | l >>> 15);
        l = d + (c ^ h & (k ^ c)) + e[11] + 2304563134 & 4294967295;
        d = h + (l << 22 & 4294967295 | l >>> 10);
        l = c + (k ^ d & (h ^ k)) + e[12] + 1804603682 & 4294967295;
        c = d + (l << 7 & 4294967295 | l >>> 25);
        l = k + (h ^ c & (d ^ h)) + e[13] + 4254626195 & 4294967295;
        k = c + (l << 12 & 4294967295 | l >>> 20);
        l = h + (d ^ k & (c ^ d)) + e[14] + 2792965006 & 4294967295;
        h = k + (l << 17 & 4294967295 | l >>> 15);
        l = d + (c ^ h & (k ^ c)) + e[15] + 1236535329 & 4294967295;
        d = h + (l << 22 & 4294967295 | l >>> 10);
        l = c + (h ^ k & (d ^ h)) + e[1] + 4129170786 & 4294967295;
        c = d + (l << 5 & 4294967295 |
            l >>> 27);
        l = k + (d ^ h & (c ^ d)) + e[6] + 3225465664 & 4294967295;
        k = c + (l << 9 & 4294967295 | l >>> 23);
        l = h + (c ^ d & (k ^ c)) + e[11] + 643717713 & 4294967295;
        h = k + (l << 14 & 4294967295 | l >>> 18);
        l = d + (k ^ c & (h ^ k)) + e[0] + 3921069994 & 4294967295;
        d = h + (l << 20 & 4294967295 | l >>> 12);
        l = c + (h ^ k & (d ^ h)) + e[5] + 3593408605 & 4294967295;
        c = d + (l << 5 & 4294967295 | l >>> 27);
        l = k + (d ^ h & (c ^ d)) + e[10] + 38016083 & 4294967295;
        k = c + (l << 9 & 4294967295 | l >>> 23);
        l = h + (c ^ d & (k ^ c)) + e[15] + 3634488961 & 4294967295;
        h = k + (l << 14 & 4294967295 | l >>> 18);
        l = d + (k ^ c & (h ^ k)) + e[4] + 3889429448 & 4294967295;
        d = h + (l << 20 & 4294967295 |
            l >>> 12);
        l = c + (h ^ k & (d ^ h)) + e[9] + 568446438 & 4294967295;
        c = d + (l << 5 & 4294967295 | l >>> 27);
        l = k + (d ^ h & (c ^ d)) + e[14] + 3275163606 & 4294967295;
        k = c + (l << 9 & 4294967295 | l >>> 23);
        l = h + (c ^ d & (k ^ c)) + e[3] + 4107603335 & 4294967295;
        h = k + (l << 14 & 4294967295 | l >>> 18);
        l = d + (k ^ c & (h ^ k)) + e[8] + 1163531501 & 4294967295;
        d = h + (l << 20 & 4294967295 | l >>> 12);
        l = c + (h ^ k & (d ^ h)) + e[13] + 2850285829 & 4294967295;
        c = d + (l << 5 & 4294967295 | l >>> 27);
        l = k + (d ^ h & (c ^ d)) + e[2] + 4243563512 & 4294967295;
        k = c + (l << 9 & 4294967295 | l >>> 23);
        l = h + (c ^ d & (k ^ c)) + e[7] + 1735328473 & 4294967295;
        h = k + (l << 14 & 4294967295 |
            l >>> 18);
        l = d + (k ^ c & (h ^ k)) + e[12] + 2368359562 & 4294967295;
        d = h + (l << 20 & 4294967295 | l >>> 12);
        l = c + (d ^ h ^ k) + e[5] + 4294588738 & 4294967295;
        c = d + (l << 4 & 4294967295 | l >>> 28);
        l = k + (c ^ d ^ h) + e[8] + 2272392833 & 4294967295;
        k = c + (l << 11 & 4294967295 | l >>> 21);
        l = h + (k ^ c ^ d) + e[11] + 1839030562 & 4294967295;
        h = k + (l << 16 & 4294967295 | l >>> 16);
        l = d + (h ^ k ^ c) + e[14] + 4259657740 & 4294967295;
        d = h + (l << 23 & 4294967295 | l >>> 9);
        l = c + (d ^ h ^ k) + e[1] + 2763975236 & 4294967295;
        c = d + (l << 4 & 4294967295 | l >>> 28);
        l = k + (c ^ d ^ h) + e[4] + 1272893353 & 4294967295;
        k = c + (l << 11 & 4294967295 | l >>> 21);
        l = h + (k ^
            c ^ d) + e[7] + 4139469664 & 4294967295;
        h = k + (l << 16 & 4294967295 | l >>> 16);
        l = d + (h ^ k ^ c) + e[10] + 3200236656 & 4294967295;
        d = h + (l << 23 & 4294967295 | l >>> 9);
        l = c + (d ^ h ^ k) + e[13] + 681279174 & 4294967295;
        c = d + (l << 4 & 4294967295 | l >>> 28);
        l = k + (c ^ d ^ h) + e[0] + 3936430074 & 4294967295;
        k = c + (l << 11 & 4294967295 | l >>> 21);
        l = h + (k ^ c ^ d) + e[3] + 3572445317 & 4294967295;
        h = k + (l << 16 & 4294967295 | l >>> 16);
        l = d + (h ^ k ^ c) + e[6] + 76029189 & 4294967295;
        d = h + (l << 23 & 4294967295 | l >>> 9);
        l = c + (d ^ h ^ k) + e[9] + 3654602809 & 4294967295;
        c = d + (l << 4 & 4294967295 | l >>> 28);
        l = k + (c ^ d ^ h) + e[12] + 3873151461 & 4294967295;
        k = c + (l << 11 & 4294967295 | l >>> 21);
        l = h + (k ^ c ^ d) + e[15] + 530742520 & 4294967295;
        h = k + (l << 16 & 4294967295 | l >>> 16);
        l = d + (h ^ k ^ c) + e[2] + 3299628645 & 4294967295;
        d = h + (l << 23 & 4294967295 | l >>> 9);
        l = c + (h ^ (d | ~k)) + e[0] + 4096336452 & 4294967295;
        c = d + (l << 6 & 4294967295 | l >>> 26);
        l = k + (d ^ (c | ~h)) + e[7] + 1126891415 & 4294967295;
        k = c + (l << 10 & 4294967295 | l >>> 22);
        l = h + (c ^ (k | ~d)) + e[14] + 2878612391 & 4294967295;
        h = k + (l << 15 & 4294967295 | l >>> 17);
        l = d + (k ^ (h | ~c)) + e[5] + 4237533241 & 4294967295;
        d = h + (l << 21 & 4294967295 | l >>> 11);
        l = c + (h ^ (d | ~k)) + e[12] + 1700485571 & 4294967295;
        c = d +
            (l << 6 & 4294967295 | l >>> 26);
        l = k + (d ^ (c | ~h)) + e[3] + 2399980690 & 4294967295;
        k = c + (l << 10 & 4294967295 | l >>> 22);
        l = h + (c ^ (k | ~d)) + e[10] + 4293915773 & 4294967295;
        h = k + (l << 15 & 4294967295 | l >>> 17);
        l = d + (k ^ (h | ~c)) + e[1] + 2240044497 & 4294967295;
        d = h + (l << 21 & 4294967295 | l >>> 11);
        l = c + (h ^ (d | ~k)) + e[8] + 1873313359 & 4294967295;
        c = d + (l << 6 & 4294967295 | l >>> 26);
        l = k + (d ^ (c | ~h)) + e[15] + 4264355552 & 4294967295;
        k = c + (l << 10 & 4294967295 | l >>> 22);
        l = h + (c ^ (k | ~d)) + e[6] + 2734768916 & 4294967295;
        h = k + (l << 15 & 4294967295 | l >>> 17);
        l = d + (k ^ (h | ~c)) + e[13] + 1309151649 & 4294967295;
        d = h + (l << 21 & 4294967295 | l >>> 11);
        l = c + (h ^ (d | ~k)) + e[4] + 4149444226 & 4294967295;
        c = d + (l << 6 & 4294967295 | l >>> 26);
        l = k + (d ^ (c | ~h)) + e[11] + 3174756917 & 4294967295;
        k = c + (l << 10 & 4294967295 | l >>> 22);
        l = h + (c ^ (k | ~d)) + e[2] + 718787259 & 4294967295;
        h = k + (l << 15 & 4294967295 | l >>> 17);
        l = d + (k ^ (h | ~c)) + e[9] + 3951481745 & 4294967295;
        b.a[0] = b.a[0] + c & 4294967295;
        b.a[1] = b.a[1] + (h + (l << 21 & 4294967295 | l >>> 11)) & 4294967295;
        b.a[2] = b.a[2] + h & 4294967295;
        b.a[3] = b.a[3] + k & 4294967295
    }

    Ad.prototype.update = function (b, c) {
        ca(c) || (c = b.length);
        for (var d = c - this.g, e = this.F, h = this.m, k = 0; k < c;) {
            if (0 == h) for (; k <= d;) Bd(this, b, k), k += this.g;
            if (ka(b)) for (; k < c;) {
                if (e[h++] = b.charCodeAt(k++), h == this.g) {
                    Bd(this, e);
                    h = 0;
                    break
                }
            } else for (; k < c;) if (e[h++] = b[k++], h == this.g) {
                Bd(this, e);
                h = 0;
                break
            }
        }
        this.m = h;
        this.w += c
    };
    Ad.prototype.digest = function () {
        var b = Array((56 > this.m ? this.g : 2 * this.g) - this.m);
        b[0] = 128;
        for (var c = 1; c < b.length - 8; ++c) b[c] = 0;
        for (var d = 8 * this.w, c = b.length - 8; c < b.length; ++c) b[c] = d & 255, d /= 256;
        this.update(b);
        b = Array(16);
        for (c = d = 0; 4 > c; ++c) for (var e = 0; 32 > e; e += 8) b[d++] = this.a[c] >>> e & 255;
        return b
    };

    function Cd(b) {
        if (Error.captureStackTrace) Error.captureStackTrace(this, Cd); else {
            var c = Error().stack;
            c && (this.stack = c)
        }
        b && (this.message = String(b))
    }

    B(Cd, Error);
    Cd.prototype.name = "CustomError";

    function Dd(b, c, d, e, h) {
        this.reset(b, c, d, e, h)
    }

    Dd.prototype.a = null;
    var Ed = 0;
    Dd.prototype.reset = function (b, c, d, e, h) {
        "number" == typeof h || Ed++;
        e || wa();
        this.g = c;
        delete this.a
    };
    Dd.prototype.Rk = function (b) {
        this.g = b
    };

    function Fd() {
        0 != Gd && (Hd[qa(this)] = this);
        this.Ap = this.Ap;
        this.Li = this.Li
    }

    var Gd = 0, Hd = {};
    Fd.prototype.Ap = !1;
    Fd.prototype.Ra = function () {
        if (!this.Ap && (this.Ap = !0, this.Ma(), 0 != Gd)) {
            var b = qa(this);
            delete Hd[b]
        }
    };

    function Id(b, c) {
        var d = va(Jd, c);
        b.Ap ? ca(void 0) ? d.call(void 0) : d() : (b.Li || (b.Li = []), b.Li.push(ca(void 0) ? v(d, void 0) : d))
    }

    Fd.prototype.Ma = function () {
        if (this.Li) for (; this.Li.length;) this.Li.shift()()
    };

    function Jd(b) {
        b && "function" == typeof b.Ra && b.Ra()
    }

    function Kd(b) {
        for (var c = 0, d = arguments.length; c < d; ++c) {
            var e = arguments[c];
            ja(e) ? Kd.apply(null, e) : Jd(e)
        }
    };var Ld = {}, Md;
    (function () {
        for (var b = ["ms", "moz", "webkit", "o"], c = 0, d; d = b[c] && !ba.requestAnimationFrame; ++c) ba.requestAnimationFrame = ba[d + "RequestAnimationFrame"], ba.cancelAnimationFrame = ba[d + "CancelAnimationFrame"] || ba[d + "CancelRequestAnimationFrame"];
        if (!ba.requestAnimationFrame) {
            var e = 0;
            ba.requestAnimationFrame = function (b) {
                var c = (new Date).getTime(), d = Math.max(0, 16 - (c - e));
                e = c + d;
                return ba.setTimeout(function () {
                    b(c + d)
                }, d)
            };
            ba.cancelAnimationFrame || (ba.cancelAnimationFrame = function (b) {
                clearTimeout(b)
            })
        }
    })();
    var Nd = [[], []], Od = 0, Pd = !1, Qd = 0;

    function Rd(b, c) {
        var d = Qd++, e = {
            dba: {id: d, Kh: b.measure, context: c},
            jba: {id: d, Kh: b.iba, context: c},
            state: {},
            Zf: void 0,
            OE: !1
        };
        return function () {
            0 < arguments.length ? (e.Zf || (e.Zf = []), e.Zf.length = 0, e.Zf.push.apply(e.Zf, arguments), e.Zf.push(e.state)) : e.Zf && 0 != e.Zf.length ? (e.Zf[0] = e.state, e.Zf.length = 1) : e.Zf = [e.state];
            e.OE || (e.OE = !0, Nd[Od].push(e));
            Pd || (Pd = !0, window.requestAnimationFrame(Sd))
        }
    }

    function Sd() {
        Pd = !1;
        var b = Nd[Od], c = b.length;
        Od = (Od + 1) % 2;
        for (var d, e = 0; e < c; ++e) {
            d = b[e];
            var h = d.dba;
            d.OE = !1;
            h.Kh && h.Kh.apply(h.context, d.Zf)
        }
        for (e = 0; e < c; ++e) d = b[e], h = d.jba, d.OE = !1, h.Kh && h.Kh.apply(h.context, d.Zf), d.state = {};
        b.length = 0
    };

    function Td(b) {
        this.a = b
    }

    Td.prototype.toString = function () {
        return this.a
    };
    var Ud = new Td("A"), Vd = new Td("APPLET"), Wd = new Td("AREA"), Xd = new Td("BASE"), Yd = new Td("BODY"),
        Zd = new Td("BR"), $d = new Td("BUTTON"), ae = new Td("CANVAS"), be = new Td("COL"), ce = new Td("COMMAND"),
        D = new Td("DIV"), de = new Td("EMBED"), ee = new Td("FIELDSET"), fe = new Td("FORM"), ge = new Td("FRAME"),
        he = new Td("H1"), ie = new Td("H2"), je = new Td("H4"), ke = new Td("HEAD"), le = new Td("HR"),
        me = new Td("HTML"), ne = new Td("I"), oe = new Td("IFRAME"), pe = new Td("IMG"), qe = new Td("INPUT"),
        re = new Td("ISINDEX"), se = new Td("KEYGEN"), te = new Td("LABEL"),
        ue = new Td("LEGEND"), ve = new Td("LI"), we = new Td("LINK"), xe = new Td("MATH"), ye = new Td("MENU"),
        ze = new Td("META"), Ae = new Td("NOFRAMES"), Be = new Td("NOSCRIPT"), Ce = new Td("OBJECT"),
        De = new Td("OPTGROUP"), Ee = new Td("OPTION"), Fe = new Td("P"), Ge = new Td("PARAM"), He = new Td("PROGRESS"),
        Ie = new Td("SCRIPT"), Je = new Td("SELECT"), Ke = new Td("SOURCE"), Le = new Td("SPAN"), Me = new Td("STRONG"),
        Ne = new Td("STYLE"), Oe = new Td("SVG"), Pe = new Td("TABLE"), Qe = new Td("TBODY"), Re = new Td("TD"),
        Se = new Td("TEMPLATE"), Te = new Td("TEXTAREA"),
        Ue = new Td("TFOOT"), Ve = new Td("TH"), Xe = new Td("THEAD"), Ye = new Td("TITLE"), Ze = new Td("TR"),
        $e = new Td("TRACK"), af = new Td("UL"), bf = new Td("WBR");

    function cf(b, c) {
        this.type = b;
        this.currentTarget = this.target = c;
        this.defaultPrevented = this.fq = !1;
        this.$W = !0
    }

    cf.prototype.stopPropagation = function () {
        this.fq = !0
    };
    cf.prototype.preventDefault = function () {
        this.defaultPrevented = !0;
        this.$W = !1
    };

    function df(b) {
        b.stopPropagation()
    };

    function ef(b, c) {
        b && this.init(b, c)
    }

    B(ef, cf);
    ef.prototype.init = function (b, c) {
        this.type = b.type;
        cf.call(this, this.type);
        this.target = b.target;
        this.currentTarget = c;
        var d = b.Pe().touches;
        ja(d) ? 1 == d.length && (this.offsetX = d[0].pageX, this.offsetY = d[0].pageY) : (this.offsetX = b.offsetX, this.offsetY = b.offsetY);
        this.scale = b.Pe().scale;
        this.detail = b.detail;
        this.deltaX = b.deltaX;
        this.deltaY = b.deltaY;
        this.yf = b;
        b.defaultPrevented && this.preventDefault();
        delete this.fq
    };
    ef.prototype.Ak = function () {
        return this.yf
    };
    ef.prototype.Pe = function () {
        return this
    };

    function ff(b, c, d, e) {
        cf.call(this, b, e);
        this.xd = c;
        this.Yr = d
    }

    B(ff, cf);
    ff.prototype.Ep = function () {
        return this.xd
    };
    ff.prototype.qd = function () {
        return this.Yr
    };

    function gf(b, c, d, e, h) {
        cf.call(this, b, h);
        this.Ib = c;
        this.Pd = d;
        this.Yr = e
    }

    B(gf, cf);
    gf.prototype.kb = function () {
        return this.Pd
    };
    gf.prototype.qd = function () {
        return this.Yr
    };
    gf.prototype.aa = function () {
        return this.Ib
    };

    function hf(b, c, d, e, h) {
        cf.call(this, b, h);
        this.t = c;
        this.qc = d;
        this.yf = e
    }

    B(hf, cf);
    hf.prototype.Ak = function () {
        return this.yf
    };
    var jf = {
        8: "backspace",
        9: "tab",
        13: "enter",
        16: "shift",
        17: "ctrl",
        18: "alt",
        19: "pause",
        20: "caps-lock",
        27: "esc",
        32: "space",
        33: "pg-up",
        34: "pg-down",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        45: "insert",
        46: "delete",
        48: "0",
        49: "1",
        50: "2",
        51: "3",
        52: "4",
        53: "5",
        54: "6",
        55: "7",
        56: "8",
        57: "9",
        59: "semicolon",
        61: "equals",
        65: "a",
        66: "b",
        67: "c",
        68: "d",
        69: "e",
        70: "f",
        71: "g",
        72: "h",
        73: "i",
        74: "j",
        75: "k",
        76: "l",
        77: "m",
        78: "n",
        79: "o",
        80: "p",
        81: "q",
        82: "r",
        83: "s",
        84: "t",
        85: "u",
        86: "v",
        87: "w",
        88: "x",
        89: "y",
        90: "z",
        93: "context",
        96: "num-0",
        97: "num-1",
        98: "num-2",
        99: "num-3",
        100: "num-4",
        101: "num-5",
        102: "num-6",
        103: "num-7",
        104: "num-8",
        105: "num-9",
        106: "num-multiply",
        107: "num-plus",
        109: "num-minus",
        110: "num-period",
        111: "num-division",
        112: "f1",
        113: "f2",
        114: "f3",
        115: "f4",
        116: "f5",
        117: "f6",
        118: "f7",
        119: "f8",
        120: "f9",
        121: "f10",
        122: "f11",
        123: "f12",
        186: "semicolon",
        187: "equals",
        189: "dash",
        188: ",",
        190: ".",
        191: "/",
        192: "`",
        219: "open-square-bracket",
        220: "\\",
        221: "close-square-bracket",
        222: "single-quote",
        224: "win"
    };
    var kf = "closure_listenable_" + (1E6 * Math.random() | 0);

    function lf(b) {
        return !(!b || !b[kf])
    }

    var mf = 0;

    function nf(b, c, d, e, h) {
        this.listener = b;
        this.a = null;
        this.src = c;
        this.type = d;
        this.hy = !!e;
        this.nE = h;
        this.key = ++mf;
        this.yw = this.iC = !1
    }

    function of(b) {
        b.yw = !0;
        b.listener = null;
        b.a = null;
        b.src = null;
        b.nE = null
    };

    function pf(b, c) {
        cf.call(this, b.type, c);
        this.yf = b
    }

    B(pf, cf);

    function qf(b) {
        return function () {
            return b
        }
    }

    var yc = qf(!1), rf = qf(!0), zc = qf(null);

    function vc(b) {
        return b
    }

    function sf(b, c) {
        c = c || 0;
        return function () {
            return b.apply(this, Array.prototype.slice.call(arguments, 0, c))
        }
    }

    function tf(b, c) {
        var d = arguments, e = d.length;
        return function () {
            var b;
            e && (b = d[e - 1].apply(this, arguments));
            for (var c = e - 2; 0 <= c; c--) b = d[c].call(this, b);
            return b
        }
    }

    function uf(b) {
        var c = arguments, d = c.length;
        return function () {
            for (var b, h = 0; h < d; h++) b = c[h].apply(this, arguments);
            return b
        }
    }

    function vf(b) {
        var c = arguments, d = c.length;
        return function () {
            for (var b = 0; b < d; b++) if (!c[b].apply(this, arguments)) return !1;
            return !0
        }
    }

    function wf(b) {
        return function () {
            return !b.apply(this, arguments)
        }
    };var xf = {
        OO: {
            1E3: {other: "0K"},
            1E4: {other: "00K"},
            1E5: {other: "000K"},
            1E6: {other: "0M"},
            1E7: {other: "00M"},
            1E8: {other: "000M"},
            1E9: {other: "0B"},
            1E10: {other: "00B"},
            1E11: {other: "000B"},
            1E12: {other: "0T"},
            1E13: {other: "00T"},
            1E14: {other: "000T"}
        }, $Y: {
            1E3: {other: "0 thousand"},
            1E4: {other: "00 thousand"},
            1E5: {other: "000 thousand"},
            1E6: {other: "0 million"},
            1E7: {other: "00 million"},
            1E8: {other: "000 million"},
            1E9: {other: "0 billion"},
            1E10: {other: "00 billion"},
            1E11: {other: "000 billion"},
            1E12: {other: "0 trillion"},
            1E13: {other: "00 trillion"},
            1E14: {other: "000 trillion"}
        }
    }, yf = xf, yf = xf;
    var zf = {
        AED: [2, "dh", "\u062f.\u0625.", "DH"],
        ALL: [0, "Lek", "Lek"],
        AUD: [2, "$", "AU$"],
        BDT: [2, "\u09f3", "Tk"],
        BGN: [2, "lev", "lev"],
        BRL: [2, "R$", "R$"],
        CAD: [2, "$", "C$"],
        CDF: [2, "FrCD", "CDF"],
        CHF: [2, "CHF", "CHF"],
        CLP: [0, "$", "CL$"],
        CNY: [2, "\u00a5", "RMB\u00a5"],
        COP: [32, "$", "COL$"],
        CRC: [0, "\u20a1", "CR\u20a1"],
        CZK: [50, "K\u010d", "K\u010d"],
        DKK: [50, "kr.", "kr."],
        DOP: [2, "RD$", "RD$"],
        EGP: [2, "\u00a3", "LE"],
        ETB: [2, "Birr", "Birr"],
        EUR: [2, "\u20ac", "\u20ac"],
        GBP: [2, "\u00a3", "GB\u00a3"],
        HKD: [2, "$", "HK$"],
        HRK: [2, "kn", "kn"],
        HUF: [34,
            "Ft", "Ft"],
        IDR: [0, "Rp", "Rp"],
        ILS: [34, "\u20aa", "IL\u20aa"],
        INR: [2, "\u20b9", "Rs"],
        IRR: [0, "Rial", "IRR"],
        ISK: [0, "kr", "kr"],
        JMD: [2, "$", "JA$"],
        JPY: [0, "\u00a5", "JP\u00a5"],
        KRW: [0, "\u20a9", "KR\u20a9"],
        LKR: [2, "Rs", "SLRs"],
        LTL: [2, "Lt", "Lt"],
        MNT: [0, "\u20ae", "MN\u20ae"],
        MVR: [2, "Rf", "MVR"],
        MXN: [2, "$", "Mex$"],
        MYR: [2, "RM", "RM"],
        NOK: [50, "kr", "NOkr"],
        PAB: [2, "B/.", "B/."],
        PEN: [2, "S/.", "S/."],
        PHP: [2, "\u20b1", "PHP"],
        PKR: [0, "Rs", "PKRs."],
        PLN: [50, "z\u0142", "z\u0142"],
        RON: [2, "RON", "RON"],
        RSD: [0, "din", "RSD"],
        RUB: [50, "\u20bd",
            "RUB"],
        SAR: [2, "Rial", "Rial"],
        SEK: [50, "kr", "kr"],
        SGD: [2, "$", "S$"],
        THB: [2, "\u0e3f", "THB"],
        TRY: [2, "TL", "YTL"],
        TWD: [2, "NT$", "NT$"],
        TZS: [0, "TSh", "TSh"],
        UAH: [2, "\u0433\u0440\u043d.", "UAH"],
        USD: [2, "$", "US$"],
        UYU: [2, "$", "$U"],
        VND: [48, "\u20ab", "VN\u20ab"],
        YER: [0, "Rial", "Rial"],
        ZAR: [2, "R", "ZAR"]
    };
    var Af = {
        l3: "y",
        wla: "y G",
        xla: "MMM y",
        m3: "MMMM y",
        Zia: "MMM d",
        $ia: "MMMM dd",
        bja: "M/d",
        aja: "MMMM d",
        cja: "MMM d, y",
        nla: "EEE, MMM d",
        ola: "EEE, MMM d, y",
        qha: "d"
    }, Bf = Af, Bf = Af;
    var Cf = {
            gZ: ["BC", "AD"],
            fZ: ["Before Christ", "Anno Domini"],
            BP: "JFMAMJJASOND".split(""),
            b3: "JFMAMJJASOND".split(""),
            eP: "January February March April May June July August September October November December".split(" "),
            Qx: "January February March April May June July August September October November December".split(" "),
            QP: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
            TP: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
            YP: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
            UP: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
            RP: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
            dI: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
            K2: "SMTWTFS".split(""),
            SP: "SMTWTFS".split(""),
            Z2: ["Q1", "Q2", "Q3", "Q4"],
            V2: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"],
            YY: ["AM", "PM"],
            LH: ["EEEE, MMMM d, y", "MMMM d, y", "MMM d, y", "M/d/yy"],
            WP: ["h:mm:ss a zzzz", "h:mm:ss a z", "h:mm:ss a", "h:mm a"],
            cZ: ["{1} 'at' {0}", "{1} 'at' {0}", "{1}, {0}", "{1}, {0}"],
            OH: 6,
            ZP: [5, 6],
            QH: 5
        }, Df = Cf,
        Df = Cf;
    y = function (b, c, d) {
        var e = ((window.dc || {}).i18n || {}).getMsg ? window.dc.i18n.getMsg : Ef;
        y = e;
        return e(b, c, d)
    };

    function Ef(b, c, d) {
        b = ((window.translations || {})[Ff()] || {})[b] || d || b || "";
        d = "string" === typeof b ? b : b.value || d;
        for (var e in c) b = ("" + c[e]).replace(/\$/g, "$$$$"), d = d.replace(new RegExp("\\{\\$" + e + "\\}", "gi"), b);
        return d
    }

    function Ff() {
        return ((window.dc || {}).i18n || {}).NS ? window.dc.i18n.NS : ""
    }

    z("dc.i18n.getNS", Ff);
    var Hf = {};
    y("MSG_I18N_NARROWMONTHS_JAN", {}, "J");
    y("MSG_I18N_NARROWMONTHS_FEB", {}, "F");
    y("MSG_I18N_NARROWMONTHS_MAR", {}, "M");
    y("MSG_I18N_NARROWMONTHS_APR", {}, "A");
    y("MSG_I18N_NARROWMONTHS_MAY", {}, "M");
    y("MSG_I18N_NARROWMONTHS_JUN", {}, "J");
    y("MSG_I18N_NARROWMONTHS_JUL", {}, "J");
    y("MSG_I18N_NARROWMONTHS_AUG", {}, "A");
    y("MSG_I18N_NARROWMONTHS_SEP", {}, "S");
    y("MSG_I18N_NARROWMONTHS_OCT", {}, "O");
    y("MSG_I18N_NARROWMONTHS_NOV", {}, "N");
    y("MSG_I18N_NARROWMONTHS_DEC", {}, "D");
    var If = y("MSG_I18N_MONTHS_JANUARY", {}, "January"), Jf = y("MSG_I18N_MONTHS_FEBRUARY", {}, "February"),
        Kf = y("MSG_I18N_MONTHS_MARCH", {}, "March"), Lf = y("MSG_I18N_MONTHS_APRIL", {}, "April"),
        Mf = y("MSG_I18N_MONTHS_MAY", {}, "May"), Nf = y("MSG_I18N_MONTHS_JUNE", {}, "June"),
        Of = y("MSG_I18N_MONTHS_JULY", {}, "July"), Pf = y("MSG_I18N_MONTHS_AUGUST", {}, "August"),
        Qf = y("MSG_I18N_MONTHS_SEPTEMBER", {}, "September"), Rf = y("MSG_I18N_MONTHS_OCTOBER", {}, "October"),
        Sf = y("MSG_I18N_MONTHS_NOVEMBER", {}, "November"), Tf = y("MSG_I18N_MONTHS_DECEMBER",
        {}, "December"), Uf = y("MSG_I18N_SHORTMONTHS_JAN", {}, "Jan"), Vf = y("MSG_I18N_SHORTMONTHS_FEB", {}, "Feb"),
        Wf = y("MSG_I18N_SHORTMONTHS_MAR", {}, "Mar"), Xf = y("MSG_I18N_SHORTMONTHS_APR", {}, "Apr"),
        Yf = y("MSG_I18N_SHORTMONTHS_MAY", {}, "May"), Zf = y("MSG_I18N_SHORTMONTHS_JUN", {}, "Jun"),
        $f = y("MSG_I18N_SHORTMONTHS_JUL", {}, "Jul"), ag = y("MSG_I18N_SHORTMONTHS_AUG", {}, "Aug"),
        bg = y("MSG_I18N_SHORTMONTHS_SEP", {}, "Sep"), cg = y("MSG_I18N_SHORTMONTHS_OCT", {}, "Oct"),
        dg = y("MSG_I18N_SHORTMONTHS_NOV", {}, "Nov"), eg = y("MSG_I18N_SHORTMONTHS_DEC",
        {}, "Dec"), fg = y("MSG_I18N_WEEKDAYS_SUNDAY", {}, "Sunday"), gg = y("MSG_I18N_WEEKDAYS_MONDAY", {}, "Monday"),
        hg = y("MSG_I18N_WEEKDAYS_TUESDAY", {}, "Tuesday"), ig = y("MSG_I18N_WEEKDAYS_WEDNESDAY", {}, "Wednesday"),
        jg = y("MSG_I18N_WEEKDAYS_THURSDAY", {}, "Thursday"), kg = y("MSG_I18N_WEEKDAYS_FRIDAY", {}, "Friday"),
        lg = y("MSG_I18N_WEEKDAYS_SATURDAY", {}, "Saturday"), mg = y("MSG_I18N_SHORTWEEKDAYS_SUN", {}, "Sun"),
        ng = y("MSG_I18N_SHORTWEEKDAYS_MON", {}, "Mon"), og = y("MSG_I18N_SHORTWEEKDAYS_TUE", {}, "Tue"),
        pg = y("MSG_I18N_SHORTWEEKDAYS_WED",
            {}, "Wed"), qg = y("MSG_I18N_SHORTWEEKDAYS_THU", {}, "Thu"),
        rg = y("MSG_I18N_SHORTWEEKDAYS_FRI", {}, "Fri"), sg = y("MSG_I18N_SHORTWEEKDAYS_SAT", {}, "Sat");
    y("MSG_I18N_NARROWWEEKDAYS_SUN", {}, "S");
    y("MSG_I18N_NARROWWEEKDAYS_MON", {}, "M");
    y("MSG_I18N_NARROWWEEKDAYS_TUE", {}, "T");
    y("MSG_I18N_NARROWWEEKDAYS_WED", {}, "W");
    y("MSG_I18N_NARROWWEEKDAYS_THU", {}, "T");
    y("MSG_I18N_NARROWWEEKDAYS_FRI", {}, "F");
    y("MSG_I18N_NARROWWEEKDAYS_SAT", {}, "S");
    Df.BP = Df.Gka = [Hf.jP, Hf.oja, Hf.S_, Hf.R_, Hf.S_, Hf.jP, Hf.jP, Hf.R_, Hf.rja, Hf.qja, Hf.pja, Hf.nja];
    Df.eP = Df.Qx = [If, Jf, Kf, Lf, Mf, Nf, Of, Pf, Qf, Rf, Sf, Tf];
    Df.QP = Df.TP = [Uf, Vf, Wf, Xf, Yf, Zf, $f, ag, bg, cg, dg, eg];
    Df.YP = Df.UP = [fg, gg, hg, ig, jg, kg, lg];
    Df.RP = Df.dI = [mg, ng, og, pg, qg, rg, sg];
    Df.K2 = Df.SP = [Hf.T_, Hf.tja, Hf.U_, Hf.uja, Hf.U_, Hf.sja, Hf.T_];
    var H = {};
    H.pm = y("MSG_MOMENTUM_INDICATORS", {}, "Momentum indicators");
    H.VZ = y("MSG_AVG_DIR_MOV_INDEX", {}, "Average Directional Movement Index");
    H.LZ = y("MSG_AROON", {}, "Aroon");
    H.r_ = y("MSG_DIR_MOV_INDEX", {}, "Directional Movement Index");
    H.k_ = y("MSG_COM_CHAN_INDEX", {}, "Commodity Channel Index");
    H.C0 = y("MSG_MOV_AVG_CONV", {}, "Moving Average Convergence/Divergence");
    H.A0 = y("MSG_MOMENTUM", {}, "Momentum");
    H.Y0 = y("MSG_REL_STR_INDEX", {}, "Relative Strength Index");
    H.Z0 = y("MSG_REL_VIG_INDEX", {}, "Relative Vigor Index");
    H.A1 = y("MSG_STOCHASTIC_FAST", {}, "Stochastic Fast");
    H.z1 = y("MSG_STOCHASTIC", {}, "Stochastic");
    H.m2 = y("MSG_ULTIMATE_OSCILLATOR", {}, "Ultimate Oscillator");
    H.OB = y("MSG_BILL_WILLIAMS", {}, "Bill Williams");
    H.XZ = y("MSG_AWS_OSCILLATOR", {}, "Awesome Oscillator (AO)");
    H.GZ = y("MSG_ALLIGATOR", {}, "Alligator");
    H.D0 = y("MSG_MRT_FACIL_INDEX", {}, "Market Facilitation Index");
    H.H_ = y("MSG_FRACTAL_INDICATOR", {}, "Fractal indicator");
    H.zP = y("MSG_VOLATILITY_INDICATORS", {}, "Volatility Indicators");
    H.WZ = y("MSG_AVG_TRUE_RANGE", {}, "Average True Range");
    H.s_ = y("MSG_DONCHIAN_CHANNEL", {}, "Donchian Channel");
    H.Ig = y("MSG_OVERLAP_STUDIES", {}, "Overlap Studies");
    H.a_ = y("MSG_BOLLINGER_BANDS", {}, "Bollinger Bands");
    H.b_ = y("MSG_BOLLINGER_BANDS_FIB", {}, "Bollinger Bands Fibonacci");
    H.m_ = y("MSG_DBL_EXP_MOV_AVG", {}, "Double Exponential Moving Average");
    H.t_ = y("MSG_EXP_MOV_AVG", {}, "Exponential Moving Average");
    H.Q_ = y("MSG_HULL_MOV_AVG", {}, "Hull Moving Average");
    H.V_ = y("MSG_ICHIMOKU", {}, "Ichimoku");
    H.Z_ = y("MSG_KAUF_ADP_MOV_AVG", {}, "Kaufman Adaptive Moving Average");
    H.b0 = y("MSG_LIN_WHT_MOV_AVG", {}, "Linear Weighted Moving Average (LWMA)");
    H.B0 = y("MSG_MOV_AVG", {}, "Moving average");
    H.t0 = y("MSG_MES_ADP_MOV_AVG", {}, "MESA Adaptive Moving Average");
    H.H0 = y("MSG_PARABOLIC_SAR", {}, "Parabolic SAR");
    H.v1 = y("MSG_SML_MOV_AVG", {}, "Simple Moving Average (SMA)");
    H.y1 = y("MSG_STH_MOV_AVG", {}, "Smoothed Moving Average (SMMA)");
    H.j2 = y("MSG_TRI_EXP_MOV_AVG_T3", {}, "Triple Exponential Moving Average (T3)");
    H.i2 = y("MSG_TRI_EXP_MOV_AVG", {}, "Triple Exponential Moving Average");
    H.H2 = y("MSG_WHGHT_MOV_AVG", {}, "Weighted Moving Average");
    H.B1 = y("MSG_SUPER_TRAND", {}, "Super Trend");
    H.D1 = y("MSG_SUPER_TRAND_UP", {}, "Trend Up");
    H.C1 = y("MSG_SUPER_TRAND_DOWN", {}, "Trend Down");
    H.E1 = y("MSG_TD_SEQUENTIAL", {}, "TD Sequential");
    H.H1 = y("MSG_TD_SEQUENTIAL_POSITIVE", {}, "Positive");
    H.G1 = y("MSG_TD_SEQUENTIAL_NEGATIVE", {}, "Negative");
    H.L_ = y("MSG_HEIKINASHI", {}, "Heikin Ashi");
    H.hP = y("MSG_HEIKINASHI_BORDER", {}, "Border and wicks");
    H.iP = y("MSG_HEIKINASHI_CANDLE", {}, "Fill");
    H.M_ = y("MSG_HEIKINASHI_SMOOTH", {}, "Heikin Ashi Smooth");
    H.Mx = y("MSG_PIVOTS", {}, "Pivots");
    H.d_ = y("MSG_CAMARILLA_PIVOT", {}, "Camarilla Pivot");
    H.i_ = y("MSG_CLASSIC_PIVOT_POINT", {}, "Classic Pivot Point");
    H.G_ = y("MSG_FIBONACCI_PIVOT", {}, "Fibonacci Pivot");
    H.J0 = y("MSG_PIVOT_POINT", {}, "Pivot Point");
    H.I2 = y("MSG_WOODIE_PIVOT", {}, "Woodie Pivot");
    H.kP = y("MSG_MATH_OPERATORS", {}, "Math Operators");
    H.O_ = y("MSG_HIGH_VAL_SPCF_PER", {}, "Highest value over a specified period");
    H.i0 = y("MSG_LOW_VAL_SPCF_PER", {}, "Lowest value over a specified period");
    H.L1 = y("MSG_THOMAS_BULKOWSKI", {}, "Thomas Bulkowski");
    H.mP = y("MSG_NARROW_RANGE", {}, "Narrow Range");
    H.rP = y("MSG_STATISTIC_FUNCTIONS", {}, "Statistic Functions");
    H.x1 = y("MSG_STANDARD_DEVATION", {}, "Standard Deviation");
    H.R0 = y("MSG_REGRESSION_CHANNEL", {}, "Regression Channel");
    H.ws = y("MSG_VOLUME_INDICATORS", {}, "Volume Indicators");
    H.a2 = y("MSG_TIME_SEG_VOL", {}, "Time Segmented Volume");
    H.E2 = y("MSG_VOL_IND_CUST_DRW_STL", {}, "Volume indicator with customizable drawing style");
    H.$H = y("MSG_VOLUMES", {}, "Volumes");
    H.s2 = y("MSG_VOLUME_PROFILE", {}, "Volume Profile");
    H.u2 = y("MSG_VOLUME_PROFILE_BASE_PERIOD", {}, "Base period");
    H.x2 = y("MSG_VOLUME_PROFILE_ROWS_TYPE", {}, "Rows Type");
    H.y2 = y("MSG_VOLUME_PROFILE_ROW_SIZE", {}, "Row Size");
    H.C2 = y("MSG_VOLUME_PROFILE_VOLUME_TYPE", {}, "Volume");
    H.D2 = y("MSG_VOLUME_PROFILE_WIDTH_PERCENT", {}, "Width (%)");
    H.v2 = y("MSG_VOLUME_PROFILE_PLACEMENT", {}, "Placement");
    H.A2 = y("MSG_VOLUME_PROFILE_VALUE_AREA", {}, "Value area volume (%)");
    H.t2 = y("MSG_VOLUME_PROFILE_BACKGROUND", {}, "Background");
    H.B2 = y("MSG_VOLUME_PROFILE_VOLUMES", {}, "Volumes");
    H.z2 = y("MSG_VOLUME_PROFILE_VALUE", {}, "Value area");
    H.w2 = y("MSG_VOLUME_PROFILE_POC", {}, "POC");
    H.WH = y("MSG_COMMON", {}, "Common");
    H.AP = y("MSG_ZIGZAG", {}, "ZigZag");
    H.f_ = y("MSG_CHANNEL_DOWN_PATTERN", {}, "Channel Down Pattern");
    H.g_ = y("MSG_CHANNEL_UP_PATTERN", {}, "Channel Up Pattern");
    H.o_ = y("MSG_DESC_TRI_PATTERN", {}, "Descending Triangle Pattern");
    H.K_ = y("MSG_HEAD_SHOULD_PATTERN", {}, "Head and Shoulders Pattern");
    H.l_ = y("MSG_DBL_BOTTOM_PATTERN", {}, "Double Bottom Pattern");
    H.n_ = y("MSG_DBL_TOP_PATTERN", {}, "Double Top Pattern");
    H.y_ = y("MSG_FALL_WEDGE_PATTERN", {}, "Falling Wedge Pattern");
    H.W_ = y("MSG_INV_HEAD_SHOULD_PATTERN", {}, "Inverse Head and Shoulders Pattern");
    H.X_ = y("MSG_INV_RECT_PATTERN", {}, "Inverse Rectangle Pattern");
    H.I0 = y("MSG_PENNANT_PATTERN", {}, "Pennant Pattern");
    H.Q0 = y("MSG_RECT_PATTERN", {}, "Rectangle Pattern");
    H.$0 = y("MSG_RISEN_WEDGE_PATTERN", {}, "Rising Wedge Pattern");
    H.k2 = y("MSG_TRI_PATTERN", {}, "Triangle Pattern");
    H.h2 = y("MSG_TRI_BOTTOM_PATTERN", {}, "Triple Bottom Pattern");
    H.l2 = y("MSG_TRI_TOP_PATTERN", {}, "Triple Top Pattern");
    H.se = y("MSG_TIME_PERIOD", {}, "Time Period");
    H.W1 = y("MSG_TIME_PERIOD_ONE", {}, "Time Period 1");
    H.Y1 = y("MSG_TIME_PERIOD_TWO", {}, "Time Period 2");
    H.X1 = y("MSG_TIME_PERIOD_THREE", {}, "Time Period 3");
    H.M1 = y("MSG_TIME_ATR_PERIOD", {}, "ATR Periods");
    H.E0 = y("MSG_MULTIPLIER_PARAMETER", {}, "Multiplier");
    H.gP = y("MSG_FAST_PERIOD", {}, "Fast Period");
    H.qP = y("MSG_SLOW_PERIOD", {}, "Slow Period");
    H.m1 = y("MSG_SIGNAL_PERIOD", {}, "Signal Period");
    H.pP = y("MSG_PERIOD", {}, "Period");
    H.fP = y("MSG_FAST_K_PERIOD", {}, "Fast %K Period");
    H.C_ = y("MSG_FAST_D_PERIOD", {}, "Fast %D Period");
    H.B_ = y("MSG_FAST_D_MATYPE", {}, "Fast %D MAType");
    H.Y_ = y("MSG_JAW_TIME_PERIOD", {}, "Jaw Time Period");
    H.I1 = y("MSG_TEETH_TIME_PERIOD", {}, "Teeth Time Period");
    H.c0 = y("MSG_LIPS_TIME_PERIOD", {}, "Lips Time Period");
    H.F_ = y("MSG_FAST_MA_PERIOD", {}, "Fast MA period");
    H.u1 = y("MSG_SLOW_MA_PERIOD", {}, "Slow MA period");
    H.F0 = y("MSG_NUM_BARS_ON_SIDES", {}, "Number of bars on sides");
    H.q_ = y("MSG_DEVIATIONS_UP", {}, "Deviations up");
    H.p_ = y("MSG_DEVIATIONS_DOWN", {}, "Deviations down");
    H.qk = y("MSG_LINE", {}, "Line");
    H.OZ = y("MSG_AROON_DOWN", {}, "Aroon Down");
    H.PZ = y("MSG_AROON_UP", {}, "Aroon Up");
    H.FZ = y("MSG_ADX", {}, "ADX");
    H.j0 = y("MSG_LWMA", {}, "LWMA");
    H.n0 = y("MSG_MAMA", {}, "MAMA");
    H.z_ = y("MSG_FAMA", {}, "FAMA");
    H.f1 = y("MSG_SAR", {}, "SAR");
    H.w1 = y("MSG_SMMA", {}, "SMMA");
    H.L0 = y("MSG_PP", {}, "PP");
    H.M0 = y("MSG_R1", {}, "R1");
    H.b1 = y("MSG_S1", {}, "S1");
    H.N0 = y("MSG_R2", {}, "R2");
    H.c1 = y("MSG_S2", {}, "S2");
    H.O0 = y("MSG_R3", {}, "R3");
    H.d1 = y("MSG_S3", {}, "S3");
    H.P0 = y("MSG_R4", {}, "R4");
    H.e1 = y("MSG_S4", {}, "S4");
    H.yP = y("MSG_TVS", {}, "TVS");
    H.YZ = y("MSG_BBFIB_FACTOR1", {}, "Factor 1");
    H.ZZ = y("MSG_BBFIB_FACTOR2", {}, "Factor 2");
    H.$Z = y("MSG_BBFIB_FACTOR3", {}, "Factor 3");
    H.K0 = y("MSG_PLUS_DI", {}, "+DI");
    H.z0 = y("MSG_MINUS_DI", {}, "-DI");
    H.k0 = y("MSG_MACD", {}, "MACD");
    H.m0 = y("MSG_MACD_SIGNAL", {}, "MACD Signal");
    H.l0 = y("MSG_MACD_HIST", {}, "MACD Hist");
    H.G0 = y("MSG_OUT", {}, "out");
    H.XH = y("MSG_OUTPUT", {}, "Output");
    H.zc = y("MSG_PRICE", {}, "Price");
    H.a1 = y("MSG_RVI", {}, "RVI");
    H.l1 = y("MSG_SIGNAL_LINE", {}, "Signal Line");
    H.D_ = y("MSG_FAST_K", {}, "Fast %K");
    H.A_ = y("MSG_FAST_D", {}, "Fast %D");
    H.q1 = y("MSG_SLOW_K", {}, "Slow %K");
    H.n1 = y("MSG_SLOW_D", {}, "Slow %D");
    H.s1 = y("MSG_SLOW_K_PERIOD", {}, "Slow %K Period");
    H.r1 = y("MSG_SLOW_K_MATYPE", {}, "Slow %K MAType");
    H.o1 = y("MSG_SLOW_D_MATYPE", {}, "Slow %D MAType");
    H.p1 = y("MSG_SLOW_D_PERIOD", {}, "Slow %D Period");
    H.I_ = y("MSG_GROWING", {}, "Growing");
    H.x_ = y("MSG_FALLING", {}, "Falling");
    H.HZ = y("MSG_ALLIGATOR_JAW", {}, "Alligator Jaw");
    H.JZ = y("MSG_ALLIGATOR_TEETH", {}, "Alligator Teeth");
    H.IZ = y("MSG_ALLIGATOR_LIPS", {}, "Alligator Lips");
    H.x0 = y("MSG_MFI_UP_VOL_UP", {}, "MFI Up, Volume Up");
    H.u0 = y("MSG_MFI_DWN_VOL_DWN", {}, "MFI Down, Volume Down");
    H.w0 = y("MSG_MFI_UP_VOL_DWN", {}, "MFI Up, Volume Down");
    H.v0 = y("MSG_MFI_DWN_VOL_UP", {}, "MFI Down, Volume Up");
    H.p0 = y("MSG_MAXIMUMS", {}, "Maximums");
    H.y0 = y("MSG_MINIMUMS", {}, "Minimums");
    H.RZ = y("MSG_ATR", {}, "ATR");
    H.P_ = y("MSG_HMA", {}, "HMA");
    H.N_ = y("MSG_HIGH", {}, "High");
    H.d0 = y("MSG_LOW", {}, "Low");
    H.PB = y("MSG_MA_TYPE", {}, "MA type");
    H.s0 = y("MSG_MA_TYPE_SECONDARY", {}, "Secondary MA type");
    H.q0 = y("MSG_MA_PERIOD", {}, "MA period");
    H.r0 = y("MSG_MA_PERIOD_SECONDARY", {}, "Secondary MA period");
    H.r2 = y("MSG_UPPER_BAND_3", {}, "Upper band 3");
    H.q2 = y("MSG_UPPER_BAND_2", {}, "Upper band 2");
    H.p2 = y("MSG_UPPER_BAND_1", {}, "Upper band 1");
    H.o2 = y("MSG_UPPER_BAND", {}, "Upper band");
    H.lP = y("MSG_MIDDLE_BAND", {}, "Middle band");
    H.e0 = y("MSG_LOWER_BAND", {}, "Lower band");
    H.f0 = y("MSG_LOWER_BAND_1", {}, "Lower band 1");
    H.g0 = y("MSG_LOWER_BAND_2", {}, "Lower band 2");
    H.h0 = y("MSG_LOWER_BAND_3", {}, "Lower band 3");
    H.J1 = y("MSG_TENKAN", {}, "Tenkan");
    H.$_ = y("MSG_KIJUN", {}, "Kijun");
    H.g1 = y("MSG_SENKOU", {}, "Senkou");
    H.K1 = y("MSG_TENKAN_SEN", {}, "Tenkan Sen");
    H.a0 = y("MSG_KI_JUN_SEN", {}, "Ki-jun Sen");
    H.h_ = y("MSG_CHINKOU_SPAN", {}, "Chinkou Span");
    H.h1 = y("MSG_SENKOU_A", {}, "Senkou A");
    H.i1 = y("MSG_SENKOU_B", {}, "Senkou B");
    H.j_ = y("MSG_CLOUD", {}, "Cloud");
    H.E_ = y("MSG_FAST_LIMIT", {}, "Fast Limit");
    H.t1 = y("MSG_SLOW_LIMIT", {}, "Slow Limit");
    H.EZ = y("MSG_ACCEL_FACTOR", {}, "Acceleration Factor");
    H.o0 = y("MSG_MAXIMUM", {}, "Maximum");
    H.G2 = y("MSG_V_FACTOR", {}, "V Factor");
    H.k1 = y("MSG_SHOW_HISTORICAL", {}, "Show historical");
    H.j1 = y("MSG_SHOW_DEVIATIONS", {}, "Deviations");
    H.v_ = y("MSG_EXT_DEPTH", {}, "ExtDepth");
    H.w_ = y("MSG_EXT_DEVIATION", {}, "ExtDeviation");
    H.u_ = y("MSG_EXT_BACKSTEP", {}, "ExtBackstep");
    H.oP = y("MSG_PATTERN_INACCURACY_1", {}, "Pattern Inaccuracy (1%)");
    H.nP = y("MSG_PATTERN_CURVE", {}, "Pattern Curve");
    H.n2 = y("MSG_UPPER_ASYMPTOTE", {}, "Upper Asymptote");
    H.c_ = y("MSG_BOTTOM_ASYMPTOTE", {}, "Bottom Asymptote");
    H.J_ = y("MSG_HEAD_HEIGHT_RATIO_TIME", {}, "Head height ratio (times)");
    H.QZ = y("MSG_ASYMPTOTE", {}, "Asymptote");
    H.S0 = y("MSG_REGR_CHANNEL_DEGREE", {}, "Degree");
    H.T0 = y("MSG_REGR_CHANNEL_KSTD", {}, "K-Std");
    H.V0 = y("MSG_REGR_CHANNEL_PERIOD", {}, "Bars");
    H.W0 = y("MSG_REGR_CHANNEL_TREND", {}, "Trend");
    H.X0 = y("MSG_REGR_CHANNEL_UPPER", {}, "Upper");
    H.U0 = y("MSG_REGR_CHANNEL_LOWER", {}, "Lower");
    H.U1 = y("MSG_TIME_MS", {}, "ms");
    H.c2 = y("MSG_TIME_T", {}, "T");
    H.tP = y("MSG_TIME_MILLISECOND", {}, "Millisecond");
    H.Z1 = y("MSG_TIME_S", {}, "s");
    H.b2 = y("MSG_TIME_S_", {}, "S");
    H.vP = y("MSG_TIME_SECOND", {}, "Second");
    H.V1 = y("MSG_TIME_M_", {}, "M");
    H.ZH = y("MSG_TIME_M", {}, "m");
    H.uP = y("MSG_TIME_MINUTE", {}, "Minute");
    H.YH = y("MSG_TIME_HOUR", {}, "h");
    H.Q1 = y("MSG_TIME_HOUR_", {}, "H");
    H.P1 = y("MSG_TIME_HOURLY", {}, "Hourly");
    H.YH = y("MSG_TIME_HOUR", {}, "Hour");
    H.sP = y("MSG_TIME_D", {}, "D");
    H.N1 = y("MSG_TIME_DAILY", {}, "Daily");
    H.O1 = y("MSG_TIME_DAY", {}, "Day");
    H.wP = y("MSG_TIME_W", {}, "W");
    H.e2 = y("MSG_TIME_WEEKLY", {}, "Weekly");
    H.d2 = y("MSG_TIME_WEEK", {}, "Week");
    H.ZH = y("MSG_TIME_M", {}, "M");
    H.R1 = y("MSG_TIME_MN", {}, "MN");
    H.T1 = y("MSG_TIME_MONTHLY", {}, "Monthly");
    H.S1 = y("MSG_TIME_MONTH", {}, "Month");
    H.xP = y("MSG_TIME_Y", {}, "Y");
    H.g2 = y("MSG_TIME_YEARLY", {}, "Yearly");
    H.f2 = y("MSG_TIME_YEAR", {}, "Year");

    function tg(b, c, d, e, h) {
        this.interval = b;
        this.ON = c;
        this.a = d;
        this.fw = e;
        this.name = h
    }

    tg.prototype.Y = function () {
        return this.interval
    };

    function ug(b) {
        return b.a
    }

    tg.prototype.getName = function () {
        return this.name
    };
    tg.prototype.df = function (b) {
        return b.interval === this.interval
    };
    tg.prototype.toString = function () {
        return this.name
    };
    var vg = new tg(1, H.U1, H.c2, H.tP, H.tP), wg = new tg(1E3, H.Z1, H.b2, H.vP, H.vP),
        xg = new tg(6E4, H.ZH, H.V1, H.uP, H.uP), yg = new tg(36E5, H.YH, H.Q1, H.P1, H.YH),
        zg = new tg(864E5, H.sP, H.sP, H.N1, H.O1), Ag = new tg(6048E5, H.wP, H.wP, H.e2, H.d2),
        Bg = new tg(2592E6, H.ZH, H.R1, H.T1, H.S1), Cg = new tg(31556736E3, H.xP, H.xP, H.g2, H.f2),
        Dg = [vg, wg, xg, yg, zg, Ag, Bg, Cg];
    var Eg = {
        dZ: ".",
        YO: ",",
        Q2: "%",
        $P: "0",
        T2: "+",
        tZ: "-",
        hZ: "E",
        S2: "\u2030",
        mZ: "\u221e",
        J2: "NaN",
        QO: "#,##0.###",
        Y2: "#E0",
        R2: "#,##0%",
        aZ: "\u00a4#,##0.00",
        eZ: "USD"
    }, Fg = Eg, Fg = Eg;

    function Gg(b) {
        b = String(b);
        if (/^\s*$/.test(b) ? 0 : /^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g, "@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g, "]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g, ""))) try {
            return eval("(" + b + ")")
        } catch (c) {
        }
        throw Error("Invalid JSON string: " + b);
    }

    function Hg(b) {
        return eval("(" + b + ")")
    }

    function Ig(b, c) {
        return (new Jg(c)).lb(b)
    }

    function Jg(b) {
        this.a = b
    }

    Jg.prototype.lb = function (b) {
        var c = [];
        Kg(this, b, c);
        return c.join("")
    };

    function Kg(b, c, d) {
        if (null == c) d.push("null"); else {
            if ("object" == typeof c) {
                if (ia(c)) {
                    var e = c;
                    c = e.length;
                    d.push("[");
                    for (var h = "", k = 0; k < c; k++) d.push(h), h = e[k], Kg(b, b.a ? b.a.call(e, String(k), h) : h, d), h = ",";
                    d.push("]");
                    return
                }
                if (c instanceof String || c instanceof Number || c instanceof Boolean) c = c.valueOf(); else {
                    d.push("{");
                    k = "";
                    for (e in c) Object.prototype.hasOwnProperty.call(c, e) && (h = c[e], "function" != typeof h && (d.push(k), Lg(e, d), d.push(":"), Kg(b, b.a ? b.a.call(c, e, h) : h, d), k = ","));
                    d.push("}");
                    return
                }
            }
            switch (typeof c) {
                case "string":
                    Lg(c,
                        d);
                    break;
                case "number":
                    d.push(isFinite(c) && !isNaN(c) ? String(c) : "null");
                    break;
                case "boolean":
                    d.push(String(c));
                    break;
                case "function":
                    d.push("null");
                    break;
                default:
                    throw Error("Unknown type: " + typeof c);
            }
        }
    }

    var Mg = {
        '"': '\\"',
        "\\": "\\\\",
        "/": "\\/",
        "\b": "\\b",
        "\f": "\\f",
        "\n": "\\n",
        "\r": "\\r",
        "\t": "\\t",
        "\x0B": "\\u000b"
    }, Ng = /\uffff/.test("\uffff") ? /[\\\"\x00-\x1f\x7f-\uffff]/g : /[\\\"\x00-\x1f\x7f-\xff]/g;

    function Lg(b, c) {
        c.push('"', b.replace(Ng, function (b) {
            var c = Mg[b];
            c || (c = "\\u" + (b.charCodeAt(0) | 65536).toString(16).substr(1), Mg[b] = c);
            return c
        }), '"')
    };

    function Og(b, c, d, e) {
        this.a = b;
        this.max = d;
        this.min = c;
        this.g = e
    }

    B(Og, Sc);
    Og.prototype.w = function () {
        return this.a
    };
    Og.prototype.pd = function () {
        return this.max
    };
    Og.prototype.ld = function () {
        return this.min
    };
    Og.prototype.F = function () {
        return this.g
    };

    function Pg(b, c) {
        this.name = b;
        this.description = c
    }

    Pg.prototype.getName = function () {
        return this.name
    };
    Pg.prototype.Co = function (b) {
        this.name = b
    };
    Pg.prototype.Gp = function () {
        return this.description
    };
    Pg.prototype.rN = function (b) {
        this.description = b
    };

    function Qg(b, c) {
        this.width = b;
        this.height = c
    }

    function Rg(b, c) {
        return b == c ? !0 : b && c ? b.width == c.width && b.height == c.height : !1
    }

    f = Qg.prototype;
    f.clone = function () {
        return new Qg(this.width, this.height)
    };
    f.toString = function () {
        return "(" + this.width + " x " + this.height + ")"
    };
    f.rm = function () {
        return this.width * this.height
    };
    f.Ml = function () {
        return !this.rm()
    };
    f.ceil = function () {
        this.width = Math.ceil(this.width);
        this.height = Math.ceil(this.height);
        return this
    };
    f.floor = function () {
        this.width = Math.floor(this.width);
        this.height = Math.floor(this.height);
        return this
    };
    f.round = function () {
        this.width = Math.round(this.width);
        this.height = Math.round(this.height);
        return this
    };
    f.scale = function (b, c) {
        var d = ma(c) ? c : b;
        this.width *= b;
        this.height *= d;
        return this
    };

    function Sg() {
    }

    Sg.prototype.g = null;
    Sg.prototype.N = function () {
        var b;
        (b = this.g) || (b = {}, Tg(this) && (b[0] = !0, b[1] = !0), b = this.g = b);
        return b
    };

    function La(b, c, d) {
        for (var e in b) c.call(d, b[e], e, b)
    }

    function Ug(b, c, d) {
        var e = {}, h;
        for (h in b) c.call(d, b[h], h, b) && (e[h] = b[h]);
        return e
    }

    function Vg(b, c) {
        var d = {}, e;
        for (e in b) d[e] = c.call(void 0, b[e], e, b);
        return d
    }

    function Wg(b, c) {
        for (var d in b) if (c.call(void 0, b[d], d, b)) return !0;
        return !1
    }

    function Xg(b) {
        var c = 0, d;
        for (d in b) c++;
        return c
    }

    function Ta(b) {
        var c = [], d = 0, e;
        for (e in b) c[d++] = b[e];
        return c
    }

    function Ua(b) {
        var c = [], d = 0, e;
        for (e in b) c[d++] = e;
        return c
    }

    function Yg(b, c) {
        return null !== b && c in b
    }

    function Zg(b, c) {
        for (var d in b) if (b[d] == c) return !0;
        return !1
    }

    function $g(b, c, d) {
        for (var e in b) if (c.call(d, b[e], e, b)) return e
    }

    function ah(b, c) {
        var d = bh, e = $g(d, b, c);
        return e && d[e]
    }

    function ch(b) {
        for (var c in b) return !1;
        return !0
    }

    function dh(b) {
        for (var c in b) delete b[c]
    }

    function eh(b, c) {
        c in b && delete b[c]
    }

    function fh(b, c, d) {
        if (null !== b && c in b) throw Error('The object already contains the key "' + c + '"');
        b[c] = d
    }

    function gh(b, c) {
        return null !== b && c in b ? b[c] : void 0
    }

    function Lc(b) {
        var c = {}, d;
        for (d in b) c[d] = b[d];
        return c
    }

    function hh(b) {
        var c = {}, d;
        for (d in b) c[b[d]] = d;
        return c
    }

    var ih = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

    function jh(b, c) {
        for (var d, e, h = 1; h < arguments.length; h++) {
            e = arguments[h];
            for (d in e) b[d] = e[d];
            for (var k = 0; k < ih.length; k++) d = ih[k], Object.prototype.hasOwnProperty.call(e, d) && (b[d] = e[d])
        }
    }

    function kh(b) {
        var c = arguments.length;
        if (1 == c && ia(arguments[0])) return kh.apply(null, arguments[0]);
        if (c % 2) throw Error("Uneven number of arguments");
        for (var d = {}, e = 0; e < c; e += 2) d[arguments[e]] = arguments[e + 1];
        return d
    }

    function lh(b) {
        var c = arguments.length;
        if (1 == c && ia(arguments[0])) return lh.apply(null, arguments[0]);
        for (var d = {}, e = 0; e < c; e++) d[arguments[e]] = !0;
        return d
    };

    function mh() {
        this.iv = []
    }

    B(mh, ub);
    mh.prototype.add = function (b, c) {
        c + 1 < this.length() && this.iv.splice(c + 1);
        ~this.Av() && this.length() == this.Av() && this.iv.shift();
        this.iv.push(b)
    };
    mh.prototype.get = function (b) {
        return this.iv[b]
    };
    mh.prototype.length = function () {
        return this.iv.length
    };
    mh.prototype.clear = function () {
        this.iv.length = 0
    };

    function nh(b, c) {
        this.qG(b);
        this.yc = null != c ? c : new mh;
        this.ae().qG(this.Av());
        this.a = -1
    }

    f = nh.prototype;
    f.ae = function () {
        return this.yc
    };
    f.qG = function (b) {
        this.lj = null != b ? b : -1;
        -1 > this.lj && (this.lj = -1);
        this.ae() && this.ae().qG(this.Av())
    };
    f.Av = function () {
        return this.lj
    };
    f.xA = function (b) {
        this.a = b
    };
    f.aj = function () {
        return this.a
    };
    f.add = function (b) {
        this.ae().add(b, this.a);
        this.xA(this.ae().length() - 1)
    };
    f.next = function () {
        return this.aj() == this.ae().length() - 1 ? void 0 : this.ae().get(++this.a)
    };
    f.dA = function () {
        return -1 == this.aj() ? void 0 : this.ae().get(this.a--)
    };
    f.clear = function () {
        this.ae().clear();
        this.xA(-1)
    };
    var oh = {
        area: !0,
        base: !0,
        br: !0,
        col: !0,
        command: !0,
        embed: !0,
        hr: !0,
        img: !0,
        input: !0,
        keygen: !0,
        link: !0,
        meta: !0,
        param: !0,
        source: !0,
        track: !0,
        wbr: !0
    };

    function ph() {
    }

    ph.prototype.xe = function () {
    };

    function qh(b) {
        b.prototype.then = b.prototype.then;
        b.prototype.$goog_Thenable = !0
    }

    function rh(b) {
        if (!b) return !1;
        try {
            return !!b.$goog_Thenable
        } catch (c) {
            return !1
        }
    };

    function sh(b) {
        sh[" "](b);
        return b
    }

    sh[" "] = da;

    function th(b, c) {
        try {
            return sh(b[c]), !0
        } catch (d) {
        }
        return !1
    }

    function uh(b, c) {
        var d = vh;
        return Object.prototype.hasOwnProperty.call(d, b) ? d[b] : d[b] = c(b)
    };

    function wh() {
    };

    function xh(b) {
        this.a = b
    }

    xh.prototype.set = function (b, c) {
        ca(c) ? this.a.set(b, Ig(c)) : this.a.remove(b)
    };
    xh.prototype.get = function (b) {
        var c;
        try {
            c = this.a.get(b)
        } catch (d) {
            return
        }
        if (null !== c) try {
            return Gg(c)
        } catch (e) {
            throw"Storage: Invalid value was encountered";
        }
    };
    xh.prototype.remove = function (b) {
        this.a.remove(b)
    };

    function yh(b, c) {
        for (var d = b.split("%s"), e = "", h = Array.prototype.slice.call(arguments, 1); h.length && 1 < d.length;) e += d.shift() + h.shift();
        return e + d.join("%s")
    }

    function Ah(b) {
        return /^[\s\xa0]*$/.test(b)
    }

    function Bh(b) {
        return b.replace(/(\r\n|\r|\n)/g, "\n")
    }

    function Ch(b) {
        return b.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "")
    }

    var Dh = String.prototype.trim ? function (b) {
        return b.trim()
    } : function (b) {
        return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
    };

    function Eh(b) {
        if (!Fh.test(b)) return b;
        -1 != b.indexOf("&") && (b = b.replace(Gh, "&amp;"));
        -1 != b.indexOf("<") && (b = b.replace(Hh, "&lt;"));
        -1 != b.indexOf(">") && (b = b.replace(Ih, "&gt;"));
        -1 != b.indexOf('"') && (b = b.replace(Jh, "&quot;"));
        -1 != b.indexOf("'") && (b = b.replace(Kh, "&#39;"));
        -1 != b.indexOf("\x00") && (b = b.replace(Lh, "&#0;"));
        return b
    }

    var Gh = /&/g, Hh = /</g, Ih = />/g, Jh = /"/g, Kh = /'/g, Lh = /\x00/g, Fh = /[\x00&<>"']/;

    function Mh(b, c) {
        return -1 != b.indexOf(c)
    }

    var Nh = String.prototype.repeat ? function (b, c) {
        return b.repeat(c)
    } : function (b, c) {
        return Array(c + 1).join(b)
    };

    function Oh(b, c) {
        var d = ca(void 0) ? b.toFixed(void 0) : String(b), e = d.indexOf(".");
        -1 == e && (e = d.length);
        return Nh("0", Math.max(0, c - e)) + d
    }

    function Ph(b, c) {
        for (var d = 0, e = Dh(String(b)).split("."), h = Dh(String(c)).split("."), k = Math.max(e.length, h.length), l = 0; 0 == d && l < k; l++) {
            var p = e[l] || "", q = h[l] || "";
            do {
                p = /(\d*)(\D*)(.*)/.exec(p) || ["", "", "", ""];
                q = /(\d*)(\D*)(.*)/.exec(q) || ["", "", "", ""];
                if (0 == p[0].length && 0 == q[0].length) break;
                d = Qh(0 == p[1].length ? 0 : parseInt(p[1], 10), 0 == q[1].length ? 0 : parseInt(q[1], 10)) || Qh(0 == p[2].length, 0 == q[2].length) || Qh(p[2], q[2]);
                p = p[3];
                q = q[3]
            } while (0 == d)
        }
        return d
    }

    function Qh(b, c) {
        return b < c ? -1 : b > c ? 1 : 0
    }

    function Rh(b) {
        return String(b).replace(/\-([a-z])/g, function (b, d) {
            return d.toUpperCase()
        })
    }

    function Sh(b) {
        return String(b).replace(/([A-Z])/g, "-$1").toLowerCase()
    }

    function Th(b) {
        var c = ka(void 0) ? "undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08") : "\\s";
        return b.replace(new RegExp("(^" + (c ? "|[" + c + "]+" : "") + ")([a-z])", "g"), function (b, c, h) {
            return c + h.toUpperCase()
        })
    };

    function Uh(b) {
        return Oh(Math.abs(b.yg), 2) + ":" + Oh(Math.abs(b.Dg), 2) + ":" + Oh(Math.abs(b.Gg), 2) + "." + Oh(Math.abs(b.Iz), 3)
    }

    function Vh(b, c) {
        Wh.setTime(b);
        var d;
        c ? (d = Wh, d = {
            yg: d.getUTCHours(),
            Dg: d.getUTCMinutes(),
            Gg: d.getUTCSeconds(),
            Iz: d.getUTCMilliseconds()
        }) : (d = Wh, d = {yg: d.getHours(), Dg: d.getMinutes(), Gg: d.getSeconds(), Iz: d.getMilliseconds()});
        return d
    }

    var Wh = new Date;

    function Xh(b) {
        var c = "month week day hour minute second".split(" "), d = "";
        b = Math.abs(parseInt(b));
        if (!b) return "0 " + c[5] + "s";
        E([2592E3, 604800, 86400, 3600, 60, 1], function (e, h) {
            var k = Math.floor(b / e), l = c[h];
            1 < k && (l += "s");
            0 !== k && (d += [k, l].join(" ") + " ");
            b %= e
        });
        return d.substr(0, d.length - 1)
    };

    function Yh(b, c) {
        c.unshift(b);
        Cd.call(this, yh.apply(null, c));
        c.shift()
    }

    B(Yh, Cd);
    Yh.prototype.name = "AssertionError";

    function Zh(b, c) {
        throw new Yh("Failure" + (b ? ": " + b : ""), Array.prototype.slice.call(arguments, 1));
    };

    function $h(b) {
        return b[b.length - 1]
    }

    var ai = Array.prototype.indexOf ? function (b, c, d) {
            return Array.prototype.indexOf.call(b, c, d)
        } : function (b, c, d) {
            d = null == d ? 0 : 0 > d ? Math.max(0, b.length + d) : d;
            if (ka(b)) return ka(c) && 1 == c.length ? b.indexOf(c, d) : -1;
            for (; d < b.length; d++) if (d in b && b[d] === c) return d;
            return -1
        }, bi = Array.prototype.lastIndexOf ? function (b, c, d) {
            return Array.prototype.lastIndexOf.call(b, c, null == d ? b.length - 1 : d)
        } : function (b, c, d) {
            d = null == d ? b.length - 1 : d;
            0 > d && (d = Math.max(0, b.length + d));
            if (ka(b)) return ka(c) && 1 == c.length ? b.lastIndexOf(c, d) : -1;
            for (; 0 <= d; d--) if (d in b && b[d] === c) return d;
            return -1
        }, E = Array.prototype.forEach ? function (b, c, d) {
            Array.prototype.forEach.call(b, c, d)
        } : function (b, c, d) {
            for (var e = b.length, h = ka(b) ? b.split("") : b, k = 0; k < e; k++) k in h && c.call(d, h[k], k, b)
        }, Ra = Array.prototype.filter ? function (b, c, d) {
            return Array.prototype.filter.call(b, c, d)
        } : function (b, c, d) {
            for (var e = b.length, h = [], k = 0, l = ka(b) ? b.split("") : b, p = 0; p < e; p++) if (p in l) {
                var q = l[p];
                c.call(d, q, p, b) && (h[k++] = q)
            }
            return h
        }, Sa = Array.prototype.map ? function (b, c, d) {
            return Array.prototype.map.call(b,
                c, d)
        } : function (b, c, d) {
            for (var e = b.length, h = Array(e), k = ka(b) ? b.split("") : b, l = 0; l < e; l++) l in k && (h[l] = c.call(d, k[l], l, b));
            return h
        }, ud = Array.prototype.reduce ? function (b, c, d, e) {
            e && (c = v(c, e));
            return Array.prototype.reduce.call(b, c, d)
        } : function (b, c, d, e) {
            var h = d;
            E(b, function (d, l) {
                h = c.call(e, h, d, l, b)
            });
            return h
        }, ci = Array.prototype.some ? function (b, c, d) {
            return Array.prototype.some.call(b, c, d)
        } : function (b, c, d) {
            for (var e = b.length, h = ka(b) ? b.split("") : b, k = 0; k < e; k++) if (k in h && c.call(d, h[k], k, b)) return !0;
            return !1
        },
        di = Array.prototype.every ? function (b, c, d) {
            return Array.prototype.every.call(b, c, d)
        } : function (b, c, d) {
            for (var e = b.length, h = ka(b) ? b.split("") : b, k = 0; k < e; k++) if (k in h && !c.call(d, h[k], k, b)) return !1;
            return !0
        };

    function ei(b, c) {
        var d = 0;
        E(b, function (b, h, k) {
            c.call(void 0, b, h, k) && ++d
        }, void 0);
        return d
    }

    function fi(b) {
        var c = gi(b, hi, void 0);
        return 0 > c ? null : ka(b) ? b.charAt(c) : b[c]
    }

    function gi(b, c, d) {
        for (var e = b.length, h = ka(b) ? b.split("") : b, k = 0; k < e; k++) if (k in h && c.call(d, h[k], k, b)) return k;
        return -1
    }

    function ii(b, c) {
        for (var d = ka(b) ? b.split("") : b, e = b.length - 1; 0 <= e; e--) if (e in d && c.call(void 0, d[e], e, b)) return e;
        return -1
    }

    function ji(b, c) {
        return 0 <= ai(b, c)
    }

    function ki(b) {
        return 0 == b.length
    }

    function li(b, c) {
        ji(b, c) || b.push(c)
    }

    function mi(b, c) {
        var d = ai(b, c), e;
        (e = 0 <= d) && ni(b, d);
        return e
    }

    function ni(b, c) {
        Array.prototype.splice.call(b, c, 1)
    }

    function oi(b) {
        return Array.prototype.concat.apply(Array.prototype, arguments)
    }

    function pi(b) {
        var c = b.length;
        if (0 < c) {
            for (var d = Array(c), e = 0; e < c; e++) d[e] = b[e];
            return d
        }
        return []
    }

    function qi(b, c) {
        for (var d = 1; d < arguments.length; d++) {
            var e = arguments[d];
            if (ja(e)) {
                var h = b.length || 0, k = e.length || 0;
                b.length = h + k;
                for (var l = 0; l < k; l++) b[h + l] = e[l]
            } else b.push(e)
        }
    }

    function ri(b, c, d, e) {
        Array.prototype.splice.apply(b, si(arguments, 1))
    }

    function si(b, c, d) {
        return 2 >= arguments.length ? Array.prototype.slice.call(b, c) : Array.prototype.slice.call(b, c, d)
    }

    function ti(b, c, d) {
        function e(b) {
            return pa(b) ? "o" + qa(b) : (typeof b).charAt(0) + b
        }

        c = c || b;
        d = d || e;
        for (var h = {}, k = 0, l = 0; l < b.length;) {
            var p = b[l++], q = d(p);
            Object.prototype.hasOwnProperty.call(h, q) || (h[q] = !0, c[k++] = p)
        }
        c.length = k
    }

    function ui(b, c, d) {
        return vi(b, d || wi, !1, c)
    }

    function vi(b, c, d, e, h) {
        for (var k = 0, l = b.length, p; k < l;) {
            var q = k + l >> 1, r;
            d ? r = c.call(h, b[q], q, b) : r = c(e, b[q]);
            0 < r ? k = q + 1 : (l = q, p = !r)
        }
        return p ? k : ~k
    }

    function Ec(b, c) {
        b.sort(c || wi)
    }

    function xi(b, c) {
        if (!ja(b) || !ja(c) || b.length != c.length) return !1;
        for (var d = b.length, e = yi, h = 0; h < d; h++) if (!e(b[h], c[h])) return !1;
        return !0
    }

    function wi(b, c) {
        return b > c ? 1 : b < c ? -1 : 0
    }

    function yi(b, c) {
        return b === c
    }

    function zi(b, c, d) {
        for (var e = {}, h = 0; h < b.length; h++) {
            var k = b[h], l = c.call(d, k, h, b);
            ca(l) && (e[l] || (e[l] = [])).push(k)
        }
        return e
    }

    function Ai(b, c, d) {
        var e = {};
        E(b, function (h, k) {
            e[c.call(d, h, k, b)] = h
        });
        return e
    }

    function Bi(b) {
        var c = [];
        if (0 > 1 * (b - 0)) return [];
        for (var d = 0; d < b; d += 1) c.push(d);
        return c
    }

    function Ci(b) {
        for (var c = [], d = 0; d < arguments.length; d++) {
            var e = arguments[d];
            if (ia(e)) for (var h = 0; h < e.length; h += 8192) for (var k = si(e, h, h + 8192), k = Ci.apply(null, k), l = 0; l < k.length; l++) c.push(k[l]); else c.push(e)
        }
        return c
    }

    function Di(b) {
        if (!arguments.length) return [];
        for (var c = [], d = arguments[0].length, e = 1; e < arguments.length; e++) arguments[e].length < d && (d = arguments[e].length);
        for (e = 0; e < d; e++) {
            for (var h = [], k = 0; k < arguments.length; k++) h.push(arguments[k][e]);
            c.push(h)
        }
        return c
    };

    function Ei(b, c, d, e, h) {
        for (var k = c; k < h + c; k++, e++) if (0 <= e && e <= d.length - 1) d[e] = b[k]; else throw Error("Array index out of bounds exception");
    };

    function J(b, c, d, e, h) {
        return J.Lx(b, c, d, 0, h)
    }

    J.Lx = function (b, c, d, e, h) {
        c = Ra([b, c], vc).join("/");
        d = new Fi(c, c, "", d);
        d.cC = b;
        d.EM = b;
        d.KX(h || 1);
        return d
    };
    J.va = "AUD/USD";
    J.g = "EUR/USD";
    J.yi = "GBP/USD";
    J.Ht = "NZD/USD";
    J.Nt = "USD/CAD";
    J.ou = "USD/CHF";
    J.Ex = "USD/JPY";
    J.Ix = "USD/NOK";
    J.Jx = "USD/SEK";
    J.Du = "USD/SGD";
    J.Hu = "XAG/USD";
    J.Iu = "XAU/USD";
    J.R = "AUD/CAD";
    J.U = "AUD/CHF";
    J.$ = "AUD/JPY";
    J.ia = "AUD/NZD";
    J.za = "CAD/CHF";
    J.La = "CAD/JPY";
    J.Ya = "CHF/JPY";
    J.Hb = "EUR/AUD";
    J.Rb = "EUR/CAD";
    J.Ub = "EUR/CHF";
    J.m = "EUR/DKK";
    J.sc = "EUR/GBP";
    J.w = "EUR/HKD";
    J.gc = "EUR/JPY";
    J.Li = "EUR/NOK";
    J.dd = "EUR/NZD";
    J.Yd = "EUR/SEK";
    J.Ee = "GBP/AUD";
    J.Ge = "GBP/CAD";
    J.Ve = "GBP/CHF";
    J.lf = "GBP/JPY";
    J.uh = "GBP/NZD";
    J.Sl = "NZD/CAD";
    J.wt = "NZD/CHF";
    J.yt = "NZD/JPY";
    J.K = "USD/RUB";
    J.F = "USD/PLN";
    J.ka = "AUD/SGD";
    J.Ea = "CAD/HKD";
    J.ob = "CHF/SGD";
    J.m = "EUR/DKK";
    J.w = "EUR/HKD";
    J.jd = "EUR/PLN";
    J.Sd = "EUR/SGD";
    J.De = "EUR/TRY";
    J.zi = "HKD/JPY";
    J.It = "SGD/JPY";
    J.RH = "USD/CNH";
    J.vu = "USD/DKK";
    J.yu = "USD/HKD";
    J.Hx = "USD/MXN";
    J.F = "USD/PLN";
    J.K = "USD/RUB";
    J.Eu = "USD/TRY";
    J.Gu = "USD/ZAR";
    J.a = {};
    J.a[J.va] = J.va;
    J.a[J.g] = J.g;
    J.a[J.yi] = J.yi;
    J.a[J.Ht] = J.Ht;
    J.a[J.Nt] = J.Nt;
    J.a[J.ou] = J.ou;
    J.a[J.Ex] = J.Ex;
    J.a[J.Ix] = J.Ix;
    J.a[J.Jx] = J.Jx;
    J.a[J.Du] = J.Du;
    J.a[J.Hu] = J.Hu;
    J.a[J.Iu] = J.Iu;
    J.a[J.R] = J.R;
    J.a[J.U] = J.U;
    J.a[J.$] = J.$;
    J.a[J.ia] = J.ia;
    J.a[J.za] = J.za;
    J.a[J.La] = J.La;
    J.a[J.Ya] = J.Ya;
    J.a[J.Hb] = J.Hb;
    J.a[J.Rb] = J.Rb;
    J.a[J.Ub] = J.Ub;
    J.a[J.m] = J.m;
    J.a[J.sc] = J.sc;
    J.a[J.w] = J.w;
    J.a[J.gc] = J.gc;
    J.a[J.Li] = J.Li;
    J.a[J.dd] = J.dd;
    J.a[J.Yd] = J.Yd;
    J.a[J.Ee] = J.Ee;
    J.a[J.Ge] = J.Ge;
    J.a[J.Ve] = J.Ve;
    J.a[J.lf] = J.lf;
    J.a[J.uh] = J.uh;
    J.a[J.Sl] = J.Sl;
    J.a[J.wt] = J.wt;
    J.a[J.yt] = J.yt;
    J.a[J.ka] = J.ka;
    J.a[J.Ea] = J.Ea;
    J.a[J.ob] = J.ob;
    J.a[J.m] = J.m;
    J.a[J.w] = J.w;
    J.a[J.jd] = J.jd;
    J.a[J.Sd] = J.Sd;
    J.a[J.De] = J.De;
    J.a[J.zi] = J.zi;
    J.a[J.It] = J.It;
    J.a[J.vu] = J.vu;
    J.a[J.yu] = J.yu;
    J.a[J.Hx] = J.Hx;
    J.a[J.F] = J.F;
    J.a[J.K] = J.K;
    J.a[J.Eu] = J.Eu;
    J.a[J.Gu] = J.Gu;

    function Gi(b) {
        if (0 > b) throw Error("Negative buffer size " + b);
        this.lj = b;
        this.g = null;
        this.a = -1
    }

    function Hi(b) {
        null === b.g && (b.g = Array(b.lj));
        return b.g
    }

    f = Gi.prototype;
    f.clear = function () {
        this.a = -1;
        this.g = null
    };
    f.Av = function () {
        return this.lj
    };
    f.ie = function () {
        return this.a + 1
    };
    f.Ml = function () {
        return 0 > this.a
    };

    function Ii(b, c) {
        if (b.ie() >= b.lj) {
            var d = [c];
            1 < b.lj ? (Ei(Hi(b), 1, Hi(b), 0, b.lj - 1), Ei(d, 0, Hi(b), b.lj - 1, 1)) : Ei(d, 1 - b.lj, Hi(b), 0, b.lj)
        } else Hi(b)[++b.a] = c
    }

    function Ji(b) {
        var c = Array(b.ie());
        Ei(Hi(b), 0, c, 0, b.a + 1);
        return c
    }

    f.aT = function () {
        return 0 > this.a ? null : Hi(this)[this.a]
    };
    f.set = function (b, c) {
        if (0 <= c && c <= this.a) Hi(this)[c] = b; else throw Error("Index is out of bounds");
    };
    f.get = function (b) {
        if (0 > b || b > this.a) throw Error("Array index is out of bounds " + b);
        return Hi(this)[b]
    };

    function Ki() {
        this.m = {};
        this.g = {};
        this.a = !1
    }

    var Li = y("MSG_FIELD_IS_REQUIRED", {}, "Field is required"),
        Mi = y("MSG_FIELD_MUST_BE_SELECTED", {}, "Field value must be selected"),
        Ni = y("MSG_EMAIL_IS_NOT_CORRECT", {}, "E-mail is not correct"),
        Oi = y("MSG_VALUES_DOES_NOT_MATCH", {}, "Values does not match"),
        Pi = y("MSG_FIELD_MUST_BE_NUMERIC", {}, "Value must be numeric"),
        Qi = y("MSG_FIELD_MUST_BE_CHECKED", {}, "Field must be checked"),
        Ri = y("MSG_FIELD_INCORRECT_LOGIN", {}, "Login field is incorrect"),
        Si = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
        Ti =
            /^[_a-zA-Z]+[a-zA-Z0-9_]*$/;

    function Ui(b, c, d, e) {
        b.m[c] = {rules: d, "min-length": e || 0}
    }

    function Vi(b, c) {
        b.a = !0;
        La(c, function (b, c) {
            var h = this.m[c]["min-length"], k = b[0], l;
            1 < b.length && (l = b[1]);
            this.g[c] = [];
            E(this.m[c].rules, function (b) {
                switch (b) {
                    case "required":
                        k || (this.a = !1, this.g[c].push(Li));
                        break;
                    case "select":
                        k || (this.a = !1, this.g[c].push(Mi));
                        break;
                    case "email":
                        k && !Si.test(k) && (this.a = !1, this.g[c].push(Ni));
                        break;
                    case "confirm":
                        k != l && (this.a = !1, this.g[c].push(Oi));
                        break;
                    case "minlength":
                        k && k.replace(" ", "").length >= h || (this.a = !1, b = y("MSG_VALUE_LENGTH_MUST_BE_AT_LEAST", {length: h},
                            "Value length must be {$length} characters at least without spaces"), this.g[c].push(b));
                        break;
                    case "numeric":
                        !k || k && parseInt(k).toString() == k || (this.a = !1, this.g[c].push(Pi));
                        break;
                    case "checked":
                        k || (this.a = !1, this.g[c].push(Qi));
                        break;
                    case "login":
                        k && !Ti.test(k) && (this.a = !1, this.g[c].push(Ri))
                }
            }, this)
        }, b);
        return b.g
    };

    function Wi(b, c) {
        this.yb = b;
        this.interval = this.yb.W().Y();
        this.Jf = c
    }

    f = Wi.prototype;
    f.Ca = function () {
        return this.Jf
    };
    f.Pc = function () {
        this.interval = this.yb.W().Y();
        this.startTime = this.yb.Qg()
    };
    f.W = function () {
        return this.yb.W()
    };
    f.ma = function () {
        return this.yb.ma()
    };
    f.Y = function () {
        return this.interval
    };
    f.sE = function (b) {
        return Xi(this.yb, b)
    };

    function Yi(b, c) {
        Wi.call(this, b, c)
    }

    B(Yi, Wi);
    f = Yi.prototype;
    f.t = function (b) {
        var c = this.yb, d = this.interval, e = c.ue(), h = b / this.Jf, k = G(h - .5), h = h - k, l = this.Jf;
        if (0 == e) return NaN;
        if (k > e - 1) return c.Th().Bf() + (b / l - e) * d;
        if (0 > b) return c.ta[0].getTime() + b / l * d;
        b = c.ta[k];
        c = b.getTime();
        return c + (b.Bf() - c) * h
    };
    f.x = function (b) {
        var c = this.yb;
        if (!c.ta[0]) return 0;
        var d = this.interval, e = c.ta[0].getTime(), h = c.Th().Bf(), k = this.Jf;
        if (b < e) return k / 2 - (e - b) / d * k;
        if (b > h) return k * (c.ue() + .5) + (b - h) / d * k;
        e = Math.ceil(b);
        d = Zi(c, e);
        if (!d) return 0;
        e >= d.getTime() && e <= d.Bf() ? b = k * (b - d.getTime()) / (d.Bf() - d.getTime()) : (b = c.indexOf(d.getTime()) - 2, d = c.ta[b], b = k);
        return d ? k * (c.indexOf(d.getTime()) + .5) + b : 0
    };
    f.kf = function (b) {
        return this.x(Xi(this.yb, b))
    };
    f.sE = function (b) {
        return Xi(this.yb, b)
    };
    f.sx = function (b) {
        return this.yb.indexOf(b)
    };

    function $i(b, c) {
        Wi.call(this, b, c)
    }

    B($i, Wi);
    f = $i.prototype;
    f.t = function (b) {
        var c = this.yb.xv(), d = this.interval;
        b /= this.Jf;
        if (ki(c)) c = this.startTime + b * d, c -= aj(this, this.startTime, c); else {
            for (var e = this.startTime, h = 0, k = c.length; h < k; h++) {
                var l = c[h], p = l.start, l = p + l.length * d;
                if (l <= e || e == this.startTime && p <= this.startTime && l >= this.startTime) e = l; else {
                    p = Math.round((p - e) / d);
                    if (p > b) break;
                    e = l;
                    b -= p
                }
            }
            c = e + b * d
        }
        return c
    };
    f.x = function (b) {
        var c;
        c = this.startTime;
        var d = this.yb.xv();
        if (d.length) {
            for (var e = 0, h = c <= b, k = this.interval, l = 0, p = d.length; l < p; l++) {
                var q = d[l], r = q.start + q.length * k;
                if (h) if (c > q.start) {
                    c < r && (e += (r - c) / k);
                    continue
                } else {
                    if (b <= q.start) break
                } else if (b > q.start) {
                    b < r && (e += (r - b) / k);
                    continue
                } else if (c <= q.start) break;
                e = b < r && c < q.start ? e + (q.length - (r - b) / k) : e + q.length
            }
            c = e * k
        } else c = 0;
        b -= this.startTime;
        b += (0 < b ? -1 : 1) * c;
        1 == this.yb.yk && this.yb.W().Vd(bj) && (b += aj(this, this.startTime, this.startTime + b));
        return G((b / this.interval +
            .5) * this.Jf)
    };

    function aj(b, c, d) {
        b = b.yb.cG;
        if (!b.length) return 0;
        var e = 0;
        c > d && (d = [c, c = d][0]);
        for (var h = 0, k = b.length; h < k; h++) {
            var l = b[h], p = l.start;
            p <= d && p >= c && (e += l.length)
        }
        return e
    }

    f.kf = function (b) {
        return this.x(Xi(this.yb, b))
    };
    f.sE = function (b) {
        return Xi(this.yb, b)
    };
    f.sx = function (b) {
        return this.yb.indexOf(b)
    };

    function cj(b, c) {
        Wi.call(this, b, c)
    }

    B(cj, $i);
    cj.prototype.kf = function (b) {
        var c = this.yb.od().Qr;
        return c[b] ? this.x(c[b][0]) : NaN
    };

    function dj(b, c) {
        cc.call(this, b, c);
        this.$ = {};
        this.w = [];
        this.ia = [];
        this.K = [];
        this.F = [];
        this.U = [];
        this.R = []
    }

    B(dj, cc);
    dj.prototype.T = function (b, c, d, e) {
        this.Pc();
        var h = this.m, k = h.j.Pi && 2 < this.a, l = h.j.tm, p = h.j.ii, q = h.j.hi, r = h.j.ki, t = h.j.ji, u, x, A,
            C;
        dh(this.$);
        this.ia.length = 0;
        this.K.length = 0;
        this.F.length = 0;
        this.U.length = 0;
        this.R.length = 0;
        h = this.$;
        h[l] = this.ia;
        h[p] = this.K;
        h[q] = this.F;
        h[r] = this.U;
        h[t] = this.R;
        this.w.length = 0;
        this.w[0] = l;
        this.w[1] = q;
        this.w[2] = t;
        this.w[3] = p;
        this.w[4] = r;
        for (var I = this.w, N = 0, S = c.length; N < S; N++) C = c.kc(N), u = G(d.x(C.time)), C.Fk() ? (u -= this.g, x = G(e.y(C.close)), A = G(e.y(C.open)) - G(e.y(C.close)),
            h[r].push(u + 1, x, this.a - 2, A), k ? (h[t].push(u, x - 1, this.a, A + 2), h[t].push(u + this.g, G(e.y(C.Mc)), 1, G(e.y(C.Bd)) - G(e.y(C.Mc)))) : h[r].push(u + this.g, G(e.y(C.Mc)), 1, G(e.y(C.Bd)) - G(e.y(C.Mc)))) : tc(C) ? (u -= this.g, x = G(e.y(C.open)), A = G(e.y(C.close)) - G(e.y(C.open)), h[p].push(u + 1, x, this.a - 2, A), k ? (h[q].push(u, x - 1, this.a, A + 2), h[q].push(u + this.g, G(e.y(C.Mc)), 1, G(e.y(C.Bd)) - G(e.y(C.Mc)))) : h[p].push(u + this.g, G(e.y(C.Mc)), 1, G(e.y(C.Bd)) - G(e.y(C.Mc)))) : (h[l].push(u - this.g, G(e.y(C.open)), this.a, 1), h[l].push(u, G(e.y(C.Mc)),
            1, G(e.y(C.Bd)) - G(e.y(C.Mc))));
        c = 0;
        for (d = I.length; c < d; c++) for (e = I[c], b.fillStyle = e, e = h[e], k = 0, l = e.length; k < l;) b.fillRect(e[k++], e[k++], e[k++], e[k++])
    };

    function ej(b, c) {
        cc.call(this, b, c)
    }

    B(ej, cc);
    ej.prototype.T = function (b, c, d, e) {
        this.Pc();
        this.xb = d;
        this.w = e;
        d = Math.ceil(this.sb().Ca() / 2);
        var h, k, l;
        e = 0;
        for (var p = c.length; e < p; e++) {
            h = c.kc(e);
            k = c.kc(e - 1);
            l = c.kc(e + 1);
            k = !k || !fj(k.getTime(), h.getTime());
            var q = !l || !fj(h.getTime(), l.getTime());
            l = h.Fk();
            var r = h.EB, t = h.DB, u;
            h = this.Rj(h.$i());
            if (t && r) {
                u = this.ce(r[0]);
                var r = this.ce(t[0]), x = b, A = h, C = u, I = r - u;
                x.fillStyle = this.m.j.fo;
                x.fillRect(A, C, 1, I);
                x = b;
                A = q;
                C = h;
                I = d;
                l ? !k && x.fillRect(C - I, u - 1, I, 1) : !A && x.fillRect(C, u - 1, I, 1);
                u = r;
                r = this.ce(t[1]);
                t = b;
                x = h;
                A = u;
                u =
                    r - u;
                t.fillStyle = this.m.j.eo;
                t.fillRect(x - 1, A, 2, u);
                u = b;
                t = d;
                l ? !q && u.fillRect(h, r, t, 2) : !k && u.fillRect(h - t, r, t, 2)
            } else t ? (u = this.ce(t[0]), r = this.ce(t[1]), t = b, x = h, A = u, C = r - u, t.fillStyle = this.m.j.eo, t.fillRect(x - 1, A, 2, C), t = b, x = k, A = h, C = d, l ? !q && t.fillRect(A, r, C, 2) : !x && t.fillRect(A - C, r, C, 2), r = b, t = d, l ? !k && r.fillRect(h - t, u - 2, t, 2) : !q && r.fillRect(h, u - 2, t, 2)) : r && (u = this.ce(r[0]), r = this.ce(r[1]), t = b, x = h, A = u, C = r - u, t.fillStyle = this.m.j.fo, t.fillRect(x, A, 1, C), t = b, x = k, A = h, C = d, l ? !q && t.fillRect(A, r, C, 1) : !x && t.fillRect(A -
                C, r, C, 1), r = b, t = d, l ? !k && r.fillRect(h - t, u - 1, t, 1) : !q && r.fillRect(h, u - 1, t, 1))
        }
    };
    ej.prototype.Rj = function (b) {
        return G(this.xb.x(b))
    };
    ej.prototype.ce = function (b) {
        return G(this.w.y(b))
    };

    function gj(b, c, d) {
        cc.call(this, b, c);
        this.w = d
    }

    B(gj, cc);
    gj.prototype.T = function (b, c, d, e) {
        this.Pc();
        var h = this.m, k = {}, l = h.j.Pi && 2 < this.a, p = h.j.ii, q = h.j.hi, r = h.j.ki, t = h.j.ji,
            h = [q, t, p, r], u, x, A, C, I;
        k[q] = [];
        k[p] = [];
        k[r] = [];
        k[t] = [];
        for (var N = 0, S = c.length; N < S; N++) I = c.kc(N), A = G(d.x(I.getTime())), u = this.w ? hj(I) : I.bb(), x = this.w ? ij(I) : I.$a(), I.Fk() ? (A -= this.g, C = G(e.y(I.jb())), I = G(e.y(I.zb())) - G(e.y(I.jb())), k[r].push(A + 1, C, this.a - 2, I), l ? (k[t].push(A, C - 1, this.a, I + 2), k[t].push(A + this.g, G(e.y(u)), 1, G(e.y(x)) - G(e.y(u)))) : k[r].push(A + this.g, G(e.y(u)), 1, G(e.y(x)) - G(e.y(u)))) :
            (A -= this.g, C = G(e.y(I.zb())), I = G(e.y(I.jb())) - G(e.y(I.zb())), k[p].push(A + 1, C, this.a - 2, I), l ? (k[q].push(A, C - 1, this.a, I + 2), k[q].push(A + this.g, G(e.y(u)), 1, G(e.y(x)) - G(e.y(u)))) : k[p].push(A + this.g, G(e.y(u)), 1, G(e.y(x)) - G(e.y(u))));
        c = 0;
        for (d = h.length; c < d; c++) for (e = h[c], b.fillStyle = e, e = k[e], l = 0, p = e.length; l < p;) b.fillRect(e[l++], e[l++], e[l++], e[l++])
    };

    function jj(b, c, d, e) {
        cc.call(this, b, c);
        this.Sa = d;
        this.Ai = e;
        this.w = {};
        this.F = [];
        this.R = [];
        this.K = [];
        this.$ = [];
        this.U = [];
        this.Le = []
    }

    B(jj, cc);
    jj.prototype.w = {};
    jj.prototype.F = [];
    jj.prototype.aO = function (b) {
        this.Sa = b.ma();
        this.Ai = b.hf()
    };
    jj.prototype.T = function (b, c, d, e) {
        this.Pc();
        var h = kj(this.Ai.xi() * this.Sa.Sb, this.Sa.$c()), k = this.m, l = k.j.Pi && 2 < this.a, p = k.j.ii,
            q = k.j.hi, r = k.j.ki, t = k.j.ji, u, x, A, C;
        dh(this.w);
        this.R.length = 0;
        this.K.length = 0;
        this.$.length = 0;
        this.U.length = 0;
        this.Le.length = 0;
        this.w[p] = this.R;
        this.w[q] = this.K;
        this.w[r] = this.$;
        this.w[t] = this.U;
        this.w["#ffff00"] = this.Le;
        this.F.length = 0;
        this.F[0] = q;
        this.F[1] = t;
        this.F[2] = p;
        this.F[3] = r;
        this.F[4] = "#ffff00";
        for (var I = 0, N = c.length; I < N; I++) if (C = c.kc(I), u = G(d.x(C.getTime())) - this.g,
            x = G(e.y(C.bb())), A = G(e.y(C.$a())) - G(e.y(C.bb())), this.w[C.Fk() ? r : p].push(u + 1, x, this.a - 2, A), l && this.w[C.Fk() ? t : q].push(u, x - 1, this.a, A + 2), !(11 > this.a)) {
            var S = h;
            C = Math.round((C.bb() - C.$a()) / S) + "";
            var S = C.length, T = yb(this.a - 6, A + 2), T = T / (S / (2 < S ? 2 : S));
            10 > T && (T = 10);
            this.w["#ffff00"].push(T, C, u + this.g + .5, x + A / 2 + T / 3)
        }
        c = 0;
        for (d = this.F.length; c < d; c++) if (p = this.F[c], b.fillStyle = p, l = this.w[p], "#ffff00" !== p) for (e = 0, h = l.length; e < h;) b.fillRect(l[e++], l[e++], l[e++], l[e++]); else for (e = b, h = k, q = 0, r = l.length; q < r;) e.save(),
            e.fillStyle = p, e.textAlign = "center", e.shadowOffsetX = 1, e.shadowOffsetY = 1, e.shadowColor = "#000000", e.font = l[q++] + "px " + h.j.mf, e.fillText(l[q++], l[q++], l[q++]), e.restore()
    };

    function lj(b, c, d) {
        cc.call(this, b, c);
        this.w = d
    }

    B(lj, cc);
    lj.prototype.T = function (b, c, d, e) {
        this.Pc();
        this.xb = d;
        this.F = e;
        d = this.m;
        var h = d.j.Pi && 2 < this.a, k = d.j.Pi ? 2 : 4, l = d.j.ii, p = d.j.hi, q = d.j.ki, r = d.j.ji, t = d.j.gq;
        d = [p, r, l, q, t];
        e = {};
        var u = this.a, x = this.g, A, C, I;
        e[t] = [];
        e[l] = [];
        e[p] = [];
        e[q] = [];
        e[r] = [];
        for (var N = 0, S = c.length; N < S; N++) {
            C = c.kc(N);
            I = C.zb();
            var T = C.jb(), U = C.Hd(), Y = mj(C), fa = nj(C), na = !U && u >= k ? 0 : 1;
            A = this.Rj(C.$i()) - x;
            C.Fk() ? (C = this.ce(T), I = this.ce(I) - this.ce(T), (U || u >= k) && e[U ? q : t].push(A + 1, C, u - 2, I), h ? (e[r].push(A, C - 1, u, I + 2), this.w && e[r].push(A + x, this.ce(Y),
                1, this.ce(fa) - this.ce(Y))) : (e[q].push(A + na, C - 1, u - 2 * na, I + 2), this.w && e[q].push(A + x, this.ce(Y), 1, this.ce(fa) - this.ce(Y)))) : (C = this.ce(I), I = this.ce(T) - this.ce(I), (U || u >= k) && e[U ? l : t].push(A + 1, C, u - 2, I), h ? (e[p].push(A, C - 1, u, I + 2), this.w && e[p].push(A + x, this.ce(Y), 1, this.ce(fa) - this.ce(Y))) : (e[l].push(A + na, C - 1, u - 2 * na, I + 2), this.w && e[l].push(A + x, this.ce(Y), 1, this.ce(fa) - this.ce(Y))))
        }
        c = 0;
        for (h = d.length; c < h; c++) for (k = d[c], b.fillStyle = k, k = e[k], l = 0, p = k.length; l < p;) b.fillRect(k[l++], k[l++], k[l++], k[l++])
    };
    lj.prototype.Rj = function (b) {
        return G(this.xb.x(b))
    };
    lj.prototype.ce = function (b) {
        return G(this.F.y(b))
    };

    function oj(b, c) {
        this.yb = b;
        this.vp = new qd;
        this.data = [];
        c && !ki(c) && this.setData(c)
    }

    f = oj.prototype;
    f.reset = function () {
        this.K = this.He = this.Pb = NaN;
        this.m = Number.POSITIVE_INFINITY;
        this.g = Number.NEGATIVE_INFINITY
    };
    f.setData = function (b) {
        this.data = b;
        b = this.vp;
        b.a = this.data;
        b.Ow(b.He);
        rd(b)
    };
    f.getData = function () {
        return this.data
    };
    f.mT = function (b, c) {
        return this.data.slice(b, b + c)
    };
    f.eb = function () {
        return this.yb
    };
    f.Al = function () {
        return this.data.length
    };
    f.dY = function (b, c) {
        return this.data.slice(b, b + c)[0]
    };

    function pj(b, c) {
        return c ? Eb(b, c).join("") : parseFloat(b).toPrecision(6).substring(0, 7)
    }

    f.Nn = function () {
        return pj
    };
    f.or = function () {
    };
    f.cx = function (b, c) {
        var d = this.yb.indexOf(b - this.yb.W().Y()), e = this.yb.indexOf(c + this.yb.W().Y()), h = qj(this.yb);
        b = Math.max((0 <= d ? d : -1 * d - 1) - 1, 0);
        c = (0 <= e ? e : -1 * e) - b;
        if (this.Pb !== b || this.He !== c || this.K !== h) this.Pb = b, this.He = c, this.K = h, this.ip()
    };
    f.rT = function () {
        this.vp.vj(this.Pb);
        this.vp.Ow(this.He);
        return this.vp
    };
    f.ZJ = function () {
        return this.rT()
    };
    f.wi = function () {
        return 1
    };
    f.Lh = function () {
        return {gu: !0}
    };
    f.fT = oj.prototype.rT;
    f.tt = .1;

    function rj(b, c) {
        return !c || isNaN(b) ? !1 : c[b]
    }

    function sj(b, c) {
        return !c || isNaN(b) ? !1 : c.kc(b)
    }

    f.ip = function () {
        var b = this.fT(), c = b.kc ? sj : rj, d = c(b.length - 1, b);
        if (d) {
            this.m = yb(this.U, this.ld(d));
            this.g = xb(this.R, this.pd(d));
            for (var e = b.length - 1; 0 < e--;) d = c(e, b), this.ld(d) < this.m && (this.m = this.ld(d)), this.pd(d) > this.g && (this.g = this.pd(d));
            this.m === this.g ? (this.min = this.m * (1 - this.tt), this.max = this.g * (1 + this.tt)) : (this.min = this.m, this.max = this.g);
            b = (this.max - this.min) * this.tt;
            this.min -= b;
            this.max += b
        }
    };

    function gc(b, c) {
        oj.call(this, b);
        this.Pd = c;
        this.RD = this.Pd.lc().Ke ? this.G7 : this.H7;
        this.vp = [];
        this.data = [];
        for (var d = 0; d < c.lc().numberOfOutputs; d++) this.data[d] = [], this.vp[d] = new qd(this.data[d]);
        switch (c.lc().Kr) {
            case 1:
                this.min = c.ld();
                this.max = c.pd();
                this.ip = zc;
                break;
            case 2:
                this.min = c.ld();
                this.ip = this.Z3;
                break;
            case 3:
                this.max = c.pd(), this.ip = this.a4
        }
    }

    B(gc, oj);

    function tj(b) {
        return ma(b) && isFinite(b)
    }

    f = gc.prototype;
    f.Pd = null;
    f.kb = function () {
        return this.Pd
    };
    f.Lh = function (b) {
        return this.Pd.Se(b)
    };
    f.ZJ = function (b) {
        var c = this.Lh(b), d = Math.max(this.Pb - Math.abs(c.shift), 0),
            c = Math.min(this.He + 2 * Math.abs(c.shift), this.data[b].length);
        if (this.Pd.lc().Ke) {
            for (; ++c, 0 < d-- && !this.data[b][d];) ;
            for (var e = this.data[b].length, h = !1; d + c < e; c++) if (this.data[b][d + c]) {
                if (h) break;
                h = !0
            }
        }
        this.vp[b].vj(d);
        this.vp[b].Ow(c);
        return this.vp[b]
    };
    f.Nn = function () {
        return this.Pd.Nn() || gc.P.Nn.call(this)
    };
    f.or = function () {
        return this.Pd.or() || gc.P.or.call(this)
    };
    f.H7 = function (b, c) {
        var d, e, h, k, l = this.getData()[b], p = this.eb().ma().Sb;
        try {
            if ((d = c || this.Pd.X()) && uj(c) && (h = d.xb.yb.ue(), k = d.xb.yb.ue(), e = d.xb.sx(vj(d.W(), d.xb.t(d.pa + d.jc.width))), -1 !== e && (e = Math.abs(e)), e = h - e, e = k - e, l[e])) return {
                t: null,
                qc: this.Pd.Si(l[e], p)
            }
        } catch (q) {
            console.log("IndicatorDataSequence", q)
        }
        return {t: null, qc: this.Pd.Si($h(l), p)}
    };
    f.G7 = function (b, c) {
        var d, e, h, k, l = this.getData()[b], p = this.eb().ma().Sb;
        try {
            if ((d = c || this.Pd.X()) && uj(c) && (h = d.xb.yb.ue(), k = d.xb.yb.ue(), e = d.xb.sx(vj(d.W(), d.xb.t(d.pa + d.jc.width))), -1 !== e && (e = Math.abs(e)), e = h - e, e = k - e, l[e])) return {
                t: null,
                qc: this.Pd.Si(l[e], p)
            }
        } catch (q) {
            console.log("IndicatorDataSequence", q)
        }
        for (d = l.length; 0 < d--;) if (!isNaN(l[d])) return {t: null, qc: this.Pd.Si(l[d], p)}
    };
    f.wi = function () {
        return this.Pd.lc().numberOfOutputs
    };
    f.fT = function () {
        for (var b = [], c = this.wi(); 0 < c--;) b.push(this.getData()[c].slice(this.Pb, this.Pb + this.He));
        return Ra(Ci(b), tj)
    };
    f.ld = vc;
    f.pd = vc;
    f.tt = .1;
    f.ip = function () {
        this.min = Number.POSITIVE_INFINITY;
        this.max = Number.NEGATIVE_INFINITY;
        var b, c, d, e;
        for (c = this.wi(); 0 < c--;) for (d = this.Pb, e = this.Pb + this.He; d < e; d++) b = this.data[c][d], b < this.min && (this.min = b), b > this.max && isFinite(b) && (this.max = b);
        b = (this.max - this.min) * this.tt;
        this.min = this.min - b;
        this.max = this.max + b
    };
    f.a4 = function () {
        this.min = Number.POSITIVE_INFINITY;
        var b, c, d, e;
        for (c = this.wi(); 0 < c--;) for (d = this.Pb, e = this.Pb + this.He; d < e; d++) b = this.data[c][d], b < this.min && (this.min = b);
        this.min = this.min - (this.max - this.min) * this.tt
    };
    f.Z3 = function () {
        this.max = Number.NEGATIVE_INFINITY;
        var b, c, d, e;
        for (c = this.wi(); 0 < c--;) for (d = this.Pb, e = this.Pb + this.He; d < e; d++) b = this.data[c][d], b > this.max && isFinite(b) && (this.max = b);
        this.max = this.max + (this.max - this.min) * this.tt
    };

    function wj(b, c) {
        gc.call(this, b, c)
    }

    B(wj, gc);
    wj.prototype.cx = function (b, c) {
        var d = this.yb.ta[0];
        if (d) {
            var e = d.getTime(), d = (b - e - this.yb.W().Y()) / 1E3 | 0, e = (c - e + 2 * this.yb.W().Y()) / 1E3 | 0;
            b = Math.max((0 <= d ? d : -1 * d - 1) - 1, 0);
            c = (0 <= e ? e : -1 * e - 1) - b;
            if (this.Pb !== b || this.He !== c) this.Pb = b, this.He = c, this.ip()
        }
    };

    function xj(b, c) {
        oj.call(this, b, c)
    }

    B(xj, oj);
    xj.prototype.RD = function (b, c) {
        var d, e;
        try {
            c && uj(c, !0) && (d = c.xb.sx(vj(c.W(), c.xb.t(c.pa + c.jc.width))), -1 !== d && (e = this.data[Math.abs(d)]))
        } catch (h) {
            console.log("OHLCDataSequence", h)
        }
        return (e = e || $h(this.data)) ? {
            t: null,
            qc: e.uz ? e.uz : e.jb(),
            QV: e.Wz ? e.Wz : e.Gm(),
            eL: 0 < e.jb() - e.zb(),
            qca: 0 == e.jb() - e.zb()
        } : null
    };
    xj.prototype.ld = function (b) {
        return b.$a()
    };
    xj.prototype.pd = function (b) {
        return b.bb()
    };

    function yj(b, c) {
        oj.call(this, b, c)
    }

    B(yj, xj);

    function zj(b, c) {
        oj.call(this, b, c)
    }

    B(zj, xj);
    zj.prototype.ld = function (b) {
        return b.Vo < b.$a() ? b.Vo : b.$a()
    };
    zj.prototype.pd = function (b) {
        return b.Vo > b.bb() ? b.Vo : b.bb()
    };

    function Aj(b, c) {
        oj.call(this, b, c)
    }

    B(Aj, xj);

    function Bj(b, c) {
        oj.call(this, b, c)
    }

    B(Bj, xj);
    Bj.prototype.ld = function (b) {
        return 0 == b.xl() ? b.$a() : yb(mj(b), nj(b))
    };
    Bj.prototype.pd = function (b) {
        return 0 == b.xl() ? b.bb() : xb(mj(b), nj(b))
    };

    function qc(b, c) {
        oj.call(this, b, c);
        this.w = [];
        this.Qr = [];
        this.F = [];
        this.a = []
    }

    B(qc, oj);
    f = qc.prototype;
    f.dY = function (b, c) {
        return this.a.slice(b, b + c)[0]
    };
    f.mT = function (b, c) {
        return this.a.slice(b, b + c)
    };
    f.reset = function () {
        this.w.length = 0;
        this.Qr.length = 0;
        this.F.length = 0;
        this.a.length = 0
    };
    f.setData = function (b) {
        qc.P.setData.call(this, b);
        if (!ki(this.data)) {
            b = this.data;
            var c = {ask: 0, bid: 0, askVol: 0, bidVol: 0}, d = [null, -Infinity, Infinity, null, new td([0, 0])],
                e = new td([0, 0]), h = this.yb.Db(), k, l, p = 0, q, r;
            this.F = [];
            this.w = [];
            for (var t = 0, u = b.length - 1; t <= u; t++) {
                q = 1E3 * (b[t].getTime() / 1E3 | 0);
                if (k && q !== k || t == u) {
                    r = 3600 > (q - k) / 1E3 ? (q - k) / 1E3 : 1;
                    for (var x = 1; x <= r; x++) this.F.push(new Cj(k + 1E3 * (x - 1), c.bid / p, c.ask / p, c.bidVol, c.askVol)), this.w.push([k + 1E3 * (x - 1), 1 == x ? d[0] : l, 1 == x ? d[1] : l, 1 == x ? d[2] : l, 1 == x ? d[3] : l, d[4],
                        e]), e = new td([0, 0]);
                    c = {ask: 0, bid: 0, askVol: 0, bidVol: 0};
                    d = [null, -Infinity, Infinity, null, new td([0, 0])];
                    e = new td([0, 0]);
                    p = 0
                }
                c.ask += b[t].ed();
                c.bid += b[t].fd();
                c.askVol += b[t].Cs;
                c.bidVol += b[t].Ds;
                k = new td([b[t].Ds, b[t].Cs]);
                l = b[t].G(h);
                d[0] = d[0] || l;
                d[1] < l && (d[1] = l);
                d[2] > l && (d[2] = l);
                d[3] = l;
                d[4].push(k);
                e.push(k);
                p++;
                k = q
            }
            this.a = Ta(this.F);
            this.Qr = Ta(this.w)
        }
    };
    f.RD = function (b, c) {
        var d, e;
        try {
            c && uj(c, !0) && (d = c.xb.sx(vj(c.W(), c.xb.t(c.pa + c.jc.width))), -1 !== d && (e = this.data[Math.abs(d) - 2]))
        } catch (h) {
            console.log("TickDataSequence", h)
        }
        return (e = e || $h(this.data)) ? {t: null, qc: e.G(0 === b ? "ASK" : "BID"), eL: 0 !== b} : null
    };
    f.wi = function () {
        return 2
    };
    f.Lh = function (b) {
        return {gu: !0, YL: 1 === b}
    };
    f.ld = function (b) {
        return b.a < b.g ? b.a : b.g
    };
    f.pd = function (b) {
        return b.a > b.g ? b.a : b.g
    };

    function Dj() {
        this.g = this.a = null
    }

    var Fj = new xd(function () {
        return new Ej
    }, function (b) {
        b.reset()
    }, 100);
    Dj.prototype.add = function (b, c) {
        var d = Fj.get();
        d.set(b, c);
        this.g ? this.g.next = d : this.a = d;
        this.g = d
    };
    Dj.prototype.remove = function () {
        var b = null;
        this.a && (b = this.a, this.a = this.a.next, this.a || (this.g = null), b.next = null);
        return b
    };

    function Ej() {
        this.next = this.a = this.Kh = null
    }

    Ej.prototype.set = function (b, c) {
        this.Kh = b;
        this.a = c;
        this.next = null
    };
    Ej.prototype.reset = function () {
        this.next = this.a = this.Kh = null
    };

    function Gj(b) {
        return Sa(b, function (b) {
            b = b.toString(16);
            return 1 < b.length ? b : "0" + b
        }).join("")
    };

    function Hj(b) {
        this.dN(b || Ij++ + wa())
    }

    var Ij = 0, Jj = Math.pow(2, 31) - 1, Kj = Jj / 48271 | 0, Lj = Jj % 48271, Mj = 1 / (Jj - 1);
    Hj.prototype.dN = function (b) {
        if (!ma(b)) {
            var c = new Ad;
            c.update(b);
            b = parseInt(Gj(c.digest()), 16)
        }
        this.yh = b % (Jj - 1);
        0 >= this.yh && (this.yh += Jj - 1)
    };
    Hj.prototype.next = function () {
        var b = this.yh % Kj * 48271 - this.yh / Kj * Lj;
        this.yh = 0 < b ? b : b + Jj;
        return this.yh * Mj
    };
    Hj.prototype.valueOf = function () {
        return this.next()
    };

    function Nj(b, c) {
        switch (c) {
            case 1:
                return 0 != b % 4 || 0 == b % 100 && 0 != b % 400 ? 28 : 29;
            case 5:
            case 8:
            case 10:
            case 3:
                return 30
        }
        return 31
    }

    function Oj(b, c, d, e, h, k) {
        ka(b) ? (this.m = b == Pj ? c : 0, this.g = b == Qj ? c : 0, this.a = b == Rj ? c : 0, this.yg = b == Sj ? c : 0, this.Dg = b == Tj ? c : 0, this.Gg = b == Uj ? c : 0) : (this.m = b || 0, this.g = c || 0, this.a = d || 0, this.yg = e || 0, this.Dg = h || 0, this.Gg = k || 0)
    }

    Oj.prototype.qB = function (b) {
        var c = Math.min(this.m, this.g, this.a, this.yg, this.Dg, this.Gg),
            d = Math.max(this.m, this.g, this.a, this.yg, this.Dg, this.Gg);
        if (0 > c && 0 < d) return null;
        if (!b && 0 == c && 0 == d) return "PT0S";
        d = [];
        0 > c && d.push("-");
        d.push("P");
        (this.m || b) && d.push(Math.abs(this.m) + "Y");
        (this.g || b) && d.push(Math.abs(this.g) + "M");
        (this.a || b) && d.push(Math.abs(this.a) + "D");
        if (this.yg || this.Dg || this.Gg || b) d.push("T"), (this.yg || b) && d.push(Math.abs(this.yg) + "H"), (this.Dg || b) && d.push(Math.abs(this.Dg) + "M"), (this.Gg ||
            b) && d.push(Math.abs(this.Gg) + "S");
        return d.join("")
    };
    Oj.prototype.df = function (b) {
        return b.m == this.m && b.g == this.g && b.a == this.a && b.yg == this.yg && b.Dg == this.Dg && b.Gg == this.Gg
    };
    Oj.prototype.clone = function () {
        return new Oj(this.m, this.g, this.a, this.yg, this.Dg, this.Gg)
    };
    var Pj = "y", Qj = "m", Rj = "d", Sj = "h", Tj = "n", Uj = "s";
    Oj.prototype.add = function (b) {
        this.m += b.m;
        this.g += b.g;
        this.a += b.a;
        this.yg += b.yg;
        this.Dg += b.Dg;
        this.Gg += b.Gg
    };

    function Vj(b, c, d) {
        ma(b) ? (this.Cb = Wj(b, c || 0, d || 1), Xj(this, d || 1)) : pa(b) ? (this.Cb = Wj(b.getFullYear(), b.getMonth(), b.getDate()), Xj(this, b.getDate())) : (this.Cb = new Date(wa()), b = this.Cb.getDate(), this.Cb.setHours(0), this.Cb.setMinutes(0), this.Cb.setSeconds(0), this.Cb.setMilliseconds(0), Xj(this, b))
    }

    function Wj(b, c, d) {
        c = new Date(b, c, d);
        0 <= b && 100 > b && c.setFullYear(c.getFullYear() - 1900);
        return c
    }

    f = Vj.prototype;
    f.Bp = Df.OH;
    f.Sy = Df.QH;
    f.clone = function () {
        var b = new Vj(this.Cb);
        b.Bp = this.Bp;
        b.Sy = this.Sy;
        return b
    };
    f.getFullYear = function () {
        return this.Cb.getFullYear()
    };
    f.getYear = function () {
        return this.getFullYear()
    };
    f.getMonth = function () {
        return this.Cb.getMonth()
    };
    f.getDate = function () {
        return this.Cb.getDate()
    };
    f.getTime = function () {
        return this.Cb.getTime()
    };
    f.getDay = function () {
        return this.Cb.getDay()
    };
    f.getUTCFullYear = function () {
        return this.Cb.getUTCFullYear()
    };
    f.getUTCMonth = function () {
        return this.Cb.getUTCMonth()
    };
    f.getUTCDate = function () {
        return this.Cb.getUTCDate()
    };
    f.getUTCDay = function () {
        return this.Cb.getDay()
    };
    f.getUTCHours = function () {
        return this.Cb.getUTCHours()
    };
    f.getUTCMinutes = function () {
        return this.Cb.getUTCMinutes()
    };

    function Yj(b) {
        return Nj(b.getFullYear(), b.getMonth())
    }

    f.getTimezoneOffset = function () {
        return this.Cb.getTimezoneOffset()
    };

    function Zj(b) {
        b = b.getTimezoneOffset();
        if (0 == b) b = "Z"; else {
            var c = Math.abs(b) / 60, d = Math.floor(c), c = 60 * (c - d);
            b = (0 < b ? "-" : "+") + Oh(d, 2) + ":" + Oh(c, 2)
        }
        return b
    }

    f.set = function (b) {
        this.Cb = new Date(b.getFullYear(), b.getMonth(), b.getDate())
    };
    f.setFullYear = function (b) {
        this.Cb.setFullYear(b)
    };
    f.setYear = function (b) {
        this.setFullYear(b)
    };
    f.setMonth = function (b) {
        this.Cb.setMonth(b)
    };
    f.setDate = function (b) {
        this.Cb.setDate(b)
    };
    f.setTime = function (b) {
        this.Cb.setTime(b)
    };
    f.setUTCFullYear = function (b) {
        this.Cb.setUTCFullYear(b)
    };
    f.setUTCMonth = function (b) {
        this.Cb.setUTCMonth(b)
    };
    f.setUTCDate = function (b) {
        this.Cb.setUTCDate(b)
    };
    f.add = function (b) {
        if (b.m || b.g) {
            var c = this.getMonth() + b.g + 12 * b.m, d = this.getYear() + Math.floor(c / 12), c = c % 12;
            0 > c && (c += 12);
            var e = Math.min(Nj(d, c), this.getDate());
            this.setDate(1);
            this.setFullYear(d);
            this.setMonth(c);
            this.setDate(e)
        }
        b.a && (c = new Date(this.getYear(), this.getMonth(), this.getDate(), 12), b = new Date(c.getTime() + 864E5 * b.a), this.setDate(1), this.setFullYear(b.getFullYear()), this.setMonth(b.getMonth()), this.setDate(b.getDate()), Xj(this, b.getDate()))
    };
    f.qB = function (b, c) {
        return [this.getFullYear(), Oh(this.getMonth() + 1, 2), Oh(this.getDate(), 2)].join(b ? "-" : "") + (c ? Zj(this) : "")
    };
    f.df = function (b) {
        return !(!b || this.getYear() != b.getYear() || this.getMonth() != b.getMonth() || this.getDate() != b.getDate())
    };
    f.toString = function () {
        return this.qB()
    };

    function Xj(b, c) {
        if (b.getDate() != c) {
            var d = b.getDate() < c ? 1 : -1;
            b.Cb.setUTCHours(b.Cb.getUTCHours() + d)
        }
    }

    f.valueOf = function () {
        return this.Cb.valueOf()
    };

    function ak(b, c) {
        return b.getTime() - c.getTime()
    }

    function bk(b, c, d, e, h, k, l) {
        this.Cb = ma(b) ? new Date(b, c || 0, d || 1, e || 0, h || 0, k || 0, l || 0) : new Date(b && b.getTime ? b.getTime() : wa())
    }

    B(bk, Vj);
    f = bk.prototype;
    f.getHours = function () {
        return this.Cb.getHours()
    };
    f.getMinutes = function () {
        return this.Cb.getMinutes()
    };
    f.getSeconds = function () {
        return this.Cb.getSeconds()
    };
    f.getMilliseconds = function () {
        return this.Cb.getMilliseconds()
    };
    f.getUTCDay = function () {
        return this.Cb.getUTCDay()
    };
    f.getUTCHours = function () {
        return this.Cb.getUTCHours()
    };
    f.getUTCMinutes = function () {
        return this.Cb.getUTCMinutes()
    };
    f.getUTCSeconds = function () {
        return this.Cb.getUTCSeconds()
    };
    f.getUTCMilliseconds = function () {
        return this.Cb.getUTCMilliseconds()
    };
    f.setHours = function (b) {
        this.Cb.setHours(b)
    };
    f.setMinutes = function (b) {
        this.Cb.setMinutes(b)
    };
    f.setSeconds = function (b) {
        this.Cb.setSeconds(b)
    };
    f.setMilliseconds = function (b) {
        this.Cb.setMilliseconds(b)
    };
    f.setUTCHours = function (b) {
        this.Cb.setUTCHours(b)
    };
    f.setUTCMinutes = function (b) {
        this.Cb.setUTCMinutes(b)
    };
    f.setUTCSeconds = function (b) {
        this.Cb.setUTCSeconds(b)
    };
    f.setUTCMilliseconds = function (b) {
        this.Cb.setUTCMilliseconds(b)
    };
    f.add = function (b) {
        Vj.prototype.add.call(this, b);
        b.yg && this.setUTCHours(this.Cb.getUTCHours() + b.yg);
        b.Dg && this.setUTCMinutes(this.Cb.getUTCMinutes() + b.Dg);
        b.Gg && this.setUTCSeconds(this.Cb.getUTCSeconds() + b.Gg)
    };
    f.qB = function (b, c) {
        var d = Vj.prototype.qB.call(this, b);
        return b ? d + " " + Oh(this.getHours(), 2) + ":" + Oh(this.getMinutes(), 2) + ":" + Oh(this.getSeconds(), 2) + (c ? Zj(this) : "") : d + "T" + Oh(this.getHours(), 2) + Oh(this.getMinutes(), 2) + Oh(this.getSeconds(), 2) + (c ? Zj(this) : "")
    };
    f.df = function (b) {
        return this.getTime() == b.getTime()
    };
    f.toString = function () {
        return this.qB()
    };
    f.clone = function () {
        var b = new bk(this.Cb);
        b.Bp = this.Bp;
        b.Sy = this.Sy;
        return b
    };

    function ck(b) {
        b = b.className;
        return ka(b) && b.match(/\S+/g) || []
    }

    function dk(b, c) {
        for (var d = ck(b), e = si(arguments, 1), h = d.length + e.length, k = d, l = 0; l < e.length; l++) ji(k, e[l]) || k.push(e[l]);
        b.className = d.join(" ");
        return d.length == h
    }

    function ek(b, c) {
        var d = ck(b), e = si(arguments, 1), h = fk(d, e);
        b.className = h.join(" ");
        return h.length == d.length - e.length
    }

    function fk(b, c) {
        return Ra(b, function (b) {
            return !ji(c, b)
        })
    }

    function gk(b, c, d) {
        d ? dk(b, c) : ek(b, c)
    };var K = {
        Cu: !1, get: function (b) {
            if (K.Cu || b.classList) return b.classList;
            b = b.className;
            return ka(b) && b.match(/\S+/g) || []
        }, set: function (b, c) {
            b.className = c
        }, contains: function (b, c) {
            return K.Cu || b.classList ? b.classList.contains(c) : ji(K.get(b), c)
        }, add: function (b, c) {
            K.Cu || b.classList ? b.classList.add(c) : K.contains(b, c) || (b.className += 0 < b.className.length ? " " + c : c)
        }, addAll: function (b, c) {
            if (K.Cu || b.classList) E(c, function (c) {
                K.add(b, c)
            }); else {
                var d = {};
                E(K.get(b), function (b) {
                    d[b] = !0
                });
                E(c, function (b) {
                    d[b] = !0
                });
                b.className =
                    "";
                for (var e in d) b.className += 0 < b.className.length ? " " + e : e
            }
        }, remove: function (b, c) {
            K.Cu || b.classList ? b.classList.remove(c) : K.contains(b, c) && (b.className = Ra(K.get(b), function (b) {
                return b != c
            }).join(" "))
        }, ud: function (b, c) {
            K.Cu || b.classList ? E(c, function (c) {
                K.remove(b, c)
            }) : b.className = Ra(K.get(b), function (b) {
                return !ji(c, b)
            }).join(" ")
        }, enable: function (b, c, d) {
            d ? K.add(b, c) : K.remove(b, c)
        }, M5: function (b, c, d) {
            (d ? K.addAll : K.ud)(b, c)
        }, Mla: function (b, c, d) {
            return K.contains(b, c) ? (K.remove(b, c), K.add(b, d), !0) :
                !1
        }, toggle: function (b, c) {
            var d = !K.contains(b, c);
            K.enable(b, c, d);
            return d
        }, zla: function (b, c, d) {
            K.remove(b, c);
            K.add(b, d)
        }
    };

    function hk(b) {
        this.src = b;
        this.a = {};
        this.g = 0
    }

    f = hk.prototype;
    f.add = function (b, c, d, e, h) {
        var k = b.toString();
        b = this.a[k];
        b || (b = this.a[k] = [], this.g++);
        var l = ik(b, c, e, h);
        -1 < l ? (c = b[l], d || (c.iC = !1)) : (c = new nf(c, this.src, k, !!e, h), c.iC = d, b.push(c));
        return c
    };
    f.remove = function (b, c, d, e) {
        b = b.toString();
        if (!(b in this.a)) return !1;
        var h = this.a[b];
        c = ik(h, c, d, e);
        return -1 < c ? (of(h[c]), ni(h, c), 0 == h.length && (delete this.a[b], this.g--), !0) : !1
    };

    function jk(b, c) {
        var d = c.type;
        if (!(d in b.a)) return !1;
        var e = mi(b.a[d], c);
        e && (of(c), 0 == b.a[d].length && (delete b.a[d], b.g--));
        return e
    }

    f.ud = function (b) {
        b = b && b.toString();
        var c = 0, d;
        for (d in this.a) if (!b || d == b) {
            for (var e = this.a[d], h = 0; h < e.length; h++) ++c, of(e[h]);
            delete this.a[d];
            this.g--
        }
        return c
    };
    f.fz = function (b, c, d, e) {
        b = this.a[b.toString()];
        var h = -1;
        b && (h = ik(b, c, d, e));
        return -1 < h ? b[h] : null
    };
    f.hasListener = function (b, c) {
        var d = ca(b), e = d ? b.toString() : "", h = ca(c);
        return Wg(this.a, function (b) {
            for (var l = 0; l < b.length; ++l) if (!(d && b[l].type != e || h && b[l].hy != c)) return !0;
            return !1
        })
    };

    function ik(b, c, d, e) {
        for (var h = 0; h < b.length; ++h) {
            var k = b[h];
            if (!k.yw && k.listener == c && k.hy == !!d && k.nE == e) return h
        }
        return -1
    };

    function kk(b, c) {
        ca(b.name) ? (this.name = b.name, this.code = lk[b.name]) : (this.code = b.code, this.name = mk(b.code));
        Cd.call(this, yh("%s %s", this.name, c))
    }

    B(kk, Cd);

    function mk(b) {
        var c = $g(lk, function (c) {
            return b == c
        });
        if (!ca(c)) throw Error("Invalid code: " + b);
        return c
    }

    var lk = {
        AbortError: 3,
        EncodingError: 5,
        InvalidModificationError: 9,
        InvalidStateError: 7,
        NotFoundError: 1,
        NotReadableError: 4,
        NoModificationAllowedError: 6,
        PathExistsError: 12,
        QuotaExceededError: 10,
        SecurityError: 2,
        SyntaxError: 8,
        TypeMismatchError: 11
    };

    function nk() {
    }

    function ok(b) {
        if ("number" == typeof b) {
            var c = new nk;
            c.w = b;
            var d;
            d = b;
            if (0 == d) d = "Etc/GMT"; else {
                var e = ["Etc/GMT", 0 > d ? "-" : "+"];
                d = Math.abs(d);
                e.push(Math.floor(d / 60) % 100);
                d %= 60;
                0 != d && e.push(":", Oh(d, 2));
                d = e.join("")
            }
            c.g = d;
            d = b;
            0 == d ? d = "UTC" : (e = ["UTC", 0 > d ? "+" : "-"], d = Math.abs(d), e.push(Math.floor(d / 60) % 100), d %= 60, 0 != d && e.push(":", d), d = e.join(""));
            b = pk(b);
            c.m = [d, d];
            c.a = {c3: b, eI: b};
            c.No = [];
            return c
        }
        c = new nk;
        c.g = b.id;
        c.w = -b.std_offset;
        c.m = b.names;
        c.a = b.names_ext;
        c.No = b.transitions;
        return c
    }

    function pk(b) {
        var c = ["GMT"];
        c.push(0 >= b ? "+" : "-");
        b = Math.abs(b);
        c.push(Oh(Math.floor(b / 60) % 100, 2), ":", Oh(b % 60, 2));
        return c.join("")
    }

    nk.prototype.Un = function () {
        return {id: this.g, std_offset: -this.w, names: pi(this.m), names_ext: Lc(this.a), transitions: pi(this.No)}
    };
    nk.prototype.ct = function (b) {
        b = Date.UTC(b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate(), b.getUTCHours(), b.getUTCMinutes()) / 36E5;
        for (var c = 0; c < this.No.length && b >= this.No[c];) c += 2;
        return 0 == c ? 0 : this.No[c - 1]
    };
    nk.prototype.Cc = function (b) {
        return this.w - this.ct(b)
    };
    nk.a = ok;
    nk.prototype.ct = function (b) {
        b = Date.UTC(b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate(), b.getUTCHours(), b.getUTCMinutes()) / 36E5;
        for (var c = 0; c < this.No.length && b >= this.No[c];) c += 2;
        return 2 <= this.No.length ? 0 == c ? this.No[c + 1] : this.No[c - 1] : 0
    };

    function qk(b, c, d, e) {
        this.$h(b);
        this.tf(b);
        this.Pb = c;
        this.gs(d);
        this.a = e;
        rk(this)
    }

    f = qk.prototype;
    f.$h = function (b) {
        this.Ib = b
    };
    f.aa = function () {
        return this.Ib
    };
    f.tf = function (b) {
        this.Le = b
    };
    f.Nb = function () {
        return this.Le
    };
    f.gs = function () {
    };

    function rk(b) {
        var c = [], d = [];
        La(b.a, function (b) {
            c.push(b[0] / 3600);
            c.push(b[1] / 60);
            d.push(b[0] / 3600 + b[1] / 3600);
            d.push(b[1] / 60)
        }, b);
        var e = {
            transitions: c,
            names: [b.Nb(), b.Nb(), b.Nb() + " (DST)", b.Nb() + " (DST)"],
            names_ext: {c3: b.Nb(), eI: b.Nb(), Oha: b.Nb() + " (DST)", UO: b.Nb() + " (DST)"},
            id: b.aa(),
            std_offset: 0
        };
        b.xE = nk.a(e)
    }

    f.Ka = function () {
        return this.xE
    };

    function sk(b, c) {
        this.g = [];
        this.a = c || Df;
        "number" == typeof b ? tk(this, b) : uk(this, b)
    }

    var vk = [/^\'(?:[^\']|\'\')*(\'|$)/, /^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/, /^[^\'GyMkSEahKHcLQdmsvVwzZ]+/];

    function wk(b) {
        return b.getHours ? b.getHours() : 0
    }

    function uk(b, c) {
        for (xk && (c = c.replace(/\u200f/g, "")); c;) {
            for (var d = c, e = 0; e < vk.length; ++e) {
                var h = c.match(vk[e]);
                if (h) {
                    var k = h[0];
                    c = c.substring(k.length);
                    0 == e && ("''" == k ? k = "'" : (k = k.substring(1, "'" == h[1] ? k.length - 1 : k.length), k = k.replace(/\'\'/g, "'")));
                    b.g.push({text: k, type: e});
                    break
                }
            }
            if (d === c) throw Error("Malformed pattern part: " + c);
        }
    }

    sk.prototype.format = function (b, c) {
        if (!b) throw Error("The date to format must be non-null.");
        var d = c ? 6E4 * (b.getTimezoneOffset() - c.Cc(b)) : 0, e = d ? new Date(b.getTime() + d) : b, h = e;
        c && e.getTimezoneOffset() != b.getTimezoneOffset() && (h = 6E4 * (e.getTimezoneOffset() - b.getTimezoneOffset()), e = new Date(e.getTime() + h), d += 0 < d ? -864E5 : 864E5, h = new Date(b.getTime() + d));
        for (var d = [], k = 0; k < this.g.length; ++k) {
            var l = this.g[k].text;
            1 == this.g[k].type ? d.push(yk(this, l, b, e, h, c)) : d.push(l)
        }
        return d.join("")
    };

    function tk(b, c) {
        var d;
        if (4 > c) d = b.a.LH[c]; else if (8 > c) d = b.a.WP[c - 4]; else if (12 > c) d = b.a.cZ[c - 8], d = d.replace("{1}", b.a.LH[c - 8]), d = d.replace("{0}", b.a.WP[c - 8]); else {
            tk(b, 10);
            return
        }
        uk(b, d)
    }

    function zk(b, c) {
        var d;
        d = String(c);
        var e = b.a || Df;
        if (void 0 !== e.n3) {
            for (var h = [], k = 0; k < d.length; k++) {
                var l = d.charCodeAt(k);
                h.push(48 <= l && 57 >= l ? String.fromCharCode(e.n3 + l - 48) : d.charAt(k))
            }
            d = h.join("")
        }
        return d
    }

    var xk = !1;

    function Ak(b) {
        if (!(b.getHours && b.getSeconds && b.getMinutes)) throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");
    }

    function yk(b, c, d, e, h, k) {
        var l = c.length;
        switch (c.charAt(0)) {
            case "G":
                return d = 0 < e.getFullYear() ? 1 : 0, 4 <= l ? b.a.fZ[d] : b.a.gZ[d];
            case "y":
                return d = e.getFullYear(), 0 > d && (d = -d), 2 == l && (d %= 100), zk(b, Oh(d, l));
            case "M":
                a:switch (d = e.getMonth(), l) {
                    case 5:
                        l = b.a.BP[d];
                        break a;
                    case 4:
                        l = b.a.eP[d];
                        break a;
                    case 3:
                        l = b.a.QP[d];
                        break a;
                    default:
                        l = zk(b, Oh(d + 1, l))
                }
                return l;
            case "k":
                return Ak(h), d = wk(h) || 24, zk(b, Oh(d, l));
            case "S":
                return d = h.getTime() % 1E3 / 1E3, zk(b, d.toFixed(Math.min(3, l)).substr(2) + (3 < l ? Oh(0, l - 3) : ""));
            case "E":
                return d =
                    e.getDay(), 4 <= l ? b.a.YP[d] : b.a.RP[d];
            case "a":
                return Ak(h), l = wk(h), b.a.YY[12 <= l && 24 > l ? 1 : 0];
            case "h":
                return Ak(h), d = wk(h) % 12 || 12, zk(b, Oh(d, l));
            case "K":
                return Ak(h), d = wk(h) % 12, zk(b, Oh(d, l));
            case "H":
                return Ak(h), d = wk(h), zk(b, Oh(d, l));
            case "c":
                a:switch (d = e.getDay(), l) {
                    case 5:
                        l = b.a.SP[d];
                        break a;
                    case 4:
                        l = b.a.UP[d];
                        break a;
                    case 3:
                        l = b.a.dI[d];
                        break a;
                    default:
                        l = zk(b, Oh(d, 1))
                }
                return l;
            case "L":
                a:switch (d = e.getMonth(), l) {
                    case 5:
                        l = b.a.b3[d];
                        break a;
                    case 4:
                        l = b.a.Qx[d];
                        break a;
                    case 3:
                        l = b.a.TP[d];
                        break a;
                    default:
                        l =
                            zk(b, Oh(d + 1, l))
                }
                return l;
            case "Q":
                return d = Math.floor(e.getMonth() / 3), 4 > l ? b.a.Z2[d] : b.a.V2[d];
            case "d":
                return zk(b, Oh(e.getDate(), l));
            case "m":
                return Ak(h), zk(b, Oh(h.getMinutes(), l));
            case "s":
                return Ak(h), zk(b, Oh(h.getSeconds(), l));
            case "v":
                return l = k || ok(d.getTimezoneOffset()), l.g;
            case "V":
                return b = k || ok(d.getTimezoneOffset()), 2 >= l ? b.g : 0 < b.ct(d) ? ca(b.a.UO) ? b.a.UO : b.a.DST_GENERIC_LOCATION : ca(b.a.eI) ? b.a.eI : b.a.STD_GENERIC_LOCATION;
            case "w":
                return d = h.getFullYear(), c = h.getMonth(), e = h.getDate(), h = b.a.QH,
                    d = new Date(d, c, e), h = ca(h) ? h : 3, c = b.a.OH || 0, e = ((d.getDay() + 6) % 7 - c + 7) % 7, d = d.valueOf() + 864E5 * ((h - c + 7) % 7 - e), h = (new Date((new Date(d)).getFullYear(), 0, 1)).valueOf(), d = Math.floor(Math.round((d - h) / 864E5) / 7) + 1, zk(b, Oh(d, l));
            case "z":
                return b = k || ok(d.getTimezoneOffset()), 4 > l ? b.m[0 < b.ct(d) ? 2 : 0] : b.m[0 < b.ct(d) ? 3 : 1];
            case "Z":
                return h = k || ok(d.getTimezoneOffset()), 4 > l ? (l = -h.Cc(d), b = [0 > l ? "-" : "+"], l = Math.abs(l), b.push(Oh(Math.floor(l / 60) % 100, 2), Oh(l % 60, 2)), l = b.join("")) : l = zk(b, pk(h.Cc(d))), l;
            default:
                return ""
        }
    };

    function Bk() {
    }

    function Ck(b, c) {
        var d = b.getTime(), e = c.getTime();
        return d > e ? 1 : d < e ? -1 : 0
    }

    function Dk(b, c) {
        var d = c.getTime();
        return b > d ? 1 : b < d ? -1 : 0
    }

    function Ek(b, c) {
        var d = c[0];
        return b > d ? 1 : b < d ? -1 : 0
    }

    function Fk(b, c) {
        var d = c.$i();
        return b > c.Bf() ? 1 : b < d ? -1 : 0
    }

    var Gk = new sk("yyyy.MM.dd HH:mm:ss.S");

    function Hk(b, c, d, e, h, k, l, p) {
        this.time = b;
        this.open = c;
        this.Mc = d;
        this.Bd = e;
        this.close = h;
        this.uf = k;
        this.a = l;
        this.cca = p
    }

    B(Hk, Bk);
    f = Hk.prototype;
    f.time = 0;
    f.getTime = function () {
        return this.time
    };
    f.setTime = function (b) {
        this.time = b
    };
    f.open = 0;
    f.zb = function () {
        return this.open
    };
    f.ge = function (b) {
        this.open = b
    };
    f.Mc = 0;
    f.bb = function () {
        return this.Mc
    };
    f.Tt = function (b) {
        this.Mc = b
    };
    f.Bd = 0;
    f.$a = function () {
        return this.Bd
    };
    f.Vt = function (b) {
        this.Bd = b
    };
    f.close = 0;
    f.jb = function () {
        return this.close
    };
    f.sA = function (b) {
        this.close = b
    };
    f.uf = 0;
    f.Hd = function () {
        return this.uf
    };
    f.dx = function (b) {
        this.uf = parseFloat(b)
    };
    f.Gm = function () {
        return this.a
    };
    f.f7 = function () {
        return (this.bb() + this.$a()) / 2
    };
    f.m7 = function () {
        return (this.zb() + this.jb()) / 2
    };
    f.Fk = function () {
        return this.zb() < this.jb()
    };

    function tc(b) {
        return b.zb() > b.jb()
    }

    function Ik(b) {
        var c = b.close == b.Mc, d = b.Mc == b.Bd, e = 0 == b.uf;
        return b.open == b.close && c && d && e
    }

    f.toString = function () {
        var b = [], c = 0;
        b[c++] = Gk.format(new Date(this.getTime()));
        b[c++] = "O:";
        b[c++] = this.zb().toFixed(5);
        b[c++] = "H:";
        b[c++] = this.bb().toFixed(5);
        b[c++] = "L:";
        b[c++] = this.$a().toFixed(5);
        b[c++] = "C:";
        b[c++] = this.jb().toFixed(5);
        b[c++] = "V:";
        b[c++] = this.Hd();
        return b.join(" ")
    };

    function Jk(b, c, d) {
        this.w = c;
        cc.call(this, b, d)
    }

    B(Jk, cc);
    Jk.prototype.T = function (b, c, d, e) {
        this.Pc();
        var h = Kk(this), k = null, l = null, p = null, q = this.m, r = q.j.io, t = q.j.ho, u = q.j.Ql;
        b.lineWidth = q.Pg();
        for (var q = 0, x = c.length; q < x; q++) {
            var A = c.kc(q), C = h.call(A);
            k ? (b.beginPath(), b.strokeStyle = p > C ? t : p < C ? r : u, b.moveTo(k, l), p = C, k = d.x(A.time), l = e.y(p), b.lineTo(k, l), b.stroke(), b.closePath()) : (p = C, k = d.x(A.time), l = e.y(p))
        }
    };

    function Kk(b) {
        switch (b.w) {
            case 1:
                return Hk.prototype.zb;
            case 2:
                return Hk.prototype.bb;
            case 3:
                return Hk.prototype.$a;
            case 4:
                return Hk.prototype.jb;
            case 5:
                return Hk.prototype.f7;
            case 6:
                return Hk.prototype.m7;
            default:
                throw Error('Line method "' + b.w + '" not implemented.');
        }
    };

    function kj(b, c) {
        return +b.toFixed(c + 1)
    }

    function Lk(b, c, d, e) {
        b = vj(b, c[0]) + b.Y() - 1;
        var h = new Hk(c[0], c[1], c[2], c[3], c[4], c[5], c[4]);
        d = Mk(h, d, e);
        return Ik(h) ? !1 : [b, d, d, c[5], c[5]]
    }

    function Mk(b, c, d) {
        if (!b) return -Infinity;
        switch (c) {
            case Nk:
                return kj(b.jb(), d);
            case Ok:
                return kj(b.bb(), d);
            case Pk:
                return kj(b.$a(), d);
            case Qk:
                return kj(b.zb(), d);
            case Rk:
                return kj((b.bb() + b.$a()) / 2, d);
            case Sk:
                return kj((b.zb() + b.jb()) / 2, d);
            default:
                return -Infinity
        }
    };

    function Tk(b, c) {
        b[2] = kj(b[2], c);
        b[3] = kj(b[3], c);
        b[4] = kj(b[4], c);
        b[5] = kj(b[5], c);
        b[6] = +b[6].toFixed(2);
        b[9] = kj(b[9], c);
        b[10] = kj(b[10], c);
        return b
    };

    function Uk() {
    }

    B(Uk, Bk);

    function Vk(b, c, d, e, h, k, l, p, q, r, t, u, x, A, C) {
        this.Og = b;
        this.Bj = c;
        this.open = d;
        this.Mc = e;
        this.Bd = h;
        this.close = k;
        this.uf = l;
        this.Wi = p;
        this.rB = q;
        this.rj = r;
        this.DB = t;
        this.EB = u;
        this.$E = x;
        this.uz = A;
        this.Wz = C
    }

    B(Vk, Uk);
    f = Vk.prototype;
    f.Og = 0;
    f.$i = function () {
        return this.Og
    };
    f.getTime = function () {
        return this.Og
    };
    f.Bj = 0;
    f.Bf = function () {
        return this.Bj
    };
    f.open = 0;
    f.zb = function () {
        return this.open
    };
    f.ge = function (b) {
        this.open = b
    };
    f.Mc = 0;
    f.bb = function () {
        return this.Mc
    };
    f.Tt = function (b) {
        this.Mc = b
    };
    f.Bd = 0;
    f.$a = function () {
        return this.Bd
    };
    f.Vt = function (b) {
        this.Bd = b
    };
    f.close = 0;
    f.jb = function () {
        return this.close
    };
    f.Gm = function () {
        return this.close
    };
    f.sA = function (b) {
        this.close = b
    };
    f.uf = 0;
    f.Hd = function () {
        return this.uf
    };
    f.dx = function (b) {
        this.uf = b
    };
    f.Wi = 0;
    f.xl = function () {
        return this.Wi
    };
    f.rB = 0;
    f.rj = !0;
    f.Fk = function () {
        return this.rj
    };
    f.DB = null;
    f.EB = null;
    f.$E = null;
    f.toString = function () {
        var b = [], c = 0;
        b[c++] = Gk.format(new Date(this.$i()));
        b[c++] = Gk.format(new Date(this.Bf()));
        b[c++] = "O:";
        b[c++] = this.zb().toFixed(5);
        b[c++] = "H:";
        b[c++] = this.bb().toFixed(5);
        b[c++] = "L:";
        b[c++] = this.$a().toFixed(5);
        b[c++] = "C:";
        b[c++] = this.jb().toFixed(5);
        b[c++] = "V:";
        b[c++] = this.Hd();
        b[c++] = "FEC:";
        b[c++] = this.xl();
        return b.join(" ")
    };
    f.wx = function () {
        return [this.Og, this.Bj, this.open, this.Mc, this.Bd, this.close, this.uf, this.Wi, this.rB, this.rj, this.DB, this.EB, this.$E]
    };

    function Wk(b, c, d, e, h, k, l, p, q, r, t, u, x) {
        this.Og = b;
        this.Bj = c;
        this.open = d;
        this.Mc = e;
        this.Bd = h;
        this.close = k;
        this.uf = l;
        this.Wi = p;
        this.rj = q;
        this.Vo = r;
        this.rB = t;
        this.uz = u;
        this.Wz = x
    }

    B(Wk, Uk);
    f = Wk.prototype;
    f.Og = 0;
    f.$i = function () {
        return this.Og
    };
    f.getTime = function () {
        return this.Og
    };
    f.Bj = 0;
    f.Bf = function () {
        return this.Bj
    };
    f.open = 0;
    f.zb = function () {
        return this.open
    };
    f.ge = function (b) {
        this.open = b
    };
    f.Mc = 0;
    f.bb = function () {
        return this.Mc
    };
    f.Tt = function (b) {
        this.Mc = b
    };
    f.Bd = 0;
    f.$a = function () {
        return this.Bd
    };
    f.Vt = function (b) {
        this.Bd = b
    };
    f.close = 0;
    f.jb = function () {
        return this.close
    };
    f.Gm = function () {
        return this.close
    };
    f.sA = function (b) {
        this.close = b
    };
    f.uf = 0;
    f.Hd = function () {
        return this.uf
    };
    f.dx = function (b) {
        this.uf = b
    };
    f.Wi = 0;
    f.xl = function () {
        return this.Wi
    };
    f.rj = !0;
    f.Fk = function () {
        return this.rj
    };
    f.Vo = 0;
    f.rB = 0;

    function hj(b) {
        return b.Vo > b.bb() ? b.Vo : b.bb()
    }

    function ij(b) {
        return b.Vo < b.$a() ? b.Vo : b.$a()
    }

    f.toString = function () {
        var b = [], c = 0;
        b[c++] = Gk.format(new Date(this.$i()));
        b[c++] = Gk.format(new Date(this.Bf()));
        b[c++] = "O:";
        b[c++] = this.zb().toFixed(5);
        b[c++] = "H:";
        b[c++] = this.bb().toFixed(5);
        b[c++] = "L:";
        b[c++] = this.$a().toFixed(5);
        b[c++] = "C:";
        b[c++] = this.jb().toFixed(5);
        b[c++] = "V:";
        b[c++] = this.Hd();
        b[c++] = "FEC:";
        b[c++] = this.xl();
        return b.join(" ")
    };
    f.wx = function () {
        return [this.Og, this.Bj, this.open, this.Mc, this.Bd, this.close, this.uf, this.Wi, this.rj, this.Vo, this.rB]
    };

    function Xk(b, c, d, e, h, k, l, p, q, r, t, u, x, A) {
        this.Og = b;
        this.Bj = c;
        this.open = d;
        this.Mc = e;
        this.Bd = h;
        this.close = k;
        this.uf = l;
        this.Wi = p;
        this.rj = q;
        this.$E = r;
        this.uz = x;
        this.Wz = A
    }

    B(Xk, Uk);
    f = Xk.prototype;
    f.Og = 0;
    f.$i = function () {
        return this.Og
    };
    f.getTime = function () {
        return this.Og
    };
    f.Bj = 0;
    f.Bf = function () {
        return this.Bj
    };
    f.open = 0;
    f.zb = function () {
        return this.open
    };
    f.ge = function (b) {
        this.open = b
    };
    f.Mc = 0;
    f.bb = function () {
        return this.Mc
    };
    f.Tt = function (b) {
        this.Mc = b
    };
    f.Bd = 0;
    f.$a = function () {
        return this.Bd
    };
    f.Vt = function (b) {
        this.Bd = b
    };
    f.close = 0;
    f.jb = function () {
        return this.close
    };
    f.Gm = function () {
        return this.close
    };
    f.sA = function (b) {
        this.close = b
    };
    f.uf = 0;
    f.Hd = function () {
        return this.uf
    };
    f.dx = function (b) {
        this.uf = b
    };
    f.Wi = 0;
    f.xl = function () {
        return this.Wi
    };
    f.rj = !0;
    f.Fk = function () {
        return this.rj
    };
    f.$E = !1;
    f.toString = function () {
        var b = [], c = 0;
        b[c++] = Gk.format(new Date(this.$i()));
        b[c++] = Gk.format(new Date(this.Bf()));
        b[c++] = "O:";
        b[c++] = this.zb().toFixed(5);
        b[c++] = "H:";
        b[c++] = this.bb().toFixed(5);
        b[c++] = "L:";
        b[c++] = this.$a().toFixed(5);
        b[c++] = "C:";
        b[c++] = this.jb().toFixed(5);
        b[c++] = "V:";
        b[c++] = this.Hd();
        b[c++] = "FEC:";
        b[c++] = this.xl();
        return b.join(" ")
    };
    f.wx = function () {
        return [this.Og, this.Bj, this.open, this.Mc, this.Bd, this.close, this.uf, this.Wi, this.rj]
    };

    function Yk(b, c, d, e, h, k, l, p, q, r, t, u, x) {
        this.Og = b;
        this.Bj = c;
        this.open = d;
        this.Mc = e;
        this.Bd = h;
        this.close = k;
        this.uf = l;
        this.Wi = p;
        this.rj = q;
        this.AH = r;
        this.pF = t;
        this.uz = u;
        this.Wz = x
    }

    B(Yk, Uk);
    f = Yk.prototype;
    f.Og = 0;
    f.$i = function () {
        return this.Og
    };
    f.getTime = function () {
        return this.Og
    };
    f.Bj = 0;
    f.Bf = function () {
        return this.Bj
    };
    f.open = 0;
    f.zb = function () {
        return this.open
    };
    f.ge = function (b) {
        this.open = b
    };
    f.Mc = 0;
    f.bb = function () {
        return this.Mc
    };
    f.Tt = function (b) {
        this.Mc = b
    };
    f.Bd = 0;
    f.$a = function () {
        return this.Bd
    };
    f.Vt = function (b) {
        this.Bd = b
    };
    f.close = 0;
    f.jb = function () {
        return this.close
    };
    f.Gm = function () {
        return this.close
    };
    f.sA = function (b) {
        this.close = b
    };
    f.uf = 0;
    f.Hd = function () {
        return this.uf
    };
    f.dx = function (b) {
        this.uf = b
    };
    f.Wi = 0;
    f.xl = function () {
        return this.Wi
    };
    f.rj = !0;
    f.Fk = function () {
        return this.rj
    };
    f.AH = 0;

    function mj(b) {
        return b.AH ? b.AH : b.zb()
    }

    f.pF = 0;

    function nj(b) {
        return b.pF ? b.pF : b.jb()
    }

    f.toString = function () {
        var b = [], c = 0;
        b[c++] = Gk.format(new Date(this.$i()));
        b[c++] = Gk.format(new Date(this.Bf()));
        b[c++] = "O:";
        b[c++] = this.zb().toFixed(5);
        b[c++] = "H:";
        b[c++] = this.bb().toFixed(5);
        b[c++] = "L:";
        b[c++] = this.$a().toFixed(5);
        b[c++] = "C:";
        b[c++] = this.jb().toFixed(5);
        b[c++] = "V:";
        b[c++] = this.Hd();
        b[c++] = "FEC:";
        b[c++] = this.xl();
        b[c++] = "W:";
        b[c++] = mj(this);
        b[c++] = "OW:";
        b[c++] = nj(this);
        return b.join(" ")
    };
    f.wx = function () {
        return [this.Og, this.Bj, this.open, this.Mc, this.Bd, this.close, this.uf, this.Wi, this.rj, this.AH, this.pF]
    };

    function Cj(b, c, d, e, h) {
        this.time = b;
        this.a = d;
        this.g = c;
        this.Cs = h;
        this.Ds = e
    }

    B(Cj, Bk);
    f = Cj.prototype;
    f.getTime = function () {
        return this.time
    };
    f.setTime = function (b) {
        this.time = b
    };
    f.ed = function () {
        return this.a
    };
    f.bb = function () {
        return this.a
    };
    f.hN = function (b) {
        this.a = b
    };
    f.fd = function () {
        return this.g
    };
    f.$a = function () {
        return this.g
    };
    f.iN = function (b) {
        this.g = b
    };
    f.G = function (b) {
        switch (b) {
            case "ASK":
                return this.ed();
            case "BID":
                return this.fd();
            default:
                throw Error('Unknown offer side: "' + b + '".');
        }
    };
    f.Hd = function (b) {
        switch (b) {
            case "ASK":
                return this.Cs;
            case "BID":
                return this.Ds;
            default:
                throw Error('Unknown offer side: "' + b + '".');
        }
    };
    f.toString = function () {
        var b = [], c = 0;
        b[c++] = Gk.format(new Date(this.getTime()));
        b[c++] = "ASK:";
        b[c++] = this.ed().toFixed(5);
        b[c++] = "BID:";
        b[c++] = this.fd().toFixed(5);
        b[c++] = "ASKVOL:";
        b[c++] = this.Cs;
        b[c++] = "BIDVOL:";
        b[c++] = this.Ds;
        return b.join(" ")
    };
    f.wx = function () {
        return [this.time, this.g, this.a, this.Ds, this.Cs]
    };

    function Zk(b, c) {
        cc.call(this, b, c)
    }

    B(Zk, cc);
    Zk.prototype.T = function (b, c, d, e) {
        var h = this.m;
        b.save();
        b.lineWidth = h.Pg();
        var k = null, l = null;
        E([{JJ: Cj.prototype.ed, color: h.j.Yk}, {JJ: Cj.prototype.fd, color: h.j.ik}], function (h) {
            b.strokeStyle = h.color;
            b.fillStyle = h.color;
            b.beginPath();
            for (var q = 0, r = c.length + 1; q < r; q++) {
                var t = c.kc(q, !0);
                if (!t) break;
                k ? (k = d.x(t.getTime()), l = e.y(h.JJ.call(t)), b.lineTo(k, l), b.arc(k, l, 1, 0, 2 * Math.PI, !0)) : (k = d.x(t.getTime()), l = e.y(h.JJ.call(t)), b.moveTo(k, l))
            }
            b.stroke();
            b.closePath()
        });
        b.restore()
    };

    function $k(b, c) {
        cc.call(this, b, c)
    }

    B($k, cc);
    $k.prototype.T = function (b, c, d, e) {
        var h = this.m;
        if (!(2 > c.length)) {
            b.save();
            b.lineWidth = h.Pg();
            if (h.j.jO) {
                b.strokeStyle = this.m.j.oq;
                b.beginPath();
                var k = c.kc(0, !0), l = d.x(k.getTime()), k = e.y((k.ed() + k.fd()) / 2);
                b.moveTo(l, k);
                for (var h = 1, p = c.length; h < p; h++) {
                    k = c.kc(h, !0);
                    if (!k) break;
                    l = d.x(k.getTime());
                    k = e.y((k.ed() + k.fd()) / 2);
                    b.lineTo(l, k);
                    b.arc(l, k, 1, 0, 2 * Math.PI, !0)
                }
                b.stroke();
                b.closePath()
            } else {
                var h = this.m, p = h.j.io, k = h.j.ho, q = h.j.Ql, h = {};
                h[p] = [];
                h[k] = [];
                h[q] = [];
                for (var r, t, u, x, A = 1, C = c.length; A < C; A++) r =
                    c.kc(A - 1), t = c.kc(A), u = d.x(r.getTime()), x = d.x(t.getTime()), r = e.y((r.ed() + r.fd()) / 2), t = e.y((t.ed() + t.fd()) / 2), r > t ? h[p].push([u, r], [x, t]) : r < t ? h[k].push([u, r], [x, t]) : h[q].push([u, r], [x, t]);
                for (l in h) if (h.hasOwnProperty(l)) {
                    b.beginPath();
                    b.strokeStyle = l;
                    c = h[l];
                    d = 1;
                    for (e = c.length; d < e; d += 2) b.moveTo(c[d - 1][0], c[d - 1][1]), b.lineTo(c[d][0], c[d][1]), b.arc(c[d][0], c[d][1], 1, 0, 2 * Math.PI, !0);
                    b.stroke();
                    b.closePath()
                }
            }
            b.restore()
        }
    };
    $k.prototype.Cw = function (b, c, d) {
        for (var e = 0, h = 0, k = 0, l = b.wi(); k < l; k++) b.Lh(k).gu && (h++, e += b.RD(k).qc);
        c.QF((e / h).toFixed(5), d, .4 > ec(d) ? fc.white : fc.black)
    };

    function al(b, c, d, e, h, k) {
        this.pf = b;
        this.name = c;
        this.$k = d;
        this.lg = e;
        this.interval = this.Y();
        this.m = !1;
        this.g = null;
        b = h || {};
        this.Xj = null != k ? k : 1;
        this.F = b.VW || 10;
        this.w = b.OR || 5;
        this.K = b.iY || 1
    }

    var bj, bl, cl, dl, el, fl, gl, hl, il, jl, kl, ll, ml, nl, ol, pl, ql, rl, sl, tl, ul, vl, wl, xl;

    function yl(b, c, d, e) {
        return new al(b, c, d, e)
    }

    function zl(b) {
        for (var c in Al) if (Al.hasOwnProperty(c) && b == Al[c].interval) return Al[c];
        return null
    }

    f = al.prototype;
    f.Vd = function (b) {
        return null != b && this.interval < b.interval
    };

    function Bl(b, c) {
        return null != c && b.interval <= c.interval
    }

    function Cl(b, c) {
        return null != c && b.interval == c.interval && b.lg == c.lg
    }

    f.xc = function () {
        return this.$k
    };
    f.Eo = function (b) {
        this.$k = b;
        this.interval = this.Y()
    };
    f.l7 = function () {
        return this.lg
    };
    f.Y = function () {
        return this.$k ? this.$k.interval * this.lg : -1
    };
    f.getName = function () {
        return this.name
    };
    f.bda = function (b) {
        if (oa(b)) this.a = b; else if (ka(b)) b = new sk(b), this.a = v(b.format, b); else throw Error("Incorrect argument to dc.Period.setDateFormat: " + b.toString());
    };
    f.Yh = function (b) {
        this.m = b
    };
    f.Fe = function () {
        return this.m
    };
    f.J4 = function (b) {
        this.g = b
    };
    f.p8 = function () {
        return this.g
    };
    f.gT = function () {
        return this.Xj
    };
    f.KX = function (b) {
        this.Xj = b
    };
    f.toString = function () {
        return this.lg + this.xc().a
    };
    var Dl = 0;
    bl = new al(Dl++, "TICK", vg, 1E3, {VW: 1, OR: 20, iY: 10});
    bl.toString = qf("TICK");
    cl = new al(Dl++, "ONE_SEC", wg, 1, {VW: 1, OR: 20, iY: 10});
    dl = new al(Dl++, "TWO_SECS", wg, 2);
    el = new al(Dl++, "TEN_SECS", wg, 10);
    fl = new al(Dl++, "THIRTY_SECS", wg, 30);
    gl = new al(Dl++, "ONE_MIN", xg, 1);
    hl = new al(Dl++, "FIVE_MINS", xg, 5);
    il = new al(Dl++, "TEN_MINS", xg, 10, null, 10);
    jl = new al(Dl++, "FIFTEEN_MINS", xg, 15, null, 15);
    kl = new al(Dl++, "TWENTY_MINS", xg, 20);
    ll = new al(Dl++, "THIRTY_MINS", xg, 30, null, 30);
    ml = new al(Dl++, "ONE_HOUR", yg, 1);
    nl = new al(Dl++, "TWO_HOURS", yg, 2);
    ol = new al(Dl++, "FOUR_HOURS", yg, 4);
    pl = new al(Dl++, "EIGHT_HOURS", yg, 8);
    ql = new al(Dl++, "TWELVE_HOURS", yg, 12);
    rl = new al(Dl++, "DAILY", zg, 1);
    sl = new al(rl.pf, "DAILY_SUNDAY_IN_MONDAY", zg, 1);
    tl = new al(rl.pf, "DAILY_SKIP_SUNDAY", zg, 1);
    bj = new al(Dl++, "WEEKLY", Ag, 1, null, 7);
    ul = new al(Dl++, "MONTHLY", Bg, 1, null, 30);
    vl = new al(Dl++, "SIX_MONTH", Bg, 6);
    wl = new al(Dl++, "ONE_YEAR", Cg, 1);
    xl = new al(Dl++, "FIVE_YEARS", Cg, 5);
    var Al = [];
    Al[bl.pf] = bl;
    Al[cl.pf] = cl;
    Al[dl.pf] = dl;
    Al[el.pf] = el;
    Al[fl.pf] = fl;
    Al[gl.pf] = gl;
    Al[hl.pf] = hl;
    Al[il.pf] = il;
    Al[jl.pf] = jl;
    Al[kl.pf] = kl;
    Al[ll.pf] = ll;
    Al[ml.pf] = ml;
    Al[nl.pf] = nl;
    Al[ol.pf] = ol;
    Al[pl.pf] = pl;
    Al[ql.pf] = ql;
    Al[rl.pf] = rl;
    Al[bj.pf] = bj;
    Al[ul.pf] = ul;
    Al[wl.pf] = wl;
    al.prototype.Zb = function () {
        return this.pf.toString()
    };

    function El(b) {
        return Al[b]
    }

    var Fl = [bl, el, gl, ml, rl], Gl = [bl, el, gl, ll, ml, rl], Hl = [bl, el, gl, il, jl, ll, ml, rl, bj, ul];

    function Il(b) {
        switch (b) {
            case wl:
                return bj;
            case ul:
                return rl;
            case bj:
                return rl;
            case ql:
            case rl:
            case sl:
            case tl:
                return ml;
            case pl:
                return il;
            case nl:
            case ol:
                return hl;
            case ll:
            case ml:
                return gl;
            case jl:
            case kl:
                return fl;
            case hl:
            case il:
                return el;
            case bl:
                return !1;
            case cl:
            case dl:
            case el:
                return bl;
            default:
                return cl
        }
    }

    function Jl(b, c) {
        switch (b) {
            case wl:
                return c == wl || c == ul || c == bj;
            case ul:
                return c == ul || c == bj || c == rl;
            case bj:
                return c == bj || c == rl || c == ql || c == pl;
            case rl:
                return c == rl || c == sl || c == tl || c == ql || c == pl || c == ol || c == nl || c == ml;
            case sl:
                return c == rl || c == sl || c == tl || c == ql || c == pl || c == ol || c == nl || c == ml;
            case tl:
                return c == rl || c == sl || c == tl || c == ql || c == pl || c == ol || c == nl || c == ml;
            case ql:
                return c == ql || c == pl || c == ol || c == nl || c == ml;
            case pl:
                return c == pl || c == ol || c == nl || c == ml;
            case ol:
                return c == ol || c == nl || c == ml || c == ll || c == kl || c == jl || c == il ||
                    c == hl;
            case nl:
                return c == nl || c == ml || c == ll || c == kl || c == jl;
            case ml:
                return c == ml || c == ll || c == kl || c == jl || c == il || c == hl || c == gl;
            case ll:
                return c == ll || c == kl || c == jl || c == il || c == hl || c == gl;
            case kl:
                return c == kl || c == jl || c == il || c == hl || c == gl || c == fl;
            case jl:
                return c == jl || c == il || c == hl || c == gl || c == fl || c == el;
            case il:
                return c == il || c == hl || c == gl || c == fl || c == el;
            case hl:
                return c == hl || c == gl || c == fl || c == el || c == dl;
            case gl:
                return c == gl || c == fl || c == el || c == dl || c == cl;
            case fl:
                return c == fl || c == el || c == dl || c == cl;
            case el:
                return c == el || c == dl ||
                    c == cl || c == bl;
            case dl:
                return c == dl || c == cl || c == bl;
            case cl:
                return c == cl || c == bl;
            case bl:
                return c == bl
        }
    };

    function vj(b, c, d) {
        function e(b, c) {
            return b ? Kl(c - c % 36E5, d) : 0
        }

        null != d && (Ll = d);
        var h = b.Fe(), k = e(h, c), l = new Date(c), p = b.xc();
        switch (!0) {
            case p == vg || p.df(vg):
            case p == wg || p.df(wg):
            case p == xg || p.df(xg):
            case p == yg || p.df(yg):
                return c -= (c + k) % b.Y(), c + k - e(h, c);
            case p == zg || p.df(zg):
                return c -= (c + k) % b.Y(), c - (c + e(h, c)) % b.Y();
            case p == Ag || p.df(Ag):
                return l.setTime(l.getTime() + e(h, l.getTime())), b = l.getUTCDay() ? l.getUTCDay() - 1 : 6, l.setUTCHours(0, 0, 0, 0), l.setTime(l.getTime() - 864E5 * b), l.setTime(l.getTime() - e(h, l.getTime())),
                    l.getTime();
            case p == Bg || p.df(Bg):
                return l.setTime(l.getTime() + e(h, l.getTime())), l.setUTCHours(0, 0, 0, 0), l.setTime(l.getTime()), 1 < b.lg && (c = l.getUTCMonth() + 1, c -= c % b.lg, l.setUTCMonth(c)), l.setUTCDate(1), l.setTime(l.getTime() - e(h, l.getTime())), l.getTime();
            case p == Cg || p.df(Cg):
                return l.setTime(l.getTime() + e(h, l.getTime())), l.setUTCHours(0, 0, 0, 0), l.setTime(l.getTime()), l.setUTCDate(1), l.setUTCMonth(0), c = l.getUTCFullYear(), c -= c % b.lg, l.setUTCFullYear(c), l.setTime(l.getTime() - e(h, l.getTime())), l.getTime();
            default:
                throw Error('Unsupported period: "' + b + '".');
        }
    }

    function Ml(b, c) {
        return Nl(b, c, !1, void 0)
    }

    function Nl(b, c, d, e) {
        var h = b.Fe();
        b.Yh(d);
        c = vj(b, c, e);
        b.Yh(h);
        return c
    }

    var Ll = null;

    function Ol(b, c, d, e) {
        return Math.max(b, d) <= Math.min(c, e)
    }

    function Pl(b, c, d) {
        return vj(b, c + -1 * b.Y() * Math.abs(d || 1))
    }

    function Ql(b, c, d) {
        return vj(b, c + b.Y() * Math.abs(d || 1))
    }

    var Rl = {};
    Rl[vg] = Rl[wg] = gl;
    Rl[xg] = ml;
    Rl[yg] = rl;
    Rl[zg] = bj;
    Rl[Ag] = ul;
    Rl[Bg] = Rl[Cg] = wl;

    function Sl(b) {
        return Rl[b]
    }

    function Tl(b, c) {
        for (var d = c || Fl, e = d[0], h = 0; h < d.length; h++) {
            var k = d[h];
            if (b.Vd(k) && 0 !== b.Y() % k.Y()) return e.Yh(b.Fe()), e;
            e = k
        }
        e.Yh(b.Fe());
        return e
    }

    function Ul(b) {
        b = new Date(b);
        if (0 != b.getUTCDay() || b.getUTCHours() < Vl(b)) {
            var c = 0 == b.getUTCDay() ? 7 : b.getUTCDay();
            b.setUTCDate(b.getUTCDate() - c)
        }
        b.setUTCHours(Vl(b), 0, 0, 0);
        return b.getTime()
    }

    function Wl(b) {
        b = new Date(b);
        var c = 0 == b.getUTCDay() ? 7 : b.getUTCDay();
        b.setUTCDate(b.getUTCDate() - c + 5);
        b.setUTCHours(Vl(b), 0, 0, 0);
        return b.getTime()
    }

    function Xl(b) {
        b = new Date(b);
        var c = 0 == b.getUTCDay() ? 7 : b.getUTCDay();
        b.setUTCDate(b.getUTCDate() - c + 7);
        b.setUTCHours(Vl(b), 0, 0, 0);
        return b.getTime()
    }

    function Yl(b) {
        b = new Date(b);
        var c = 0 == b.getUTCDay() ? 7 : b.getUTCDay();
        b.setUTCDate(b.getUTCDate() - 7 - c);
        b.setUTCHours(Vl(b), 0, 0, 0);
        return b.getTime()
    }

    function Zl(b) {
        b = new Date(b);
        var c = 0 == b.getUTCDay() ? 7 : b.getUTCDay();
        b.setUTCDate(b.getUTCDate() - c + 5 - 7);
        b.setUTCHours(Vl(b), 0, 0, 0);
        return b.getTime()
    }

    function $l(b, c) {
        var d = new Date(b), e = d.getUTCDay(), h = d.getUTCHours();
        return c && "24/7" == c ? !0 : 6 != e && !(0 == e && h < Vl(d)) && !(5 == e && h >= Vl(d))
    }

    function fj(b, c) {
        if (b == c) return !0;
        var d = b;
        b < c && (b = c, c = d);
        d = Ul(b);
        if (d <= c) return !0;
        var e = Ul(c);
        return d == e
    }

    function am(b) {
        return new Cj(1 * b[0], 1 * b[1], 1 * b[2], 1 * b[3] / 1E6, 1 * b[4] / 1E6)
    }

    function bm(b) {
        return new Hk(1 * b[0], 1 * b[1], 1 * b[2], 1 * b[3], 1 * b[4], 1 * b[5], 1 * b[6], b.real_time)
    }

    function cm(b) {
        return new Yk(1 * b[0], 1 * b[1], 1 * b[2], 1 * b[3], 1 * b[4], 1 * b[5], 1 * b[6], 1 * b[7], !!b[8], 1 * b[9], 1 * b[10], 1 * b[11], 1 * b[12])
    }

    function dm(b) {
        return new Xk(1 * b[0], 1 * b[1], 1 * b[2], 1 * b[3], 1 * b[4], 1 * b[5], 1 * b[6], 1 * b[7], !!b[8], !!b[9], 0, 0, 1 * b[12], 1 * b[13])
    }

    function em(b) {
        return new Vk(1 * b[0], 1 * b[1], 1 * b[2], 1 * b[3], 1 * b[4], 1 * b[5], 1 * b[6], 1 * b[7], 1 * b[8], !!b[9], b[10], b[11], !!b[12], 1 * b[15], 1 * b[16])
    }

    function fm(b) {
        return new Wk(1 * b[0], 1 * b[1], 1 * b[2], 1 * b[3], 1 * b[4], 1 * b[5], 1 * b[6], 1 * b[7], !!b[8], 1 * b[9], 1 * b[10], 1 * b[13], 1 * b[14])
    }

    function gm(b) {
        switch (b) {
            case 1:
                return am;
            case 5:
            case 2:
                return bm;
            case 6:
                return cm;
            case 4:
                return dm;
            case 7:
                return em;
            case 8:
                return fm;
            default:
                throw Error('No data factory for data type: "' + b + '"!');
        }
    }

    function hm(b, c, d, e) {
        if ("ASK" == c) if (c = d + e, b = b.$c() + 1, d = !1, 0 > c && (d = !0, c = -c), 0 == c) b = c; else {
            for (e = 1; 0 < b;) e *= 10, --b;
            for (; 0 > b && 1 <= c * e / 10;) e /= 10, ++b;
            for (; 0 >= b && 1 > c * e;) e *= 10;
            c = (c * e + .5) / e;
            b = d ? -c : c
        } else if (c = d - e, b = b.$c() + 1, d = !1, 0 > c && (d = !0, c = -c), 0 == c) b = c; else {
            for (e = 1; 0 < b;) e *= 10, --b;
            for (; 0 > b && 1 <= c * e / 10;) e /= 10, ++b;
            for (; 0 >= b && 0 >= b && 1 > c * e;) e *= 10;
            c = Math.ceil(c * e - .5);
            c /= e;
            b = d ? -c : c
        }
        return b
    }

    var im = {};

    function Kl(b, c) {
        var d = b ? new Date(b) : new Date, e = null != c ? c : Ll;
        if (im[d.getTime()]) return im[d.getTime()];
        if (e) return e = 7 + e.ct(d) / 60, im[d.getTime()] = 36E5 * e, im[d.getTime()];
        var h = new Date(d.getFullYear(), 2, 1), k = new Date(d.getFullYear(), 10, 1);
        h.setTime(h.getTime() + 864E5 * ((14 - h.getDay()) % 7 + 7));
        0 !== k.getDay() && k.setTime(k.getTime() + 864E5 * ((0 - k.getDay()) % 7 + 7));
        e = 2;
        d.getTime() >= h.getTime() && d.getTime() < k.getTime() && (e = 3);
        im[d.getTime()] = 36E5 * e;
        return im[d.getTime()]
    }

    function Vl(b) {
        if (Ll) return 5 + Ll.ct(b) / 60 ? 21 : 22;
        var c = new Date(b.getFullYear(), 0, 1), d = new Date(b.getFullYear(), 6, 1),
            c = Math.max(c.getTimezoneOffset(), d.getTimezoneOffset());
        return b.getTimezoneOffset() < c ? 21 : 22
    }

    function jm(b) {
        return 6 === b || 4 === b || 7 === b || 8 === b
    };

    function km(b) {
        this.o = b;
        this.fb = this.o.sb();
        this.sr = 45
    }

    var lm = new sk("dd.MM.yyyy"), mm = new sk("dd"), nm = new sk("MMM"), om = new sk("yyyy");

    function pm(b) {
        if (oa(b.a)) return b.a;
        b = b.Y();
        switch (!0) {
            case 1E3 >= b:
                b = qm;
                break;
            case 6E4 >= b:
                b = rm;
                break;
            case 36E5 > b:
                b = sm;
                break;
            case 864E5 > b:
                b = tm;
                break;
            default:
                b = um
        }
        return v(b.format, b)
    }

    var qm = new sk("HH:mm:ss"), rm = new sk("HH:mm:ss"), sm = new sk("HH:mm"), tm = new sk("HH:mm"), um = new sk("dd"),
        vm = new Date;
    f = km.prototype;
    f.T = function (b, c) {
        var d = this.o, e = d.fa(), h = e.j.ps, k = e.j.hd, l = d.za,
            p = d.Qa().t(d.pa + 1.5 * this.fb.be()) + wm(this).Y() + xm(this), q = d.getContext(), r = c || pm(d.W()),
            t, u = 2 * this.fb.be() / this.sr * 2, h = d.je().height + h / 2 + k / 4 | 0, k = [];
        q.save();
        q.textBaseline = "middle";
        q.fillStyle = e.j.wd;
        q.fillRect(l.left, l.top, l.width + 1, l.height);
        q.fillStyle = e.j.Yc;
        e = this.Qg();
        for (l = 0; e <= p && !(++l > u); e += this.pe()) {
            var e = this.DF(e), x = e - xm(this), A = !$l(x, ym(this.o)) && 1 !== d.YS(), C;
            C = x;
            var I = this.o, N = I.W(), S = I.pa, I = I.Qa();
            C = !N.Vd(ol) && vj(N, C) <
            C ? I.x(vj(N, C + N.Y())) - S : I.x(vj(N, C)) - S;
            if (!isNaN(e)) {
                vm.setTime(x);
                if (zm(this, e)) {
                    if (void 0 != t && C - t < this.sr) if (k.length && (new Date(e)).getUTCMonth() != k[k.length - 1].Ir) k.pop(); else continue;
                    k.push({x: C, bold: !0, Ir: (new Date(e)).getUTCMonth(), label: Am(this, e)})
                } else {
                    if (void 0 != t && C - t < this.sr) continue;
                    k.push({x: C, bold: !1, Ir: vm.getUTCMonth(), label: r(vm, d.Ic(e))})
                }
                t = C;
                A && wm(this).Vd(rl) && !this.o.ma().gB && !this.o.ma().xc() && (e = this.DF(Xl(e)))
            }
        }
        Bm(this, k, h, p);
        this.wJ(h - 1 | 0);
        q.restore()
    };

    function zm(b, c) {
        var d = b.o, e = d.W();
        return d.j.ry && (e.Vd(rl) && 0 == c % rl.Y() || !e.Vd(rl) && c == Ml(ul, c))
    }

    function Bm(b, c, d, e) {
        var h = b.o, k = h.fa(), l = h.getContext(), p = 0;
        E(c, function (b) {
            p = l.measureText(b.label).width;
            l.font = b.bold ? "bold " + 1.2 * k.j.hd + "px " + k.j.mf : .9 * k.j.hd + "px " + k.j.mf;
            if (b.x + p / 2 < e) {
                l.fillText(Cm(b.label), b.x - p / 2, d - 1);
                b = b.x;
                var c = this.o, h = c.fa(), u = c.za, c = c.getContext();
                b |= 0;
                b > u.left + u.width - 1 || (c.save(), c.beginPath(), c.strokeStyle = h.j.le, c.moveTo(b + .5, 0), c.lineTo(b + .5, u.top - 1), c.stroke(), c.closePath(), c.restore())
            }
        }, b)
    }

    f.wJ = function (b) {
        var c = this.o, d = c.fa(), e = c.getContext(), h = c.za, k = c.Qa().t(c.pa + this.fb.be());
        vm.setTime(k);
        e.fillStyle = d.j.wd;
        e.fillRect(h.left + h.width + 1, h.top, h.width + 1, h.height);
        e.fillStyle = d.j.Yc;
        e.font = .9 * d.j.hd + "px " + d.j.mf;
        e.fillText(Cm(lm.format(vm, c.Ic(k))), h.left + h.width, b)
    };

    function Am(b, c) {
        var d = b.o;
        vm.setTime(c);
        var e = vm.getUTCDate(), h = vm.getUTCMonth();
        return (1 == e && 0 == h ? om : 1 == e ? nm : mm).format(vm, d.Ic(c))
    }

    f.Qg = function () {
        var b = this.o, c = b.pa, b = b.Qa(), d = wm(this);
        Cl(d, vl) && (d = wl);
        return Ml(d, b.t(c - this.fb.be() / 2)) + xm(this)
    };

    function xm(b) {
        return 6E4 * b.o.Ic().Un().std_offset
    }

    f.pe = function () {
        return Cl(wm(this), bj) ? 2.5 * wm(this).Y() : 1.5 * wm(this).Y()
    };
    f.DF = function (b) {
        var c = wm(this);
        b = Ml(c, b);
        var d = new Date(b);
        Cl(c, bj) && (10 > d.getUTCDate() ? d.setUTCDate(1) : 20 > d.getUTCDate() ? d.setUTCDate(10) : 30 > d.getUTCDate() ? d.setUTCDate(20) : (d.setTime(d.getTime() + c.Y()), d.setUTCDate(1)), b = d.getTime());
        return b
    };
    var Dm = [cl, el, fl, gl, hl, il, jl, ll, ml, nl, ol, pl, ql, rl, bj, ul, vl, wl, xl];

    function wm(b) {
        var c = b.o, d = b.fb, e = c.W(), h;
        a:switch (h = b.o.W(), !0) {
            case Cl(h, jl):
                h = [cl, el, fl, gl, hl, jl, ll, ml, nl, ol, pl, ql, rl, bj, ul, vl, wl, xl];
                break a;
            default:
                h = Dm
        }
        for (var k = Em(b), l = h.indexOf(k); l < h.length && !(k = h[l], d.be() / (c.Af() / (h[l].Y() / e.Y())) >= b.sr); l++) ;
        return k
    }

    function Em(b) {
        b = b.o.W();
        switch (!0) {
            case b.Vd(gl):
                return cl;
            case !b.Vd(gl) && b.Vd(ml):
                return hl;
            case !b.Vd(ml) && b.Vd(rl):
                return nl;
            case !b.Vd(rl) && b.Vd(bj):
                return bj;
            case !b.Vd(bj) && b.Vd(ul):
                return ul;
            case !b.Vd(ul):
                return vl
        }
    };

    function Fm(b) {
        km.call(this, b);
        this.o = b;
        this.fb = this.o.sb();
        this.sr = 45
    }

    B(Fm, km);
    var Gm = new sk("dd.MM.yyyy");
    f = Fm.prototype;
    f.T = function (b, c) {
        if (this.o.eb().ue()) {
            var d = this.o, e = d.fa(), h = e.j.ps, k = e.j.hd, l = d.za, p = d.getContext(), q = d.Qa(), r = this.Qg(),
                t = q.t(d.pa + d.je().width), h = d.je().height + h / 2 + k / 4 | 0, k = [], u = 0,
                x = Hm(this, r, r, t);
            p.save();
            p.textBaseline = "middle";
            p.fillStyle = e.j.wd;
            p.fillRect(l.left, l.top, l.width + 1, l.height);
            p.fillStyle = e.j.Yc;
            for (e = r; e <= t; x = Hm(this, e, r, t), e += x[1]) {
                var l = this.DF(e, x[0]), A = q.x(l) - this.fb.Ca() / 2 - d.pa, C = c || pm(x[0]);
                if (zm(this, l)) {
                    if (void 0 != u && A - u < this.sr) if (k.length && !k[k.length - 1].bold) k.pop();
                    else continue;
                    k.push({x: A, bold: !0, Ir: (new Date(l)).getUTCMonth(), label: Am(this, l)})
                } else {
                    if (void 0 != u && A - u < this.sr) continue;
                    k.push({x: A, bold: !1, Ir: (new Date(l)).getUTCMonth(), label: C(new Date(l), d.Ic(l))})
                }
                u = A
            }
            Bm(this, k, h, t);
            this.wJ(h - 1 | 0);
            p.restore()
        }
    };
    f.DF = function (b, c) {
        var d = Ml(c, b), e = new Date(d);
        Cl(c, bj) && (10 > e.getUTCDate() ? e.setUTCDate(1) : 20 > e.getUTCDate() ? e.setUTCDate(10) : 30 > e.getUTCDate() ? e.setUTCDate(20) : (e.setTime(e.getTime() + c.Y()), e.setUTCDate(1)), d = e.getTime());
        return d
    };
    f.dm = {};
    f.dk = 0;
    f.V3 = [cl, dl, el, fl, gl, hl, il, jl, kl, ll, ml, nl, ol, pl, ql, rl, bj, ul, wl];

    function Hm(b, c, d, e) {
        var h = b.o.eb(), k = b.fb.Af();
        d = (e - d) / (b.fb.be() / b.sr | 0);
        e = b.V3;
        if (c < h.Qg()) return b.dk = wm(b).Y(), [wm(b), b.dk];
        if (c + b.dk > h.Th().Bf()) return k = h.Th().Bf() - c, h = wm(b), b.dk = h.Y(), 0 < k ? [h, b.jx(h, c + b.dk + k) - c] : [h, b.dk];
        if (b.dm[k]) return b.dk = b.dm[k].Y(), [b.dm[k], b.dk];
        if (d >= e[e.length - 1].Y()) return b.dm[k] = e[e.length - 1], b.dk = b.dm[k].Y(), [b.dm[k], b.dk];
        c = 1;
        for (h = e.length - 1; c < h; c++) if (d >= e[c].Y() && d < e[c + 1].Y()) return b.dm[k] = e[c - 1], b.dk = b.dm[k].Y(), [b.dm[k], b.dk];
        b.dm[k] = rl;
        b.dk = b.dm[k].Y();
        return [b.dm[k], b.dk]
    }

    f.Qg = function () {
        var b = this.o, c = b.pa, d = b.Fe(), b = b.Qa();
        return Nl(bj, b.t(c), d)
    };
    f.jx = function (b, c) {
        return Nl(b, c, this.o.Fe())
    };
    f.wJ = function (b) {
        var c = this.o, d = c.fa(), e = c.getContext(), h = c.za, k = c.Qa().t(c.pa + this.fb.be());
        e.fillStyle = d.j.wd;
        e.fillRect(h.left + h.width + 1, h.top, h.width + 1, h.height);
        e.fillStyle = d.j.Yc;
        e.font = .9 * d.j.hd + "px " + d.j.mf;
        e.fillText(Cm(Gm.format(new Date(k), c.Ic(k))), h.left + h.width, b)
    };
    var Im;
    a:{
        var Jm = ba.navigator;
        if (Jm) {
            var Km = Jm.userAgent;
            if (Km) {
                Im = Km;
                break a
            }
        }
        Im = ""
    }

    function Lm(b) {
        return Mh(Im, b)
    };

    function Mm() {
        return (Lm("Chrome") || Lm("CriOS")) && !Lm("Edge")
    };

    function Nm(b) {
        ba.setTimeout(function () {
            throw b;
        }, 0)
    }

    var Om;

    function Pm() {
        var b = ba.MessageChannel;
        "undefined" === typeof b && "undefined" !== typeof window && window.postMessage && window.addEventListener && !Lm("Presto") && (b = function () {
            var b = document.createElement(String(oe));
            b.style.display = "none";
            b.src = "";
            document.documentElement.appendChild(b);
            var c = b.contentWindow, b = c.document;
            b.open();
            b.write("");
            b.close();
            var d = "callImmediate" + Math.random(),
                e = "file:" == c.location.protocol ? "*" : c.location.protocol + "//" + c.location.host,
                b = v(function (b) {
                    if (("*" == e || b.origin == e) && b.data ==
                        d) this.port1.onmessage()
                }, this);
            c.addEventListener("message", b, !1);
            this.port1 = {};
            this.port2 = {
                postMessage: function () {
                    c.postMessage(d, e)
                }
            }
        });
        if ("undefined" !== typeof b && !Lm("Trident") && !Lm("MSIE")) {
            var c = new b, d = {}, e = d;
            c.port1.onmessage = function () {
                if (ca(d.next)) {
                    d = d.next;
                    var b = d.wQ;
                    d.wQ = null;
                    b()
                }
            };
            return function (b) {
                e.next = {wQ: b};
                e = e.next;
                c.port2.postMessage(0)
            }
        }
        return "undefined" !== typeof document && "onreadystatechange" in document.createElement(String(Ie)) ? function (b) {
            var c = document.createElement(String(Ie));
            c.onreadystatechange = function () {
                c.onreadystatechange = null;
                c.parentNode.removeChild(c);
                c = null;
                b();
                b = null
            };
            document.documentElement.appendChild(c)
        } : function (b) {
            ba.setTimeout(b, 0)
        }
    }

    var Qm = vc;

    function Rm(b, c) {
        Sm || Tm();
        Wm || (Sm(), Wm = !0);
        Xm.add(b, c)
    }

    var Sm;

    function Tm() {
        var b = ba.Promise;
        if (-1 != String(b).indexOf("[native code]")) {
            var c = b.resolve(void 0);
            Sm = function () {
                c.then(Ym)
            }
        } else Sm = function () {
            var b = Ym, b = Qm(b);
            !oa(ba.setImmediate) || ba.Window && ba.Window.prototype && !Lm("Edge") && ba.Window.prototype.setImmediate == ba.setImmediate ? (Om || (Om = Pm()), Om(b)) : ba.setImmediate(b)
        }
    }

    var Wm = !1, Xm = new Dj;

    function Ym() {
        for (var b = null; b = Xm.remove();) {
            try {
                b.Kh.call(b.a)
            } catch (c) {
                Nm(c)
            }
            yd(Fj, b)
        }
        Wm = !1
    };

    function Zm() {
        return Lm("iPhone") && !Lm("iPod") && !Lm("iPad")
    };

    function sd(b, c, d) {
        return Math.min(Math.max(b, c), d)
    }

    function Gc(b, c, d) {
        return b + d * (c - b)
    }

    function $m(b, c, d) {
        return Math.abs(b - c) <= (d || 1E-6)
    }

    function an(b) {
        return 0 < b ? 1 : 0 > b ? -1 : b
    }

    function bn(b) {
        return ud(arguments, function (b, d) {
            return b + d
        }, 0)
    }

    function cn(b) {
        return bn.apply(null, arguments) / arguments.length
    };

    function dn() {
        this.a = 5;
        this.Mg = this.a - 2
    }

    f = dn.prototype;
    f.Ca = function () {
        return this.a
    };
    f.be = function () {
        return this.g
    };
    f.gn = function (b) {
        this.g = b;
        en(this)
    };
    f.Af = function () {
        return this.ol
    };
    f.w5 = function () {
        if (1 >= this.a) return !1;
        var b = Math.round(this.g / (this.a - 2));
        if (isFinite(b) && 2E3 <= b) return !1;
        this.a = xb(this.a - 2, 1);
        this.Mg = fn(this);
        en(this);
        return !0
    };
    f.uaa = function () {
        if (73 <= this.a || 10 >= Math.round(this.g / (this.a + 2))) return !1;
        this.a = Math.min(73, this.a + 2);
        this.Mg = fn(this);
        en(this);
        return !0
    };
    f.VQ = function (b) {
        b = sd(b, 1, 73);
        if (10 >= Math.round(this.g / b)) return !1;
        this.a = b;
        this.Mg = fn(this);
        en(this);
        return !0
    };
    f.wy = function (b) {
        b = sd(b, 1, 73);
        if (10 >= Math.round(this.g / b)) return !1;
        this.a = b;
        this.Mg = fn(this);
        en(this);
        return !0
    };
    f.qN = function (b) {
        this.ol = gn(this, b)
    };

    function gn(b, c) {
        var d = b.g / c;
        if (1 > d) {
            if (1 >= b.a) return b.ol;
            d = 1
        } else if (73 < d) {
            if (73 <= b.a) return b.ol;
            d = 73
        }
        0 == d % 2 && (d += 1);
        c = Math.round(b.g / d);
        b.a = d;
        b.Mg = fn(b);
        return c
    }

    function en(b) {
        var c = b.g / b.a | 0;
        b.ol = 2E3 < c ? gn(b, 2E3) : c
    }

    function fn(b) {
        return xb(1, b.a - 2 * (1 + (b.a / 10 | 0))) | 1
    };

    function hn(b) {
        var c = {};
        b = String(b);
        var d = jn(b);
        if (kn.test(d)) return c.dj = ln(d), c.type = "hex", c;
        d = mn(b);
        if (d.length) return c.dj = nn(d), c.type = "rgb", c;
        if (fc && (d = fc[b.toLowerCase()])) return c.dj = d, c.type = "named", c;
        throw Error(b + " is not a valid color string");
    }

    var on = /#(.)(.)(.)/;

    function ln(b) {
        if (!kn.test(b)) throw Error("'" + b + "' is not a valid hex color");
        4 == b.length && (b = b.replace(on, "#$1$1$2$2$3$3"));
        return b.toLowerCase()
    }

    function pn(b) {
        b = ln(b);
        return [parseInt(b.substr(1, 2), 16), parseInt(b.substr(3, 2), 16), parseInt(b.substr(5, 2), 16)]
    }

    function qn(b, c, d) {
        b = Number(b);
        c = Number(c);
        d = Number(d);
        if (b != (b & 255) || c != (c & 255) || d != (d & 255)) throw Error('"(' + b + "," + c + "," + d + '") is not a valid RGB color');
        b = rn(b.toString(16));
        c = rn(c.toString(16));
        d = rn(d.toString(16));
        return "#" + b + c + d
    }

    function nn(b) {
        return qn(b[0], b[1], b[2])
    }

    function sn(b, c, d) {
        0 > d ? d += 1 : 1 < d && --d;
        return 1 > 6 * d ? b + 6 * (c - b) * d : 1 > 2 * d ? c : 2 > 3 * d ? b + (c - b) * (2 / 3 - d) * 6 : b
    }

    var kn = /^#(?:[0-9a-f]{3}){1,2}$/i, tn = /^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;

    function mn(b) {
        var c = b.match(tn);
        if (c) {
            b = Number(c[1]);
            var d = Number(c[2]), c = Number(c[3]);
            if (0 <= b && 255 >= b && 0 <= d && 255 >= d && 0 <= c && 255 >= c) return [b, d, c]
        }
        return []
    }

    function rn(b) {
        return 1 == b.length ? "0" + b : b
    }

    function jn(b) {
        return "#" == b.charAt(0) ? b : "#" + b
    }

    function un(b, c, d) {
        var e = 0, h = 0, k = 0;
        if (0 == c) k = h = e = d; else {
            var l = Math.floor(b / 60), p = b / 60 - l;
            b = d * (1 - c);
            var q = d * (1 - c * p);
            c = d * (1 - c * (1 - p));
            switch (l) {
                case 1:
                    e = q;
                    h = d;
                    k = b;
                    break;
                case 2:
                    e = b;
                    h = d;
                    k = c;
                    break;
                case 3:
                    e = b;
                    h = q;
                    k = d;
                    break;
                case 4:
                    e = c;
                    h = b;
                    k = d;
                    break;
                case 5:
                    e = d;
                    h = b;
                    k = q;
                    break;
                case 6:
                case 0:
                    e = d, h = c, k = b
            }
        }
        return [Math.floor(e), Math.floor(h), Math.floor(k)]
    };

    function vn(b) {
        var c = {};
        b = String(b);
        var d = jn(b);
        if (wn.test(d)) return c.dj = xn(d), c.type = "hex", c;
        a:{
            var e = b.match(yn);
            if (e) {
                var d = Number(e[1]), h = Number(e[2]), k = Number(e[3]), e = Number(e[4]);
                if (0 <= d && 255 >= d && 0 <= h && 255 >= h && 0 <= k && 255 >= k && 0 <= e && 1 >= e) {
                    d = [d, h, k, e];
                    break a
                }
            }
            d = []
        }
        if (d.length) return c.dj = zn(d), c.type = "rgba", c;
        a:{
            if (e = b.match(An)) if (d = Number(e[1]), h = Number(e[2]), k = Number(e[3]), e = Number(e[4]), 0 <= d && 360 >= d && 0 <= h && 100 >= h && 0 <= k && 100 >= k && 0 <= e && 1 >= e) {
                e = [d, h, k, e];
                break a
            }
            e = []
        }
        if (e.length) {
            d = e[0];
            h = e[1];
            k = e[2];
            b = e[3];
            e = Math.floor(255 * b);
            if (isNaN(e) || 0 > e || 255 < e) throw Error('"(' + d + "," + h + "," + k + "," + b + '") is not a valid HSLA color');
            b = rn(e.toString(16));
            var h = h / 100, k = k / 100, l = e = 0, p = 0, d = d / 360;
            if (0 == h) e = l = p = 255 * k; else var q = p = 0, q = .5 > k ? k * (1 + h) : k + h - h * k,
                p = 2 * k - q, e = 255 * sn(p, q, d + 1 / 3), l = 255 * sn(p, q, d), p = 255 * sn(p, q, d - 1 / 3);
            d = [Math.round(e), Math.round(l), Math.round(p)];
            b = nn(d) + b;
            c.dj = b;
            c.type = "hsla";
            return c
        }
        throw Error(b + " is not a valid color string");
    }

    function Bn(b) {
        b = xn(b);
        return Cn([parseInt(b.substr(1, 2), 16), parseInt(b.substr(3, 2), 16), parseInt(b.substr(5, 2), 16), parseInt(b.substr(7, 2), 16) / 255])
    }

    function Dn(b, c, d) {
        if (wn.test(b)) return xn(jn(b)).substring(c, d);
        throw Error(b + " is not a valid 8-hex color string");
    }

    var En = /#(.)(.)(.)(.)/;

    function xn(b) {
        if (!wn.test(b)) throw Error("'" + b + "' is not a valid alpha hex color");
        5 == b.length && (b = b.replace(En, "#$1$1$2$2$3$3$4$4"));
        return b.toLowerCase()
    }

    function zn(b) {
        var c = b[0], d = b[1], e = b[2];
        b = b[3];
        var h = Math.floor(255 * b);
        if (isNaN(h) || 0 > h || 255 < h) throw Error('"(' + c + "," + d + "," + e + "," + b + '") is not a valid RGBA color');
        b = rn(h.toString(16));
        return qn(c, d, e) + b
    }

    function Fn(b, c, d, e) {
        if (isNaN(b) || 0 > b || 255 < b || isNaN(c) || 0 > c || 255 < c || isNaN(d) || 0 > d || 255 < d || isNaN(e) || 0 > e || 1 < e) throw Error('"(' + b + "," + c + "," + d + "," + e + ')" is not a valid RGBA color');
        return Cn([b, c, d, e])
    }

    var wn = /^#(?:[0-9a-f]{4}){1,2}$/i,
        yn = /^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,
        An = /^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i;

    function Cn(b) {
        var c = b.slice(0);
        c[3] = Math.round(1E3 * b[3]) / 1E3;
        return "rgba(" + c.join(",") + ")"
    };

    function Gn(b) {
        b = b || Math.random;
        return qn(255 * b() | 0, 255 * b() | 0, 255 * b() | 0)
    }

    function ec(b) {
        b = Hn(b);
        return (299 * b[0] + 587 * b[1] + 114 * b[2]) / 1E3 / 255
    }

    function In(b, c) {
        var d = Hn(b), e = Hn(c);
        return (Math.max(d[0], e[0]) - Math.min(d[0], e[0]) + (Math.max(d[1], e[1]) - Math.min(d[1], e[1])) + (Math.max(d[2], e[2]) - Math.min(d[2], e[2]))) / 765
    }

    function Jn(b, c, d, e, h, k) {
        if (b.setLineDash) b.setLineDash(k), b.moveTo(c, d), b.lineTo(e, h); else {
            var l = function (b, c) {
                return b <= c
            }, p = function (b, c) {
                return b >= c
            }, q = function (b, c) {
                return b < c ? b : c
            }, r = function (b, c) {
                return b > c ? b : c
            }, t = {mB: p, gy: q}, p = {mB: p, gy: q};
            0 < d - h && (p.mB = l, p.gy = r);
            0 < c - e && (t.mB = l, t.gy = r);
            b.moveTo(c, d);
            for (var l = c, r = d, q = 0, u = !0; !t.mB(l, e) || !p.mB(r, h);) {
                var x = Math.atan2(h - d, e - c), A = k[q], l = t.gy(e, l + Math.cos(x) * A),
                    r = p.gy(h, r + Math.sin(x) * A);
                u ? b.lineTo(l, r) : b.moveTo(l, r);
                q = (q + 1) % k.length;
                u = !u
            }
        }
    }

    function Kn(b, c, d, e, h) {
        var k = e / 2 * Ln, l = h / 2 * Ln, p = c + e, q = d + h;
        e = c + e / 2;
        h = d + h / 2;
        b.moveTo(c, h);
        b.bezierCurveTo(c, h - l, e - k, d, e, d);
        b.bezierCurveTo(e + k, d, p, h - l, p, h);
        b.bezierCurveTo(p, h + l, e + k, q, e, q);
        b.bezierCurveTo(e - k, q, c, h + l, c, h)
    }

    var Ln = (Math.sqrt(2) - 1) / 3 * 4;

    function Mn(b, c) {
        try {
            var d = Hn(b);
            d[3] = c
        } catch (e) {
            d = [0, 0, 0, 1]
        }
        return Fn(d[0], d[1], d[2], d[3])
    }

    function Hn(b) {
        return pn(hn(b.toString()).dj)
    };

    function Nn(b, c, d) {
        this.ub = b;
        this.w = c;
        this.a = d
    }

    Nn.prototype.T = function (b, c, d, e) {
        var h = this.w;
        h.save();
        h.beginPath();
        h.rect(c.left, c.top, c.width, c.height);
        h.closePath();
        h.clip();
        h.translate(-1 * this.ub.pa, c.top);
        for (var k = 0, l = b.wi(); k < l; k++) {
            var p = b.Lh(k);
            if (!p.YL && !1 !== p.show) {
                var q = b.ZJ(k);
                On(h, p);
                h.beginPath();
                this.QD(p).T(h, q, d, e, c)
            }
        }
        h.restore()
    };
    Nn.prototype.Cw = function (b, c, d) {
        var e = c.fa().j.Aq, h = c.fa().j.Cq;
        c = c.fa().j.Bq;
        var k = b.Lh(0);
        k.YL || !1 === k.show || this.QD(k).Cw(b, d, e, h, c)
    };

    function On(b, c) {
        if (c.color) {
            var d = Mn(c.color, c.opacity);
            b.fillStyle = d;
            b.strokeStyle = d;
            b.lineWidth = c.lineWidth;
            c.Rc && b.setLineDash(c.Rc)
        }
    };

    function Pn(b, c, d, e) {
        hc.call(this, b, c, d);
        this.Rc = e || [6, 4]
    }

    B(Pn, mc);
    Pn.prototype.Zd = function (b, c, d, e, h) {
        Jn(b, c, d, e, h, this.Rc)
    };

    function Qn(b, c, d, e) {
        nc.call(this, b, c, d);
        this.Rc = e || [6, 4]
    }

    B(Qn, nc);
    Qn.prototype.Zd = function (b, c, d, e, h) {
        Jn(b, c, d, e, h, (this.K ? this.K.Rc : this.Rc) || [])
    };

    function Rn(b, c, d, e) {
        cc.call(this, b, c);
        this.Sa = d;
        this.Ai = e
    }

    B(Rn, cc);
    Rn.prototype.aO = function (b) {
        this.Sa = b.ma();
        this.Ai = b.hf()
    };
    Rn.prototype.T = function (b, c, d, e, h) {
        this.Pc();
        for (var k = kj(this.Ai.xi() * this.Sa.Sb, this.Sa.$c()), l = G(e.y(k) - e.y(2 * k)), p = this.m.j.rn, q = this.m.j.sn, r = this.a, t = this.g, u, x, A, C = 0, I = c.length; C < I; C++) {
            A = c.kc(C);
            b.beginPath();
            b.strokeStyle = A.Fk() ? p : q;
            u = Math.round(d.x(A.getTime()) - t);
            var N;
            N = A;
            var S = k;
            N = Math.round((N.bb() - N.$a()) / S);
            x = e.y(A.$a() + N * k) > h.height ? 0 : N;
            N = 0 > e.y(A.$a() + k) ? x : 0;
            S = (e.qc(e.y(A.$a() + k) - 1) - A.$a()) / k | 0;
            1 > S && (S = 1);
            for (var T = x - 1; T >= N; T -= S) x = e.y(A.$a() + (T + 1) * k) + 2, 0 > x + l || x > h.height || (A.Fk() ?
                (b.moveTo(u, x), b.lineTo(u + r, x + l), b.moveTo(u, x + l), b.lineTo(u + r, x)) : Kn(b, u, x, r, l));
            b.closePath();
            b.stroke()
        }
    };

    function Sn(b, c, d) {
        Nn.call(this, b, c, d);
        this.g = {}
    }

    B(Sn, Nn);
    f = Sn.prototype;
    f.N = function () {
        this.j || (this.j = {yq: !0, xq: !1});
        return this.j
    };

    function Tn(b) {
        if (3 == b.ub.Fa()) switch (b.ub.Te()) {
            case "candle":
                return new dj(b.ub.fa(), b.a);
            default:
                return new sc(b.ub.fa(), b.a)
        } else if (4 == b.ub.Fa()) switch (b.ub.Te()) {
            case "bar":
                return new jj(b.ub.fa(), b.a, b.ub.ma(), b.ub.hf());
            default:
                return new Rn(b.ub.fa(), b.a, b.ub.ma(), b.ub.hf())
        } else if (6 == b.ub.Fa()) switch (b.ub.Te()) {
            default:
                return new lj(b.ub.fa(), b.a, "wicksbrick" == b.ub.Te())
        } else if (7 == b.ub.Fa()) switch (b.ub.Te()) {
            default:
                return new ej(b.ub.fa(), b.a)
        } else if (8 == b.ub.Fa()) switch (b.ub.Te()) {
            default:
                return new gj(b.ub.fa(),
                    b.a, "wickscandlebar" == b.ub.Te())
        } else if (2 == b.ub.Fa() || 5 == b.ub.Fa()) switch (b.ub.Te()) {
            case "bar":
                return new sc(b.ub.fa(), b.a);
            case "line":
                return new Jk(b.ub.fa(), b.ub.j.bF, b.a);
            default:
                return new dj(b.ub.fa(), b.a)
        } else if (1 == b.ub.Fa()) switch (b.ub.Te()) {
            case "average":
                return new $k(b.ub.fa(), b.a);
            case "bar":
                return new wc(b.ub.fa(), b.a);
            default:
                return new Zk(b.ub.fa(), b.a)
        }
        throw Error('Presentation type "' + b.ub.Te() + '" not implemented.');
    }

    f.QD = function () {
        var b = this.ub.Te() + ";" + this.ub.Fa();
        this.g[b] || (this.g[b] = Tn(this));
        this.g[b].aO(this.ub);
        this.g[b].au(this.N().yq);
        this.g[b].$t(this.N().xq);
        return this.g[b]
    };
    f.au = function (b) {
        this.N().yq = b
    };
    f.$t = function (b) {
        this.N().xq = b
    };
    f.reset = function () {
        this.g = {}
    };

    function L(b, c, d, e, h) {
        this.name = b;
        this.cr = d;
        this.gu = ca(e) ? e : !0;
        this.color = h || null;
        this.ng = null;
        this.saa = !1;
        this.shift = 0;
        this.tS = !1;
        this.show = !0;
        this.lineWidth = this.Pt = this.opacity = 1;
        this.Yn = !0;
        d == Un && this.ai(Hc.Ej)
    }

    f = L.prototype;
    f.N = function () {
        if (!this.j) {
            var b = this.cr, c = Vn;
            this.j = {color: !0, ng: b == c.FB || b == c.KO, cF: b == c.dP || b == c.bZ || b == c.KO}
        }
        return this.j
    };
    f.vG = function (b) {
        this.show = b
    };
    f.I7 = function () {
        return this.show
    };
    f.wG = function (b) {
        this.gu = b
    };
    f.L7 = function () {
        return this.gu
    };
    f.w6 = function () {
        return this.cr
    };
    f.gda = function (b) {
        this.cr = b
    };
    f.Y6 = function () {
        return this.Rc
    };
    f.ai = function (b) {
        if (ka(b)) {
            this.a = b;
            a:switch (this.a.toLowerCase()) {
                case Hc.Xo:
                    b = [2 * this.Pg(), 2 * this.Pg()];
                    break a;
                case Hc.Ej:
                    b = [8 * this.Pg(), 6 * this.Pg()];
                    break a;
                default:
                    b = []
            }
            this.Rc = b
        } else this.a = null, this.Rc = b
    };
    f.color = null;
    f.ng = null;
    f.Sk = function (b) {
        this.opacity = b
    };
    f.Fm = function () {
        return this.opacity
    };

    function Wn(b) {
        return b.Pt
    }

    f.Ab = function (b) {
        this.color = b
    };
    f.Jb = function () {
        return this.color
    };

    function Xn(b) {
        return b.ng
    }

    f.jq = function (b) {
        this.lineWidth = b
    };
    f.Pg = function () {
        return this.lineWidth
    };
    f.xj = function (b) {
        this.shift = b
    };
    f.getName = function () {
        return this.name
    };
    f.Co = function (b) {
        this.name = b
    };

    function Yn(b, c) {
        switch (JSON.stringify(c)) {
            case JSON.stringify([2 * b.Pg(), 2 * b.Pg()]):
                return Hc.Xo;
            case JSON.stringify([8 * b.Pg(), 6 * b.Pg()]):
                return Hc.Ej;
            case JSON.stringify([]):
            default:
                return Hc.Px
        }
    }

    f.lb = function () {
        return Ig([this.show, this.gu, this.Rc, this.Pg(), this.Jb(), this.Fm(), this.shift, this.ng, this.Pt, this.Yn])
    };
    f.cb = function (b) {
        b = Gg(b);
        this.vG(b[0]);
        this.wG(b[1]);
        this.ai(b[2]);
        this.jq(b[3]);
        this.Ab(b[4]);
        this.Sk(b[5]);
        this.xj(b[6] || 0);
        this.ng = b[7];
        this.Pt = b[8];
        this.Yn = null != b[9] ? b[9] : !0
    };
    var Zn = {U2: 0, INT: 1, OBJECT: 2}, Un = 3, Vn = {
        eha: -1,
        NONE: 0,
        dP: 1,
        dia: 21,
        zka: 32,
        Gia: 64,
        Eha: 2,
        bZ: Un,
        nha: 4,
        mha: 5,
        Dia: 6,
        Eia: 65,
        Cia: 7,
        Bia: 8,
        Aia: 9,
        zia: 10,
        Dha: 11,
        kia: 12,
        pga: 13,
        oga: 14,
        Rja: 15,
        Sja: 16,
        Tja: 17,
        FB: 18,
        KO: 19,
        Lka: 33
    };

    function $n(b, c, d) {
        Nn.call(this, b, c, d);
        this.yb = this.ub.eb();
        this.g = {};
        this.m = {left: 0, width: 0, right: 0}
    }

    B($n, Nn);

    function ao(b, c) {
        switch (c.cr) {
            case -1:
            case 0:
                return new uc;
            case 1:
                return new nc(b.ub.fa(), b.a, b.yb);
            case 21:
                return new nc(b.ub.fa(), b.a, b.yb, !0);
            case 32:
                return new oc(b.ub.fa(), b.a, b.yb);
            case 64:
                return new Qn(b.ub.fa(), b.a, b.yb, c.Rc);
            case 2:
                return new Qn(b.ub.fa(), b.a, b.yb, [1, 6]);
            case Un:
                return new Qn(b.ub.fa(), b.a, b.yb, [6, 4]);
            case 4:
                return new Qn(b.ub.fa(), b.a, b.yb, [6, 4, 1, 4]);
            case 5:
                return new Qn(b.ub.fa(), b.a, b.yb, [6, 4, 1, 4, 1, 4]);
            case 6:
                return new mc(b.ub.fa(), b.a, b.yb);
            case 65:
                return new Pn(b.ub.fa(),
                    b.a, b.yb, c.Rc);
            case 7:
                return new Pn(b.ub.fa(), b.a, b.yb, [1, 6]);
            case 8:
                return new Pn(b.ub.fa(), b.a, b.yb, [6, 4]);
            case 9:
                return new Pn(b.ub.fa(), b.a, b.yb, [6, 4, 1, 4]);
            case 10:
                return new Pn(b.ub.fa(), b.a, b.yb, [6, 4, 1, 4, 1, 4]);
            case 12:
                return new vd(b.ub.fa(), b.a, b.yb);
            case 14:
                return new ic(b.ub.fa(), b.a, b.yb);
            case 13:
                return new kc(b.ub.fa(), b.a, b.yb);
            case 11:
                return new rc(b.ub.fa(), b.a, b.yb);
            case 33:
                return new pc(b.ub.fa(), b.a, b.yb);
            case 19:
                return new fd(b.ub.fa(), b.a, b.yb);
            case 18:
                return new gd(b.ub.fa(), b.a,
                    b.yb);
            case 15:
            case 16:
                return new lc(b.ub.fa(), b.a, b.yb)
        }
        throw Error("Could not instantiate an indicator rendering strategy.");
    }

    $n.prototype.QD = function (b) {
        var c = b.cr;
        this.g[c] || (this.g[c] = ao(this, b));
        return this.g[c]
    };
    $n.prototype.T = function (b, c, d, e) {
        var h = this.w;
        h.save();
        h.beginPath();
        h.rect(c.left, c.top, c.width, c.height);
        h.closePath();
        h.clip();
        h.translate(-1 * this.ub.pa, c.top);
        this.m.left = this.ub.pa;
        this.m.width = c.width;
        this.m.right = this.ub.Jd - this.ub.pa;
        c = b.kb();
        for (var k = 0, l = b.wi(); k < l; k++) {
            var p = b.Lh(k);
            if (!p.YL && !1 !== p.show) {
                var q = b.ZJ(k);
                On(h, p);
                var r = oa(c.render || c.T) && -1 == p.cr ? c : this.QD(p);
                r instanceof hc && (r.K = p);
                oa(r.xj) && r.xj(p.shift);
                h.beginPath();
                (r.render || r.T).call(r, h, q, d, e, this.m, k, b)
            }
        }
        h.restore()
    };
    $n.prototype.reset = function () {
        this.g = {}
    };

    function M(b) {
        this.w = b;
        this.wc = 2;
        (this.init || this.init).call(this);
        this.da = [];
        this.na = [];
        for (b = this.lc().numberOfOutputs; 0 < b--;) this.na.push([]);
        this.Lb = this.Lb || this.inputParameterInfos;
        this.g = this.g || this.optInputParameterInfos;
        this.Ga = this.Ga || this.outputParameterInfos;
        this.cn = this.setInputParameterValue || this.cn;
        this.VJ = this.getInputParameterValue || this.VJ;
        this.ja = this.setOptInputParameter || this.ja;
        this.ya = this.getOptInputParameter || this.ya;
        this.Oa = this.calculate || this.Oa;
        this.Bl = this.getLookahead ||
            this.Bl;
        this.ea = this.getLookback || this.ea;
        this.wD = this.getDataIntervalStart || this.wD
    }

    var bo = 1;
    f = M.prototype;
    f.Fw = null;
    f.WI = function () {
    };
    f.X = function () {
        return this.o
    };
    f.zh = function (b) {
        this.wc = b
    };
    f.Fa = function () {
        return this.wc
    };
    f.Ec = function () {
        return jm(this.Fa())
    };
    f.lc = function () {
        return this.sa
    };
    f.oe = 0;

    function co(b, c) {
        b.Fh = c
    }

    f.J6 = function () {
        return this.da
    };
    f.p7 = function () {
        return this.na
    };
    f.init = function () {
    };
    f.Eb = function (b, c) {
        this.da[b] = c
    };
    f.FD = function (b) {
        return b <= this.Lb.length ? this.Lb[b] : null
    };
    f.I6 = function () {
        return this.Lb
    };
    f.oG = function (b) {
        this.Lb = Array.prototype.slice.call(arguments)
    };
    f.cn = function (b, c) {
        b <= this.Lb.length && this.Lb[b].V(c)
    };
    f.VJ = function (b) {
        return this.Lb[b]
    };
    f.XJ = function (b) {
        return b <= this.g.length ? this.g[b] : null
    };
    f.Bv = function () {
        return this.g
    };
    f.zN = function (b) {
        this.g = Array.prototype.slice.call(arguments)
    };

    function eo(b, c) {
        b.na[0] = c
    }

    f.tG = function (b) {
        this.Ga = Array.prototype.slice.call(arguments)
    };
    f.Se = function (b) {
        return b <= this.Ga.length ? this.Ga[b] : null
    };
    f.ea = function () {
        return 0
    };
    f.dT = function () {
        return 0
    };
    f.Bl = function () {
        return 0
    };
    f.wD = function (b) {
        return b
    };
    f.Zb = function () {
        return this.Hb = this.Hb || this.lc().getName() + ";" + Math.random().toString(32)
    };
    f.toString = function () {
        var b = [this.sa.Ip()], c = this.Bv(), c = c && c.length;
        if (0 < c) {
            for (var d = [], e = 0; e < c; e++) d.push(this.ya(e));
            b.push(" (", d.join(", "), ")")
        }
        return b.join("")
    };
    f.lb = function () {
        return Ig([this.lc().getName(), Sa(this.Ga || [], function (b) {
            return b.lb()
        }, this), Sa(Bi((this.Bv() || []).length), function (b) {
            return this.ya(b)
        }, this), Sa(Bi((this.Lb || []).length), function (b) {
            return this.VJ(b).G()
        }, this)])
    };
    f.cb = function (b) {
        b = Gg(b);
        E(b[1], function (b, d) {
            this.Se(d).cb(b)
        }, this);
        E(b[2], function (b, d) {
            this.ja(d, b)
        }, this);
        b[3] && E(b[3], function (b, d) {
            this.cn(d, b)
        }, this)
    };
    f.Si = function (b, c, d) {
        return null != c ? Eb(b, c, d).join("") : parseFloat(b).toPrecision(6).substring(0, 7)
    };
    f.toFixed = vc;
    f.Nn = function () {
        return this.Si
    };
    f.mA = function (b) {
        return b
    };
    f.or = function () {
        return this.mA
    };
    f.ld = zc;
    f.pd = zc;
    f.TU = !1;
    f.bS = !1;
    f.ck = function () {
        this.kM = this.lb()
    };
    f.YJ = function () {
        return this.kM
    };
    f.qf = 15;
    f.Lf = function () {
        return this.qf
    };
    f.ec = function (b, c, d, e, h, k, l) {
        var p = e.t(c);
        k = b.eb().indexOf(p);
        b.eb().od() instanceof qc && (k = ui(b.eb().od().a, 1E3 * Math.floor(p / 1E3), Dk));
        0 > k && (k = ~k - 1);
        b = b.eb().Nf[this.Zb()].getData();
        return this.Ph(b, k, c, d, e, h, l)
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if ((h = b[l][c]) && Math.abs(k.y(h) - e) <= d) return !0;
        return !1
    };
    f.zC = !1;

    function jc(b) {
        return b.zC
    }

    f.B5 = "#347EEF #206A06 #A20000 #FF0000 #FF8000 #FFC800 #FFF200 #000000 #5F5F5F #808080".split(" ");
    f.Ab = function (b) {
        1 === this.lc().numberOfOutputs && this.Se(0).Ab(b)
    };
    f.Jb = function () {
        return this.Se(0).Jb()
    };

    function fo(b, c) {
        var d = b.lc().numberOfOutputs;
        if (1 < d) for (var e = 0; e < d; ++e) b.Se(e).Ab(c[e])
    }

    f.OJ = function () {
        var b = [], c = this.lc().numberOfOutputs;
        if (1 === c) return b;
        for (var d = 0; d < c; ++d) b.push(this.Se(d).Jb());
        return b
    };

    function go(b) {
        M.call(this, b)
    }

    B(go, M);
    go.prototype.Si = function (b, c, d) {
        return ia(b) ? (b = Sa(b, function (b) {
            return null != c ? +Eb(b, c, d).join("") : +parseFloat(b).toPrecision(6).substring(0, 7)
        }), "O: " + b[0] + " H: " + b[2] + " L: " + b[3] + " C: " + b[1]) : go.P.Si.call(this, b, c, d)
    };
    go.prototype.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) return b = h[0], c = k.y(b), h = h[1], k = k.y(h), b > h ? e >= c - d && e <= k + d : e >= k - d && e <= c + d;
        return !1
    };

    function ho(b) {
        M.call(this, b)
    }

    B(ho, M);
    ho.prototype.Oa = function () {
        var b = this.Fh.Fe();
        this.oe.Yh(b);
        this.W().Yh(b);
        var c = this.W(), d = this.oe, e = this.da, h = this.na;
        this.oe.Y() < rl.Y() && this.Dv(this.Fh).Y() === this.oe.Y() && (d = this.Fh);
        if (!(this.Fh && this.Fh.Y() > c.Y())) for (var k = e[0][0], l = e[0][1], p = e[0][2], q = e[0][3], r = e[0][4], e = e[0][5], t = h[0], u = h[1], x = h[2], A = h[3], C = h[4], I = h[5], N = h[6], S = h[7] || [], h = h[8] || [], T = -Infinity, U = Infinity, Y, fa = -1, na = -1, xa = 1, vb = e.length; xa < vb; ++xa) {
            var zb = e[xa], U = e[xa - 1], T = b && c.Y() === ul.Y() ? Kl(zb) : 0, na = vj(c, zb) == zb, Gf = 0 ===
                (new Date(zb)).getUTCDay() && 5 === (new Date(U)).getUTCDay() && c.Y() < bj.Y(), na = na || Gf;
            c.Y() !== ul.Y() || na || (na = (new Date(zb + T)).getUTCMonth() !== (new Date(U + T)).getUTCMonth());
            if (na && (U = zb + T - (zb + T) % d.Y() - d.Y() - T, -1 === fa && (fa = io(this, U - c.Y() + d.Y(), e, d, T)), na = io(this, U, e, d, T, !0), na < fa && (na = fa), -1 !== fa && -1 !== na)) {
                T = -Infinity;
                for (U = Infinity; fa <= na; fa++) if (k[fa] != l[fa] || l[fa] != p[fa] || p[fa] != q[fa] || r[fa]) T = xb(T, p[fa]), U = yb(U, q[fa]), Y = l[fa];
                fa = na + 1;
                isFinite(T) && isFinite(U) && (t[zb] = this.Es(Y, T, U), u[zb] = this.Fs(t[zb],
                    Y, T, U), x[zb] = this.Is(t[zb], Y, T, U), A[zb] = this.Gs(t[zb], Y, T, U), C[zb] = this.Js(t[zb], Y, T, U), I[zb] = this.Hs(t[zb], Y, T, U), N[zb] = this.Ks(t[zb], Y, T, U), S[zb] = this.Su ? this.Su(0, Y, T, U) : 0, h[zb] = this.Tu ? this.Tu(0, Y, T, U) : 0)
            }
        }
    };
    ho.prototype.ica = function (b, c, d, e, h, k) {
        var l = 0, p = 0, q = 0, r = 0;
        k = jc(k.kb());
        var t = this.na[h], u = !1, x;
        for (x in t) if (t.hasOwnProperty(x)) {
            var A = t[x];
            +x + this.W().Y() < c.startTime || !A || (u ? (p = G(c.x(+x) - c.Jf / 2), this.qj(b, l, p, G(q) + .5, r, h, k), l = p, q = d.y(A), r = A) : (q = d.y(A), r = A, l = c.x(+x) - c.Jf / 2, u = !0))
        }
        u && (this.qj(b, p, e.left + e.width, G(q) + .5, r, h, k), b.stroke())
    };
    ho.prototype.kca = function (b, c, d, e, h, k) {
        k = jc(k.kb());
        var l = this.na[h];
        if (l.length) {
            var p = Ua(l), p = p[p.length - 1];
            this.qj(b, G(c.x(+p)), e.left + e.width, G(d.y(l[p])) + .5, l[p], h, k);
            b.stroke()
        }
    };
    ho.prototype.ec = function (b, c, d, e, h, k, l) {
        b = null != l ? l : this.Lf();
        l = e.t(c);
        c = this.na;
        e = Ua(c[0]);
        var p = this.RA === jo ? 0 : e.length - 1;
        k = p;
        for (var q = e.length; k < q && !(l < +e[k]); ++k) ;
        if (--k < p) return !1;
        l = 0;
        for (p = c.length; l < p; ++l) if (c[l] && c[l][e[k]] && Math.abs(h.y(c[l][e[k].toString()]) - d) <= b) return !0;
        return !1
    };

    function ko(b) {
        M.call(this, b);
        this.oW = {}
    }

    B(ko, M);
    ko.prototype.init = function () {
        this.oG(new Qc(H.zc, 0));
        this.zN(new Pg(H.k1, new Tc(this.RA, [lo, jo], ["No", "Yes"])), new Pg(H.pP, new Tc(this.Mb, Sa(this.xF, function (b, c) {
            return c.toString()
        }), Sa(this.xF, function (b) {
            return b.lg + " " + b.xc().getName()
        }))));
        this.tG(new L(H.L0, 0, -1), new L(H.M0, 0, -1), new L(H.b1, 0, -1), new L(H.N0, 0, -1), new L(H.c1, 0, -1), new L(H.O0, 0, -1), new L(H.d1, 0, -1), new L(H.P0, 0, -1), new L(H.e1, 0, -1));
        this.oe = this.Dv(this.Mb)
    };
    ko.prototype.bS = !0;
    var jo = "1", lo = "0";
    f = ko.prototype;
    f.RA = jo;
    f.Mb = 7;
    f.xF = [gl, hl, il, jl, ll, ml, ol, rl, bj, ul];
    f.Dv = function (b) {
        switch (b instanceof al ? b : this.xF[b]) {
            case bl:
            case cl:
                return bl;
            case el:
            case fl:
                return el;
            case gl:
            case hl:
            case il:
            case jl:
            case ll:
                return gl;
            case ml:
            case ol:
                return ml;
            case rl:
            case bj:
            case ul:
                return rl
        }
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.RA = c;
                break;
            case 1:
                this.Mb = c, this.oe = this.Dv(this.Mb)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.RA;
            case 1:
                return this.Mb
        }
    };
    f.W = function () {
        return this.xF[this.ya(1)]
    };
    M.prototype.dT = function (b) {
        return b - vj(this.W(), b - this.W().Y())
    };

    function io(b, c, d, e, h, k) {
        var l = d.indexOf(c);
        b = b.Fh.Fe();
        var p = d[d.length - 1], q = d[0];
        if (-1 !== l) return l;
        if (k) for (; -1 === l && c > q;) c = c - e.Y(), k = b ? Kl(c) : 0, k !== h && (c -= k - h, h = k), l = d.indexOf(c); else for (; -1 === l && c < p;) c += e.Y(), k = b ? Kl(c) : 0, k !== h && (c -= k + h, h = k), l = d.indexOf(c);
        return l
    }

    f = ko.prototype;
    f.Oa = function (b, c) {
        if (this.Ec()) return ho.prototype.Oa.call(this);
        var d = this.Fh.Fe();
        this.oe.Yh(d);
        var e = this.W(), h = this.oe, k = this.da, l = this.na;
        this.oe.Y() < rl.Y() && this.Dv(this.Fh).Y() === this.oe.Y() && (h = this.Fh);
        if (!(this.Fh && this.Fh.Y() > e.Y())) {
            var p = this.iy, q = k[0][1], r = k[0][2], t = k[0][3], k = k[0][5];
            if (!ki(k)) {
                for (var u = l[0], x = l[1], A = l[2], C = l[3], I = l[4], N = l[5], S = l[6], T = l[7] || [], l = l[8] || [], U = -Infinity, Y = Infinity, fa, na = e.Y() === bj.Y() ? 3456E5 : 0, xa = -1, vb = -1, zb = -1, Gf = b, Za = b + 1; Za <= c; Gf++, Za++) {
                    var Aa = mo(p,
                        Za), hb = mo(p, Gf);
                    if (Aa && hb) {
                        var U = d ? Kl(Aa) : 0, We = d ? Kl(hb) : 0, zh = 0 === (Aa - (na - U)) % e.Y(),
                            Y = 0 === (new Date(Aa)).getUTCDay() && 5 === (new Date(hb)).getUTCDay() && e.Y() < bj.Y(),
                            zh = zh || Y;
                        e.Y() === ul.Y() && (zh = (new Date(Aa + U)).getUTCMonth() !== (new Date(hb + We)).getUTCMonth());
                        if (zh) {
                            Aa = Aa + U - (Aa + U) % h.Y() - h.Y() - U;
                            -1 === xa && Aa >= k[0] && (e.Y() === ul.Y() ? (hb = new Date(Aa), hb.setUTCDate(1), 0 == Aa - hb.getTime() && hb.setUTCMonth(hb.getUTCMonth() - 1), hb = hb.getTime(), We = d ? Kl(hb) : 0, hb = hb - hb % h.Y() - We) : hb = Aa - e.Y() + h.Y(), xa = io(this, hb, k, h,
                                U, Y));
                            if (Y) {
                                if (-1 !== xa) {
                                    vb = k[xa];
                                    U = k;
                                    Y = h;
                                    Aa = 0;
                                    We = hb = U.indexOf(vb);
                                    for (zh = U[U.length - 1]; -1 !== hb && vb < zh && 24 > Aa;) vb += Y.Y(), hb = U.indexOf(vb), -1 !== hb && (We = hb), Aa++;
                                    vb = We
                                }
                            } else e.Y() === ul.Y() ? (hb = new Date(Aa + h.Y() + U), hb.setUTCDate(1), hb.setUTCHours(0, 0, 0, 0), hb = hb.getTime(), We = d ? Kl(hb) : 0, hb = hb - hb % h.Y() - We - h.Y()) : hb = Aa, vb = io(this, hb, k, h, U, !0);
                            vb < xa && (vb = xa);
                            if (-1 === xa || -1 === vb) u[Za] = x[Za] = A[Za] = C[Za] = I[Za] = N[Za] = S[Za] = T[Za] = l[Za] = Number.NaN; else {
                                U = -Infinity;
                                Y = Infinity;
                                for (Aa = xa; Aa <= vb; Aa++) U = xb(U, r[Aa]),
                                    Y = yb(Y, t[Aa]), fa = q[Aa];
                                -1 === zb && (zb = xa);
                                xa = vb + 1;
                                u[Za] = this.Es(fa, U, Y);
                                x[Za] = this.Fs(u[Za], fa, U, Y);
                                A[Za] = this.Is(u[Za], fa, U, Y);
                                C[Za] = this.Gs(u[Za], fa, U, Y);
                                I[Za] = this.Js(u[Za], fa, U, Y);
                                N[Za] = this.Hs(u[Za], fa, U, Y);
                                S[Za] = this.Ks(u[Za], fa, U, Y);
                                T[Za] = this.Su ? this.Su(0, fa, U, Y) : 0;
                                l[Za] = this.Tu ? this.Tu(0, fa, U, Y) : 0
                            }
                        } else u[Za] = x[Za] = A[Za] = C[Za] = I[Za] = N[Za] = S[Za] = T[Za] = l[Za] = Number.NaN
                    }
                }
                -1 === zb && (e = this.Fh.getName() + e.getName(), this.oW[e] ? zb = this.oW[e] : (Aa = Nl(this.W(), mo(p, 0), d), U = d ? Kl(Aa) : 0, zb = Aa > k[k.length -
                1] ? k.length : io(this, Aa, k, h, U)));
                vb = zb - 1;
                if (-1 >= vb) u[b] = x[b] = A[b] = C[b] = I[b] = N[b] = S[b] = T[b] = l[b] = Number.NaN; else if (Aa = k[vb], Aa = Nl(this.W(), Aa, d), U = d ? Kl(Aa) : 0, xa = io(this, Aa, k, h, U), -1 === xa || -1 === vb) u[b] = x[b] = A[b] = C[b] = I[b] = N[b] = S[b] = T[b] = l[b] = Number.NaN; else {
                    U = -Infinity;
                    Y = Infinity;
                    for (Aa = xa; Aa <= vb; Aa++) U = xb(U, r[Aa]), Y = yb(Y, t[Aa]), fa = q[Aa];
                    u[b] = this.Es(fa, U, Y);
                    x[b] = this.Fs(u[b], fa, U, Y);
                    A[b] = this.Is(u[b], fa, U, Y);
                    C[b] = this.Gs(u[b], fa, U, Y);
                    I[b] = this.Js(u[b], fa, U, Y);
                    N[b] = this.Hs(u[b], fa, U, Y);
                    S[b] = this.Ks(u[b],
                        fa, U, Y);
                    T[b] = this.Su ? this.Su(0, fa, U, Y) : 0;
                    l[b] = this.Tu ? this.Tu(0, fa, U, Y) : 0
                }
            }
        }
    };

    function mo(b, c) {
        return b[c] ? b[c].time ? b[c].time : b[c][0] : null
    }

    f.T = function (b, c, d, e, h, k, l) {
        if (!(l.eb().W().Y() > this.W().Y())) if (this.RA === jo) if (this.Ec()) ho.prototype.ica.call(this, b, d, e, h, k, l); else {
            var p = 0, q = 0, r = 0, t = 0;
            l = jc(l.kb());
            for (var u = 0, x = c.length, A = !1; u < x; u++) {
                var C = c.kc(u);
                C && (A ? (q = G(d.kf(c.Cc() + u)), this.qj(b, p, q, G(r) + .5, t, k, l), p = q, r = e.y(C), t = C) : (r = e.y(C), t = C, p = d.kf(c.Cc() + u), A = !0))
            }
            A && (this.qj(b, q, h.left + h.width, G(r) + .5, t, k, l), b.stroke())
        } else if (this.Ec()) ho.prototype.kca.call(this, b, d, e, h, k, l); else for (p = jc(l.kb()), r = c.length; 0 < r--;) if (q = c.kc(r)) {
            c =
                G(d.kf(c.Cc() + r));
            e = G(e.y(q)) + .5;
            this.qj(b, c, h.left + h.width, e, q, k, p);
            b.stroke();
            break
        }
    };
    f.qj = function (b, c, d, e, h, k, l) {
        l = null != l ? l : !1;
        b.moveTo(c, e);
        b.lineTo(d, e);
        h = this.Se(k).getName() + ": " + (h || 0).toPrecision(6).substring(0, 7);
        b.measureText(h).width <= d - c + 10 && b.fillText(h, c, e - 2, d - c);
        l && (b.stroke(), b.beginPath(), b.arc(c, e, 1.8, 0, 2 * Math.PI, !1), b.fill())
    };
    f.wD = function (b) {
        return Pl(this.W(), b, 2)
    };
    f.ec = function (b, c, d, e, h, k, l) {
        return this.Ec() ? ho.prototype.ec.call(this, b, c, d, e, h, k, l) : ko.P.ec.call(this, b, c, d, e, h, k, l)
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        l = this.W().Y() / this.Fh.Y();
        h = b[0][c];
        if (isNaN(h)) for (; 0 < l && (c--, h = b[0][c], !(0 >= c) && isNaN(h)); l--) ;
        if (isNaN(h)) return !1;
        l = 0;
        for (var p = b.length; l < p; ++l) if ((h = b[l][c]) && Math.abs(k.y(h) - e) <= d) return !0;
        return !1
    };

    function no(b) {
        M.call(this, b)
    }

    B(no, M);

    function oo() {
        return "Pattern Recognition"
    }

    f = no.prototype;
    f.$x = 10;
    f.Et = 50;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.Ga = this.HQ();
        this.g = this.FQ();
        this.a = [[]]
    };
    f.FQ = function () {
        return [po(this), new Pg(H.oP, new Og(this.Et, .1, 100, .1))]
    };

    function po(b) {
        return new Pg("Start Count of Bars on Sides", new Og(b.$x, 1, 200, 1))
    }

    f.HQ = function () {
        var b = [new L(H.nP, 0, -1, !1), new L(H.n2, 0, -1, !1), new L(H.c_, 0, -1, !1)];
        b[0].Ab(fc.blue);
        b[1].Ab(fc.green);
        b[2].Ab(fc.red);
        return b
    };
    f.Oa = function (b, c) {
        var d = null;
        this.a[0].length = 0;
        for (var e = this.lc().numberOfOutputs; 0 < e--;) this.na[e].length = 0;
        for (e = 0; 30 > e; e++) {
            var h = e + this.$x, k = h, l = h;
            0 > b - l && (b -= b - l);
            c + k >= this.da[0][0].length && (c = this.da[0][0].length - 1 - k);
            if (!(b > c)) {
                this.a[e] = Array(c - b + 1 + h);
                var p = this.na[0], q = this.na[1], k = this.na[2], l = this.a[e], r;
                r = this.da;
                var t = l, u = p, x = q, A = k, C = b, I = c;
                if (C > I) r = new Pc(0, 0); else {
                    for (var N = null, S = C; S <= I; S++) {
                        for (var T = r[0][2][S], U = !0, Y = S - h, fa = S + h; Y <= fa; Y++) if (S != Y && T < r[0][2][Y]) {
                            U = !1;
                            break
                        }
                        for (var Y =
                            r[0][3][S], fa = !0, na = S - h, xa = S + h; na <= xa; na++) if (S != na && Y > r[0][3][na]) {
                            fa = !1;
                            break
                        }
                        na = S - C + (h - this.$x);
                        U && 1 != N ? (N = !0, t[na] = T) : fa && 0 != N ? (N = !1, t[na] = Y) : (N = null, t[na] = Number.NaN);
                        qo(u, na);
                        qo(x, na);
                        qo(A, na)
                    }
                    r = new Pc(C, I - C + 1)
                }
                null == d && (d = r);
                r = Array(this.Qj());
                for (t = 0; t < l.length && !(t >= l.length - r.length); t++) {
                    a:{
                        u = r;
                        x = l;
                        A = t;
                        h = [];
                        I = C = 0;
                        for (N = A; N < x.length; N++) {
                            I++;
                            S = x[N];
                            if (!isNaN(S)) I--, u[C] = S, 0 < C && (h[C - 1] = I, I = 0), C++; else if (0 == C) break;
                            if (C >= u.length) {
                                if (ro(this, h)) {
                                    u = N - A + 1;
                                    break a
                                }
                                break
                            }
                        }
                        u = -1
                    }
                    if (0 < u && this.Ri(r,
                        l, t, u)) {
                        x = r;
                        A = [];
                        h = so(l, t, u, x);
                        for (C = 0; C < x.length; C++) A[C] = new Uc(x[C], h[C]);
                        x = this.Mj(r, l, t, u);
                        u = this.Lj(r, l, t, u);
                        A = new Wc(A);
                        ci(p[t].bq, Wc.prototype.df, A) || p[t].bq.push(A);
                        x = new Wc(x);
                        ci(q[t].bq, Wc.prototype.df, x) || q[t].bq.push(x);
                        null != k && (u = new Wc(u), ci(k[t].bq, Wc.prototype.df, u) || k[t].bq.push(u))
                    }
                }
            }
        }
        return d
    };

    function qo(b, c) {
        null != b && null == b[c] && (b[c] = new Vc)
    }

    function to(b, c, d, e) {
        d = c + d - 1;
        b = uo(b, e);
        b = ud(b, function (b, c) {
            return b + c
        }, 0) / b.length;
        return [new Uc(b, c), new Uc(b, d)]
    }

    function vo(b, c, d, e, h, k) {
        var l = so(d, e, h, c);
        c = l[0];
        var p = l[k[0]];
        k = l[k[k.length - 1]];
        e = e + h - 1;
        h = d[p];
        l = d[k];
        d = wo(b, p, h, k, l, c);
        b = wo(b, p, h, k, l, e);
        return isNaN(d) || isNaN(b) ? null : [new Uc(d, c), new Uc(b, e)]
    }

    function xo(b, c, d, e, h, k, l, p) {
        h = so(d, e, h, c);
        c = h[k[0]];
        e = h[k[k.length - 1]];
        k = h[l[0]];
        h = h[l[l.length - 1]];
        var q = d[c];
        l = p || d[k];
        p = p || d[h];
        d = (d[e] - q) / (e - c);
        c = b.pI(c, q, d);
        p = (p - l) / (h - k);
        b = b.pI(k, l, p);
        return d == p ? Number.NaN : (b - c) / (d - p)
    }

    function uo(b, c) {
        for (var d = [], e = 0; e < c.length; e++) d[e] = b[c[e]];
        return d
    }

    function so(b, c, d, e) {
        var h = 0;
        d = c + d;
        for (e = Array(e.length); c < d && (isNaN(b[c]) || (e[h] = c, h++, !(h >= e.length))); c++) ;
        return e
    }

    function yo(b, c, d, e, h, k, l) {
        c = xo(b, c, d, e, h, k, l);
        if (isNaN(c)) return !0;
        c = parseInt(c, 10);
        d = 0;
        d = c < e ? e + h - c : c - e;
        return 100 * h / d <= b.Et ? !0 : !1
    }

    function zo(b, c, d, e, h, k, l, p) {
        b = xo(b, c, d, e, h, k, l, p);
        return !isNaN(b) && b < e + h - 1
    }

    function wo(b, c, d, e, h, k) {
        if (0 == e - c) return Number.NaN;
        e = (h - d) / (e - c);
        b = b.pI(c, d, e);
        return e * k + b
    }

    f.pI = function (b, c, d) {
        return c - d * b
    };
    f.Oi = function (b) {
        for (var c = .001 * (ud(arguments, function (b, c) {
            return b + c
        }, 0) / arguments.length) * this.Et / 100, d = !0, e = 0; e < arguments.length; e++) for (var h = e; h < arguments.length; h++) d = d && Math.abs(arguments[e] - arguments[h]) <= c;
        return d
    };

    function ro(b, c) {
        for (var d = ud(c, function (b, c) {
            return b + c
        }, 0) / c.length, e = 0; e < c.length; e++) if (Math.abs(d - c[e]) / d > b.Et / 100) return !1;
        return !0
    }

    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.$x = c;
                break;
            case 1:
                this.Et = c;
                break;
            default:
                throw Error("Incorrect optional input parameter index for pattern indicator: " + b.toString(10));
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.$x;
            case 1:
                return this.Et;
            default:
                throw Error("Incorrect optional input parameter index for pattern indicator: " + b.toString(10));
        }
    };
    f.T = function (b, c, d, e, h, k) {
        var l = this.Se(k);
        b.save();
        c = this.na[k];
        l = l.color;
        this.mt[k] = [];
        if (c.length) for (b.strokeStyle = l, b.lineWidth = .5, l = 0; l < c.length; l++) if (c[l] instanceof Vc) {
            var p = c[l];
            if (null != p.bq && 0 < p.bq.length) for (var p = p.bq, q = 0; q < p.length; q++) Ao(this, p[q].a, b, l, d, e, h, k)
        }
        b.restore()
    };

    function Ao(b, c, d, e, h, k, l, p) {
        if (null != c) {
            var q = -1, r = -1, t = null;
            d.beginPath();
            for (var u = 0, x = c.length; u < x; u++) {
                var A = c[u];
                null == t && (t = A.aj() - e);
                if (-1 != q) {
                    var C = k.y(A.G()), r = k.y(r), I = h.kf(A.aj() - t + 10), q = h.kf(q - t + 10);
                    if (0 < I || 0 < q) d.moveTo(I, C), d.lineTo(q, r), (I >= l.left && I <= l.left + l.width || q >= l.left && q <= l.left + l.width) && Bo(b, p, [I, C, q, r])
                }
                q = A.aj();
                r = A.G()
            }
            d.closePath();
            d.stroke();
            b.zC && E(null != p ? b.mt[p] : b.mt, function (b) {
                d.beginPath();
                d.arc(b[0], b[1], 1.8, 0, 2 * Math.PI, !1);
                d.arc(b[2], b[3], 1.8, 0, 2 * Math.PI, !1);
                d.closePath();
                d.fill()
            }, b)
        }
    }

    f.mt = [];

    function Bo(b, c, d) {
        b.mt[c] = b.mt[c] || [];
        b.mt[c].push(d)
    }

    f.Ph = function (b, c, d, e, h, k, l) {
        b = null != l ? l : this.Lf();
        c = this.mt;
        h = [];
        k = b + 1;
        l = 0;
        for (var p = c.length - 1; l <= p; ++l) {
            h = c[l];
            for (var q = 0, r = h.length - 1; q <= r; ++q) {
                var t = h[q], u = t[2], x = t[3], A = t[0], t = t[1], C = A - u, I = t - x, N = C * C + I * I,
                    S = ((d - u) * C + (e - x) * I) / N;
                switch (!0) {
                    case 0 <= S && 1 >= S:
                        k = Math.abs((d - u) * I - (e - x) * C) / Math.sqrt(N);
                        break;
                    case 0 > S:
                        k = Co(d, e, u, x);
                        break;
                    case 1 < S:
                        k = Co(d, e, A, t)
                }
                if (k <= b) return !0
            }
        }
        return !1
    };

    function Do(b, c, d) {
        this.K = c || Fg.eZ;
        this.Hb = d || Eo;
        this.R = 40;
        this.a = 1;
        this.La = 0;
        this.w = 3;
        this.U = this.g = 0;
        this.ob = !1;
        this.Ea = this.za = "";
        this.$ = "-";
        this.ia = "";
        this.Xj = 1;
        this.F = !1;
        this.m = [];
        this.ka = this.Ya = !1;
        this.va = Fo;
        if ("number" == typeof b) switch (b) {
            case 1:
                Go(this, Fg.QO);
                break;
            case 2:
                Go(this, Fg.Y2);
                break;
            case 3:
                Go(this, Fg.R2);
                break;
            case 4:
                b = Fg.aZ;
                c = ["0"];
                d = zf[this.K][0] & 7;
                if (0 < d) {
                    c.push(".");
                    for (var e = 0; e < d; e++) c.push("0")
                }
                b = b.replace(/0.00/g, c.join(""));
                Go(this, b);
                break;
            case 5:
                Ho(this, 1);
                break;
            case 6:
                Ho(this,
                    2);
                break;
            default:
                throw Error("Unsupported pattern type.");
        } else Go(this, b)
    }

    var Eo = 0, Fo = 0;

    function Go(b, c) {
        c.replace(/ /g, "\u00a0");
        var d = [0];
        b.za = Io(b, c, d);
        for (var e = d[0], h = -1, k = 0, l = 0, p = 0, q = -1, r = c.length, t = !0; d[0] < r && t; d[0]++) switch (c.charAt(d[0])) {
            case "#":
                0 < l ? p++ : k++;
                0 <= q && 0 > h && q++;
                break;
            case "0":
                if (0 < p) throw Error('Unexpected "0" in pattern "' + c + '"');
                l++;
                0 <= q && 0 > h && q++;
                break;
            case ",":
                0 < q && b.m.push(q);
                q = 0;
                break;
            case ".":
                if (0 <= h) throw Error('Multiple decimal separators in pattern "' + c + '"');
                h = k + l + p;
                break;
            case "E":
                if (b.ka) throw Error('Multiple exponential symbols in pattern "' + c + '"');
                b.ka = !0;
                b.U = 0;
                d[0] + 1 < r && "+" == c.charAt(d[0] + 1) && (d[0]++, b.ob = !0);
                for (; d[0] + 1 < r && "0" == c.charAt(d[0] + 1);) d[0]++, b.U++;
                if (1 > k + l || 1 > b.U) throw Error('Malformed exponential pattern "' + c + '"');
                t = !1;
                break;
            default:
                d[0]--, t = !1
        }
        0 == l && 0 < k && 0 <= h && (l = h, 0 == l && l++, p = k - l, k = l - 1, l = 1);
        if (0 > h && 0 < p || 0 <= h && (h < k || h > k + l) || 0 == q) throw Error('Malformed pattern "' + c + '"');
        p = k + l + p;
        b.w = 0 <= h ? p - h : 0;
        0 <= h && (b.g = k + l - h, 0 > b.g && (b.g = 0));
        b.a = (0 <= h ? h : p) - k;
        b.ka && (b.R = k + b.a, 0 == b.w && 0 == b.a && (b.a = 1));
        b.m.push(Math.max(0, q));
        b.Ya = 0 == h || h == p;
        e = d[0] -
            e;
        b.Ea = Io(b, c, d);
        d[0] < c.length && c.charAt(d[0]) == Jo ? (d[0]++, 1 != b.Xj && (b.F = !0), b.$ = Io(b, c, d), d[0] += e, b.ia = Io(b, c, d)) : (b.$ = b.za + b.$, b.ia += b.Ea)
    }

    function Ho(b, c) {
        b.va = c;
        Go(b, Fg.QO);
        b.g = 0;
        b.w = 2;
        if (0 < b.g) throw Error("Can't combine significant digits and minimum fraction digits");
        b.La = 2
    }

    Do.prototype.format = function (b) {
        if (isNaN(b)) return Fg.J2;
        var c = [], d;
        var e = b, h = b;
        this.va == Fo ? d = Ko : (e = Math.abs(e), h = Math.abs(h), d = Lo(this, 1 >= e ? 0 : Mo(e)).tJ, No(this, h / Math.pow(10, d)), e = No(this, e / Math.pow(10, d)), d = Lo(this, d + Mo(e.gV)));
        b /= Math.pow(10, d.tJ);
        c.push(d.prefix);
        e = 0 > b || 0 == b && 0 > 1 / b;
        c.push(e ? this.$ : this.za);
        if (isFinite(b)) if (b = b * (e ? -1 : 1) * this.Xj, this.ka) if (0 == b) Oo(this, b, this.a, c), Po(this, 0, c); else {
            h = Math.log(b) / Math.log(10);
            h = Math.floor(h + 2E-15);
            var k = Math.pow(10, h);
            isFinite(k) && 0 !== k ? b = b / k : (k =
                Math.pow(10, Math.floor(h / 2)), b = b / k / k, 1 == h % 2 && (b = 0 < h ? b / 10 : 10 * b));
            k = this.a;
            if (1 < this.R && this.R > this.a) {
                for (; 0 != h % this.R;) b *= 10, h--;
                k = 1
            } else 1 > this.a ? (h++, b /= 10) : (h -= this.a - 1, b *= Math.pow(10, this.a - 1));
            Oo(this, b, k, c);
            Po(this, h, c)
        } else Oo(this, b, this.a, c); else c.push(Fg.mZ);
        c.push(e ? this.ia : this.Ea);
        c.push(d.jY);
        return c.join("")
    };

    function No(b, c) {
        var d = Math.pow(10, b.w), e = 0 >= b.La ? Math.round(c * d) : Math.round(Qo(c * d, b.La, b.w)), h;
        isFinite(e) ? (h = Math.floor(e / d), d = Math.floor(e - h * d)) : (h = c, d = 0);
        return {gV: h, X5: d}
    }

    function Oo(b, c, d, e) {
        if (b.g > b.w) throw Error("Min value must be less than max value");
        e || (e = []);
        c = No(b, c);
        var h = Math.pow(10, b.w), k = c.gV, l = c.X5, p = 0 < b.g || 0 < l || !1;
        c = b.g;
        p && (c = b.g);
        for (var q = "", r = k; 1E20 < r;) q = "0" + q, r = Math.round(r / 10);
        var q = r + q, t = Fg.dZ, r = Fg.$P.charCodeAt(0), u = q.length, x = 0;
        if (0 < k || 0 < d) {
            for (k = u; k < d; k++) e.push(String.fromCharCode(r));
            if (2 <= b.m.length) for (d = 1; d < b.m.length; d++) x += b.m[d];
            d = u - x;
            if (0 < d) for (var k = b.m, A = x = u = 0, C = Fg.YO, I = q.length, N = 0; N < I; N++) {
                if (e.push(String.fromCharCode(r + 1 * Number(q.charAt(N)))),
                1 < I - N) if (A = k[x], N < d) {
                    var S = d - N;
                    (1 === A || 0 < A && 1 === S % A) && e.push(C)
                } else x < k.length && (N === d ? x += 1 : A === N - d - u + 1 && (e.push(C), u += A, x += 1))
            } else {
                d = q;
                q = b.m;
                k = Fg.YO;
                x = 0;
                A = d.length;
                C = [];
                for (u = q.length - 1; 0 <= u && 0 < A; u--) {
                    x = q[u];
                    for (I = 0; I < x && 0 <= A - I - 1; I++) C.push(String.fromCharCode(r + 1 * Number(d.charAt(A - I - 1))));
                    A -= x;
                    0 < A && C.push(k)
                }
                e.push.apply(e, C.reverse())
            }
        } else p || e.push(String.fromCharCode(r));
        (b.Ya || p) && e.push(t);
        b = "" + (l + h);
        for (h = b.length; "0" == b.charAt(h - 1) && h > c + 1;) h--;
        for (k = 1; k < h; k++) e.push(String.fromCharCode(r +
            1 * Number(b.charAt(k))))
    }

    function Po(b, c, d) {
        d.push(Fg.hZ);
        0 > c ? (c = -c, d.push(Fg.tZ)) : b.ob && d.push(Fg.T2);
        c = "" + c;
        for (var e = Fg.$P, h = c.length; h < b.U; h++) d.push(e);
        d.push(c)
    }

    var Jo = ";";

    function Io(b, c, d) {
        for (var e = "", h = !1, k = c.length; d[0] < k; d[0]++) {
            var l = c.charAt(d[0]);
            if ("'" == l) d[0] + 1 < k && "'" == c.charAt(d[0] + 1) ? (d[0]++, e += "'") : h = !h; else if (h) e += l; else switch (l) {
                case "#":
                case "0":
                case ",":
                case ".":
                case Jo:
                    return e;
                case "\u00a4":
                    if (d[0] + 1 < k && "\u00a4" == c.charAt(d[0] + 1)) d[0]++, e += b.K; else switch (b.Hb) {
                        case Eo:
                            e += zf[b.K][1];
                            break;
                        case 2:
                            var l = b.K, p = zf[l], e = e + (l == p[1] ? l : l + " " + p[1]);
                            break;
                        case 1:
                            e += zf[b.K][2]
                    }
                    break;
                case "%":
                    if (!b.F && 1 != b.Xj) throw Error("Too many percent/permill");
                    if (b.F &&
                        100 != b.Xj) throw Error("Inconsistent use of percent/permill characters");
                    b.Xj = 100;
                    b.F = !1;
                    e += Fg.Q2;
                    break;
                case "\u2030":
                    if (!b.F && 1 != b.Xj) throw Error("Too many percent/permill");
                    if (b.F && 1E3 != b.Xj) throw Error("Inconsistent use of percent/permill characters");
                    b.Xj = 1E3;
                    b.F = !1;
                    e += Fg.S2;
                    break;
                default:
                    e += l
            }
        }
        return e
    }

    var Ko = {prefix: "", jY: "", tJ: 0};

    function Lo(b, c) {
        var d = 1 == b.va ? yf.OO : yf.$Y;
        null == d && (d = yf.OO);
        if (3 > c) return Ko;
        c = Math.min(14, c);
        for (var e = d[Math.pow(10, c)], h = c - 1; !e && 3 <= h;) e = d[Math.pow(10, h)], h--;
        if (!e) return Ko;
        d = e.other;
        return d && "0" != d ? (d = /([^0]*)(0+)(.*)/.exec(d)) ? {
            prefix: d[1],
            jY: d[3],
            tJ: h + 1 - (d[2].length - 1)
        } : Ko : Ko
    }

    function Mo(b) {
        for (var c = 0; 1 <= (b /= 10);) c++;
        return c
    }

    function Qo(b, c, d) {
        if (!b) return b;
        c = c - Mo(b) - 1;
        if (c < -d) return d = Math.pow(10, d), Math.round(b / d) * d;
        d = Math.pow(10, c);
        return Math.round(b * d) / d
    };

    function Ro() {
        this.Ih = this.Bh = 0;
        this.g = -Infinity;
        this.m = Infinity;
        this.w = [];
        this.a = "#bebebe";
        this.F = .1;
        this.Dj = 30;
        this.sj = So.xs;
        this.mg = 24;
        this.hh = To.qm;
        this.Zg = Uo.om;
        this.Cj = 70;
        this.nm = "#779E2E";
        this.To = .5;
        this.mm = "#FF0000";
        this.So = .5;
        this.km = "#779E2E";
        this.Ro = .7;
        this.jm = "#FF0000";
        this.Qo = .7;
        this.Ul = "#FF0000";
        this.ro = 1;
        this.so = Hc.Xo;
        this.$j = 1
    }

    var So = {xs: "Number of rows", HP: "Points per row"}, To = {qm: "Up/Down", XP: "Total"},
        Uo = {om: "Left", PP: "Right"}, Vo = new sk("UTC HH:mm:ss yyyy-MM-dd"), Wo = new Do(1);
    f = Ro.prototype;
    f.Qg = function () {
        return this.Bh
    };
    f.si = function () {
        return this.Ih
    };
    f.Ab = function (b) {
        this.a = b
    };
    f.Mw = function (b) {
        this.F = b
    };
    f.reset = function () {
        this.g = -Infinity;
        this.m = Infinity;
        this.w = []
    };

    function Xo(b) {
        var c, d, e = [];
        b.sj == So.xs ? (c = b.mg, d = (b.g - b.m) / c) : (d = b.mg * b.o.ma().Sb / 10, c = +Math.max(Math.ceil((b.g - b.m) / d), 1), 1E3 < c && (c = 1E3, d = (b.g - b.m) / c));
        for (var h = 0; h < c; h++) e[h] = [0, 0];
        E(b.w, function (b) {
            if (0 == d) e[0][0] += this.Hd(b); else for (var h = +Math.min(Math.floor((this.g - this.bb(b)) / d), c - 1), p = +Math.min(Math.floor((this.g - this.$a(b)) / d), c - 1), q = this.jb(b) >= this.zb(b) ? 0 : 1; h <= p; h++) {
                if (this.bb(b) == this.$a(b)) {
                    e[h][q] += this.Hd(b);
                    break
                }
                var r = Math.min(this.g - h * d, this.bb(b)), t = Math.max(this.g - (h + 1) * d,
                    this.$a(b)), r = (r - t) / (this.bb(b) - this.$a(b));
                e[h][q] += this.Hd(b) * r
            }
        }, b);
        return e
    }

    f.T = function (b, c, d) {
        if (this.o) {
            var e = this.o.W().Y(), h = Cl(this.o.W(), bl), k = h ? e / 2 : 0;
            this.reset();
            if (this.Bh && this.Ih) {
                this.Bh > this.Ih && (this.Bh += this.Ih, this.Ih = this.Bh - this.Ih, this.Bh -= this.Ih);
                var e = h ? this.o.eb().od().Qr : null,
                    l = h ? ui(e, this.Bh - k, Ek) : this.o.eb().indexOf(this.Bh - k),
                    k = h ? ui(e, this.Ih + k, Ek) : this.o.eb().indexOf(this.Ih + k);
                0 > l && (l = ~l - 1);
                0 > k && (k = ~k - 1);
                if (l == k) {
                    var p = h ? e[l] : this.o.eb().ta[l];
                    p && (this.w.push(p), this.g = this.bb(p), this.m = this.$a(p))
                } else for (h && (l++, k--); l <= k; l++) if (p = h ? e[l] :
                    this.o.eb().ta[l]) {
                    this.w.push(p);
                    var q = this.bb(p);
                    q > this.g && (this.g = q);
                    p = this.$a(p);
                    p < this.m && (this.m = p)
                }
                if (isFinite(this.g) && isFinite(this.m)) {
                    h = Math.round(c.x(this.Bh) - this.o.Ca() / 2) + .5;
                    c = Math.round(c.x(this.Ih) + this.o.Ca() / 2) + .5;
                    e = d.y(this.g) + .5;
                    d = d.y(this.m) + .5;
                    var r = yb(h, c), t = xb(h, c), u = yb(e, d);
                    c = xb(e, d);
                    b.fillStyle = Mn(this.a, this.F);
                    b.fillRect(r, u, Math.round(t - r), Math.round(c - u));
                    d = Xo(this);
                    var x = (c - u) / d.length, A = (t - r) * this.Dj / 100 | 0, C = +Math.max((.9 * x | 0) - 1, 0),
                        I = 0, N = 0, S = -1, T = -Infinity;
                    E(d, function (b,
                                   c) {
                        I < b[0] + b[1] && (I = b[0] + b[1], S = c);
                        N += b[0] + b[1]
                    });
                    if (0 != this.F) {
                        var U = S, Y = S;
                        if (0 <= S) for (c = N * this.Cj / 100, h = d[S][0] + d[S][1]; h < c && (0 < U || Y < d.length - 1);) 0 < U && (Y == d.length - 1 || d[U - 1][0] + d[U - 1][1] > d[Y + 1][0] + d[Y + 1][1]) ? (U--, h += d[U][0] + d[U][1]) : (Y++, h += d[Y][0] + d[Y][1]);
                        E(d, function (c, d) {
                            var e = this.hh == To.qm ? c[0] : c[0] + c[1], h = e / I * A | 0, e = h, k = C,
                                l = this.Zg == Uo.om ? r : t - h, p = Math.round(u + d * x + (x - C) / 2);
                            if (0 < d && 2 > p - T) if (0 < k) k--, p++; else return; else 0 < d && 2 < p - T && (k += p - T - 2, p -= p - T - 2);
                            T = p + k;
                            0 != h && (b.fillStyle = U <= d && d <= Y ? Mn(this.km,
                                this.Ro) : Mn(this.nm, this.To), b.fillRect(l + .5, p, h + 1, (0 < k ? k : 0) + 1));
                            this.hh == To.qm && (e = c[1], e = e / I * A | 0, l = this.Zg == Uo.om ? l + h + (0 != h ? 1 : 0) : l - (0 != h ? 1 : 0) - e, 0 != e && (b.fillStyle = U <= d && d <= Y ? Mn(this.jm, this.Qo) : Mn(this.mm, this.So), b.fillRect(l + .5, p, e + 1, (0 < k ? k : 0) + 1)))
                        }, this);
                        if (0 <= S) {
                            c = +Math.round(u + S * x + x / 2) + .5;
                            b.strokeStyle = Mn(this.Ul, this.ro);
                            b.lineWidth = this.$j;
                            a:switch (this.so.toLowerCase()) {
                                case Hc.Xo:
                                    h = [2 * this.$j, 2 * this.$j];
                                    break a;
                                case Hc.Ej:
                                    h = [8 * this.$j, 6 * this.$j];
                                    break a;
                                default:
                                    h = []
                            }
                            b.setLineDash(h);
                            b.moveTo(r,
                                c);
                            b.lineTo(t, c)
                        }
                        16 < C && E(d, function (c, d) {
                            var e = +Math.round(u + d * x + (x - C) / 2),
                                h = this.hh == To.qm ? c[0].toFixed(2) + "M x " + c[1].toFixed(2) + "M" : (c[0] + c[1]).toFixed(2) + "M";
                            b.font = "12px Arial, sans-serif";
                            b.fillStyle = this.o.fa().j.Yc;
                            b.shadowOffsetX = 1;
                            b.shadowOffsetY = 1;
                            b.shadowColor = this.o.fa().j.wd;
                            b.shadowBlur = 1;
                            b.fillText(h, (this.Zg == Uo.om ? r : t - b.measureText(h).width - 10) + 5, e + 5 + (C / 2 | 0))
                        }, this);
                        b.shadowOffsetX = 0;
                        b.shadowOffsetY = 0;
                        b.shadowBlur = 0
                    }
                }
            }
        }
    };

    function Yo(b, c, d, e) {
        if (b.o) {
            var h = Zo(b), k = b.o.fa(), l = G(1.2 * k.j.hd), p = l + 5, q = p * (h.length + 1) + 10, r = 1;
            d += 10;
            e -= 10;
            0 > e - q && (e = q);
            d - b.o.pa + 250 > b.o.je().width && (d -= 270);
            d = (d | 0) + .5;
            e = (e | 0) + .5;
            c.save();
            c.beginPath();
            c.fillStyle = k.j.wd;
            c.strokeStyle = k.j.Ql;
            c.lineWidth = k.Ln();
            c.rect(d, e - q, 250, q);
            c.fill();
            c.stroke();
            c.closePath();
            c.restore();
            c.save();
            c.beginPath();
            c.fillStyle = k.j.hj;
            c.font = "bold " + l + "px " + b.o.fa().j.mf;
            c.fillText("Volume Profile", d + 5, e - q + r++ * p);
            c.font = l + "px " + b.o.fa().j.mf;
            E(h, function (b) {
                c.fillText(b[0],
                    d + 5, e - q + r * p);
                c.fillText(b[1], d + 250 - 5 - c.measureText(b[1]).width, e - q + r * p);
                r++
            }, b);
            c.closePath();
            c.restore()
        }
    }

    function Zo(b) {
        var c = b.o.ma().Sb, d = $o(b), e = Cl(b.o.W(), bl) ? ((b.Ih - b.Bh) / b.o.W().Y() | 0) + 1 : b.w.length;
        return [["Start Time:", Vo.format(new Date(b.Bh), ok(0))], ["End Time:", Vo.format(new Date(b.Ih + b.o.W().Y() - 1), ok(0))], ["Periods:", e], ["Open:", Eb(d[0], c).join("")], ["High:", Eb(d[1], c).join("")], ["Low:", Eb(d[2], c).join("")], ["Close:", Eb(d[3], c).join("")], ["Volume:", Wo.format(d[4])], ["High/Low range:", ((d[1] - d[2]) / c).toFixed(2)]]
    }

    var ap = [];

    function $o(b) {
        var c, d = -Infinity, e = Infinity, h, k = 0, l = b.Bh + "." + b.Ih;
        ap[l] || (E(b.w, function (b) {
            c || (c = this.zb(b));
            this.bb(b) > d && (d = this.bb(b));
            this.$a(b) < e && (e = this.$a(b));
            h = this.jb(b);
            k += this.Hd(b)
        }, b), ap[l] = [c, d, e, h, k.toFixed(2)]);
        return ap[l]
    }

    f = Ro.prototype;
    f.zb = function (b) {
        return Cl(this.o.W(), bl) ? b[1] : b.zb()
    };
    f.bb = function (b) {
        return Cl(this.o.W(), bl) ? b[2] : b.bb()
    };
    f.$a = function (b) {
        return Cl(this.o.W(), bl) ? b[3] : b.$a()
    };
    f.jb = function (b) {
        return Cl(this.o.W(), bl) ? b[4] : b.jb()
    };
    f.Hd = function (b) {
        return Cl(this.o.W(), bl) ? b[6].mc()[0] : b.Hd()
    };
    var bp = "StopIteration" in ba ? ba.StopIteration : {message: "StopIteration", stack: ""};

    function cp() {
    }

    cp.prototype.next = function () {
        throw bp;
    };
    cp.prototype.Fj = function () {
        return this
    };

    function dp(b) {
        if (b instanceof cp) return b;
        if ("function" == typeof b.Fj) return b.Fj(!1);
        if (ja(b)) {
            var c = 0, d = new cp;
            d.next = function () {
                for (; ;) {
                    if (c >= b.length) throw bp;
                    if (c in b) return b[c++];
                    c++
                }
            };
            return d
        }
        throw Error("Not implemented");
    }

    function ep(b, c, d) {
        if (ja(b)) try {
            E(b, c, d)
        } catch (e) {
            if (e !== bp) throw e;
        } else {
            b = dp(b);
            try {
                for (; ;) c.call(d, b.next(), void 0, b)
            } catch (h) {
                if (h !== bp) throw h;
            }
        }
    }

    function fp(b, c) {
        var d = dp(b), e = new cp;
        e.next = function () {
            for (; ;) {
                var b = d.next();
                if (c.call(void 0, b, void 0, d)) return b
            }
        };
        return e
    }

    function gp(b, c) {
        var d = 0;
        ep(b, function (b) {
            d = c.call(void 0, d, b)
        });
        return d
    }

    function hp(b) {
        if (ja(b)) return pi(b);
        b = dp(b);
        var c = [];
        ep(b, function (b) {
            c.push(b)
        });
        return c
    };

    function ip(b) {
        this.a = b;
        this.$b = b.od();
        Nb(this)
    }

    B(ip, cp);
    ip.prototype.kc = function (b) {
        return this.a.kc(b)
    };
    ip.prototype.next = function () {
        if (this.oj > this.end) throw bp;
        return this.a.kc(this.oj++)
    };

    function Nb(b) {
        var c;
        c = b.$b.indexOf(b.a.a.Wc);
        b.start = c;
        c = jp(b.a);
        c = b.$b.indexOf(c);
        b.end = c;
        0 > b.start && (b.start = Math.max(~b.start - 1, 0));
        0 > b.end && (b.end = Math.max(~b.end + 1, 0));
        b.end > b.$b.ue() - 1 && (b.end = b.$b.ue() - 1);
        b.oj = b.start;
        b.length = b.end - b.start
    };

    function kp(b, c) {
        this.g = b;
        this.a = c
    }

    var lp = new Vj(0, 0, 1), mp = new Vj(9999, 11, 31);
    kp.prototype.contains = function (b) {
        return b.valueOf() >= this.g.valueOf() && b.valueOf() <= this.a.valueOf()
    };

    function np(b, c) {
        var d = b.clone();
        d.add(new Oj(Rj, c));
        return d
    };

    function op(b, c) {
        this.x = ca(b) ? b : 0;
        this.y = ca(c) ? c : 0
    }

    f = op.prototype;
    f.clone = function () {
        return new op(this.x, this.y)
    };
    f.toString = function () {
        return "(" + this.x + ", " + this.y + ")"
    };
    f.df = function (b) {
        return b instanceof op && pp(this, b)
    };

    function pp(b, c) {
        return b == c ? !0 : b && c ? b.x == c.x && b.y == c.y : !1
    }

    function qp(b, c) {
        return new op(b.x - c.x, b.y - c.y)
    }

    f.ceil = function () {
        this.x = Math.ceil(this.x);
        this.y = Math.ceil(this.y);
        return this
    };
    f.floor = function () {
        this.x = Math.floor(this.x);
        this.y = Math.floor(this.y);
        return this
    };
    f.round = function () {
        this.x = Math.round(this.x);
        this.y = Math.round(this.y);
        return this
    };
    f.translate = function (b, c) {
        b instanceof op ? (this.x += b.x, this.y += b.y) : (this.x += Number(b), ma(c) && (this.y += c));
        return this
    };
    f.scale = function (b, c) {
        var d = ma(c) ? c : b;
        this.x *= b;
        this.y *= d;
        return this
    };

    function Co(b, c, d, e) {
        return Math.sqrt(Math.abs((b - d) * (b - d)) + Math.abs((c - e) * (c - e)))
    }

    function rp(b) {
        var c = b.target && b.target.getBoundingClientRect ? b.target.getBoundingClientRect() : null, d = b.offsetX,
            e = b.offsetY;
        return b.type == sp || b.type == tp ? (b = b.Ak && b.Ak().Pe && b.Ak().Pe().targetTouches && b.Ak().Pe().targetTouches[0], c && b ? new op(b.pageX - c.left, b.pageY - c.top) : new op(d, e)) : new op(d, e)
    };

    function up(b, c, d, e, h, k, l, p) {
        this.cd = b;
        this.Xc = c;
        this.vf = d;
        this.af = e;
        this.cl = h;
        this.dl = k;
        this.a = l;
        this.g = p
    }

    up.prototype.clone = function () {
        return new up(this.cd, this.Xc, this.vf, this.af, this.cl, this.dl, this.a, this.g)
    };
    up.prototype.df = function (b) {
        return this.cd == b.cd && this.Xc == b.Xc && this.vf == b.vf && this.af == b.af && this.cl == b.cl && this.dl == b.dl && this.a == b.a && this.g == b.g
    };

    function vp(b, c) {
        if (0 == c) return b.cd;
        if (1 == c) return b.a;
        var d = Gc(b.cd, b.vf, c), e = Gc(b.vf, b.cl, c), h = Gc(b.cl, b.a, c), d = Gc(d, e, c), e = Gc(e, h, c);
        return Gc(d, e, c)
    }

    function wp(b, c) {
        var d = (c - b.cd) / (b.a - b.cd);
        if (0 >= d) return 0;
        if (1 <= d) return 1;
        for (var e = 0, h = 1, k = 0, l = 0; 8 > l; l++) {
            var k = vp(b, d), p = (vp(b, d + 1E-6) - k) / 1E-6;
            if (1E-6 > Math.abs(k - c)) return d;
            if (1E-6 > Math.abs(p)) break; else k < c ? e = d : h = d, d -= (k - c) / p
        }
        for (l = 0; 1E-6 < Math.abs(k - c) && 8 > l; l++) k < c ? (e = d, d = (d + h) / 2) : (h = d, d = (d + e) / 2), k = vp(b, d);
        return d
    };

    function xp(b, c, d, e) {
        this.top = b;
        this.right = c;
        this.bottom = d;
        this.left = e
    }

    f = xp.prototype;
    f.be = function () {
        return this.right - this.left
    };
    f.wg = function () {
        return this.bottom - this.top
    };
    f.clone = function () {
        return new xp(this.top, this.right, this.bottom, this.left)
    };
    f.toString = function () {
        return "(" + this.top + "t, " + this.right + "r, " + this.bottom + "b, " + this.left + "l)"
    };
    f.contains = function (b) {
        return this && b ? b instanceof xp ? b.left >= this.left && b.right <= this.right && b.top >= this.top && b.bottom <= this.bottom : b.x >= this.left && b.x <= this.right && b.y >= this.top && b.y <= this.bottom : !1
    };
    f.expand = function (b, c, d, e) {
        pa(b) ? (this.top -= b.top, this.right += b.right, this.bottom += b.bottom, this.left -= b.left) : (this.top -= b, this.right += Number(c), this.bottom += Number(d), this.left -= Number(e));
        return this
    };
    f.ceil = function () {
        this.top = Math.ceil(this.top);
        this.right = Math.ceil(this.right);
        this.bottom = Math.ceil(this.bottom);
        this.left = Math.ceil(this.left);
        return this
    };
    f.floor = function () {
        this.top = Math.floor(this.top);
        this.right = Math.floor(this.right);
        this.bottom = Math.floor(this.bottom);
        this.left = Math.floor(this.left);
        return this
    };
    f.round = function () {
        this.top = Math.round(this.top);
        this.right = Math.round(this.right);
        this.bottom = Math.round(this.bottom);
        this.left = Math.round(this.left);
        return this
    };
    f.translate = function (b, c) {
        b instanceof op ? (this.left += b.x, this.right += b.x, this.top += b.y, this.bottom += b.y) : (this.left += b, this.right += b, ma(c) && (this.top += c, this.bottom += c));
        return this
    };
    f.scale = function (b, c) {
        var d = ma(c) ? c : b;
        this.left *= b;
        this.right *= b;
        this.top *= d;
        this.bottom *= d;
        return this
    };

    function Ap(b, c) {
        this.start = b < c ? b : c;
        this.end = b < c ? c : b
    }

    Ap.prototype.clone = function () {
        return new Ap(this.start, this.end)
    };
    Ap.prototype.Al = function () {
        return this.end - this.start
    };
    Ap.prototype.toString = function () {
        return "[" + this.start + ", " + this.end + "]"
    };

    function Bp() {
        this.Ef = []
    }

    f = Bp.prototype;
    f.toString = function () {
        return "[" + this.Ef.join(", ") + "]"
    };
    f.clone = function () {
        for (var b = new Bp, c = this.Ef.length; c--;) b.Ef[c] = this.Ef[c].clone();
        return b
    };
    f.add = function (b) {
        if (!(b.end <= b.start)) {
            b = b.clone();
            for (var c = 0, d; d = this.Ef[c]; c++) if (b.start <= d.end) {
                b.start = Math.min(b.start, d.start);
                break
            }
            for (var e = c; (d = this.Ef[c]) && !(b.end < d.start); c++) b.end = Math.max(b.end, d.end);
            this.Ef.splice(e, c - e, b)
        }
    };
    f.remove = function (b) {
        if (!(b.end <= b.start)) {
            for (var c = 0, d; (d = this.Ef[c]) && !(b.start < d.end); c++) ;
            if (d && !(b.end < d.start)) {
                var e = c;
                b.start > d.start && (e++, b.end < d.end && ri(this.Ef, e, 0, new Ap(b.end, d.end)), d.end = b.start);
                for (c = e; (d = this.Ef[c]) && !(d.start = Math.max(b.end, d.start), b.end < d.end); c++) ;
                this.Ef.splice(e, c - e)
            }
        }
    };
    f.contains = function (b) {
        if (b.end <= b.start) return !1;
        for (var c = 0, d; d = this.Ef[c]; c++) if (b.start < d.end) {
            if (b.end >= d.start) return d.start <= b.start && d.end >= b.end;
            break
        }
        return !1
    };
    f.ny = function (b) {
        for (var c = 0, d; d = this.Ef[c]; c++) if (b < d.end) {
            if (b >= d.start) return !0;
            break
        }
        return !1
    };
    f.Fy = function (b) {
        for (var c = this.clone(), d = 0, e; e = b.Ef[d]; d++) c.remove(e);
        return c
    };
    f.oL = function (b) {
        return this.Ml() || b.Ml() ? new Bp : this.Fy(b.inverse(this.tv()))
    };
    f.slice = function (b) {
        var c = new Bp;
        if (b.start >= b.end) return c;
        for (var d = 0, e; e = this.Ef[d]; d++) if (!(e.end <= b.start)) {
            if (e.start > b.end) break;
            c.add(new Ap(Math.max(b.start, e.start), Math.min(b.end, e.end)))
        }
        return c
    };
    f.inverse = function (b) {
        var c = new Bp;
        c.add(b);
        for (var d = 0, e; e = this.Ef[d]; d++) if (!(b.start >= e.end)) {
            if (b.end < e.start) break;
            c.remove(e)
        }
        return c
    };
    f.tv = function () {
        return this.Ef.length ? new Ap(this.Ef[0].start, $h(this.Ef).end) : null
    };
    f.Ml = function () {
        return 0 == this.Ef.length
    };
    f.clear = function () {
        this.Ef.length = 0
    };
    f.Fj = function () {
        var b = 0, c = this.Ef, d = new cp;
        d.next = function () {
            if (b >= c.length) throw bp;
            return c[b++].clone()
        };
        return d
    };

    function Cp() {
        this.Ef = []
    }

    B(Cp, Bp);

    function Dp(b) {
        this.g = new Bp;
        this.ta = [];
        this.Oc = b;
        this.w = new Ap;
        this.a = new Ap;
        this.m = new Bp
    }

    f = Dp.prototype;
    f.getData = function (b, c) {
        var d = ma(b) ? ui(this.ta, [b], Ep) : void 0, e = ma(c) ? ui(this.ta, [c], Ep) : void 0;
        0 > d && (d = ~d);
        0 > e && (e = ~e);
        return si(this.ta, d, e)
    };

    function Ep(b, c) {
        return wi(b[0], c[0])
    }

    f.Caa = function (b, c) {
        var d = 0, e = c.start - this.Oc, h = c.end, k = ui(b, [h], Ep);
        0 < k && (b = si(b, 0, k));
        var l = (h - e) / this.Oc;
        do e += this.Oc, k = ui(this.ta, [e], Ep); while (-1 < k && 10 > d++);
        k = ~k;
        for (0 > k && (k = 0); 0 <= ui(this.ta, [h], Ep) && 10 > d++;) h -= this.Oc, l--;
        d = ui(b, [e], Ep);
        d = si(b, d, d + l);
        e = si(this.ta, 0, k);
        k = si(this.ta, k);
        0 < d.length && this.g.add(new Ap(d[0][0], d[d.length - 1][0] + this.Oc));
        this.ta = [].concat(e, d, k)
    };
    f.tv = function () {
        return this.w
    };
    f.xv = function (b, c) {
        var d = c || this.w.end;
        this.a.start = b || this.w.start;
        this.a.end = d;
        this.m.add(this.a);
        d = this.m.Fy(this.g);
        this.m.clear();
        return d
    };
    f.clear = function () {
        this.g.clear()
    };

    function Fp() {
        this.ag = {};
        this.WM = []
    }

    function Gp(b, c, d, e) {
        var h = e.Fe() ? "eet" : "";
        c = c.aa() + ";" + e + ";" + d + ";" + h;
        b.ag[c] = b.ag[c] || new Dp(Cl(e, bl) ? 1 : e.Y());
        return b.ag[c]
    }

    f = Fp.prototype;
    f.contains = function (b, c, d, e, h) {
        b = Gp(this, b, c, d);
        b.a.start = e;
        b.a.end = h;
        return b.g.contains(b.a)
    };
    f.xv = function (b, c, d, e, h) {
        return Gp(this, b, c, d).xv(e, h)
    };
    f.tv = function (b, c, d) {
        return Gp(this, b, c, d).tv()
    };
    f.get = function (b, c, d, e, h) {
        e = e || this.tv(b, c, d).start;
        h = h || this.tv(b, c, d).end;
        return Gp(this, b, c, d).getData(e, h)
    };
    f.add = function (b, c, d, e) {
        if (!(1 > e.length || 1 == e.length && null == e[0])) {
            b = Gp(this, b, c, d);
            c = e[0][0];
            var h = e[e.length - 1][0];
            null != d && Cl(d, bl) && (c -= c % d.Y(), h = h - h % d.Y() + d.Y());
            d = h + b.Oc;
            b.a.start = c;
            b.a.end = d;
            b.m.add(b.a);
            b.g.contains(b.a) || (d = b.m.Fy(b.g), ep(d, v(b.Caa, b, e)), b.m.clear());
            b.w.start = b.ta[0][0];
            b.w.end = b.ta[b.ta.length - 1][0]
        }
    };
    f.clear = function (b, c, d) {
        Gp(this, b, c, d).clear();
        this.WM = []
    };

    function Hp() {
        Fp.call(this);
        this.zI = {}
    }

    B(Hp, Fp);

    function Ip(b, c, d, e) {
        this.left = b;
        this.top = c;
        this.width = d;
        this.height = e
    }

    f = Ip.prototype;
    f.clone = function () {
        return new Ip(this.left, this.top, this.width, this.height)
    };
    f.toString = function () {
        return "(" + this.left + ", " + this.top + " - " + this.width + "w x " + this.height + "h)"
    };
    f.oL = function (b) {
        var c = Math.max(this.left, b.left), d = Math.min(this.left + this.width, b.left + b.width);
        if (c <= d) {
            var e = Math.max(this.top, b.top);
            b = Math.min(this.top + this.height, b.top + b.height);
            if (e <= b) return this.left = c, this.top = e, this.width = d - c, this.height = b - e, !0
        }
        return !1
    };
    f.Fy = function (b) {
        var c;
        b:{
            c = Math.max(this.left, b.left);
            var d = Math.min(this.left + this.width, b.left + b.width);
            if (c <= d) {
                var e = Math.max(this.top, b.top), h = Math.min(this.top + this.height, b.top + b.height);
                if (e <= h) {
                    c = new Ip(c, e, d - c, h - e);
                    break b
                }
            }
            c = null
        }
        if (c && c.height && c.width) {
            c = [];
            var d = this.top, e = this.height, h = this.left + this.width, k = this.top + this.height,
                l = b.left + b.width, p = b.top + b.height;
            b.top > this.top && (c.push(new Ip(this.left, this.top, this.width, b.top - this.top)), d = b.top, e -= b.top - this.top);
            p < k && (c.push(new Ip(this.left,
                p, this.width, k - p)), e = p - d);
            b.left > this.left && c.push(new Ip(this.left, d, b.left - this.left, e));
            l < h && c.push(new Ip(l, d, h - l, e));
            b = c
        } else b = [this.clone()];
        return b
    };
    f.contains = function (b) {
        return b instanceof op ? b.x >= this.left && b.x <= this.left + this.width && b.y >= this.top && b.y <= this.top + this.height : this.left <= b.left && this.left + this.width >= b.left + b.width && this.top <= b.top && this.top + this.height >= b.top + b.height
    };

    function Jp(b, c) {
        var d = c.x < b.left ? b.left - c.x : Math.max(c.x - (b.left + b.width), 0),
            e = c.y < b.top ? b.top - c.y : Math.max(c.y - (b.top + b.height), 0);
        return d * d + e * e
    }

    f.KC = function (b) {
        return Math.sqrt(Jp(this, b))
    };
    f.ie = function () {
        return new Qg(this.width, this.height)
    };
    f.ceil = function () {
        this.left = Math.ceil(this.left);
        this.top = Math.ceil(this.top);
        this.width = Math.ceil(this.width);
        this.height = Math.ceil(this.height);
        return this
    };
    f.floor = function () {
        this.left = Math.floor(this.left);
        this.top = Math.floor(this.top);
        this.width = Math.floor(this.width);
        this.height = Math.floor(this.height);
        return this
    };
    f.round = function () {
        this.left = Math.round(this.left);
        this.top = Math.round(this.top);
        this.width = Math.round(this.width);
        this.height = Math.round(this.height);
        return this
    };
    f.translate = function (b, c) {
        b instanceof op ? (this.left += b.x, this.top += b.y) : (this.left += b, ma(c) && (this.top += c));
        return this
    };
    f.scale = function (b, c) {
        var d = ma(c) ? c : b;
        this.left *= b;
        this.width *= b;
        this.top *= d;
        this.height *= d;
        return this
    };
    var Kp;

    function Lp() {
    }

    B(Lp, Sg);
    Lp.prototype.a = function () {
        var b = Tg(this);
        return b ? new ActiveXObject(b) : new XMLHttpRequest
    };

    function Tg(b) {
        if (!b.m && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
            for (var c = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], d = 0; d < c.length; d++) {
                var e = c[d];
                try {
                    return new ActiveXObject(e), b.m = e
                } catch (h) {
                }
            }
            throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
        }
        return b.m
    }

    Kp = new Lp;

    function Mp(b, c) {
        this.Ta = Np;
        this.Wh = void 0;
        this.g = this.a = this.pc = null;
        this.m = this.w = !1;
        if (b != da) try {
            var d = this;
            b.call(c, function (b) {
                Op(d, Pp, b)
            }, function (b) {
                if (!(b instanceof Qp)) try {
                    if (b instanceof Error) throw b;
                    throw Error("Promise rejected.");
                } catch (c) {
                }
                Op(d, Rp, b)
            })
        } catch (e) {
            Op(this, Rp, e)
        }
    }

    var Np = 0, Pp = 2, Rp = 3;

    function Sp() {
        this.next = this.context = this.g = this.m = this.a = null;
        this.w = !1
    }

    Sp.prototype.reset = function () {
        this.context = this.g = this.m = this.a = null;
        this.w = !1
    };
    var Tp = new xd(function () {
        return new Sp
    }, function (b) {
        b.reset()
    }, 100);

    function Up(b, c, d) {
        var e = Tp.get();
        e.m = b;
        e.g = c;
        e.context = d;
        return e
    }

    Mp.prototype.then = function (b, c, d) {
        return Vp(this, oa(b) ? b : null, oa(c) ? c : null, d)
    };
    qh(Mp);
    Mp.prototype.cancel = function (b) {
        this.Ta == Np && Rm(function () {
            var c = new Qp(b);
            Wp(this, c)
        }, this)
    };

    function Wp(b, c) {
        if (b.Ta == Np) if (b.pc) {
            var d = b.pc;
            if (d.a) {
                for (var e = 0, h = null, k = null, l = d.a; l && (l.w || (e++, l.a == b && (h = l), !(h && 1 < e))); l = l.next) h || (k = l);
                h && (d.Ta == Np && 1 == e ? Wp(d, c) : (k ? (e = k, e.next == d.g && (d.g = e), e.next = e.next.next) : Xp(d), Yp(d, h, Rp, c)))
            }
            b.pc = null
        } else Op(b, Rp, c)
    }

    function Zp(b, c) {
        b.a || b.Ta != Pp && b.Ta != Rp || $p(b);
        b.g ? b.g.next = c : b.a = c;
        b.g = c
    }

    function Vp(b, c, d, e) {
        var h = Up(null, null, null);
        h.a = new Mp(function (b, l) {
            h.m = c ? function (d) {
                try {
                    var h = c.call(e, d);
                    b(h)
                } catch (r) {
                    l(r)
                }
            } : b;
            h.g = d ? function (c) {
                try {
                    var h = d.call(e, c);
                    !ca(h) && c instanceof Qp ? l(c) : b(h)
                } catch (r) {
                    l(r)
                }
            } : l
        });
        h.a.pc = b;
        Zp(b, h);
        return h.a
    }

    Mp.prototype.K = function (b) {
        this.Ta = Np;
        Op(this, Pp, b)
    };
    Mp.prototype.R = function (b) {
        this.Ta = Np;
        Op(this, Rp, b)
    };

    function Op(b, c, d) {
        if (b.Ta == Np) {
            b === d && (c = Rp, d = new TypeError("Promise cannot resolve to itself"));
            b.Ta = 1;
            var e;
            a:{
                var h = d, k = b.K, l = b.R;
                if (h instanceof Mp) Zp(h, Up(k || da, l || null, b)), e = !0; else if (rh(h)) h.then(k, l, b), e = !0; else {
                    if (pa(h)) try {
                        var p = h.then;
                        if (oa(p)) {
                            aq(h, p, k, l, b);
                            e = !0;
                            break a
                        }
                    } catch (q) {
                        l.call(b, q);
                        e = !0;
                        break a
                    }
                    e = !1
                }
            }
            e || (b.Wh = d, b.Ta = c, b.pc = null, $p(b), c != Rp || d instanceof Qp || bq(b, d))
        }
    }

    function aq(b, c, d, e, h) {
        function k(b) {
            p || (p = !0, e.call(h, b))
        }

        function l(b) {
            p || (p = !0, d.call(h, b))
        }

        var p = !1;
        try {
            c.call(b, l, k)
        } catch (q) {
            k(q)
        }
    }

    function $p(b) {
        b.w || (b.w = !0, Rm(b.F, b))
    }

    function Xp(b) {
        var c = null;
        b.a && (c = b.a, b.a = c.next, c.next = null);
        b.a || (b.g = null);
        return c
    }

    Mp.prototype.F = function () {
        for (var b = null; b = Xp(this);) Yp(this, b, this.Ta, this.Wh);
        this.w = !1
    };

    function Yp(b, c, d, e) {
        if (d == Rp && c.g && !c.w) for (; b && b.m; b = b.pc) b.m = !1;
        if (c.a) c.a.pc = null, cq(c, d, e); else try {
            c.w ? c.m.call(c.context) : cq(c, d, e)
        } catch (h) {
            dq.call(null, h)
        }
        yd(Tp, c)
    }

    function cq(b, c, d) {
        c == Pp ? b.m.call(b.context, d) : b.g && b.g.call(b.context, d)
    }

    function bq(b, c) {
        b.m = !0;
        Rm(function () {
            b.m && dq.call(null, c)
        })
    }

    var dq = Nm;

    function Qp(b) {
        Cd.call(this, b)
    }

    B(Qp, Cd);
    Qp.prototype.name = "cancel";

    function eq() {
    }

    B(eq, wh);
    eq.prototype.zk = function () {
        var b = 0;
        ep(this.Fj(!0), function () {
            b++
        });
        return b
    };
    eq.prototype.clear = function () {
        var b = hp(this.Fj(!0)), c = this;
        E(b, function (b) {
            c.remove(b)
        })
    };

    function fq(b) {
        this.yc = b
    }

    B(fq, eq);
    f = fq.prototype;
    f.set = function (b, c) {
        try {
            this.yc.setItem(b, c)
        } catch (d) {
            if (0 == this.yc.length) throw"Storage mechanism: Storage disabled";
            throw"Storage mechanism: Quota exceeded";
        }
    };
    f.get = function (b) {
        b = this.yc.getItem(b);
        if (!ka(b) && null !== b) throw"Storage mechanism: Invalid value was encountered";
        return b
    };
    f.remove = function (b) {
        this.yc.removeItem(b)
    };
    f.zk = function () {
        return this.yc.length
    };
    f.Fj = function (b) {
        var c = 0, d = this.yc, e = new cp;
        e.next = function () {
            if (c >= d.length) throw bp;
            var e = d.key(c++);
            if (b) return e;
            e = d.getItem(e);
            if (!ka(e)) throw"Storage mechanism: Invalid value was encountered";
            return e
        };
        return e
    };
    f.clear = function () {
        this.yc.clear()
    };
    f.key = function (b) {
        return this.yc.key(b)
    };

    function gq() {
        var b = null;
        try {
            b = window.localStorage || null
        } catch (c) {
        }
        this.yc = b
    }

    B(gq, fq);

    function hq(b, c) {
        this.g = b;
        this.a = c + "::"
    }

    B(hq, eq);
    hq.prototype.set = function (b, c) {
        this.g.set(this.a + b, c)
    };
    hq.prototype.get = function (b) {
        return this.g.get(this.a + b)
    };
    hq.prototype.remove = function (b) {
        this.g.remove(this.a + b)
    };
    hq.prototype.Fj = function (b) {
        var c = this.g.Fj(!0), d = this, e = new cp;
        e.next = function () {
            for (var e = c.next(); e.substr(0, d.a.length) != d.a;) e = c.next();
            return b ? e.substr(d.a.length) : d.g.get(e)
        };
        return e
    };

    function iq() {
        this.a = jq
    }

    iq.prototype.yr = !0;
    iq.prototype.Mp = function () {
        return ""
    };
    iq.prototype.toString = function () {
        return "Const{}"
    };

    function kq(b) {
        if (b instanceof iq && b.constructor === iq && b.a === jq) return "";
        Zh("expected object of type Const, got '" + b + "'");
        return "type_error:Const"
    }

    var jq = {};

    function lq() {
        this.a = "";
        this.g = mq
    }

    lq.prototype.yr = !0;
    var mq = {};
    lq.prototype.Mp = function () {
        return this.a
    };
    lq.prototype.toString = function () {
        return "SafeStyle{" + this.a + "}"
    };

    function nq(b) {
        var c = new lq;
        c.a = b;
        return c
    }

    var oq = nq(""), pq = /^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/;

    function qq() {
        this.a = "";
        this.g = rq
    }

    qq.prototype.yr = !0;
    var rq = {};
    qq.prototype.Mp = function () {
        return this.a
    };
    qq.prototype.toString = function () {
        return "SafeStyleSheet{" + this.a + "}"
    };

    function sq(b) {
        var c = new qq;
        c.a = b;
        return c
    }

    sq("");

    function tq() {
        this.a = "";
        this.g = uq
    }

    f = tq.prototype;
    f.yr = !0;
    f.Mp = function () {
        return this.a
    };
    f.gL = !0;
    f.ef = function () {
        return 1
    };
    f.toString = function () {
        return "SafeUrl{" + this.a + "}"
    };
    var vq = /^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i, uq = {};

    function wq(b) {
        var c = new tq;
        c.a = b;
        return c
    }

    wq("about:blank");

    function xq() {
        this.IF = "";
        this.j3 = yq
    }

    f = xq.prototype;
    f.yr = !0;
    f.Mp = function () {
        return this.IF
    };
    f.gL = !0;
    f.ef = function () {
        return 1
    };
    f.toString = function () {
        return "TrustedResourceUrl{" + this.IF + "}"
    };

    function zq(b) {
        if (b instanceof xq && b.constructor === xq && b.j3 === yq) return b.IF;
        Zh("expected object of type TrustedResourceUrl, got '" + b + "' of type " + ga(b));
        return "type_error:TrustedResourceUrl"
    }

    var yq = {};

    function Aq() {
        this.a = "";
        this.m = Bq;
        this.g = null
    }

    f = Aq.prototype;
    f.gL = !0;
    f.ef = function () {
        return this.g
    };
    f.yr = !0;
    f.Mp = function () {
        return this.a
    };
    f.toString = function () {
        return "SafeHtml{" + this.a + "}"
    };

    function Cq(b) {
        if (b instanceof Aq && b.constructor === Aq && b.m === Bq) return b.a;
        Zh("expected object of type SafeHtml, got '" + b + "' of type " + ga(b));
        return "type_error:SafeHtml"
    }

    function Dq(b) {
        if (b instanceof Aq) return b;
        var c = null;
        b.gL && (c = b.ef());
        b = Eh(b.yr ? b.Mp() : String(b));
        return Eq(b, c)
    }

    var Fq = /^[a-zA-Z0-9-]+$/,
        Gq = {action: !0, cite: !0, data: !0, formaction: !0, href: !0, manifest: !0, poster: !0, src: !0},
        Hq = lh(Vd, Xd, de, oe, we, xe, ze, Ce, Ie, Ne, Oe, Se);

    function Iq(b, c, d) {
        var e = String(b);
        if (!Fq.test(e)) throw Error("Invalid tag name <" + e + ">.");
        if (e.toUpperCase() in Hq) throw Error("Tag name <" + e + "> is not allowed for SafeHtml.");
        return Jq(String(b), c, d)
    }

    function Kq(b) {
        function c(b) {
            ia(b) ? E(b, c) : (b = Dq(b), e += Cq(b), b = b.ef(), 0 == d ? d = b : 0 != b && d != b && (d = null))
        }

        var d = 0, e = "";
        E(arguments, c);
        return Eq(e, d)
    }

    var Bq = {};

    function Eq(b, c) {
        var d = new Aq;
        d.a = b;
        d.g = c;
        return d
    }

    function Jq(b, c, d) {
        var e = null, h;
        h = "<" + b;
        var k = "";
        if (c) for (var l in c) {
            if (!Fq.test(l)) throw Error('Invalid attribute name "' + l + '".');
            var p = c[l];
            if (null != p) {
                var q, r = b;
                q = l;
                if (p instanceof iq) p = kq(p); else if ("style" == q.toLowerCase()) {
                    if (!pa(p)) throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof p + " given: " + p);
                    if (!(p instanceof lq)) {
                        var r = "", t = void 0;
                        for (t in p) {
                            if (!/^[-_a-zA-Z0-9]+$/.test(t)) throw Error("Name allows only [-_a-zA-Z0-9], got: " + t);
                            var u =
                                p[t];
                            if (null != u) {
                                if (u instanceof iq) u = kq(u); else if (pq.test(u)) {
                                    for (var x = !0, A = !0, C = 0; C < u.length; C++) {
                                        var I = u.charAt(C);
                                        "'" == I && A ? x = !x : '"' == I && x && (A = !A)
                                    }
                                    x && A || (Zh("String value requires balanced quotes, got: " + u), u = "zClosurez")
                                } else Zh("String value allows only [-,.\"'%_!# a-zA-Z0-9], rgb() and rgba(), got: " + u), u = "zClosurez";
                                r += t + ":" + u + ";"
                            }
                        }
                        p = r ? nq(r) : oq
                    }
                    r = void 0;
                    p instanceof lq && p.constructor === lq && p.g === mq ? r = p.a : (Zh("expected object of type SafeStyle, got '" + p + "' of type " + ga(p)), r = "type_error:SafeStyle");
                    p = r
                } else {
                    if (/^on/i.test(q)) throw Error('Attribute "' + q + '" requires goog.string.Const value, "' + p + '" given.');
                    if (q.toLowerCase() in Gq) if (p instanceof xq) p = zq(p); else if (p instanceof tq) p instanceof tq && p.constructor === tq && p.g === uq ? p = p.a : (Zh("expected object of type SafeUrl, got '" + p + "' of type " + ga(p)), p = "type_error:SafeUrl"); else if (ka(p)) p instanceof tq || (p = p.yr ? p.Mp() : String(p), vq.test(p) || (p = "about:invalid#zClosurez"), p = wq(p)), p = p.Mp(); else throw Error('Attribute "' + q + '" on tag "' + r + '" requires goog.html.SafeUrl, goog.string.Const, or string, value "' +
                        p + '" given.');
                }
                p.yr && (p = p.Mp());
                q = q + '="' + Eh(String(p)) + '"';
                k = k + (" " + q)
            }
        }
        h = h + k;
        null != d ? ia(d) || (d = [d]) : d = [];
        !0 === oh[b.toLowerCase()] ? h += ">" : (e = Kq(d), h += ">" + Cq(e) + "</" + b + ">", e = e.ef());
        (b = c && c.dir) && (/^(ltr|rtl|auto)$/i.test(b) ? e = 0 : e = null);
        return Eq(h, e)
    }

    function Lq(b, c, d) {
        var e = {}, h;
        for (h in b) e[h] = b[h];
        for (h in c) e[h] = c[h];
        for (h in d) {
            var k = h.toLowerCase();
            if (k in b) throw Error('Cannot override "' + k + '" attribute, got "' + h + '" with value "' + d[h] + '"');
            k in c && delete e[k];
            e[h] = d[h]
        }
        return e
    }

    Eq("<!DOCTYPE html>", 0);
    var Mq = Eq("", 0);
    Eq("<br>", 0);
    var Nq = {MATH: !0, SCRIPT: !0, STYLE: !0, SVG: !0, TEMPLATE: !0};

    function Oq(b, c) {
        if (Nq[b.tagName.toUpperCase()]) throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of " + b.tagName + ".");
        b.innerHTML = Cq(c)
    };var Pq = ["classid", "data", "movie", "type", "typemustmatch"];

    function Qq(b, c) {
        function d(b, c) {
            for (var d in b) for (var l = d.toLowerCase(), p = 0; p < Pq.length; p++) {
                var q = Pq[p];
                if (l == q) throw Error('Cannot override "' + q + '" ' + c + ', got "' + d + '" with value "' + b[d] + '"');
            }
        }

        d(b, "attribute");
        d(c, "param")
    };

    function Rq(b, c) {
        this.g = {};
        this.a = [];
        this.w = this.m = 0;
        var d = arguments.length;
        if (1 < d) {
            if (d % 2) throw Error("Uneven number of arguments");
            for (var e = 0; e < d; e += 2) this.set(arguments[e], arguments[e + 1])
        } else b && this.addAll(b)
    }

    f = Rq.prototype;
    f.zk = function () {
        return this.m
    };
    f.mc = function () {
        Sq(this);
        for (var b = [], c = 0; c < this.a.length; c++) b.push(this.g[this.a[c]]);
        return b
    };
    f.zl = function () {
        Sq(this);
        return this.a.concat()
    };

    function Tq(b, c) {
        return Uq(b.g, c)
    }

    f.ny = function (b) {
        for (var c = 0; c < this.a.length; c++) {
            var d = this.a[c];
            if (Uq(this.g, d) && this.g[d] == b) return !0
        }
        return !1
    };
    f.df = function (b, c) {
        if (this === b) return !0;
        if (this.m != b.zk()) return !1;
        var d = c || Vq;
        Sq(this);
        for (var e, h = 0; e = this.a[h]; h++) if (!d(this.get(e), b.get(e))) return !1;
        return !0
    };

    function Vq(b, c) {
        return b === c
    }

    f.Ml = function () {
        return 0 == this.m
    };
    f.clear = function () {
        this.g = {};
        this.w = this.m = this.a.length = 0
    };
    f.remove = function (b) {
        return Uq(this.g, b) ? (delete this.g[b], this.m--, this.w++, this.a.length > 2 * this.m && Sq(this), !0) : !1
    };

    function Sq(b) {
        if (b.m != b.a.length) {
            for (var c = 0, d = 0; c < b.a.length;) {
                var e = b.a[c];
                Uq(b.g, e) && (b.a[d++] = e);
                c++
            }
            b.a.length = d
        }
        if (b.m != b.a.length) {
            for (var h = {}, d = c = 0; c < b.a.length;) e = b.a[c], Uq(h, e) || (b.a[d++] = e, h[e] = 1), c++;
            b.a.length = d
        }
    }

    f.get = function (b, c) {
        return Uq(this.g, b) ? this.g[b] : c
    };
    f.set = function (b, c) {
        Uq(this.g, b) || (this.m++, this.a.push(b), this.w++);
        this.g[b] = c
    };
    f.addAll = function (b) {
        var c;
        b instanceof Rq ? (c = b.zl(), b = b.mc()) : (c = Ua(b), b = Ta(b));
        for (var d = 0; d < c.length; d++) this.set(c[d], b[d])
    };
    f.forEach = function (b, c) {
        for (var d = this.zl(), e = 0; e < d.length; e++) {
            var h = d[e], k = this.get(h);
            b.call(c, k, h, this)
        }
    };
    f.clone = function () {
        return new Rq(this)
    };
    f.Fj = function (b) {
        Sq(this);
        var c = 0, d = this.w, e = this, h = new cp;
        h.next = function () {
            if (d != e.w) throw Error("The map has changed since the iterator was created");
            if (c >= e.a.length) throw bp;
            var h = e.a[c++];
            return b ? h : e.g[h]
        };
        return h
    };

    function Uq(b, c) {
        return Object.prototype.hasOwnProperty.call(b, c)
    };

    function Wq(b) {
        return b.zk && "function" == typeof b.zk ? b.zk() : ja(b) || ka(b) ? b.length : Xg(b)
    }

    function Xq(b) {
        if (b.mc && "function" == typeof b.mc) return b.mc();
        if (ka(b)) return b.split("");
        if (ja(b)) {
            for (var c = [], d = b.length, e = 0; e < d; e++) c.push(b[e]);
            return c
        }
        return Ta(b)
    }

    function Yq(b) {
        if (b.zl && "function" == typeof b.zl) return b.zl();
        if (!b.mc || "function" != typeof b.mc) {
            if (ja(b) || ka(b)) {
                var c = [];
                b = b.length;
                for (var d = 0; d < b; d++) c.push(d);
                return c
            }
            return Ua(b)
        }
    }

    function Zq(b, c, d) {
        if (b.forEach && "function" == typeof b.forEach) b.forEach(c, d); else if (ja(b) || ka(b)) E(b, c, d); else for (var e = Yq(b), h = Xq(b), k = h.length, l = 0; l < k; l++) c.call(d, h[l], e && e[l], b)
    }

    function $q(b, c) {
        if ("function" == typeof b.every) return b.every(c, void 0);
        if (ja(b) || ka(b)) return di(b, c, void 0);
        for (var d = Yq(b), e = Xq(b), h = e.length, k = 0; k < h; k++) if (!c.call(void 0, e[k], d && d[k], b)) return !1;
        return !0
    };

    function ar(b) {
        this.a = new Rq;
        b && this.addAll(b)
    }

    function br(b) {
        var c = typeof b;
        return "object" == c && b || "function" == c ? "o" + qa(b) : c.substr(0, 1) + b
    }

    f = ar.prototype;
    f.zk = function () {
        return this.a.zk()
    };
    f.add = function (b) {
        this.a.set(br(b), b)
    };
    f.addAll = function (b) {
        b = Xq(b);
        for (var c = b.length, d = 0; d < c; d++) this.add(b[d])
    };
    f.ud = function (b) {
        b = Xq(b);
        for (var c = b.length, d = 0; d < c; d++) this.remove(b[d])
    };
    f.remove = function (b) {
        return this.a.remove(br(b))
    };
    f.clear = function () {
        this.a.clear()
    };
    f.Ml = function () {
        return this.a.Ml()
    };
    f.contains = function (b) {
        return Tq(this.a, br(b))
    };
    f.oL = function (b) {
        var c = new ar;
        b = Xq(b);
        for (var d = 0; d < b.length; d++) {
            var e = b[d];
            this.contains(e) && c.add(e)
        }
        return c
    };
    f.Fy = function (b) {
        var c = this.clone();
        c.ud(b);
        return c
    };
    f.mc = function () {
        return this.a.mc()
    };
    f.clone = function () {
        return new ar(this)
    };
    f.df = function (b) {
        return this.zk() == Wq(b) && cr(this, b)
    };

    function cr(b, c) {
        var d = Wq(c);
        if (b.zk() > d) return !1;
        !(c instanceof ar) && 5 < d && (c = new ar(c));
        return $q(b, function (b) {
            var d = c;
            return d.contains && "function" == typeof d.contains ? d.contains(b) : d.ny && "function" == typeof d.ny ? d.ny(b) : ja(d) || ka(d) ? ji(d, b) : Zg(d, b)
        })
    }

    f.Fj = function () {
        return this.a.Fj(!1)
    };
    var dr = {};

    function er() {
    }

    ea(er);
    er.prototype.a = 0;

    function fr(b) {
        return ":" + (b.a++).toString(36)
    };

    function gr(b, c) {
        if (!b) throw Error("Invalid class name " + b);
        if (!oa(c)) throw Error("Invalid decorator function " + c);
        hr[b] = c
    }

    var ir = {}, hr = {};
    var jr = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;

    function kr(b, c) {
        if (b) for (var d = b.split("&"), e = 0; e < d.length; e++) {
            var h = d[e].indexOf("="), k = null, l = null;
            0 <= h ? (k = d[e].substring(0, h), l = d[e].substring(h + 1)) : k = d[e];
            c(k, l ? decodeURIComponent(l.replace(/\+/g, " ")) : "")
        }
    };

    function Ka(b, c) {
        this.w = this.U = this.m = "";
        this.R = null;
        this.F = this.K = "";
        this.g = !1;
        var d;
        b instanceof Ka ? (this.g = ca(c) ? c : b.g, lr(this, b.m), this.U = b.U, this.w = b.w, mr(this, b.R), this.K = b.K, Ma(this, b.a.clone()), this.F = b.F) : b && (d = String(b).match(jr)) ? (this.g = !!c, lr(this, d[1] || "", !0), this.U = nr(d[2] || ""), this.w = nr(d[3] || "", !0), mr(this, d[4]), this.K = nr(d[5] || "", !0), Ma(this, d[6] || "", !0), this.F = nr(d[7] || "")) : (this.g = !!c, this.a = new or(null, 0, this.g))
    }

    Ka.prototype.toString = function () {
        var b = [], c = this.m;
        c && b.push(pr(c, qr, !0), ":");
        var d = this.w;
        if (d || "file" == c) b.push("//"), (c = this.U) && b.push(pr(c, qr, !0), "@"), b.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), d = this.R, null != d && b.push(":", String(d));
        if (d = this.K) this.w && "/" != d.charAt(0) && b.push("/"), b.push(pr(d, "/" == d.charAt(0) ? rr : sr, !0));
        (d = this.a.toString()) && b.push("?", d);
        (d = this.F) && b.push("#", pr(d, tr));
        return b.join("")
    };
    Ka.prototype.clone = function () {
        return new Ka(this)
    };

    function lr(b, c, d) {
        b.m = d ? nr(c, !0) : c;
        b.m && (b.m = b.m.replace(/:$/, ""))
    }

    function mr(b, c) {
        if (c) {
            c = Number(c);
            if (isNaN(c) || 0 > c) throw Error("Bad port number " + c);
            b.R = c
        } else b.R = null
    }

    function Ma(b, c, d) {
        c instanceof or ? (b.a = c, ur(b.a, b.g)) : (d || (c = pr(c, vr)), b.a = new or(c, 0, b.g))
    }

    function wr(b, c, d) {
        b.a.set(c, d)
    }

    function xr(b, c, d) {
        ia(d) || (d = [String(d)]);
        yr(b.a, c, d)
    }

    function nr(b, c) {
        return b ? c ? decodeURI(b.replace(/%25/g, "%2525")) : decodeURIComponent(b) : ""
    }

    function pr(b, c, d) {
        return ka(b) ? (b = encodeURI(b).replace(c, zr), d && (b = b.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), b) : null
    }

    function zr(b) {
        b = b.charCodeAt(0);
        return "%" + (b >> 4 & 15).toString(16) + (b & 15).toString(16)
    }

    var qr = /[#\/\?@]/g, sr = /[\#\?:]/g, rr = /[\#\?]/g, vr = /[\#\?@]/g, tr = /#/g;

    function Ar(b) {
        var c = window.location.href;
        b = b.match(jr);
        c = c.match(jr);
        return b[3] == c[3] && b[4] == c[4]
    }

    function or(b, c, d) {
        this.g = this.a = null;
        this.m = b || null;
        this.w = !!d
    }

    function Br(b) {
        b.a || (b.a = new Rq, b.g = 0, b.m && kr(b.m, function (c, d) {
            b.add(decodeURIComponent(c.replace(/\+/g, " ")), d)
        }))
    }

    function Na(b) {
        var c = Yq(b);
        if ("undefined" == typeof c) throw Error("Keys are undefined");
        var d = new or(null, 0, void 0);
        b = Xq(b);
        for (var e = 0; e < c.length; e++) {
            var h = c[e], k = b[e];
            ia(k) ? yr(d, h, k) : d.add(h, k)
        }
        return d
    }

    f = or.prototype;
    f.zk = function () {
        Br(this);
        return this.g
    };
    f.add = function (b, c) {
        Br(this);
        this.m = null;
        b = Cr(this, b);
        var d = this.a.get(b);
        d || this.a.set(b, d = []);
        d.push(c);
        this.g = this.g + 1;
        return this
    };
    f.remove = function (b) {
        Br(this);
        b = Cr(this, b);
        return Tq(this.a, b) ? (this.m = null, this.g = this.g - this.a.get(b).length, this.a.remove(b)) : !1
    };
    f.clear = function () {
        this.a = this.m = null;
        this.g = 0
    };
    f.Ml = function () {
        Br(this);
        return 0 == this.g
    };

    function Dr(b, c) {
        Br(b);
        c = Cr(b, c);
        return Tq(b.a, c)
    }

    f.ny = function (b) {
        var c = this.mc();
        return ji(c, b)
    };
    f.zl = function () {
        Br(this);
        for (var b = this.a.mc(), c = this.a.zl(), d = [], e = 0; e < c.length; e++) for (var h = b[e], k = 0; k < h.length; k++) d.push(c[e]);
        return d
    };
    f.mc = function (b) {
        Br(this);
        var c = [];
        if (ka(b)) Dr(this, b) && (c = oi(c, this.a.get(Cr(this, b)))); else {
            b = this.a.mc();
            for (var d = 0; d < b.length; d++) c = oi(c, b[d])
        }
        return c
    };
    f.set = function (b, c) {
        Br(this);
        this.m = null;
        b = Cr(this, b);
        Dr(this, b) && (this.g = this.g - this.a.get(b).length);
        this.a.set(b, [c]);
        this.g = this.g + 1;
        return this
    };
    f.get = function (b, c) {
        var d = b ? this.mc(b) : [];
        return 0 < d.length ? String(d[0]) : c
    };

    function yr(b, c, d) {
        b.remove(c);
        0 < d.length && (b.m = null, b.a.set(Cr(b, c), pi(d)), b.g = b.g + d.length)
    }

    f.toString = function () {
        if (this.m) return this.m;
        if (!this.a) return "";
        for (var b = [], c = this.a.zl(), d = 0; d < c.length; d++) for (var e = c[d], h = encodeURIComponent(String(e)), e = this.mc(e), k = 0; k < e.length; k++) {
            var l = h;
            "" !== e[k] && (l += "=" + encodeURIComponent(String(e[k])));
            b.push(l)
        }
        return this.m = b.join("&")
    };
    f.clone = function () {
        var b = new or;
        b.m = this.m;
        this.a && (b.a = this.a.clone(), b.g = this.g);
        return b
    };

    function Cr(b, c) {
        var d = String(c);
        b.w && (d = d.toLowerCase());
        return d
    }

    function ur(b, c) {
        c && !b.w && (Br(b), b.m = null, b.a.forEach(function (b, c) {
            var h = c.toLowerCase();
            c != h && (this.remove(c), yr(this, h, b))
        }, b));
        b.w = c
    };var Er = !1, Fr = "";

    function Gr(b) {
        b = b.match(/[\d]+/g);
        if (!b) return "";
        b.length = 3;
        return b.join(".")
    }

    (function () {
        if (navigator.plugins && navigator.plugins.length) {
            var b = navigator.plugins["Shockwave Flash"];
            if (b && (Er = !0, b.description)) {
                Fr = Gr(b.description);
                return
            }
            if (navigator.plugins["Shockwave Flash 2.0"]) {
                Er = !0;
                Fr = "2.0.0.11";
                return
            }
        }
        if (navigator.mimeTypes && navigator.mimeTypes.length && (b = navigator.mimeTypes["application/x-shockwave-flash"], Er = !(!b || !b.enabledPlugin))) {
            Fr = Gr(b.enabledPlugin.description);
            return
        }
        try {
            var c = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
            Er = !0;
            Fr = Gr(c.GetVariable("$version"));
            return
        } catch (d) {
        }
        try {
            c = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
            Er = !0;
            Fr = "6.0.21";
            return
        } catch (e) {
        }
        try {
            c = new ActiveXObject("ShockwaveFlash.ShockwaveFlash"), Er = !0, Fr = Gr(c.GetVariable("$version"))
        } catch (h) {
        }
    })();
    var Hr = Fr;
    var Ir = Lm("Opera"), Jr = Lm("Trident") || Lm("MSIE"), Kr = Lm("Edge"), Lr = Kr || Jr,
        Mr = Lm("Gecko") && !(Mh(Im.toLowerCase(), "webkit") && !Lm("Edge")) && !(Lm("Trident") || Lm("MSIE")) && !Lm("Edge"),
        Nr = Mh(Im.toLowerCase(), "webkit") && !Lm("Edge");
    Nr && Lm("Mobile");
    var Or = Lm("Macintosh");
    Lm("Windows");
    var Pr = Lm("Linux") || Lm("CrOS"), Qr = ba.navigator || null;
    Qr && Mh(Qr.appVersion || "", "X11");
    Lm("Android");
    Zm();
    Lm("iPad");
    Lm("iPod");
    Zm() || Lm("iPad") || Lm("iPod");

    function Rr() {
        var b = ba.document;
        return b ? b.documentMode : void 0
    }

    var Sr;
    a:{
        var Tr = "", Ur = function () {
            var b = Im;
            if (Mr) return /rv\:([^\);]+)(\)|;)/.exec(b);
            if (Kr) return /Edge\/([\d\.]+)/.exec(b);
            if (Jr) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);
            if (Nr) return /WebKit\/(\S+)/.exec(b);
            if (Ir) return /(?:Version)[ \/]?(\S+)/.exec(b)
        }();
        Ur && (Tr = Ur ? Ur[1] : "");
        if (Jr) {
            var Vr = Rr();
            if (null != Vr && Vr > parseFloat(Tr)) {
                Sr = String(Vr);
                break a
            }
        }
        Sr = Tr
    }
    var vh = {};

    function Wr(b) {
        return uh(b, function () {
            return 0 <= Ph(Sr, b)
        })
    }

    function Xr(b) {
        return Number(Yr) >= b
    }

    var Zr = ba.document, Yr = Zr && Jr ? Rr() || ("CSS1Compat" == Zr.compatMode ? parseInt(Sr, 10) : 5) : void 0;

    function $r(b) {
        this.Rf = b;
        this.vc = this.a = this.pc = null
    }

    function as(b, c) {
        this.name = b;
        this.value = c
    }

    as.prototype.toString = function () {
        return this.name
    };
    var bs = new as("SEVERE", 1E3), cs = new as("WARNING", 900), ds = new as("CONFIG", 700), es = new as("FINE", 500);
    $r.prototype.getName = function () {
        return this.Rf
    };
    $r.prototype.getParent = function () {
        return this.pc
    };
    $r.prototype.Fp = function () {
        this.vc || (this.vc = {});
        return this.vc
    };

    function fs(b) {
        if (b.a) return b.a;
        if (b.pc) return fs(b.pc);
        Zh("Root logger has no level set.");
        return null
    }

    $r.prototype.log = function (b, c, d) {
        if (b.value >= fs(this).value) for (oa(c) && (c = c()), b = new Dd(b, String(c), this.Rf), d && (b.a = d), d = "log:" + b.g, ba.console && (ba.console.timeStamp ? ba.console.timeStamp(d) : ba.console.markTimeline && ba.console.markTimeline(d)), ba.msWriteProfilerMark && ba.msWriteProfilerMark(d), d = this; d;) d = d.getParent()
    };
    var gs = {}, hs = null;

    function is(b) {
        hs || (hs = new $r(""), gs[""] = hs, hs.a = ds);
        var c;
        if (!(c = gs[b])) {
            c = new $r(b);
            var d = b.lastIndexOf("."), e = b.substr(d + 1), d = is(b.substr(0, d));
            d.Fp()[e] = c;
            c.pc = d;
            gs[b] = c
        }
        return c
    };var js = !Jr || Xr(9), ks = !Mr && !Jr || Jr && Xr(9) || Mr && Wr("1.9.1"), ls = Jr && !Wr("9"),
        ms = Jr || Ir || Nr, Ba = Jr;

    function ns(b) {
        return b ? new os(ps(b)) : Md || (Md = new os)
    }

    function qs(b, c, d) {
        return rs(document, b, c, d)
    }

    function ss(b, c) {
        var d = c || document;
        return d.querySelectorAll && d.querySelector ? d.querySelectorAll("." + b) : rs(document, "*", b, c)
    }

    function ts(b, c) {
        var d = c || document, e = null;
        d.getElementsByClassName ? e = d.getElementsByClassName(b)[0] : d.querySelectorAll && d.querySelector ? e = d.querySelector("." + b) : e = rs(document, "*", b, c)[0];
        return e || null
    }

    function rs(b, c, d, e) {
        b = e || b;
        c = c && "*" != c ? String(c).toUpperCase() : "";
        if (b.querySelectorAll && b.querySelector && (c || d)) return b.querySelectorAll(c + (d ? "." + d : ""));
        if (d && b.getElementsByClassName) {
            b = b.getElementsByClassName(d);
            if (c) {
                e = {};
                for (var h = 0, k = 0, l; l = b[k]; k++) c == l.nodeName && (e[h++] = l);
                e.length = h;
                return e
            }
            return b
        }
        b = b.getElementsByTagName(c || "*");
        if (d) {
            e = {};
            for (k = h = 0; l = b[k]; k++) c = l.className, "function" == typeof c.split && ji(c.split(/\s+/), d) && (e[h++] = l);
            e.length = h;
            return e
        }
        return b
    }

    function us(b, c) {
        La(c, function (c, e) {
            "style" == e ? b.style.cssText = c : "class" == e ? b.className = c : "for" == e ? b.htmlFor = c : vs.hasOwnProperty(e) ? b.setAttribute(vs[e], c) : 0 == e.lastIndexOf("aria-", 0) || 0 == e.lastIndexOf("data-", 0) ? b.setAttribute(e, c) : b[e] = c
        })
    }

    var vs = {
        cellpadding: "cellPadding",
        cellspacing: "cellSpacing",
        colspan: "colSpan",
        frameborder: "frameBorder",
        height: "height",
        maxlength: "maxLength",
        nonce: "nonce",
        role: "role",
        rowspan: "rowSpan",
        type: "type",
        usemap: "useMap",
        valign: "vAlign",
        width: "width"
    };

    function ws(b) {
        b = b.document;
        b = "CSS1Compat" == b.compatMode ? b.documentElement : b.body;
        return new Qg(b.clientWidth, b.clientHeight)
    }

    function xs(b) {
        return b.scrollingElement ? b.scrollingElement : Nr || "CSS1Compat" != b.compatMode ? b.body || b.documentElement : b.documentElement
    }

    function ys(b) {
        return b ? b.parentWindow || b.defaultView : window
    }

    function zs(b, c, d) {
        return As(document, arguments)
    }

    function As(b, c) {
        var d = String(c[0]), e = c[1];
        if (!js && e && (e.name || e.type)) {
            d = ["<", d];
            e.name && d.push(' name="', Eh(e.name), '"');
            if (e.type) {
                d.push(' type="', Eh(e.type), '"');
                var h = {};
                jh(h, e);
                delete h.type;
                e = h
            }
            d.push(">");
            d = d.join("")
        }
        d = b.createElement(d);
        e && (ka(e) ? d.className = e : ia(e) ? d.className = e.join(" ") : us(d, e));
        2 < c.length && Bs(b, d, c, 2);
        return d
    }

    function Bs(b, c, d, e) {
        function h(d) {
            d && c.appendChild(ka(d) ? b.createTextNode(d) : d)
        }

        for (; e < d.length; e++) {
            var k = d[e];
            !ja(k) || pa(k) && 0 < k.nodeType ? h(k) : E(Cs(k) ? pi(k) : k, h)
        }
    }

    function Ds(b, c) {
        Bs(ps(b), b, arguments, 1)
    }

    function Js(b) {
        for (var c; c = b.firstChild;) b.removeChild(c)
    }

    function Ks(b, c) {
        c.parentNode && c.parentNode.insertBefore(b, c.nextSibling)
    }

    function Ls(b) {
        return b && b.parentNode ? b.parentNode.removeChild(b) : null
    }

    function Ms(b) {
        return ks && void 0 != b.children ? b.children : Ra(b.childNodes, function (b) {
            return 1 == b.nodeType
        })
    }

    function Ns(b) {
        return ca(b.firstElementChild) ? b.firstElementChild : Os(b.firstChild, !0)
    }

    function Ps(b) {
        return ca(b.previousElementSibling) ? b.previousElementSibling : Os(b.previousSibling, !1)
    }

    function Os(b, c) {
        for (; b && 1 != b.nodeType;) b = c ? b.nextSibling : b.previousSibling;
        return b
    }

    function Qs(b) {
        return pa(b) && 1 == b.nodeType
    }

    function Rs(b) {
        var c;
        if (ms && !(Jr && Wr("9") && !Wr("10") && ba.SVGElement && b instanceof ba.SVGElement) && (c = b.parentElement)) return c;
        c = b.parentNode;
        return Qs(c) ? c : null
    }

    function Ss(b, c) {
        if (!b || !c) return !1;
        if (b.contains && 1 == c.nodeType) return b == c || b.contains(c);
        if ("undefined" != typeof b.compareDocumentPosition) return b == c || Boolean(b.compareDocumentPosition(c) & 16);
        for (; c && b != c;) c = c.parentNode;
        return c == b
    }

    function ps(b) {
        return 9 == b.nodeType ? b : b.ownerDocument || b.document
    }

    function Ts(b, c) {
        if ("textContent" in b) b.textContent = c; else if (3 == b.nodeType) b.data = c; else if (b.firstChild && 3 == b.firstChild.nodeType) {
            for (; b.lastChild != b.firstChild;) b.removeChild(b.lastChild);
            b.firstChild.data = c
        } else Js(b), b.appendChild(ps(b).createTextNode(String(c)))
    }

    var Us = {SCRIPT: 1, STYLE: 1, HEAD: 1, IFRAME: 1, OBJECT: 1}, Vs = {IMG: " ", BR: "\n"};

    function Ws(b) {
        return Xs(b) && Ys(b)
    }

    function Zs(b, c) {
        c ? b.tabIndex = 0 : (b.tabIndex = -1, b.removeAttribute("tabIndex"))
    }

    function Xs(b) {
        return Jr && !Wr("9") ? (b = b.getAttributeNode("tabindex"), null != b && b.specified) : b.hasAttribute("tabindex")
    }

    function Ys(b) {
        b = b.tabIndex;
        return ma(b) && 0 <= b && 32768 > b
    }

    function $s(b) {
        if (ls && null !== b && "innerText" in b) b = Bh(b.innerText); else {
            var c = [];
            at(b, c, !0);
            b = c.join("")
        }
        b = b.replace(/ \xAD /g, " ").replace(/\xAD/g, "");
        b = b.replace(/\u200B/g, "");
        ls || (b = b.replace(/ +/g, " "));
        " " != b && (b = b.replace(/^\s*/, ""));
        return b
    }

    function bt(b) {
        var c = [];
        at(b, c, !1);
        return c.join("")
    }

    function at(b, c, d) {
        if (!(b.nodeName in Us)) if (3 == b.nodeType) d ? c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : c.push(b.nodeValue); else if (b.nodeName in Vs) c.push(Vs[b.nodeName]); else for (b = b.firstChild; b;) at(b, c, d), b = b.nextSibling
    }

    function Cs(b) {
        if (b && "number" == typeof b.length) {
            if (pa(b)) return "function" == typeof b.item || "string" == typeof b.item;
            if (oa(b)) return "function" == typeof b.item
        }
        return !1
    }

    function os(b) {
        this.Wb = b || ba.document || document
    }

    f = os.prototype;
    f.M = ns;

    function ct(b) {
        return b.Wb
    }

    f.J = function (b) {
        return ka(b) ? this.Wb.getElementById(b) : b
    };
    f.getElementsByTagName = function (b, c) {
        return (c || this.Wb).getElementsByTagName(String(b))
    };
    f.QJ = function (b, c) {
        return ss(b, c || this.Wb)
    };
    f.zD = function (b, c) {
        return ts(b, c || this.Wb)
    };
    f.PX = us;
    f.je = function (b) {
        return ws(b || dt(this) || window)
    };
    f.u = function (b, c, d) {
        return As(this.Wb, arguments)
    };
    f.createElement = function (b) {
        return this.Wb.createElement(String(b))
    };
    f.createTextNode = function (b) {
        return this.Wb.createTextNode(String(b))
    };

    function et(b) {
        return "CSS1Compat" == b.Wb.compatMode
    }

    function dt(b) {
        b = b.Wb;
        return b.parentWindow || b.defaultView
    }

    function ft(b) {
        var c = b.Wb;
        b = xs(c);
        c = c.parentWindow || c.defaultView;
        return Jr && Wr("10") && c.pageYOffset != b.scrollTop ? new op(b.scrollLeft, b.scrollTop) : new op(c.pageXOffset || b.scrollLeft, c.pageYOffset || b.scrollTop)
    }

    f.yS = function (b) {
        var c;
        a:{
            b = b || this.Wb;
            try {
                c = b && b.activeElement;
                break a
            } catch (d) {
            }
            c = null
        }
        return c
    };
    f.appendChild = function (b, c) {
        b.appendChild(c)
    };
    f.append = Ds;
    f.canHaveChildren = function (b) {
        if (1 != b.nodeType) return !1;
        switch (b.tagName) {
            case String(Vd):
            case String(Wd):
            case String(Xd):
            case String(Zd):
            case String(be):
            case String(ce):
            case String(de):
            case String(ge):
            case String(le):
            case String(pe):
            case String(qe):
            case String(oe):
            case String(re):
            case String(se):
            case String(we):
            case String(Ae):
            case String(Be):
            case String(ze):
            case String(Ce):
            case String(Ge):
            case String(Ie):
            case String(Ke):
            case String(Ne):
            case String($e):
            case String(bf):
                return !1
        }
        return !0
    };
    f.me = Js;
    f.Daa = Ks;
    f.removeNode = Ls;
    f.Fp = Ms;
    f.XS = Ns;
    f.Haa = Qs;
    f.contains = Ss;
    f.ci = Ts;
    f.Tp = function (b) {
        var c;
        if ((c = b.tagName == Ud || b.tagName == qe || b.tagName == Te || b.tagName == Je || b.tagName == $d ? !b.disabled && (!Xs(b) || Ys(b)) : Ws(b)) && Jr) {
            var d;
            !oa(b.getBoundingClientRect) || Jr && null == b.parentElement ? d = {
                height: b.offsetHeight,
                width: b.offsetWidth
            } : d = b.getBoundingClientRect();
            b = null != d && 0 < d.height && 0 < d.width
        } else b = c;
        return b
    };

    function gt(b, c) {
        this.o = b;
        this.fb = c;
        this.F = this.o.Ec() ? new Fm(b) : new km(b);
        this.init()
    }

    B(gt, Ub);
    f = gt.prototype;
    f.init = function () {
        this.a = this.o.Ub.createElement(ae);
        this.g = this.a.getContext("2d");
        this.Pc()
    };
    f.Pc = function () {
        this.o.Ec() && this.F instanceof km ? this.F = new Fm(this.o) : !this.o.Ec() && this.F instanceof Fm && (this.F = new km(this.o));
        if ("box" == this.o.Te() && 4 == this.o.Fa()) {
            for (this.m = this.fb.Ca(); 6 > this.m;) this.m *= 2;
            this.K = wb(60 / this.m) * this.m
        } else {
            for (this.m = 5 * this.fb.Ca(); 60 > this.m;) this.m *= 2;
            this.K = this.m
        }
        this.T()
    };
    f.T = function () {
        this.a.width = this.m;
        this.a.height = 1;
        this.g.save();
        this.g.fillStyle = this.o.fa().j.le;
        this.g.fillRect(1 + this.fb.Ca() / 2 | 0, 0, 1, 1);
        this.g.restore()
    };
    f.WQ = function () {
        return this.a.toDataURL()
    };
    f.Kt = function (b) {
        ht(b, {"background-image": this.o.j.Ij ? "none" : "url(" + this.WQ() + ")", "background-position": "0px 0px"})
    };
    f.Wr = function (b) {
        this.F.T(this.K, b)
    };
    var it = {
        Ss: function (b, c, d, e) {
            var h = document.createEvent("UIEvent");
            h.initEvent(b, !0, !0);
            b = c | 0;
            d |= 0;
            h.screenX = b;
            h.screenY = d;
            h.clientX = b;
            h.clientY = d;
            h.scale = void 0 === e ? 1 : e;
            h.preventDefault = da;
            e = it.elementFromPoint(b, d);
            Qs(e) && e.dispatchEvent(h)
        }, elementFromPoint: function (b, c) {
            return document.elementFromPoint(b, c)
        }, Ts: function (b, c, d) {
            var e = document.createEvent("UIEvent");
            e.initEvent(b, !0, !0);
            e.view = window;
            b = c | 0;
            d |= 0;
            e.screenX = b;
            e.screenY = d;
            e.clientX = b;
            e.clientY = d;
            e.touches = [{clientX: b, clientY: d}];
            e.preventDefault =
                da;
            d = document.elementFromPoint(b, d);
            Qs(d) && d.dispatchEvent(e)
        }
    };
    it.Nfa = va(it.Ts, "touchstart");
    it.Mfa = va(it.Ts, "touchmove");
    it.Lfa = va(it.Ts, "touchend");
    it.a6 = va(it.Ss, "gesturestart");
    it.Y5 = va(it.Ss, "gesturechange");
    it.Z5 = va(it.Ss, "gestureend");
    var jt = {
        Ss: function (b, c, d, e) {
            var h = document.createEvent("UIEvent");
            h.initEvent(b, !0, !0);
            b = c | 0;
            d |= 0;
            h.screenX = b;
            h.screenY = d;
            h.clientX = b;
            h.clientY = d;
            h.scale = void 0 === e ? 1 : e;
            h.preventDefault = da;
            e = jt.elementFromPoint(b, d);
            Qs(e) && e.dispatchEvent(h)
        }, elementFromPoint: function (b, c) {
            return document.elementFromPoint(b, c)
        }, Ts: function (b, c, d) {
            var e = document.createEvent("UIEvent");
            e.initEvent(b, !0, !0);
            e.view = window;
            b = c | 0;
            d |= 0;
            e.screenX = b;
            e.screenY = d;
            e.clientX = b;
            e.clientY = d;
            e.touches = [{clientX: b, clientY: d}];
            e.preventDefault =
                da;
            d = document.elementFromPoint(b, d);
            Qs(d) && d.dispatchEvent(e)
        }
    };
    jt.Nfa = va(jt.Ts, "touchstart");
    jt.Mfa = va(jt.Ts, "touchmove");
    jt.Lfa = va(jt.Ts, "touchend");
    jt.a6 = va(jt.Ss, "gesturestart");
    jt.Y5 = va(jt.Ss, "gesturechange");
    jt.Z5 = va(jt.Ss, "gestureend");
    lh([Ud, Wd, $d, ke, qe, we, ye, ze, De, Ee, He, Ne, Je, Ke, Te, Ye, $e]);

    function kt(b, c) {
        c ? b.setAttribute("role", c) : b.removeAttribute("role")
    }

    function lt(b, c, d) {
        ia(d) && (d = d.join(" "));
        var e = "aria-" + c;
        "" === d || void 0 == d ? (wd || (wd = {
            atomic: !1,
            autocomplete: "none",
            dropeffect: "none",
            haspopup: !1,
            live: "off",
            multiline: !1,
            multiselectable: !1,
            orientation: "vertical",
            readonly: !1,
            relevant: "additions text",
            required: !1,
            sort: "none",
            busy: !1,
            disabled: !1,
            hidden: !1,
            invalid: "false"
        }), d = wd, c in d ? b.setAttribute(e, d[c]) : b.removeAttribute(e)) : b.setAttribute(e, d)
    }

    function mt(b, c) {
        var d = b.getAttribute("aria-" + c);
        return null == d || void 0 == d ? "" : String(d)
    }

    function nt(b, c) {
        var d = "";
        c && (d = c.id);
        lt(b, "activedescendant", d)
    };

    function ot(b) {
        var c = null;
        try {
            c = b.cssRules || b.rules
        } catch (d) {
            if (15 == d.code) throw d.styleSheet = b, d;
        }
        return c
    }

    function pt() {
        return null.parentStyleSheet || null.style && null.style["-closure-parent-stylesheet"]
    }

    function qt(b, c, d) {
        if (void 0 == d || 0 > d) d = ot(b).length;
        if (b.insertRule) b.insertRule(c, d); else if (c = /^([^\{]+)\{([^\{]+)\}/.exec(c), 3 == c.length) b.addRule(c[1], c[2], d); else throw Error("Your CSSRule appears to be ill-formatted.");
    };var rt = Jr ? 'javascript:""' : "about:blank";

    function st(b, c) {
        if (tt(b)) b.selectionStart = c; else if (ut()) {
            var d = vt(b), e = d[0];
            e.inRange(d[1]) && (c = wt(b, c), e.collapse(!0), e.move("character", c), e.select())
        }
    }

    function xt(b, c) {
        var d = 0, e = 0;
        if (tt(b)) d = b.selectionStart, e = c ? -1 : b.selectionEnd; else if (ut()) {
            var h = vt(b), k = h[0], h = h[1];
            if (k.inRange(h)) {
                k.setEndPoint("EndToStart", h);
                if ("textarea" == b.type) {
                    for (var d = h.duplicate(), l = k.text, e = l, p = h = d.text, q = !1; !q;) 0 == k.compareEndPoints("StartToEnd", k) ? q = !0 : (k.moveEnd("character", -1), k.text == l ? e += "\r\n" : q = !0);
                    if (c) k = [e.length, -1]; else {
                        for (k = !1; !k;) 0 == d.compareEndPoints("StartToEnd", d) ? k = !0 : (d.moveEnd("character", -1), d.text == h ? p += "\r\n" : k = !0);
                        k = [e.length, e.length + p.length]
                    }
                    return k
                }
                d =
                    k.text.length;
                c ? e = -1 : e = k.text.length + h.text.length
            }
        }
        return [d, e]
    }

    function yt(b, c) {
        if (tt(b)) b.selectionEnd = c; else if (ut()) {
            var d = vt(b), e = d[1];
            d[0].inRange(e) && (c = wt(b, c), d = wt(b, xt(b, !0)[0]), e.collapse(!0), e.moveEnd("character", c - d), e.select())
        }
    }

    function zt(b, c) {
        if (tt(b)) {
            var d = b.value, e = b.selectionStart;
            b.value = d.substr(0, e) + c + d.substr(b.selectionEnd);
            b.selectionStart = e;
            b.selectionEnd = e + c.length
        } else if (ut()) e = vt(b), d = e[1], e[0].inRange(d) && (e = d.duplicate(), d.text = c, d.setEndPoint("StartToStart", e), d.select()); else throw Error("Cannot set the selection end");
    }

    function vt(b) {
        var c = b.ownerDocument || b.document, d = c.selection.createRange();
        "textarea" == b.type ? (c = c.body.createTextRange(), c.moveToElementText(b)) : c = b.createTextRange();
        return [c, d]
    }

    function wt(b, c) {
        "textarea" == b.type && (c = Bh(b.value.substring(0, c)).length);
        return c
    }

    function tt(b) {
        try {
            return "number" == typeof b.selectionStart
        } catch (c) {
            return !1
        }
    }

    function ut() {
        return Jr && !Wr("9")
    };

    function At() {
        if (!Jr) return !1;
        try {
            return new ActiveXObject("MSXML2.DOMDocument"), !0
        } catch (b) {
            return !1
        }
    }

    var Bt = Jr && At();

    function Ct(b, c) {
        if (!("undefined" == typeof DOMParser || Bt && c)) return (new DOMParser).parseFromString(b, "application/xml");
        if (Bt) {
            var d = new ActiveXObject("MSXML2.DOMDocument");
            if (d) {
                d.resolveExternals = !1;
                d.validateOnParse = !1;
                try {
                    d.setProperty("ProhibitDTD", !0), d.setProperty("MaxXMLSize", 2048), d.setProperty("MaxElementDepth", 256)
                } catch (e) {
                }
            }
            d.loadXML(b);
            return d
        }
        throw Error("Your browser does not support loading xml documents");
    }

    function Dt(b, c) {
        if ("undefined" != typeof b.selectSingleNode) {
            var d = ps(b);
            "undefined" != typeof d.setProperty && d.setProperty("SelectionLanguage", "XPath");
            return b.selectSingleNode(c)
        }
        if (document.implementation.hasFeature("XPath", "3.0")) {
            var d = ps(b), e = d.createNSResolver(d.documentElement);
            return d.evaluate(c, b, e, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue
        }
        return null
    }

    function Et(b, c) {
        if ("undefined" != typeof b.selectNodes) {
            var d = ps(b);
            "undefined" != typeof d.setProperty && d.setProperty("SelectionLanguage", "XPath");
            return b.selectNodes(c)
        }
        if (document.implementation.hasFeature("XPath", "3.0")) {
            for (var d = ps(b), e = d.createNSResolver(d.documentElement), d = d.evaluate(c, b, e, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null), e = [], h = d.snapshotLength, k = 0; k < h; k++) e.push(d.snapshotItem(k));
            return e
        }
        return []
    };var Ft = !Jr || Xr(9), Gt = !Jr || Xr(9), Ht = Jr && !Wr("9");
    !Nr || Wr("528");
    Mr && Wr("1.9b") || Jr && Wr("8") || Ir && Wr("9.5") || Nr && Wr("528");
    Mr && !Wr("8") || Jr && Wr("9");

    function It(b) {
        return Nr ? "webkit" + b : Ir ? "o" + b.toLowerCase() : b.toLowerCase()
    }

    var Jt = {
        Yga: "click",
        tka: "rightclick",
        KB: "dblclick",
        wZ: "mousedown",
        zZ: "mouseup",
        fja: "mouseover",
        yZ: "mouseout",
        xZ: "mousemove",
        dja: "mouseenter",
        eja: "mouseleave",
        Bka: "selectionchange",
        Cka: "selectstart",
        tla: "wheel",
        xia: "keypress",
        wia: "keydown",
        yia: "keyup",
        Cga: "blur",
        Zha: "focus",
        rha: "deactivate",
        $ha: Jr ? "focusin" : "DOMFocusIn",
        aia: Jr ? "focusout" : "DOMFocusOut",
        Kx: "change",
        rka: "reset",
        Aka: "select",
        Jka: "submit",
        uia: "input",
        ika: "propertychange",
        Mha: "dragstart",
        Hha: "drag",
        Jha: "dragenter",
        Lha: "dragover",
        Kha: "dragleave",
        Nha: "drop",
        Iha: "dragend",
        i3: "touchstart",
        h3: "touchmove",
        g3: "touchend",
        Xka: "touchcancel",
        Aga: "beforeunload",
        cha: "consolemessage",
        dha: "contextmenu",
        tha: "deviceorientation",
        xha: "DOMContentLoaded",
        ERROR: "error",
        jia: "help",
        Iia: "load",
        Ria: "losecapture",
        Mja: "orientationchange",
        mka: "readystatechange",
        W2: "resize",
        vka: "scroll",
        fla: "unload",
        Hga: "canplay",
        Iga: "canplaythrough",
        Pha: "durationchange",
        Rha: "emptied",
        Sha: "ended",
        Lia: "loadeddata",
        Mia: "loadedmetadata",
        Uja: "pause",
        Vja: "play",
        Wja: "playing",
        lka: "ratechange",
        xka: "seeked",
        yka: "seeking",
        Fka: "stalled",
        Kka: "suspend",
        Vka: "timeupdate",
        kla: "volumechange",
        lla: "waiting",
        iia: "hashchange",
        Nja: "pagehide",
        Oja: "pageshow",
        fka: "popstate",
        IB: "copy",
        Iq: "paste",
        fha: "cut",
        wga: "beforecopy",
        xga: "beforecut",
        yga: "beforepaste",
        Lja: "online",
        Ija: "offline",
        Uia: "message",
        bha: "connect",
        mga: It("AnimationStart"),
        kga: It("AnimationEnd"),
        lga: It("AnimationIteration"),
        Yka: It("TransitionEnd"),
        Yja: "pointerdown",
        dka: "pointerup",
        Xja: "pointercancel",
        aka: "pointermove",
        cka: "pointerover",
        bka: "pointerout",
        Zja: "pointerenter",
        $ja: "pointerleave",
        hia: "gotpointercapture",
        Sia: "lostpointercapture",
        hja: "MSGestureChange",
        ija: "MSGestureEnd",
        jja: "MSGestureHold",
        kja: "MSGestureStart",
        lja: "MSGestureTap",
        mja: "MSGotPointerCapture",
        vja: "MSInertiaStart",
        wja: "MSLostPointerCapture",
        xja: "MSPointerCancel",
        yja: "MSPointerDown",
        zja: "MSPointerEnter",
        Aja: "MSPointerHover",
        Bja: "MSPointerLeave",
        Cja: "MSPointerMove",
        Dja: "MSPointerOut",
        Eja: "MSPointerOver",
        Fja: "MSPointerUp",
        Oka: "text",
        Pka: "textInput",
        $ga: "compositionstart",
        aha: "compositionupdate",
        Zga: "compositionend",
        Tha: "exit",
        Jia: "loadabort",
        Kia: "loadcommit",
        Nia: "loadredirect",
        Oia: "loadstart",
        Pia: "loadstop",
        ska: "responsive",
        Eka: "sizechanged",
        gla: "unresponsive",
        ila: "visibilitychange",
        Ika: "storage",
        Cha: "DOMSubtreeModified",
        yha: "DOMNodeInserted",
        Aha: "DOMNodeRemoved",
        Bha: "DOMNodeRemovedFromDocument",
        zha: "DOMNodeInsertedIntoDocument",
        vha: "DOMAttrModified",
        wha: "DOMCharacterDataModified",
        zga: "beforeprint",
        iga: "afterprint"
    };

    function Kt(b, c) {
        cf.call(this, b ? b.type : "");
        this.relatedTarget = this.currentTarget = this.target = null;
        this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;
        this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
        this.state = null;
        this.pM = !1;
        this.yf = null;
        b && this.init(b, c)
    }

    B(Kt, cf);
    var Lt = [1, 4, 2];
    Kt.prototype.init = function (b, c) {
        var d = this.type = b.type, e = b.changedTouches ? b.changedTouches[0] : null;
        this.target = b.target || b.srcElement;
        this.currentTarget = c;
        var h = b.relatedTarget;
        h ? Mr && (th(h, "nodeName") || (h = null)) : "mouseover" == d ? h = b.fromElement : "mouseout" == d && (h = b.toElement);
        this.relatedTarget = h;
        null === e ? (this.offsetX = Nr || void 0 !== b.offsetX ? b.offsetX : b.layerX, this.offsetY = Nr || void 0 !== b.offsetY ? b.offsetY : b.layerY, this.clientX = void 0 !== b.clientX ? b.clientX : b.pageX, this.clientY = void 0 !== b.clientY ? b.clientY :
            b.pageY, this.screenX = b.screenX || 0, this.screenY = b.screenY || 0) : (this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0);
        this.button = b.button;
        this.keyCode = b.keyCode || 0;
        this.charCode = b.charCode || ("keypress" == d ? b.keyCode : 0);
        this.ctrlKey = b.ctrlKey;
        this.altKey = b.altKey;
        this.shiftKey = b.shiftKey;
        this.metaKey = b.metaKey;
        this.pM = Or ? b.metaKey : b.ctrlKey;
        this.state = b.state;
        this.yf = b;
        b.defaultPrevented && this.preventDefault()
    };

    function Mt(b) {
        return (Ft ? 0 == b.yf.button : "click" == b.type ? !0 : !!(b.yf.button & Lt[0])) && !(Nr && Or && b.ctrlKey)
    }

    Kt.prototype.stopPropagation = function () {
        Kt.P.stopPropagation.call(this);
        this.yf.stopPropagation ? this.yf.stopPropagation() : this.yf.cancelBubble = !0
    };
    Kt.prototype.preventDefault = function () {
        Kt.P.preventDefault.call(this);
        var b = this.yf;
        if (b.preventDefault) b.preventDefault(); else if (b.returnValue = !1, Ht) try {
            if (b.ctrlKey || 112 <= b.keyCode && 123 >= b.keyCode) b.keyCode = -1
        } catch (c) {
        }
    };
    Kt.prototype.Pe = function () {
        return this.yf
    };
    var Nt = "closure_lm_" + (1E6 * Math.random() | 0), Ot = {}, Pt = 0;

    function Qt(b, c, d, e, h) {
        if (ia(c)) {
            for (var k = 0; k < c.length; k++) Qt(b, c[k], d, e, h);
            return null
        }
        d = Rt(d);
        return lf(b) ? b.C(c, d, e, h) : St(b, c, d, !1, e, h)
    }

    function St(b, c, d, e, h, k) {
        if (!c) throw Error("Invalid event type");
        var l = !!h, p = Tt(b);
        p || (b[Nt] = p = new hk(b));
        d = p.add(c, d, e, h, k);
        if (d.a) return d;
        e = Ut();
        d.a = e;
        e.src = b;
        e.listener = d;
        if (b.addEventListener) b.addEventListener(c.toString(), e, l); else if (b.attachEvent) b.attachEvent(Vt(c.toString()), e); else throw Error("addEventListener and attachEvent are unavailable.");
        Pt++;
        return d
    }

    function Ut() {
        var b = Wt, c = Gt ? function (d) {
            return b.call(c.src, c.listener, d)
        } : function (d) {
            d = b.call(c.src, c.listener, d);
            if (!d) return d
        };
        return c
    }

    function Xt(b, c, d, e, h) {
        if (ia(c)) {
            for (var k = 0; k < c.length; k++) Xt(b, c[k], d, e, h);
            return null
        }
        d = Rt(d);
        return lf(b) ? b.Qf(c, d, e, h) : St(b, c, d, !0, e, h)
    }

    function Yt(b, c, d, e, h) {
        if (ia(c)) for (var k = 0; k < c.length; k++) Yt(b, c[k], d, e, h); else d = Rt(d), lf(b) ? b.wa(c, d, e, h) : b && (b = Tt(b)) && (c = b.fz(c, d, !!e, h)) && Zt(c)
    }

    function Zt(b) {
        if (ma(b) || !b || b.yw) return !1;
        var c = b.src;
        if (lf(c)) return jk(c.Hn, b);
        var d = b.type, e = b.a;
        c.removeEventListener ? c.removeEventListener(d, e, b.hy) : c.detachEvent && c.detachEvent(Vt(d), e);
        Pt--;
        (d = Tt(c)) ? (jk(d, b), 0 == d.g && (d.src = null, c[Nt] = null)) : of(b);
        return !0
    }

    function $t(b, c) {
        if (b) if (lf(b)) au(b, c); else {
            var d = Tt(b);
            if (d) {
                var e = 0, h = c && c.toString(), k;
                for (k in d.a) if (!h || k == h) for (var l = d.a[k].concat(), p = 0; p < l.length; ++p) Zt(l[p]) && ++e
            }
        }
    }

    function bu(b, c, d) {
        if (lf(b)) return b.hasListener(c, d);
        b = Tt(b);
        return !!b && b.hasListener(c, d)
    }

    function Vt(b) {
        return b in Ot ? Ot[b] : Ot[b] = "on" + b
    }

    function cu(b, c, d, e) {
        var h = !0;
        if (b = Tt(b)) if (c = b.a[c.toString()]) for (c = c.concat(), b = 0; b < c.length; b++) {
            var k = c[b];
            k && k.hy == d && !k.yw && (k = du(k, e), h = h && !1 !== k)
        }
        return h
    }

    function du(b, c) {
        var d = b.listener, e = b.nE || b.src;
        b.iC && Zt(b);
        return d.call(e, c)
    }

    function Wt(b, c) {
        if (b.yw) return !0;
        if (!Gt) {
            var d;
            if (!(d = c)) a:{
                d = ["window", "event"];
                for (var e = ba, h; h = d.shift();) if (null != e[h]) e = e[h]; else {
                    d = null;
                    break a
                }
                d = e
            }
            h = d;
            d = new Kt(h, this);
            e = !0;
            if (!(0 > h.keyCode || void 0 != h.returnValue)) {
                a:{
                    var k = !1;
                    if (0 == h.keyCode) try {
                        h.keyCode = -1;
                        break a
                    } catch (l) {
                        k = !0
                    }
                    if (k || void 0 == h.returnValue) h.returnValue = !0
                }
                h = [];
                for (k = d.currentTarget; k; k = k.parentNode) h.push(k);
                for (var k = b.type, p = h.length - 1; !d.fq && 0 <= p; p--) {
                    d.currentTarget = h[p];
                    var q = cu(h[p], k, !0, d), e = e && q
                }
                for (p = 0; !d.fq &&
                p < h.length; p++) d.currentTarget = h[p], q = cu(h[p], k, !1, d), e = e && q
            }
            return e
        }
        return du(b, new Kt(c, this))
    }

    function Tt(b) {
        b = b[Nt];
        return b instanceof hk ? b : null
    }

    var eu = "__closure_events_fn_" + (1E9 * Math.random() >>> 0);

    function Rt(b) {
        if (oa(b)) return b;
        b[eu] || (b[eu] = function (c) {
            return b.handleEvent(c)
        });
        return b[eu]
    };

    function fu(b) {
        Fd.call(this);
        this.ic = b;
        this.a = {}
    }

    B(fu, Fd);
    var gu = [];
    f = fu.prototype;
    f.C = function (b, c, d, e) {
        ia(c) || (c && (gu[0] = c.toString()), c = gu);
        for (var h = 0; h < c.length; h++) {
            var k = Qt(b, c[h], d || this.handleEvent, e || !1, this.ic || this);
            if (!k) break;
            this.a[k.key] = k
        }
        return this
    };
    f.Qf = function (b, c, d, e) {
        return hu(this, b, c, d, e)
    };

    function hu(b, c, d, e, h, k) {
        if (ia(d)) for (var l = 0; l < d.length; l++) hu(b, c, d[l], e, h, k); else {
            c = Xt(c, d, e || b.handleEvent, h, k || b.ic || b);
            if (!c) return b;
            b.a[c.key] = c
        }
        return b
    }

    f.wa = function (b, c, d, e, h) {
        if (ia(c)) for (var k = 0; k < c.length; k++) this.wa(b, c[k], d, e, h); else d = d || this.handleEvent, h = h || this.ic || this, d = Rt(d), e = !!e, c = lf(b) ? b.fz(c, d, e, h) : b ? (b = Tt(b)) ? b.fz(c, d, e, h) : null : null, c && (Zt(c), delete this.a[c.key]);
        return this
    };
    f.ud = function () {
        La(this.a, function (b, c) {
            this.a.hasOwnProperty(c) && Zt(b)
        }, this);
        this.a = {}
    };
    f.Ma = function () {
        fu.P.Ma.call(this);
        this.ud()
    };
    f.handleEvent = function () {
        throw Error("EventHandler.handleEvent not implemented");
    };

    function iu(b) {
        this.ic = new fu(this);
        this.g = [];
        b && this.Xt(b)
    }

    iu.prototype.Xt = function (b) {
        this.ic.ud();
        this.R = b;
        this.g.forEach(this.a, this)
    };

    function ju(b, c, d) {
        c = {Q5: c, map: d};
        b.g.push(c);
        b.a(c)
    }

    iu.prototype.a = function (b) {
        this.ic.C(this.R, b.Q5, v(function (c) {
            c = b.map.call(this, c);
            window.location = "dc://" + c
        }, this))
    };

    function ku(b) {
        Fd.call(this);
        this.kh = b;
        this.ra = new fu(this);
        Id(this, this.ra);
        var c = b.Bk();
        this.bl && this.S().wa(this.bl, lu);
        this.bl = c;
        this.S().C(this.bl, lu, this.DY);
        this.DY();
        this.Qw(b.zv())
    }

    B(ku, Fd);
    f = ku.prototype;
    f.kV = !0;
    f.wN = function (b) {
        this.kV = b
    };
    f.S = function () {
        return this.ra
    };
    f.Bk = function () {
        return this.bl
    };
    f.DY = function () {
        this.yO = this.bl.Wc;
        this.Wfa = mu(this.bl)
    };
    f.zv = function () {
        return this.Yp
    };
    f.Qw = function (b) {
        b && (this.Yp && this.S().wa(this.Yp, lu), this.Yp = b, this.S().C(this.Yp, lu, this.zY), this.zY())
    };
    f.zY = function () {
        this.Zaa = mu(this.Yp)
    };
    f.cz = function (b, c) {
        return this.kh.cz(b, c)
    };

    function nu(b) {
        ku.call(this, b);
        this.fb = b.sb()
    }

    B(nu, ku);
    nu.prototype.sb = function () {
        return this.fb
    };
    nu.prototype.map = function (b) {
        var c = this.cz(this.yO, b);
        b = (b - this.yO - c) / this.Bk().pe();
        return Math.round(b * this.fb.a)
    };

    function ou(b) {
        ku.call(this, b)
    }

    B(ou, ku);
    ou.prototype.map = function (b) {
        b = (b - this.yO) / this.Wfa;
        return this.Zaa * (this.kV ? 1 - b : b)
    };
    ou.prototype.xQ = function (b) {
        return Math.ceil(this.map(b))
    };

    function pu(b, c, d, e, h, k, l, p, q) {
        Fd.call(this);
        this.Ib = c;
        this.Ha = new Ip(0, 0, 0, 0);
        this.Xv = new Ip(0, 0, 0, 0);
        this.o = b;
        this.$b = d;
        this.type = e;
        this.mO = h;
        this.Dq = k;
        this.mk = l;
        this.mk.ZF = d.or() || this.mk.ZF;
        this.mk.rm = this.Xv;
        p && (this.un = p);
        q && (this.In = q);
        this.uo();
        this.Nx = "";
        this.ra = new fu(this);
        this.ra.C(this.o, qu, this.uo)
    }

    B(pu, Fd);
    f = pu.prototype;
    f.Ib = null;
    f.aa = function () {
        return this.Ib
    };
    f.jf = 0;

    function ru(b) {
        return b.Ha
    }

    f.Kb = function () {
        return this.type
    };
    f.LN = function (b) {
        this.mO = b
    };
    f.Qa = function () {
        return this.mO
    };
    f.vb = function () {
        return this.Dq
    };
    f.Ma = function () {
        pu.P.Ma.call(this);
        this.un && Ls(this.un);
        "I" !== this.type ? this.In && Ls(this.In) : Ls(this.Qh)
    };
    f.zo = function (b) {
        this.Ha.height = b;
        this.Xv.height = b;
        this.un && (this.un.style.height = su(this.Ha.height, !0));
        this.Dq.zo(this.Ha.height - 1);
        this.mk.rm = this.Xv;
        this.mk.Pc()
    };
    f.gn = function (b) {
        this.Ha.width = b;
        this.Xv.left = b
    };
    f.VX = function (b) {
        this.Ha.top = b;
        this.Xv.top = b;
        this.un && tu(this.un, 0, this.Ha.top);
        this.In && tu(this.In, 0, this.Ha.top)
    };
    f.uA = function (b) {
        this.$b = b;
        b instanceof gc || this.Dq.uA(b);
        this.mk.ZF = b.or() || this.mk.ZF;
        this.uo()
    };
    f.Nn = function () {
        return this.$b.Nn()
    };
    f.Eq = !0;
    f.Z = function (b) {
        this.Eq = b;
        this.uo()
    };
    f.Wa = function () {
        return this.Eq
    };
    f.T = function (b) {
        "D" === this.type && this.un && this.mk.Kt(this.un);
        b.T(this.$b, this.Ha, this.mO, this.Dq)
    };
    f.Wr = function (b, c) {
        this.mk.Wr(b, c)
    };
    f.Cw = function (b) {
        b.Cw(this.$b, this.o, this.mk)
    };
    f.uo = function () {
        if (Qs(this.In)) {
            var b = [];
            if (1 < this.$b.wi() && !(this.$b instanceof qc)) {
                b.push("<strong>", uu(this), "<span>", this.Nx, "</span>", "</strong>: ");
                "D" == this.type && this.o.N().additionalLegendText && b.push("<b>" + this.o.N().additionalLegendText + "</b>");
                for (var c = [], d = 0, e = this.$b.wi(); d < e; d++) {
                    var h = this.$b.Lh(d);
                    c.push('<span style="color:' + h.color + '">' + h.name + "</span>")
                }
                b.push(c.join(", "))
            } else b.push("<strong"), (c = this.$b.Lh(0).color) && b.push(' style="color:', c, '"'), b.push(">", uu(this), "<span>",
                this.Nx, "</span>", "</strong>"), "D" == this.type && this.o.N().additionalLegendText && b.push("<b>" + this.o.N().additionalLegendText + "</b>");
            this.Qh || (this.Qh = this.o.Ub.u(D, "o", this.yL = this.o.Ub.u(Fe)), this.In.appendChild(this.Qh));
            this.yL.innerHTML = b.join("");
            O(this.Qh, this.Wa());
            O(this.un, this.Wa())
        }
    };
    f.U6 = function () {
        return this.Qh
    };
    f.od = function () {
        return this.$b
    };

    function uu(b) {
        if ("D" == b.type) switch (b.o.Fa()) {
            case 5:
            case 2:
                return [b.o.ma(), b.o.W(), b.o.Db()].join(", ");
            case 1:
                return [b.o.ma(), b.o.W()].join(", ");
            default:
                return [b.o.ma(), b.o.Db()].join(", ")
        } else {
            b = b.$b.kb();
            var c = [b.lc().Ip()], d = b.Bv(), d = d && d.length;
            if (0 < d) {
                for (var e = [], h = 0; h < d; h++) e.push(b.ya(h));
                c.push(" (", e.join(", "), ")")
            }
            return c.join("")
        }
    };

    function vu(b) {
        this.ra = new fu(this);
        this.a = new wu(this.wr, 100, this);
        this.g = new wu(this.show, 250, this);
        this.m = [];
        b && this.If(b)
    }

    f = vu.prototype;
    f.If = function (b) {
        this.o = b;
        this.ra.C(this.o, "renderforeground", this.$g)
    };
    f.h5 = function (b) {
        this.xd !== b.target && (this.xd = b.target);
        this.w = b.t;
        this.F = b.qc;
        this.a.stop();
        this.g.start(250)
    };
    f.g5 = function () {
        this.a.start(100);
        this.g.stop()
    };
    f.jg = function () {
        this.pE || this.a.start(100)
    };
    f.pE = !0;
    f.wr = function () {
        this.pE = !0;
        this.o.Ia()
    };
    f.show = function () {
        this.pE = !1;
        this.o.Ia()
    };
    f.$g = function (b) {
        var c, d;
        if (!this.pE && this.xd.rh()) {
            var e = this.o.Qa(), h = this.o.vb(), k = this.o.getContext(), l = this.o.fb.Mg, e = e.x(this.w),
                h = h.y(this.F);
            d = this.o.getContext();
            d.save();
            d.font = "12px sans-serif";
            c = d.measureText(this.xd.rh());
            d.restore();
            c = c.width;
            d = 1.2 * parseInt(d.font, 10);
            var p = e - l / 2 - b.target.pa - c / 2, q = h - 1.5 * d;
            p + c + 5 > xu(this.o).width && (p = e + l / 2 - b.target.pa - c);
            5 > p && (p = 5);
            q + d + 5 > xu(this.o).height && (q = h - d);
            0 > q && (q = d);
            p = G(p);
            q = G(q);
            k.save();
            k.fillStyle = "infotext";
            k.fillRect(p - 3, q - 3, c + 6, d + 6);
            k.fillStyle =
                "infobackground";
            k.fillRect(p - 2, q - 2, c + 4, d + 4);
            k.fillStyle = "infotext";
            k.font = '12px "Segoe UI", Arial, sans-serif';
            k.textBaseline = "middle";
            k.fillText(this.xd.rh(), p, q + wb(d / 2) + 1);
            k.restore()
        }
    };

    function yu(b) {
        this.o = b;
        this.a = new iu(this.o.ga());
        zu(this)
    }

    function zu(b) {
        ju(b.a, Au, function (b) {
            return "chart_object_add/" + b.target.aa()
        });
        ju(b.a, Bu, function (b) {
            return "chart_object_remove/" + b.target.aa()
        });
        ju(b.a, Cu, function (b) {
            return "chart_object_complete/" + b.target.aa()
        });
        ju(b.a, Du, function (b) {
            return "chart_object_change/" + b.target.aa()
        });
        ju(b.a, Eu, function (b) {
            return "chart_object_edit/" + b.target.aa()
        })
    }

    f = yu.prototype;
    f.Y4 = function (b, c) {
        ju(this.a, b, c)
    };
    f.uD = function (b, c) {
        var d = this.o.ga().ri(), e;
        for (e in d) if (d.hasOwnProperty(e) && d[e].aa() == b && (null == c || null != c && d[e].Kb() == c)) return d[e];
        return null
    };
    f.ri = function () {
        return this.o.ga().ri()
    };
    f.t4 = function (b, c) {
        var d = new (ka(b) ? Fu[b] : b);
        c && (d.iD = c);
        this.o.ga().tC(d);
        return d
    };
    f.Jg = function (b, c) {
        b instanceof P && this.o.ga().Jg(b, c)
    };
    f.cR = function (b) {
        b instanceof P && this.o.ga().jJ(b)
    };
    f.Lba = function (b) {
        this.cR(this.uD(b))
    };
    f.nn = function () {
        this.o.ga().nn()
    };
    f.a5 = function () {
        return this.o.ga().a
    };
    f.Z4 = function () {
        this.o.ga().zy()
    };
    f.C5 = function (b) {
        this.o.ga().Me(this.uD(b))
    };
    f.reset = function () {
        this.o.ga().reset()
    };
    f.lb = function () {
        return Gu(this.o.ga())
    };
    f.cb = function (b) {
        La(b, function (b) {
            this.uY(b.id, b) || Hu(this.o.ga(), [b])
        }, this);
        this.o.Ia()
    };
    f.B3 = function (b) {
        La(b, function (b) {
            Hu(this.o.ga(), [b])
        }, this);
        this.o.Ia()
    };
    f.uY = function (b, c) {
        var d = this.uD(b, c.type);
        if (!d) return !1;
        d.cb(JSON.stringify(c));
        return !0
    };

    function Q() {
        Fd.call(this);
        this.Hn = new hk(this);
        this.x3 = this;
        this.oM = null
    }

    B(Q, Fd);
    Q.prototype[kf] = !0;
    f = Q.prototype;
    f.Cv = function () {
        return this.oM
    };
    f.Je = function (b) {
        this.oM = b
    };
    f.addEventListener = function (b, c, d, e) {
        Qt(this, b, c, d, e)
    };
    f.removeEventListener = function (b, c, d, e) {
        Yt(this, b, c, d, e)
    };
    f.dispatchEvent = function (b) {
        var c, d = this.Cv();
        if (d) for (c = []; d; d = d.Cv()) c.push(d);
        var d = this.x3, e = b.type || b;
        if (ka(b)) b = new cf(b, d); else if (b instanceof cf) b.target = b.target || d; else {
            var h = b;
            b = new cf(e, d);
            jh(b, h)
        }
        var h = !0, k;
        if (c) for (var l = c.length - 1; !b.fq && 0 <= l; l--) k = b.currentTarget = c[l], h = Iu(k, e, !0, b) && h;
        b.fq || (k = b.currentTarget = d, h = Iu(k, e, !0, b) && h, b.fq || (h = Iu(k, e, !1, b) && h));
        if (c) for (l = 0; !b.fq && l < c.length; l++) k = b.currentTarget = c[l], h = Iu(k, e, !1, b) && h;
        return h
    };
    f.Ma = function () {
        Q.P.Ma.call(this);
        au(this);
        this.oM = null
    };
    f.C = function (b, c, d, e) {
        return this.Hn.add(String(b), c, !1, d, e)
    };
    f.Qf = function (b, c, d, e) {
        return this.Hn.add(String(b), c, !0, d, e)
    };
    f.wa = function (b, c, d, e) {
        return this.Hn.remove(String(b), c, d, e)
    };

    function au(b, c) {
        b.Hn && b.Hn.ud(c)
    }

    function Iu(b, c, d, e) {
        c = b.Hn.a[String(c)];
        if (!c) return !0;
        c = c.concat();
        for (var h = !0, k = 0; k < c.length; ++k) {
            var l = c[k];
            if (l && !l.yw && l.hy == d) {
                var p = l.listener, q = l.nE || l.src;
                l.iC && jk(b.Hn, l);
                h = !1 !== p.call(q, e) && h
            }
        }
        return h && 0 != e.$W
    }

    f.fz = function (b, c, d, e) {
        return this.Hn.fz(String(b), c, d, e)
    };
    f.hasListener = function (b, c) {
        return this.Hn.hasListener(ca(b) ? String(b) : void 0, c)
    };
    var Ju, Ku, Lu, Mu;

    function Nu() {
        Ju = Ou().getTarget_();
        try {
            Ku = Ou().getWorker_(), Pu()
        } catch (b) {
            Ku = {}
        }
        return Ju
    }

    function Qu() {
        var b = !1;
        try {
            b = !!(window.opener && window.opener.dc && window.opener.dc.activity)
        } catch (c) {
        }
        return b
    }

    function Ru() {
        var b, c = !1;
        if (!Lu) try {
            c = !!(window.top && window.top.dc && window.top.dc.activity), Lu = !1
        } catch (d) {
            b = /cross-origin/i, b.test(d.message) && (Lu = !0)
        }
        return c ? window.top : window
    }

    function Ou() {
        return Ru().dc.activity
    }

    function Pu() {
        Mu || (Mu = !0, Ou().hasListener_(Ru(), Su, !1) || Ou().listen_(Ru(), Su, Ou().windowFocus_, !1, this), Ou().hasListener_(Ru(), Tu, !1) || Ou().listen_(Ru(), Tu, Ou().windowBlur_, !1, this), bu(window, Uu, !1) || Qt(window, Uu, Vu, !1, this), Ru() !== window && (bu(window, Su, !1) || Qt(window, Su, Wu, !1, this), bu(window, Tu, !1) || Qt(window, Tu, Xu, !1, this)), Yu())
    }

    function Yu() {
        bu(window, Zu, !1) || Qt(window, Zu, $u, !1, this)
    }

    function av(b) {
        try {
            if (window.top !== window) Lu && window.top.postMessage(JSON.stringify(b), "*"); else {
                var c, d, e, h;
                d = document.getElementsByTagName("iframe");
                if ((e = d.length) && b) for (h = JSON.stringify(b), c = 0; c < e; ++c) d[c] && d[c].contentWindow && bv(d[c].src) && d[c].contentWindow.postMessage(h, "*")
            }
        } catch (k) {
        }
    }

    function bv(b) {
        return b ? !!/(dukascopy.|dukascoin.|trading-solutions.)/i.test(b) : !1
    }

    function $u(b) {
        var c;
        if (b.yf && window.origin !== b.yf.origin && bv(b.yf.origin)) {
            try {
                c = JSON.parse(b.yf.data)
            } catch (d) {
                c = null
            }
            c && "object" === typeof c && c.action && -1 < [cv, dv, ev].indexOf(c.action) && (Nu(), Ju.dispatchEvent(new cf(fv, c)))
        }
    }

    function Wu() {
        Ku && Ku.postMessage && Ku.postMessage(Su)
    }

    function Xu() {
        Ku && Ku.postMessage && Ku.postMessage(Tu)
    }

    function Vu() {
        if (!Qu()) if ($t(Ru(), Su), $t(Ru(), Tu), $t(window, Zu), Ru() !== window) $t(window, Su), $t(window, Tu); else {
            $t(Ju, fv);
            $t(Ku, Zu);
            try {
                Ku.terminate()
            } catch (b) {
            }
            Ku = Ju = null;
            Mu = !1
        }
    }

    function gv(b) {
        if (b.yf) switch (Nu(), b.yf.data) {
            case dv:
            case ev:
                b = {action: b.yf.data}, Ju.dispatchEvent(new cf(fv, b)), av(b)
        }
    }

    function hv() {
        var b = this, c, d, e;
        e = !0;
        d = c = (new Date).getTime();
        setInterval(function () {
            var h = (new Date).getTime(), k = h - d;
            6E5 < k && (b.postMessage("wakeup"), c = h);
            d = h;
            e && (k = h - c, 6E4 < k && b.postMessage("activeup"), c = h)
        }, 1E3);
        b.onmessage = function (b) {
            e = "focus" == b.data
        }
    }

    var Su = "focus", Tu = "blur", Uu = "unload", Zu = "message", dv = "activeup", ev = "wakeup", fv = "action",
        cv = "sync";

    function iv(b, c) {
        b.call(this);
        this.TY = c
    }

    iv.prototype.postMessage = function (b) {
        var c = new cf(Zu);
        c.yf = {data: b};
        this.TY.dispatchEvent(c)
    };

    function jv(b) {
        Q.call(this);
        this.code = new iv(b, this)
    }

    B(jv, Q);
    jv.prototype.postMessage = function (b) {
        this.code.onmessage({data: b})
    };
    jv.prototype.terminate = function () {
        this.TY = this.code = null
    };
    z("dc.activity.init", Nu);
    z("dc.activity.sync", function (b) {
        Qu() || (Nu(), b = {action: cv, params: b}, Ju.dispatchEvent(new cf(fv, b)), av(b))
    });
    z("dc.activity.getWorker_", function () {
        if (!Ku) {
            var b, c, d;
            d = "(" + hv + ").call(self);";
            try {
                c = new Blob([d.replace('"use strict";', "")], {type: "application/javascript; charset=utf-8"})
            } catch (e) {
                window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.m, c = new BlobBuilder, c.append(d), c = c.getBlob()
            }
            "function" == typeof window.Worker && "function" == typeof (window.URL || window.webkitURL) && (b = window.URL || window.webkitURL, b = new window.Worker(b.createObjectURL(c)));
            Ku = b = b || new jv(hv);
            bu(Ku, Zu, !1) || Qt(Ku,
                Zu, gv, !1, this)
        }
        return Ku
    });
    z("dc.activity.getTarget_", function () {
        Ju || (Ju = new Q);
        return Ju
    });
    z("dc.activity.hasListener_", function (b, c, d) {
        return bu(b, c, d)
    });
    z("dc.activity.windowFocus_", Wu);
    z("dc.activity.windowBlur_", Xu);
    z("dc.activity.listen_", function (b, c, d, e, h) {
        return Qt(b, c, d, e, h)
    });
    var kv;
    z("dc.activity.EventType", kv = {});
    kv.ACTIVEUP = dv;
    kv.WAKEUP = ev;
    kv.ACTION = fv;
    kv.SYNC = cv;

    function lv(b, c) {
        Q.call(this);
        this.Le = b;
        this.vk = [];
        this.g = [];
        c && E(c, this.Xa, this)
    }

    B(lv, Q);
    f = lv.prototype;
    f.Ff = 0;
    f.Kb = function () {
        return this.Ff
    };
    f.ax = function (b) {
        this.Ff = b
    };
    f.Nb = function () {
        return this.Le
    };
    f.tf = function (b) {
        this.Le = b
    };
    f.Xa = function (b) {
        li(this.vk, b);
        b.Pk(this);
        b.dispatchEvent("add")
    };

    function mv(b, c) {
        ji(b.vk, c) || b.vk.unshift(c);
        c.Pk(b);
        c.dispatchEvent("add")
    }

    function nv(b, c) {
        b.removeProperty(b.vk[c])
    }

    f.removeProperty = function (b) {
        mi(this.vk, b);
        b.Pk(null);
        b.dispatchEvent("remove");
        this.dispatchEvent(new cf("remove", b))
    };
    f.pop = function () {
        var b = this.vk[this.vk.length - 1];
        this.removeProperty(b);
        return b
    };
    f.Ty = function (b, c) {
        E(Ra(this.vk, function (b) {
            return !b.bB
        }), b, c)
    };

    function ov(b) {
        return Ra(b.vk, function (b) {
            return !b.bB
        }).length
    }

    f.pc = null;
    f.Tk = function (b) {
        this.pc = b;
        this.Je(this.pc)
    };

    function pv(b, c) {
        li(b.g, c);
        c.Tk(b);
        b.dispatchEvent(new cf("groupadd", c))
    }

    f.U5 = function (b, c) {
        E(this.g, b, c)
    };
    f.fL = rb.Ka();
    f.Ib = null;
    f.aa = function () {
        return this.Ib || (this.Ib = ":" + (this.fL.a++).toString(36))
    };
    f.md = !0;
    f.Wa = function () {
        return this.md
    };
    f.Z = function (b) {
        this.md !== b && (this.md = b, this.dispatchEvent(this.md ? "show" : "hide"))
    };

    function qv(b, c, d, e, h) {
        Q.call(this);
        this.Rf = b;
        this.Ad = c;
        this.HC = d;
        this.rc = e;
        this.Ua = null;
        this.m = this.w = !1;
        this.Pb = h ? h : 0;
        this.sd = this.bB = !1
    }

    B(qv, Q);
    f = qv.prototype;
    f.type = 0;
    f.Kb = function () {
        return this.type
    };
    f.Oh = null;
    f.Pk = function (b) {
        this.Oh = b;
        this.Je(this.Oh)
    };
    f.ti = function () {
        return this.Oh
    };
    f.getName = function () {
        return this.Rf
    };
    f.yA = function (b) {
        this.Ad = b;
        this.dispatchEvent("updatelabel")
    };
    f.N6 = function () {
        return this.Ad
    };
    f.rN = function (b) {
        this.HC = b;
        this.dispatchEvent("updatedescription")
    };
    f.Gp = function () {
        return this.HC
    };
    f.G = function () {
        return this.rc
    };
    f.V = function (b) {
        this.rc = b;
        this.dispatchEvent("change")
    };
    f.YD = function () {
        return this.G()
    };
    f.bx = function (b) {
        this.V(b[0])
    };
    f.md = !0;
    f.Wa = function () {
        return this.md
    };
    f.Z = function (b) {
        this.md !== b && (this.md = b, this.dispatchEvent(this.md ? "show" : "hide"))
    };
    f.Za = !0;
    f.isEnabled = function () {
        return this.Za
    };
    f.Ba = function (b) {
        this.Za !== b && (this.Za = b, this.dispatchEvent(this.Za ? "enable" : "disable"))
    };
    f.Gb = function (b) {
        this.Ua = b;
        this.dispatchEvent("change")
    };
    f.rh = function () {
        return this.Ua
    };
    f.nda = function (b) {
        this.w = b
    };
    f.Iaa = function () {
        return this.w
    };
    f.oda = function (b) {
        this.m = b
    };
    f.Jaa = function () {
        return this.m
    };
    f.Cc = function () {
        return this.Pb
    };
    f.Aea = function (b) {
        this.bB = b
    };
    f.M7 = function () {
        return this.bB
    };

    function rv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(rv, qv);
    rv.prototype.type = 1;
    rv.prototype.bx = function (b) {
        this.V("true" === b[0])
    };

    function sv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h);
        e ? (this.a = "string" === typeof e ? e : this.uR, this.rc = this.Jb()) : (this.a = this.uR, this.rc = !1)
    }

    B(sv, qv);
    f = sv.prototype;
    f.uR = "#000000";
    f.type = 24;
    f.bx = function (b) {
        this.V("true" === b[0] ? !0 : "false" === b[0] ? !1 : b[0])
    };
    f.Ab = function (b) {
        this.a = b
    };
    f.Jb = function () {
        return this.a
    };
    f.V = function (b) {
        b ? (this.Ab(!0 === b ? this.Jb() : b), this.rc = this.Jb()) : this.rc = !1;
        this.dispatchEvent("change")
    };

    function tv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(tv, qv);
    tv.prototype.type = 11;

    function uv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(uv, qv);
    var Hc = {Px: "solid", Xo: "dotted", Ej: "dashed"};
    f = uv.prototype;
    f.type = 23;
    f.FA = function (b) {
        this.qM = b;
        this.dispatchEvent("update")
    };
    f.Ab = function (b) {
        this.a = b;
        this.dispatchEvent("update")
    };
    f.Sk = function (b) {
        this.g = b;
        this.dispatchEvent("update")
    };
    f.Zt = function (b) {
        this.K = b;
        this.dispatchEvent("update")
    };
    f.yG = function (b) {
        this.F = b;
        this.dispatchEvent("update")
    };
    f.u7 = function () {
        return this.qM
    };
    f.Jb = function () {
        return this.a
    };
    f.Fm = function () {
        return this.g
    };
    f.hg = function () {
        return this.K
    };
    f.rd = function () {
        return this.F
    };

    function vv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(vv, qv);
    vv.prototype.type = 2;

    function wv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(wv, qv);
    wv.prototype.type = 14;
    wv.prototype.YD = function () {
        return this.G().valueOf()
    };
    wv.prototype.bx = function (b) {
        this.V(new Date(parseInt(b[0], 10)))
    };

    function xv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(xv, qv);
    xv.prototype.type = 3;
    xv.prototype.Xe = function (b, c) {
        this.ze = b;
        this.UL = c;
        this.dispatchEvent("update")
    };
    xv.prototype.mc = function () {
        return this.ze
    };
    xv.prototype.KD = function () {
        return this.UL
    };

    function yv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(yv, qv);
    yv.prototype.type = 13;

    function zv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(zv, qv);
    zv.prototype.type = 12;

    function Av(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(Av, qv);
    Av.prototype.type = 26;
    Av.prototype.Xe = function (b) {
        this.ze = b;
        this.dispatchEvent("update")
    };
    Av.prototype.mc = function () {
        return this.ze
    };

    function Bv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(Bv, qv);
    Bv.prototype.type = 22;
    Bv.prototype.Xe = function (b) {
        this.ze = b;
        this.dispatchEvent("update")
    };
    Bv.prototype.mc = function () {
        return this.ze
    };

    function Cv(b, c, d, e, h, k) {
        qv.call(this, b, c, d, e, k);
        this.Yf = h || ""
    }

    B(Cv, qv);
    f = Cv.prototype;
    f.type = 4;
    f.G = function () {
        return Cv.P.G.call(this).toString(10) + this.Yf
    };
    f.oc = null;
    f.ah = function (b) {
        this.oc = isFinite(b) ? b : null
    };
    f.ld = function () {
        return this.oc
    };
    f.nc = null;
    f.Ah = function (b) {
        this.nc = isFinite(b) ? b : null
    };
    f.pd = function () {
        return this.nc
    };
    f.Oc = 1;
    f.qg = function (b) {
        this.Oc = ma(b) && isFinite(b) ? b : 1
    };
    f.pe = function () {
        return this.Oc
    };
    f.BX = function (b, c, d) {
        this.ah(b);
        this.Ah(c);
        this.qg(d || 1)
    };

    function Dv(b, c, d, e, h, k) {
        Cv.call(this, b, c, d, e, k);
        this.Yf = h || ""
    }

    B(Dv, Cv);
    Dv.prototype.type = 28;

    function Ev(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(Ev, qv);
    Ev.prototype.xA = function (b) {
        this.a = b
    };
    Ev.prototype.aj = function () {
        return this.a
    };
    Ev.prototype.type = 27;

    function Fv(b, c, d, e, h, k) {
        this.Vq = b;
        this.GV = c;
        this.a = d;
        this.ak = e;
        this.g = h;
        this.Oc = k
    }

    function Gv(b) {
        return b.Vq
    }

    function Hv(b, c) {
        b.Vq = c
    }

    function Iv(b) {
        return b.a
    }

    Fv.prototype.gf = function () {
        return this.ak
    };
    Fv.prototype.Uk = function (b) {
        this.ak = b
    };

    function Jv(b) {
        return b.g
    }

    Fv.prototype.pe = function () {
        return this.Oc
    };
    Fv.prototype.qg = function (b) {
        this.Oc = b
    };

    function Kv(b, c, d, e, h, k) {
        qv.call(this, b, c, d, e, k);
        this.Yf = h || ""
    }

    B(Kv, qv);
    f = Kv.prototype;
    f.type = 10;
    f.G = function () {
        return Kv.P.G.call(this).toString(10) + this.Yf
    };
    f.oc = null;
    f.ah = function (b) {
        this.oc = isFinite(b) ? b : null
    };
    f.ld = function () {
        return this.oc
    };
    f.nc = null;
    f.Ah = function (b) {
        this.nc = isFinite(b) ? b : null
    };
    f.pd = function () {
        return this.nc
    };
    f.Oc = 1;
    f.qg = function (b) {
        this.Oc = ma(b) && isFinite(b) ? b : 1
    };
    f.pe = function () {
        return this.Oc
    };
    f.BX = function (b, c, d) {
        this.ah(b);
        this.Ah(c);
        this.qg(d)
    };

    function Lv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(Lv, qv);
    Lv.prototype.type = 8;

    function Mv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h);
        this.g = [];
        this.a = null;
        this.yE = [];
        this.F = !1
    }

    B(Mv, qv);
    f = Mv.prototype;
    f.type = 19;
    f.TX = function (b) {
        this.a = b;
        this.dispatchEvent("change")
    };
    f.WD = function () {
        return this.a
    };
    f.vN = function (b) {
        this.yE = [].concat(b);
        this.dispatchEvent("change");
        this.dispatchEvent("filter")
    };
    f.K6 = function () {
        return this.yE
    };
    f.G = function () {
        return null !== this.a ? "t:" + this.a : "l:" + this.yE.join(",")
    };
    f.bx = function (b) {
        switch ((b[0] || "").substring(0, 2)) {
            case "l:":
                this.vN(Ra(b[0].substring(2).split(","), vc));
                break;
            case "t:":
                this.TX(b[0].substring(2) || null);
                break;
            default:
                this.vN(Ra(b[0].split(","), vc))
        }
        this.dispatchEvent("update")
    };
    f.yea = function (b) {
        this.F = b
    };
    f.$fa = function () {
        return this.F
    };

    function Nv(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(Nv, qv);
    f = Nv.prototype;
    f.type = 9;
    f.Xe = function (b, c) {
        this.ze = b;
        this.UL = c;
        this.dispatchEvent("update")
    };
    f.mc = function () {
        return this.ze
    };
    f.KD = function () {
        return this.UL
    };
    f.YD = function () {
        return this.G().join(",")
    };
    f.bx = function (b) {
        this.V(Ra(b[0].split(","), vc))
    };

    function Ov(b, c) {
        Q.call(this);
        this.a = b;
        this.jf = c
    }

    B(Ov, Q);
    Ov.prototype.be = function () {
        return this.a
    };
    Ov.prototype.gn = function (b) {
        this.a !== b && (this.a = b, this.dispatchEvent("change"))
    };
    Ov.prototype.wg = function () {
        return this.jf
    };
    Ov.prototype.zo = function (b) {
        this.jf !== b && (this.jf = b, this.dispatchEvent("change"))
    };

    function Pv(b, c, d, e, h, k, l) {
        Q.call(this);
        this.oc = new Ov(b || 0, c || 0);
        this.oc.Je(this);
        this.nc = new Ov(d || Infinity, e || Infinity);
        this.nc.Je(this);
        this.g = void 0 !== h ? h : null;
        this.m = void 0 !== k ? k : null;
        this.a = l || 0
    }

    B(Pv, Q);
    f = Pv.prototype;
    f.ah = function (b, c) {
        this.oc = new Ov(b || 0, c || 0);
        this.oc.Je(this)
    };
    f.ld = function () {
        return this.oc
    };
    f.Ah = function (b, c) {
        this.nc = new Ov(b || Infinity, c || Infinity);
        this.nc.Je(this)
    };
    f.pd = function () {
        return this.nc
    };
    f.Fca = function (b) {
        this.g = b
    };
    f.b6 = function () {
        return this.g
    };
    f.qda = function (b) {
        this.m = b
    };
    f.Kaa = function () {
        return this.m
    };
    f.c6 = function () {
        return this.a
    };
    f.Gca = function (b) {
        this.a = b
    };

    function Qv() {
        Q.call(this);
        this.a = [];
        this.Sr = {}
    }

    B(Qv, Q);
    f = Qv.prototype;
    f.S = function () {
        this.ra || (this.ra = new fu(this));
        return this.ra
    };
    f.Qs = function (b, c) {
        ri(this.a, ma(c) ? c : this.a.length, 0, b);
        b.Ty(function (b) {
            this.Xa(b)
        }, this);
        this.S().C(b, ["add", "remove"], this.G$);
        b.Je(this);
        this.dispatchEvent("groupadd")
    };
    f.Q4 = function (b) {
        mi(this.a, b);
        this.S().wa(b, ["add", "remove"]);
        b.Je(null);
        this.dispatchEvent("groupremove")
    };
    f.A7 = function () {
        return this.a
    };
    f.G$ = function (b) {
        b.target instanceof qv && ("add" == b.type ? this.Xa(b.target) : this.removeProperty(b.target))
    };
    f.Xa = function (b, c) {
        var d = c || b.getName();
        if (d && Yg(this.Sr, d) && this.Sr[d] !== b) throw Error("Property set already contains a property with the key: " + d);
        this.Sr[d] = b
    };
    f.removeProperty = function (b) {
        b = ka(b) ? b : b.getName();
        var c = this.Sr[b];
        delete this.Sr[b];
        return c
    };
    f.nq = null;
    f.zM = null;

    function Rv(b, c) {
        b.nq = c;
        b.Je(b.nq)
    }

    f.Tn = function () {
        return this.nq
    };
    f.fW = function (b) {
        b = new or(b);
        var c = b.zl();
        this.zM = b;
        for (var d = 0, e = c.length; d < e; d++) {
            var h = c[d];
            this.Sr.hasOwnProperty(h) && this.Sr[h].bx(b.mc(h))
        }
    };

    function Sv(b, c) {
        return b.zM ? b.zM.get(c) : !1
    }

    f.qX = function () {
        var b = {};
        La(this.Sr, function (c) {
            c.bB || (b[c.getName()] = c.G())
        });
        return b
    };

    function Tv(b, c) {
        b.qX = c
    }

    f.oO = function () {
        return this.qX(this)
    };
    Qv.prototype.addGroup = Qv.prototype.Qs;
    Qv.prototype.removeGroup = Qv.prototype.Q4;
    Qv.prototype.getPropertyGroupList = Qv.prototype.A7;
    Qv.prototype.toOptionHash = Qv.prototype.oO;
    Qv.prototype.getSizeConstraints = Qv.prototype.Tn;
    Qv.prototype.parseQueryString = Qv.prototype.fW;
    Qv.prototype.addProperty = Qv.prototype.Xa;
    Qv.prototype.removeProperty = Qv.prototype.removeProperty;
    Pv.prototype.getMax = Pv.prototype.pd;
    Pv.prototype.getMin = Pv.prototype.ld;
    Pv.prototype.setMax = Pv.prototype.Ah;
    Pv.prototype.setMin = Pv.prototype.ah;
    Pv.prototype.setAspectRatio = Pv.prototype.Fca;
    Pv.prototype.getAspectRatio = Pv.prototype.b6;
    Pv.prototype.setForceAspectRatio = Pv.prototype.qda;
    Pv.prototype.isForceAspectRatio = Pv.prototype.Kaa;
    Pv.prototype.getAspectRatioHeightOffset = Pv.prototype.c6;
    Pv.prototype.setAspectRatioHeightOffset = Pv.prototype.Gca;
    Ov.prototype.getWidth = Ov.prototype.be;
    Ov.prototype.getHeight = Ov.prototype.wg;
    lv.prototype.getId = lv.prototype.aa;
    lv.prototype.getTitle = lv.prototype.Nb;
    lv.prototype.getType = lv.prototype.Kb;
    lv.prototype.forEachProperty = lv.prototype.Ty;
    lv.prototype.forEachGroup = lv.prototype.U5;
    lv.prototype.isVisible = lv.prototype.Wa;
    lv.prototype.setVisible = lv.prototype.Z;
    lv.prototype.removeProperty = lv.prototype.removeProperty;
    qv.prototype.getLabel = qv.prototype.N6;
    qv.prototype.getType = qv.prototype.Kb;
    qv.prototype.setDescription = qv.prototype.rN;
    qv.prototype.getDescription = qv.prototype.Gp;
    qv.prototype.getGroup = qv.prototype.ti;
    qv.prototype.getName = qv.prototype.getName;
    qv.prototype.getValue = qv.prototype.G;
    qv.prototype.setValue = qv.prototype.V;
    qv.prototype.isVisible = qv.prototype.Wa;
    qv.prototype.setVisible = qv.prototype.Z;
    qv.prototype.setTooltip = qv.prototype.Gb;
    qv.prototype.getTooltip = qv.prototype.rh;
    qv.prototype.setFloatingRight = qv.prototype.nda;
    qv.prototype.isFloatingRight = qv.prototype.Iaa;
    qv.prototype.setFloatingRightParent = qv.prototype.oda;
    qv.prototype.isFloatingRightParent = qv.prototype.Jaa;
    qv.prototype.getOffset = qv.prototype.Cc;
    qv.prototype.setSkipInEditor = qv.prototype.Aea;
    qv.prototype.getSkipInEditor = qv.prototype.M7;
    xv.prototype.getNames = xv.prototype.KD;
    xv.prototype.getValues = xv.prototype.mc;
    Cv.prototype.getMin = Cv.prototype.ld;
    Cv.prototype.getMax = Cv.prototype.pd;
    Cv.prototype.getStep = Cv.prototype.pe;
    Nv.prototype.getValues = Nv.prototype.mc;
    Nv.prototype.getNames = Nv.prototype.KD;
    Mv.prototype.getTag = Mv.prototype.WD;
    Mv.prototype.setTag = Mv.prototype.TX;
    Mv.prototype.getInstrumentIdList = Mv.prototype.K6;
    Mv.prototype.setInstrumentIdList = Mv.prototype.vN;
    Mv.prototype.setSelectedInstrumentsOption = Mv.prototype.yea;
    Mv.prototype.withSelectedInstrumentsOption = Mv.prototype.$fa;
    Bv.prototype.getValues = Bv.prototype.mc;
    Av.prototype.getValues = Av.prototype.mc;
    uv.prototype.setPositionValue = uv.prototype.FA;
    uv.prototype.setColor = uv.prototype.Ab;
    uv.prototype.setOpacity = uv.prototype.Sk;
    uv.prototype.setStrokeWidth = uv.prototype.Zt;
    uv.prototype.setStrokeStyle = uv.prototype.yG;
    uv.prototype.getPositionValue = uv.prototype.u7;
    uv.prototype.getColor = uv.prototype.Jb;
    uv.prototype.getOpacity = uv.prototype.Fm;
    uv.prototype.getStrokeWidth = uv.prototype.hg;
    uv.prototype.getStrokeStyle = uv.prototype.rd;
    sv.prototype.setColor = sv.prototype.Ab;
    sv.prototype.getColor = sv.prototype.Jb;
    sv.prototype.setValue = sv.prototype.V;
    Q.prototype.addEventListener = Q.prototype.addEventListener;

    function Uv(b, c, d) {
        Q.call(this);
        this.a = b;
        this.rc = c;
        this.g = d ? d.toUpperCase() : null;
        Vv(this)
    }

    B(Uv, Q);
    Uv.prototype.V = function (b) {
        this.rc = b;
        Vv(this)
    };
    Uv.prototype.G = function () {
        return this.rc
    };
    Uv.prototype.et = function () {
        return this.g
    };

    function Vv(b) {
        var c = b.et();
        b.rp = b.a + ":" + b.G() + (c ? " !" + c : "") + ";";
        b.dispatchEvent("update")
    }

    Uv.prototype.wv = function () {
        this.rp || Vv(this);
        return this.rp
    };

    function Wv() {
        Q.call(this);
        this.ra = new fu(this);
        Id(this, this.ra)
    }

    B(Wv, Q);
    Wv.prototype.S = function () {
        return this.ra
    };
    Wv.prototype.update = function () {
        this.dispatchEvent("update")
    };

    function Xv() {
        Q.call(this);
        this.a = {};
        this.En = [];
        this.ra = new fu(this)
    }

    B(Xv, Q);
    f = Xv.prototype;
    f.S = function () {
        return this.ra
    };
    f.En = [];
    f.rp = "";
    f.length = 0;
    f.item = function (b) {
        return this.En[b]
    };
    f.getPropertyValue = function (b) {
        return this.En[this.a["string" === typeof b ? b : b.a]].G()
    };
    f.setProperty = function (b, c, d) {
        var e;
        "string" === typeof b ? e = new Uv(b, c, d) : e = b;
        this.S().C(e, "update", this.update);
        b = this.a[e.a] = this.a[e.a] || this.En.length;
        this.En[b] = e;
        this.length = this.En.length;
        Yv(this)
    };
    f.removeProperty = function (b) {
        b = "string" === typeof b ? b : b.a;
        var c = this.En[b];
        ni(this.En, this.a[b]);
        this.length = this.En.length;
        this.S().wa(c, "update");
        Yv(this)
    };
    f.wv = function () {
        return this.rp
    };

    function Yv(b) {
        b.rp = "";
        for (var c = 0; c < b.length; c++) b.rp += b.En[c].wv();
        b.dispatchEvent("update")
    }

    f.update = function () {
        Yv(this)
    };

    function Zv(b, c) {
        Wv.call(this);
        this.g = b || [];
        this.a = new Xv;
        this.S().C(this.a, "update", this.update);
        c && E(c, this.a.setProperty, this.a)
    }

    B(Zv, Wv);
    Zv.prototype.type = 1;
    Zv.prototype.wv = function () {
        return this.rp
    };
    Zv.prototype.update = function () {
        this.rp = (this.g.join(",") || "*") + "{" + this.a.wv() + "}";
        Zv.P.update.call(this)
    };

    function $v(b) {
        Q.call(this);
        this.ic = new fu(this);
        this.a = [];
        this.ta = [];
        b && this.Xt(b)
    }

    B($v, Q);
    f = $v.prototype;
    f.S = function () {
        return this.ic
    };
    f.Xt = function (b) {
        this.R && this.S().wa(this.R, aw);
        this.R = b;
        this.a = this.R.getData() || [];
        bw(this);
        this.S().C(this.R, aw, this.e5)
    };
    f.e5 = function (b) {
        b = b.target.getData();
        this.a = this.a.concat(b);
        bw(this)
    };
    f.EV = vc;

    function bw(b) {
        b.ta = Ra(Sa(b.a, b.EV), b.cS);
        b.Ur = Ra(Sa(b.a, b.EV), b.cS);
        b.eB && Ec(b.ta, b.eB);
        b.dispatchEvent("change")
    }

    f.cS = rf;
    f.eB = null;
    f.getData = function () {
        return this.ta
    };
    f.Th = function () {
        return this.ta[0]
    };
    f.top = function () {
        return this.ta[this.ta.length - 1]
    };
    f.filter = function (b, c) {
        return Ra(this.ta, b, c)
    };
    f.forEach = function (b, c) {
        E(this.ta, b, c)
    };
    f.map = function (b, c) {
        return Sa(this.ta, b, c)
    };

    function cw() {
        Q.call(this)
    }

    B(cw, Q);
    var aw = "change";
    cw.prototype.setData = function (b) {
        this.data = b;
        this.dispatchEvent(aw)
    };
    cw.prototype.getData = function () {
        return this.data
    };

    function dw(b) {
        Q.call(this);
        this.data = b
    }

    B(dw, cw);

    function Fi(b, c, d, e, h, k, l) {
        this.Ib = b;
        this.Le = c;
        this.Rf = l;
        this.HC = d;
        this.Sb = e || 0;
        this.Uh = Math.round(Math.log(1 / this.Sb) / Math.LN10);
        this.Zfa = h || Math.pow(10, 6);
        this.Xj = k || 1;
        this.gB = !1;
        this.Yf = null
    }

    f = Fi.prototype;
    f.aa = function () {
        return this.Ib
    };
    f.Nb = function () {
        return this.Le
    };
    f.getName = function () {
        return this.Rf
    };
    f.Gp = function () {
        return this.HC
    };
    f.jT = function () {
        return this.Sb
    };
    f.$c = function () {
        return this.Uh
    };
    f.KX = function (b) {
        this.Xj = b
    };
    f.gT = function () {
        return this.Xj
    };
    f.Hd = function () {
        return this.Zfa
    };
    f.toString = function () {
        return this.Le
    };
    f.Eo = function (b) {
        this.Yf = b
    };
    f.xc = function () {
        return this.Yf
    };
    f.gt = function () {
        var b;
        return this.cC ? b = "DUK+" == this.cC ? "24/7" : "24/5" : null
    };

    function ew(b, c, d, e) {
        this.Le = b;
        this.pc = c || null;
        this.kg = d;
        if (!(c = e)) {
            c = b = b.replace(fw, "").replace(gw, "-").toLowerCase();
            for (d = 1; ~bi(hw, c);) c = b + "-" + d++;
            hw.push(c)
        }
        this.Ib = c;
        this.vc = []
    }

    f = ew.prototype;
    f.aa = function () {
        return this.Ib
    };
    f.Nb = function () {
        return this.Le
    };
    f.getParent = function () {
        return this.pc
    };
    f.qh = function () {
        return this.kg
    };

    function iw(b) {
        var c = [].concat(b.kg);
        E(b.vc, function (b) {
            c = c.concat(iw(b))
        });
        return c
    }

    f.ZK = function (b, c) {
        for (var d = c || !1, e = b instanceof Fi ? b.aa() : b, h = [this]; 0 < h.length;) {
            var k = h.pop(), l = k.qh();
            if (l && (l = Sa(l, function (b) {
                return b instanceof Fi ? b.aa() : b
            }), -1 < ai(l, e))) return !0;
            !d && k.vr() && (h = h.concat(k.Fp()))
        }
        return !1
    };
    f.Va = function (b) {
        ji(this.vc, b) || this.vc.push(b)
    };
    f.removeChild = function (b) {
        mi(this.vc, b)
    };
    f.vr = function () {
        return 0 < this.vc.length
    };
    f.eg = function () {
        return this.vc.length
    };
    f.nd = function (b) {
        return this.vc[b]
    };
    f.Fp = function () {
        return pi(this.vc)
    };
    var hw = [], fw = /["'\s#\/\\]/g, gw = /[\s]/g;

    function jw(b, c, d) {
        this.a = b;
        this.Le = c || Fb(b);
        this.kg = d || [];
        this.vc = []
    }

    jw.prototype.WD = function () {
        return this.a
    };
    jw.prototype.Nb = function () {
        return this.Le
    };
    jw.prototype.qh = function () {
        return this.kg
    };
    jw.prototype.ZK = function (b, c) {
        for (var d = c || !1, e = b instanceof Fi ? b.aa() : b, h = [this]; 0 < h.length;) {
            var k = h.pop(), l = k.qh(), l = Sa(l, function (b) {
                return b instanceof Fi ? b.aa() : b
            });
            if (-1 < ai(l, e)) return !0;
            !d && k.vr && k.vr() && (h = h.concat(k.Fp()))
        }
        return !1
    };

    function ow(b, c) {
        this.ic = new fu(this);
        Id(this, this.ra);
        this.m = null;
        this.hv = {};
        this.Qu = [];
        pw(this, b);
        c && qw(this, c)
    }

    B(ow, Fd);
    f = ow.prototype;
    f.S = function () {
        return this.ic
    };

    function pw(b, c) {
        b.w = c;
        b.addElement(b.w);
        b.S().C(b.w, rw, function (b) {
            this.addElement(b.target)
        }, !0).C(b.w, sw, function (b) {
            b = qa(b.target);
            b in this.hv && (mi(this.Qu, this.hv[b]), delete this.hv[b])
        }, !0).C(b.w, [tw, uw], function (b) {
            b = b.target;
            var c = qa(b);
            c in this.hv ? (c = this.hv[c], b = b.Cc(), c.ey[0] = b.top, c.ey[1] = b.left + b.width, c.ey[2] = b.top + b.height, c.ey[3] = b.left) : this.addElement(b)
        })
    }

    function qw(b, c) {
        b.g && b.S().ud();
        b.g = c;
        b.m && b.m.Ra();
        b.m = new vw(b.g);
        b.S().C(b.g, [ww, xw, yw, zw, Aw, Bw], b.W5);
        b.S().C(b.g, [Cw, Dw], b.gS).C(b.m, Ew, b.gS);
        b.S().C(b.g, [Fw, Gw, Hw], b.V5)
    }

    f.gS = function (b) {
        this.Vy(b, b.offsetX, b.offsetY)
    };
    f.W5 = function (b) {
        var c = b.Pe();
        c.changedTouches && this.Vy(b, c.changedTouches[0].pageX, c.changedTouches[0].pageY)
    };
    f.Vy = function (b, c, d) {
        b.preventDefault();
        b = new ef(b);
        if (c = Iw(this, c, d)) b.target = c, b.offsetX -= c.Cc().left, b.offsetY -= c.Cc().top, c.dispatchEvent(b)
    };
    f.V5 = function (b) {
        b.preventDefault();
        var c = Iw(this, b.offsetX, b.offsetY);
        if (this.a && this.a != c) {
            var d = new ef(b);
            d.type = Gw;
            d.target = this.a;
            d.offsetX -= this.a.Cc().left;
            d.offsetY -= this.a.Cc().top;
            this.a.dispatchEvent(d)
        }
        c && (this.a && this.a != c ? (b = new ef(b), b.type = Hw) : b = new ef(b), b.target = c, b.offsetX -= c.Cc().left, b.offsetY -= c.Cc().top, c.dispatchEvent(b));
        this.a = c
    };
    f.addElement = function (b) {
        var c = b.Cc(), c = {ey: [c.top, c.left + c.width, c.top + c.height, c.left], element: b},
            d = ui(this.Qu, c, Jw), d = 0 > d ? ~d : d;
        this.hv[qa(b)] = c;
        ri(this.Qu, d, 0, c)
    };

    function Jw(b, c) {
        return wi(Kw(b.element), Kw(c.element))
    }

    function Iw(b, c, d) {
        for (var e = b.Qu.length; 0 < e--;) {
            var h = b.Qu[e].ey;
            if (h[0] < d && d < h[2] && h[3] < c && c < h[1]) return b.Qu[e].element
        }
    };

    function Lw(b) {
        Q.call(this);
        this.ic = new fu(this);
        Id(this, this.ic);
        b && Mw(this, b)
    }

    B(Lw, Q);
    Lw.prototype.S = function () {
        return this.ic
    };
    Lw.prototype.Ol = function () {
    };

    function Mw(b, c) {
        if (!(c instanceof Nw)) throw Error("The provided object should be an instance of dc.tk.Container.");
        b.Fb && b.S().wa(b.Fb, [tw, rw, sw], b.a);
        b.Fb = c;
        b.S().C(b.Fb, [tw, rw, sw], b.a)
    }

    Lw.prototype.a = function () {
        this.Fb.Ol()
    };

    function Ow() {
    };

    function Pw() {
        Lw.call(this)
    }

    B(Pw, Lw);
    Pw.prototype.Ol = function () {
        for (var b = this.Fb, c = b.Cc(), d = 0, e = b.eg(); d < e; d++) {
            var h = b.nd(d), k = h.left, l = h.top, p = h.be(), q = h.wg(), k = 1 >= k ? c.width * k : k,
                l = 1 >= l ? c.height * l : l, p = 1 >= p ? c.width * p : p, q = 1 >= q ? c.height * q : q, r = h.JD();
            null != r && (k += r.left, l += r.top, -1 != q && (q -= r.top + r.bottom), -1 != p && (p -= r.left + r.right));
            h.vj(k, l, p, q)
        }
    };

    function Qw() {
        Lw.call(this)
    }

    B(Qw, Lw);
    Qw.prototype.Ol = function () {
        for (var b = this.Fb, c = b.Cc(), d = c.width, e = c.height, h = b.Pj(), k = h.top, l = h.left, h = h.right, p = [], q = 0, r = b.eg(); q < r; q++) {
            var t = b.nd(q), u = t.Taa;
            if (null === u || !u instanceof Rw) throw Error("No layout data for child!");
            var x = t.wg();
            0 < x && 1 >= x ? x = G(x * c.height) : -1 == x && (x = t.Cc().height);
            var A = t.be();
            0 < A && 1 >= A ? A = G(A * c.width) : -1 == A && (A = t.Cc().width);
            var C = t.JD(), I = t.Ln(), N = null != C ? C.top + C.bottom : 0, S = null != C ? C.left + C.right : 0,
                T = null != I ? I.top + I.bottom : 0, U = null != I ? I.left + I.right : 0, Y = 0, fa = 0, na = 0,
                xa = 0;
            switch (u.a) {
                case 5:
                    Y = l;
                    fa = 0;
                    na = d - l - h;
                    xa = x;
                    break;
                case 0:
                    Y = l;
                    fa = k;
                    na = d;
                    xa = x;
                    k += xa + N;
                    e -= xa + N;
                    break;
                case 2:
                    Y = l + d - A;
                    fa = k;
                    na = A;
                    xa = e;
                    d -= na + S;
                    break;
                case 3:
                    Y = l;
                    fa = k + e - x;
                    na = d;
                    xa = x;
                    e -= xa + N;
                    break;
                case 1:
                    Y = l;
                    fa = k;
                    na = A;
                    xa = e;
                    l += na + S;
                    d -= na + S;
                    break;
                case 4:
                    p.push(t)
            }
            null != C && (Y += C.left, fa += C.top, -1 != t.wg() && (xa -= N), -1 != t.be() && (na -= S));
            null != I && (Y += I.left, fa += I.top, -1 != t.wg() && (xa -= T), -1 != t.be() && (na -= U));
            t.vj(G(Y), G(fa), G(na), G(xa))
        }
        q = 0;
        for (r = p.length; q < r; q++) Y = l, fa = k, na = d, xa = e, C = t.JD(), I = t.Ln(), null != C && (Y +=
            C.left, fa += C.top, -1 != t.wg() && (xa -= C.top + C.bottom), -1 != t.be() && (na -= C.left + C.right)), null != I && (Y += I.left, fa += I.top, -1 != t.wg() && (xa -= I.top + I.bottom), -1 != t.be() && (na -= I.left + I.right)), t.vj(G(Y), G(fa), G(na), G(xa))
    };

    function Rw(b) {
        this.a = b
    }

    B(Rw, Ow);

    function Sw(b, c, d, e) {
        Q.call(this);
        this.Wc = ma(b) ? b : this.Wc;
        this.yd = ma(c) ? c : this.yd;
        this.Wd = ma(d) ? d : this.Wd;
        this.cf = ma(e) ? e : this.cf
    }

    B(Sw, Q);
    sb(Sw.prototype);
    var lu = "change";
    f = Sw.prototype;
    f.Wd = Number.NEGATIVE_INFINITY;
    f.cf = Number.POSITIVE_INFINITY;
    f.Wc = NaN;
    f.yd = NaN;
    f.Oc = null;
    f.Kf = !1;
    f.Ce = !1;
    f.reset = function () {
        this.Wd = NaN;
        this.Nj(NaN);
        this.ni(NaN);
        this.cf = NaN
    };
    f.Nj = function (b) {
        this.Wc != b && (this.Wc = b > this.cf ? this.cf : b < this.Wd ? this.Wd : b, this.Kf || this.Ce || this.dispatchEvent(lu))
    };
    f.ni = function (b) {
        this.yd != b && (this.yd = b > this.cf ? this.cf : b, this.Kf || this.Ce || this.dispatchEvent(lu))
    };

    function Tw(b, c, d) {
        if (b.Wc != c || b.yd != d) b.Wc != c && (b.Wc = c > b.cf ? b.cf : c < b.Wd ? b.Wd : c), b.yd != d && (b.yd = d > b.cf ? b.cf : d), b.Kf || b.Ce || b.dispatchEvent(lu)
    }

    f.Fi = function (b) {
        if (this.Wd != b) {
            var c = this.Kf;
            this.Kf = !0;
            Uw(this, b);
            (this.Kf = c) || this.Ce || this.dispatchEvent(lu)
        }
    };

    function Uw(b, c) {
        b.Wd = c;
        b.yd < c && b.ni(c);
        b.Wc > c && b.Nj(c);
        b.cf < c && (b.Hg(c), b.ni(c), b.Nj(c))
    }

    f.Od = function () {
        return this.Wd
    };
    f.Hg = function (b) {
        if (this.cf != b) {
            var c = this.Kf;
            this.Kf = !0;
            Vw(this, b);
            (this.Kf = c) || this.Ce || this.dispatchEvent(lu)
        }
    };

    function Vw(b, c) {
        b.cf = c;
        b.Wc > c && b.Nj(c);
        b.Wd > c && (b.ni(c), b.Fi(c), b.Nj(c));
        b.yd > c && b.ni(c)
    }

    f.Gd = function () {
        return this.cf
    };
    f.pe = function () {
        return this.Oc
    };
    f.qg = function (b) {
        this.Oc != b && (this.Oc = b, b = this.Kf, this.Kf = !0, this.Hg(this.Gd()), this.ni(this.yd), this.Nj(this.Wc), (this.Kf = b) || this.Ce || this.dispatchEvent(lu))
    };

    function mu(b) {
        return b.yd - b.Wc
    }

    f.offset = function (b) {
        var c = this.yd + b;
        b = this.Wc + b;
        var d = this.yd - this.Wc;
        c > this.cf ? (c = this.cf, b = c - d) : b < this.Wd && (b = this.Wd, c = b + d);
        if (c !== this.yd || b !== this.Wc) this.Ce = !0, this.Nj(b), this.ni(c), this.Ce = !1, this.dispatchEvent(lu)
    };
    f.scale = function (b) {
        var c = this.yd - this.Wc, c = (c * b - c) / 2;
        b = this.yd + c;
        c = this.Wc - c;
        b >= this.cf ? (c -= b - this.cf, b = this.cf, c < this.Wd && (c = this.Wd)) : c <= this.Wd && (b += this.Wd - c, c = this.Wd, b > this.cf && (b = this.cf));
        if (b !== this.yd || c !== this.Wc) this.Ce = !0, this.Nj(c), this.ni(b), this.Ce = !1, this.dispatchEvent(lu)
    };

    function Ww(b) {
        Sw.call(this);
        this.ic = new fu(this);
        Id(this, this.ic);
        this.m = {};
        this.a = [];
        for (var c = 0, d = arguments.length; c < d; c++) this.addRange(arguments[c])
    }

    B(Ww, Sw);
    f = Ww.prototype;
    f.S = function () {
        return this.ic
    };
    f.addRange = function (b) {
        if (!(b instanceof Sw)) throw Error("The provided argument should be a Range object!");
        if (b.aa() in this.m) throw Error("Range already included in composite!");
        this.m[b.aa()] = b;
        this.a.push(b);
        Xw(this, b);
        this.S().C(b, lu, function (b) {
            this.g || Xw(this, b.target)
        })
    };

    function Xw(b, c) {
        var d = isFinite(c.Od()) ? yb(b.Od(), c.Od()) : b.Od(), e = isFinite(c.Gd()) ? xb(b.Gd(), c.Gd()) : b.Gd(),
            h = isFinite(b.Wc) ? yb(b.Wc, c.Wc) : c.Wc, k = isFinite(b.yd) ? xb(b.yd, c.yd) : c.yd;
        if (b.Od() !== d || b.Gd() !== e || b.Wc !== h || b.yd !== k) {
            var l = b.Ce;
            b.Ce = !0;
            b.Fi(d);
            b.Hg(e);
            b.Nj(h);
            b.ni(k);
            b.Ce = l;
            b.Kf || b.Ce || b.dispatchEvent(lu)
        }
    }

    f.removeRange = function (b) {
        delete this.m[b.aa()];
        mi(this.a, b)
    };
    f.Nj = function (b) {
        var c = this.Wc, d = this.Ce;
        this.Ce = !0;
        Ww.P.Nj.call(this, b);
        this.Ce = d;
        this.g = !0;
        b = this.Wc;
        for (var d = 0, e = this.a.length; d < e; d++) this.a[d].Nj(b);
        this.g = !1;
        c === this.Wc || this.Kf || this.Ce || this.dispatchEvent(lu)
    };
    f.ni = function (b) {
        var c = this.yd, d = this.Ce;
        this.Ce = !0;
        Ww.P.ni.call(this, b);
        this.g = !0;
        b = this.yd;
        for (var e = 0, h = this.a.length; e < h; e++) this.a[e].ni(b);
        this.g = !1;
        this.Ce = d;
        c === this.yd || this.Kf || this.Ce || this.dispatchEvent(lu)
    };

    function Yw(b, c) {
        Q.call(this);
        this.Fc = b;
        this.ra = new fu(this);
        this.g = {};
        this.a = new Ap(Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY);
        c && this.Xt(c)
    }

    B(Yw, Q);
    f = Yw.prototype;
    f.S = function () {
        return this.ra
    };
    f.Xt = function (b) {
        this.R && this.S().wa(this.R, aw);
        this.R = ja(b) ? new dw(b) : b;
        this.data = this.R.data;
        this.S().C(this.R, aw, this.t5);
        Zw(this)
    };
    f.t5 = function (b) {
        this.data = this.R.data;
        Zw(this);
        this.dispatchEvent(b)
    };
    f.indexOf = function (b) {
        b in this.g ? b = this.g[b] : (b = v(this.o4, this, b), b = vi(this.R.data, b, !0, void 0, void 0));
        return b
    };
    f.o4 = function (b, c, d, e) {
        return wi(b, this.Fc.Rj(c, d, e))
    };
    f.ue = function () {
        return this.data.length
    };
    f.bt = function (b) {
        return this.data[this.indexOf(b)]
    };
    f.kc = function (b) {
        return this.data[b]
    };
    f.qa = function () {
        return this.Fc
    };
    f.fe = function (b) {
        this.Fc = b;
        Zw(this)
    };

    function Zw(b) {
        dh(b.g);
        for (var c = Number.POSITIVE_INFINITY, d = Number.NEGATIVE_INFINITY, e = 0, h = b.data.length; e < h; e++) {
            var k = b.Fc.Rj(b.data[e], e, b.data), c = Math.min(k, c), d = Math.max(k, d);
            b.g[k] = e
        }
        isFinite(c) && isFinite(d) && (isFinite(b.a.start) && isFinite(b.a.end) || (b.a.start = c, b.a.end = d), b.a.g = c, b.a.a = d)
    };

    function $w(b) {
        Fd.call(this);
        this.ic = new fu(this);
        Id(this, this.ic);
        this.kh = b;
        this.S().C(this.kh, lu, this.g)
    }

    B($w, Fd);
    $w.prototype.S = function () {
        return this.ic
    };
    $w.prototype.g = function () {
        ax(this)
    };
    $w.prototype.eK = function () {
        return this.w
    };

    function ax(b, c) {
        var d;
        (d = c || b.w) || (d = b.kh.Bk(), d = b.kh.cz(d.Wc, d.yd), d = Math.ceil((mu(b.kh.Bk()) - d) / b.kh.Bk().pe()));
        b.w = d;
        b.kh.zv() && (b.a = mu(b.kh.zv()) / b.w, b.a = Math.round(b.a), b.a += 1 - b.a % 2, b.w = Math.ceil(mu(b.kh.zv()) / b.a))
    };

    function bx(b, c, d, e) {
        Q.call(this);
        this.ic = new fu(this);
        Id(this, this.ic);
        this.bl = new Ww;
        this.bl.Je(this);
        Id(this, this.bl);
        this.fb = new $w(this);
        Id(this, this.fb);
        this.mo = new (c || nu)(this);
        this.wN(ca(e) ? e : this.qL);
        d && (c = this.Bi = d, c.kh && c.S().ud(), c.kh = this, c.S().C(this, lu, c.a), c.a());
        b && this.Qw(b);
        this.uS = new Cp
    }

    B(bx, Q);
    sb(bx.prototype);
    f = bx.prototype;
    f.S = function () {
        return this.ic
    };
    f.qL = !0;
    f.wN = function (b) {
        this.qL = b;
        this.mo.wN(this.qL)
    };
    f.qg = function (b) {
        this.bl.qg(b)
    };
    f.addRange = function (b) {
        this.bl.addRange(b)
    };
    f.removeRange = function (b) {
        this.bl.removeRange(b)
    };
    f.Bk = function () {
        return this.bl
    };
    f.zv = function () {
        return this.Yp
    };
    f.Qw = function (b) {
        this.Yp = b;
        this.Yp.Je(this);
        this.mo.Qw(this.Yp)
    };
    f.sb = function () {
        return this.fb
    };
    f.cz = function (b, c) {
        return this.uS.Ml() ? 0 : gp(fp(this.uS, function (d) {
            return d.start >= b && d.start <= c || d.end >= b && d.end <= c || d.start >= b && d.end <= c || d.start <= b && d.end >= c
        }), function (b, c) {
            return b + c.end - c.start
        })
    };

    function cx(b) {
        Fd.call(this);
        this.ic = new fu(this);
        Id(this, this.ic);
        this.w = {};
        this.g = [];
        this.R = [];
        this.U = new Sw(0, 0);
        this.F = new Sw(0, 0);
        this.K = {};
        this.m = [];
        b = b || new bx(this.F, null, null, !1);
        this.a && this.S().wa(this.a, lu);
        this.a = b;
        this.a.Qw(this.F);
        this.S().C(this.a, lu, this.jaa)
    }

    B(cx, Fd);
    f = cx.prototype;
    f.S = function () {
        return this.ic
    };
    f.jaa = function () {
        for (var b = 0, c = this.m.length; b < c; b++) this.m[b].Bk().reset();
        b = 0;
        for (c = this.g.length; b < c; b++) this.g[b].wO()
    };

    function dx(b, c) {
        if (c.aa() in b.K) throw Error("Axis already exists!");
        b.K[c.aa()] = c;
        b.m.push(c);
        c.zv() || c.Qw(b.U)
    }

    function ex(b, c) {
        if (fx(b, c)) throw Error("Series already exists!");
        b.w[c.aa()] = c;
        b.g.push(c)
    }

    function gx(b, c) {
        mi(b.g, c);
        delete b.w[c.aa()]
    }

    function fx(b, c) {
        return c.aa() in b.w
    }

    f.T = function (b) {
        b.save();
        c = 0;
        for (d = this.R.length; c < d; c++) this.R[c].T(b, this);
        for (var c = 0, d = this.g.length; c < d; c++) this.g[c].T(b, this);
        b.restore()
    };
    f.ie = function () {
        this.Xd || (this.Xd = {width: null, height: null});
        return this.Xd
    };
    f.bi = function (b, c) {
        var d = this.ie();
        d.width = b;
        d.height = c;
        this.F.ni(b);
        this.U.ni(c)
    };

    function hx(b, c, d, e) {
        Q.call(this);
        this.ra = new fu(this);
        Id(this, this.ra);
        this.$b = b;
        this.F = e;
        this.a = new Sw;
        Id(this, this.a);
        this.g = new Sw;
        Id(this, this.g);
        this.m = c;
        this.m.addRange(this.a);
        this.kh = d;
        this.kh.addRange(this.g);
        this.EY();
        this.wO();
        this.S().C(this.$b, aw, this.EY).C(this.$b, aw, this.wO)
    }

    B(hx, Q);
    sb(hx.prototype);
    f = hx.prototype;
    f.Ma = function () {
        this.kh.removeRange(this.g);
        hx.P.Ma.call(this)
    };
    f.od = function () {
        return this.$b
    };

    function jp(b) {
        return b.a.yd + b.m.cz(b.a.Wc, b.a.yd)
    }

    f.EY = function () {
        var b = this.$b.a, c = this.a;
        isNaN(c.Wc) && isNaN(c.Wc) && isFinite(b.start) && isFinite(b.end) && Tw(c, b.start, b.end)
    };
    f.wO = function () {
        var b = this.$b.qa(), c = this.g, d;
        d = this.$b;
        var e = this.a.Wc, h = jp(this), e = d.indexOf(e), h = d.indexOf(h), e = 0 > e ? ~e : e;
        d = new Bb(d.data, e, (0 > h ? ~h : h) - e + 1);
        if (0 < d.length) {
            var h = d.kc(0), k = b.ld(h), l = b.pd(h), p, e = 1;
            for (p = d.length; e < p; e++) h = d.kc(e), k = yb(b.ld(h), k), l = xb(b.pd(h), l)
        }
        isFinite(k) && isFinite(l) && (k == l && (k *= 1 - this.kh.Bk().pe() / 2, l *= 1 + this.kh.Bk().pe() / 2), b = Math.min(l, k), d = Math.max(l, k), b = Math.abs(d - b), k -= .1 * b, l += .1 * b, Tw(c, k, l), k = isFinite(c.Od()) ? yb(k, c.Od()) : k, l = isFinite(c.Gd()) ? xb(l, c.Gd()) :
            l, c.cf != l || c.Wd != k) && (b = c.Kf, c.Kf = !0, c.Wd != k && Uw(c, k), c.cf != l && Vw(c, l), c.Kf = b, c.Kf || c.Ce || c.dispatchEvent(lu))
    };
    f.S = function () {
        return this.ra
    };
    f.bt = function (b) {
        return this.$b.bt(b)
    };
    f.kc = function (b) {
        return this.$b.kc(b)
    };
    f.indexOf = function (b) {
        return this.$b.indexOf(b)
    };
    f.ue = function () {
        return this.$b.ue()
    };
    f.Fj = function () {
        return Mb(this)
    };

    function Mb(b) {
        b.w || (b.w = new ip(b));
        return b.w
    }

    f.qa = function () {
        return this.$b.qa()
    };
    f.T = function (b, c) {
        this.F.T(b, this, c.a, this.kh)
    };

    function ix(b, c, d) {
        Q.call(this);
        this.ra = new fu(this);
        this.name = b;
        this.title = void 0 === c ? Th(b) : c;
        this.a = [];
        d && this.tc(d)
    }

    B(ix, Q);
    f = ix.prototype;
    f.S = function () {
        return this.ra
    };
    f.tc = function (b) {
        this.a.push(b)
    };
    f.uv = function () {
        return this.a
    };
    f.getName = function () {
        return this.name
    };
    f.Co = function (b) {
        this.name = b
    };
    f.Nb = function () {
        return this.title
    };
    f.tf = function (b) {
        this.title = b
    };
    f.NQ = function (b) {
        return b[this.name]
    };
    f.Lw = function (b) {
        this.NQ = b
    };
    f.JY = function (b) {
        return b.toString()
    };
    f.bu = function (b) {
        this.JY = b
    };
    f.VM = function (b, c) {
        return b.u(Re, this.uv().join(" "), this.JY(this.NQ(c), c))
    };
    f.Vr = function (b) {
        return b.u(Ve, this.uv().join(" "), this.title)
    };

    function jx(b) {
        ix.call(this, "", "", "");
        this.kl = b;
        this.kl.Je(this)
    }

    B(jx, ix);
    f = jx.prototype;
    f.tc = function (b) {
        this.kl.tc(b)
    };
    f.uv = function () {
        return this.kl.uv()
    };
    f.Co = function (b) {
        this.kl.Co(b)
    };
    f.tf = function (b) {
        this.kl.tf(b)
    };
    f.Lw = function (b) {
        this.kl.Lw(b)
    };
    f.VM = function (b, c) {
        return this.kl.VM(b, c)
    };
    f.Vr = function (b) {
        return this.kl.Vr(b)
    };
    f.bu = function (b) {
        return this.kl.bu(b)
    };

    function kx(b, c) {
        Q.call(this);
        this.ra = new fu(this);
        this.w = c || "dd MMM yyyy HH:mm:ss";
        this.g = new sk(this.w);
        b && this.If(b)
    }

    B(kx, Q);
    new Do(1);
    f = kx.prototype;
    f.If = function (b) {
        this.o = b;
        this.FT();
        this.bf()
    };
    f.bf = function () {
        this.ra.C(this.o, [lx, mx, nx, ox], this.jg).C(this.o, [qu, px, qx], this.FT).C(this.o, rx, this.S4).C(this.o, "renderforeground", this.$g)
    };
    f.Ba = function (b) {
        (this.Za = b) ? this.bf() : this.ra.ud();
        this.o.Ia()
    };
    f.isEnabled = function () {
        return this.Za
    };
    f.jg = function (b) {
        b.target === this.o.R || b.target instanceof R ? (this.m = b.offsetX ? b.offsetX : this.va, this.F = b.offsetY ? b.offsetY : this.za, this.a = this.o.pa, this.a += b.offsetX ? b.offsetX : this.va, this.o.Ia(), b.offsetX && (this.va = b.offsetX), b.offsetY && (this.za = b.offsetY)) : this.za = this.va = this.a = this.F = this.m = 0
    };
    f.FT = function () {
        this.za = this.va = this.a = this.F = this.m = 0;
        this.Sa = this.o.ma();
        this.Sa instanceof Fi || sx(this.o.Fd().load(), function () {
            this.Sa = this.o.Fd().qh()[this.Sa]
        }, this);
        this.o.Ia()
    };
    f.S4 = function () {
        this.F = this.m = 0;
        this.o.Ia()
    };
    f.$g = function (b) {
        if (this.isEnabled()) {
            b = b.target.getContext();
            var c = this.o.Qa().t(this.a), d = this.o.vb().qc(this.F), e = this.Sa.jT && this.Sa.Sb;
            e || (e = 1E-4);
            c = this.g.format(new Date(c), this.o.Ic(c));
            d = Eb(d, e).join("");
            if (!(0 >= this.m || this.m >= xu(this.o).width || 0 >= this.F || this.F >= xu(this.o).height)) {
                b.save();
                b.beginPath();
                b.strokeStyle = this.o.fa().j.Yc;
                b.lineWidth = .5;
                Jn(b, this.m + .5, 0, this.m + .5, this.o.je().height, [2, 3]);
                Jn(b, 0, this.F + .5, xu(this.o).width, this.F + .5, [2, 3]);
                b.stroke();
                if (this.o.j.Ij) {
                    b.fontSize =
                        this.o.fa().j.hd;
                    b.font = b.fontSize + "px " + this.o.fa().j.mf;
                    var c = Cm(c), h, k = b.measureText(c).width + 10, l = this.o.fa().j.hd, p = this.o.fa().j.ps + 1;
                    b.fillStyle = this.o.fa().j.Yc;
                    e = this.m - k / 2;
                    h = this.o.je().height;
                    b.fillRect(0 > e ? 0 : e, h, k, p);
                    b.fillStyle = this.o.fa().j.wd;
                    e = this.m;
                    e = e < k / 2 ? k / 2 : e;
                    h = this.o.je().height + (p - 1) / 2 + l / 2 - 1;
                    b.textAlign = "center";
                    b.fillText(c, e, h)
                }
                this.o.j.qn && (b.fontSize = 1.2 * this.o.fa().j.hd, b.font = b.fontSize + "px " + this.o.fa().j.mf, h = this.o.fa().j.hd, b.fillStyle = this.o.fa().j.Yc, c = xu(this.o).width -
                    1, e = this.F - b.fontSize / 2 - 3, b.fillRect(c, 0 > e ? 0 : e, this.o.El() + 1, b.fontSize + 3), b.fillStyle = this.o.fa().j.wd, c = xu(this.o).width + 1, e = this.F - b.fontSize / 2 - 3, e = 0 > e ? h + 1 : e + h + 1, b.textAlign = "left", b.fillText(d, c, e + 1));
                b.closePath();
                b.restore()
            }
        }
    };

    function tx(b) {
        Q.call(this);
        this.o = b;
        this.ra = new fu(this);
        this.F = {};
        this.R = [];
        this.m = {};
        this.g = {};
        this.a = {};
        this.K = null;
        this.w = [];
        this.U = this.xb = null
    }

    B(tx, Q);
    f = tx.prototype;
    f.S = function () {
        return this.ra
    };
    f.X = function () {
        return this.o
    };
    f.ga = function () {
        return this.o.ga()
    };
    f.set = function (b) {
        if (!b || !ja(b)) throw Error("Not correct data array passed to Historical Orders Monitor");
        E(b, function (b) {
            var d = {}, e = [];
            E(b.orders, function (h) {
                h.createdDate < this.QL && (this.QL = h.createdDate);
                h.createdDate > this.LL && (this.LL = h.createdDate);
                d[h.orderId] = new Vb(h);
                this.F[h.orderId] = b.orderGroupId;
                e.push(d[h.orderId])
            }, this);
            this.m[b.orderGroupId] && (e = oi(this.m[b.orderGroupId].Pn(), e));
            this.m[b.orderGroupId] = new Zb(b.orderGroupId, b.createdDate, "DEFAULT" == b.status ? "OPEN" : b.status, e, b.merged,
                b.partiallyClosed, b.pips, b.pl);
            ia(b.merged) && E(b.merged, function (b) {
                ~this.R.indexOf(b) || this.R.push(b)
            }, this);
            jh(this.g, d)
        }, this);
        ux(this);
        this.$g()
    };
    f.QL = Infinity;
    f.LL = -Infinity;
    f.zQ = function (b) {
        if (b = this.ti(+b)) E(b.Pn(), function (b) {
            vx(this, b.aa())
        }, this), wx = {}, xx = {}, this.X().Ia()
    };
    f.i4 = function (b) {
        if (!ia(b)) throw Error("Parameter must be an array of order group ids");
        E(b, v(this.zQ, this))
    };

    function vx(b, c) {
        var d = b.g[c], e = b.ti(b.F[c]), h = e.Pn();
        "OPEN" == d.ef() && La(b.m, function (b) {
            ji(b.Dn, d.aa()) && E(b.Pn(), function (b) {
                var c = yx(this, b.aa());
                c && (this.ga().Me(c), delete this.a[b.aa()], vx(this, b.aa()), delete this.g[b.aa()])
            }, this)
        }, b);
        E(e.Dn, function (b) {
            var c = this.a[b];
            c && (this.ga().Me(c), delete this.a[b], vx(this, b), delete this.g[b])
        }, b);
        E(h, function (b) {
            var c = yx(this, b.aa());
            c && (this.ga().Me(c), delete this.a[b.aa()], vx(this, b.aa()), delete this.g[b.aa()])
        }, b);
        delete b.F[c];
        delete b.m[e.aa()]
    }

    f.reset = function () {
        this.S().ud();
        this.F = {};
        this.m = {};
        this.g = {};
        this.R = [];
        ux(this)
    };

    function ux(b) {
        La(b.a, function (b) {
            this.ga().Me(b)
        }, b);
        b.a = {};
        wx = {};
        xx = {};
        b.X().Ia()
    }

    f.kJ = !1;
    f.gG = function (b) {
        this.kJ = b;
        La(this.a, function (b) {
            b.gG(this.kJ)
        }, this)
    };
    f.ti = function (b) {
        return this.m[b]
    };
    f.Pn = function () {
        return this.g
    };

    function yx(b, c) {
        return b.a[c]
    }

    function zx(b, c) {
        b.K && La(b.a, function (b) {
            b.sf(!1)
        });
        b.K = c;
        b.K && 1 == b.w.length && Ax(b, b.K)
    }

    function Ax(b, c) {
        var d = b.g[c], e = b.ti(b.F[c]), h = e.Pn();
        "OPEN" == d.ef() && La(b.m, function (b) {
            ji(b.Dn, d.aa()) && E(b.Pn(), function (b) {
                var c = yx(this, b.aa());
                c.ve() || (c.sf(!0), Ax(this, b.aa()))
            }, this)
        }, b);
        E(e.Dn, function (b) {
            var c = this.a[b];
            c.ve() || (c.sf(!0), Ax(this, b))
        }, b);
        E(h, function (b) {
            var c = yx(this, b.aa());
            c.ve() || (c.sf(!0), Ax(this, b.aa()))
        }, b)
    }

    f.LN = function (b) {
        this.xb = b
    };
    f.Qa = function () {
        return this.xb
    };
    f.vb = function () {
        return this.U
    };
    f.$g = function () {
        La(this.g, v(this.lca, this));
        this.S().ud();
        this.S().C(this.o, lx, this.jg, !0).C(this.o, "renderforeground", this.oca)
    };
    f.lca = function (b) {
        var c = b.Nh() == Xb ? Bx : Cx, d = "OPEN" == b.ef() ? Dx : Ex, e = this.ti(this.F[b.aa()]);
        b.xt == Wb && (d = Ex);
        var h = new Fx(c, d, b.kr(), b.gf());
        h.ia = e.Dl();
        h.gG(this.kJ);
        this.a[b.aa()] = h;
        "OPEN" != b.ef() || ki(e.Dn) ? "CLOSE" == b.ef() && La(e.Pn(), function (b) {
            if ("OPEN" == b.ef()) {
                var c = b.Nh() == Xb ? Bx : Cx, d = b.gf();
                h.w.push([b.kr(), d, c]);
                h.ga() && h.ga().X().Ia()
            }
        }) : E(e.Dn, function (b) {
            if (b = this.g[b]) {
                var c = b.gf();
                h.w.push([b.kr(), c, void 0]);
                h.ga() && h.ga().X().Ia()
            }
        }, this);
        this.ga().Jg(this.a[b.aa()])
    };
    f.jg = function (b) {
        var c = this.X().Hm(b.offsetX, b.offsetY) || Gx(this.X()), d = c.Qa(), e = c.vb(), c = c.Ha,
            h = this.X().pa + b.offsetX;
        b = b.offsetY - c.top;
        this.LN(d);
        this.U = e;
        zx(this, null);
        this.w = [];
        for (var k in this.a) this.a.hasOwnProperty(k) && this.a[k].ec(h, b, d, e, c) && (this.w.push(k), zx(this, k))
    };
    f.oca = function () {
        this.K && this.Qa() && this.vb() && Hx(this)
    };

    function Hx(b) {
        var c = b.K, d = Ix(b), e = b.a[c], h = b.X().getContext(), c = b.X().fa(), k = G(1.2 * c.j.hd), l = k + 5,
            p = l * d.length + 10, q = 1, e = e.JQ, r = e[0] + 5 - b.X().pa | 0, t = e[1] - 5 | 0;
        0 > t - p && (t = p);
        r + 250 > b.X().je().width && (r -= 260);
        r += .5;
        t += .5;
        h.save();
        h.beginPath();
        h.fillStyle = c.j.wd;
        h.strokeStyle = c.j.Ql;
        h.lineWidth = c.Ln();
        h.rect(r, t - p, 250, p);
        h.fill();
        h.stroke();
        h.fillStyle = c.j.hj;
        h.fontSize = k;
        h.font = k + "px " + b.o.fa().j.mf;
        E(d, function (b) {
            h.fillText(b[0], r + 5, t - p + q * l);
            h.fillText(b[1], r + 250 - 5 - h.measureText(b[1]).width, t - p + q * l);
            q++
        }, b);
        h.closePath();
        h.restore()
    }

    function Ix(b) {
        var c = b.g[b.K], d = b.ti(b.F[c.aa()]), e = d.Pn(), h = Sa(e, function (b) {
            return b.aa()
        }), k = "OPEN" == c.ef(), l = "CLOSE" == d.Dl(), p = e[e.length - 1], q = [];
        if (!ki(b.w) && 1 < b.w.length) {
            var l = h = d = c = 0, e = [], r;
            for (r in b.w) b.w.hasOwnProperty(r) && (k = b.ti(b.F[b.w[r]]), p = Sa(k.Pn(), function (b) {
                return b.aa()
            }), ~e.indexOf(k.aa()) || (e.push(k.aa()), "MERGE" != k.Dl() && ki(Ra(p, va(ji, b.R))) ? "CLOSE" == k.Dl() ? h++ : d++ : c++, k.iz() && (l += k.iz())));
            c && q.push(["Merged positions:", c]);
            d && q.push(["Open positions:", d]);
            h && q.push(["Closed positions:",
                h]);
            0 < h && l && q.push(["Closed P/L (pips):", l.toFixed(2)]);
            return q
        }
        ki(d.Dn) || "OPEN" != c.ef() ? (c.Nh() && q.push(["Order side:", c.Nh()]), q.push(["Amount:", Jx(c.rv())]), c.gf() && q.push(["Price:", c.gf()]), c.kr() && q.push(["Time:", Kx(c.kr())]), c.xt == Wb ? c.bE && q.push(["Order ID:", c.bE]) : c.aa() && q.push(["Order ID:", c.aa()]), c.IJ && q.push(["External id:", c.IJ])) : q.push(["Merged positions:", d.Dn.length]);
        q.push(["", ""]);
        r = null;
        var t = 0, u = 0, x = 0, A = 0;
        1 == e.length && "CLOSE" == c.ef() && (r = c);
        for (var C = 0, I = e.length; C < I; C++) {
            var N =
                e[C];
            if ("OPEN" == N.ef()) r = N; else if (x += N.rv(), N.aa() == c.aa()) break
        }
        k || !k && l && c.aa() == p.aa() ? A = c.rv() : A = c.eW - x;
        "CLOSE" == p.ef() && (t = p.gf(), u = p.kr());
        r && r.xt && q.push(["Position side:", Yb[r.xt]]);
        q.push(["Amount:", Jx(A)]);
        e = r.xt == Wb ? "Price:" : "Open price:";
        r.gf() && q.push([e, r.gf()]);
        l && (t && q.push(["Close price:", t]), d.iz() && q.push(["P/L pips:", d.iz()]), d.aK() && q.push(["P/L:", b.X().ma().EM + " " + d.aK()]));
        "MERGE" != d.Dl() && ki(Ra(h, va(ji, b.R))) ? q.push(["Status:", d.Kba ? "Partially closed" : "CLOSE" == d.Dl() ? $b[d.Dl()] :
            $b.OPEN]) : q.push(["Status:", $b.MERGE]);
        q.push([r.xt == Wb ? "Time:" : "Open time:", Kx(d.kr())]);
        l && u && q.push(["Close time:", Kx(u)]);
        c.jM ? q.push(["Position id:", c.jM]) : q.push(["Position id:", c.bE]);
        return q
    }

    function Kx(b) {
        b = new Date(b);
        return (new sk("z HH:mm:ss:" + b.getMilliseconds() + " yyyy-MM-dd")).format(b, ok(0))
    }

    function Jx(b) {
        return (new Do(1)).format(b)
    };

    function Lx(b) {
        Q.call(this);
        this.o = b;
        this.ra = new fu(this)
    }

    B(Lx, Q);
    f = Lx.prototype;
    f.S = function () {
        return this.ra
    };
    f.Za = !1;
    f.Ba = function (b) {
        this.Za = b;
        this.S().ud();
        this.Za && this.S().C(this.o, Mx, this.T4).C(this.o, Nx, this.Mm).C(this.o, lx, this.jg)
    };
    f.cq = null;
    f.T4 = function () {
        this.o.ga().a || this.cq && this.dispatchEvent(new cf("callindicatordialog", this.cq))
    };
    f.Mm = function (b) {
        this.jg(b);
        b = this.o.Md;
        this.o.ga().a && (this.cq = null);
        this.dispatchEvent(new cf(this.cq ? "indicatorobjectpick" : "indicatorobjectunpick", this.cq));
        La(b, function (b) {
            b.zC = b == this.cq
        }, this);
        this.o.Ia()
    };
    f.jg = function (b) {
        var c = this.o.Md, d = this.o.Hm(b.offsetX, b.offsetY) || Gx(this.o), e = d.Qa(), h = d.vb(), k = d.Ha,
            l = this.o.pa + b.offsetX;
        b = b.offsetY - k.top;
        var p = !1, q;
        K.enable(this.o.R, "a-b-g-j-i", !1);
        this.cq = null;
        if (!ch(c)) {
            for (var c = Ta(c), r = 0, t = c.length; r < t; ++r) if (q = c[r], this.o.qd(q.Zb()).Wa()) if (q.lc().Vb) {
                if (q.Zb() == d.aa() && q.ec(this.o, l, b, e, h, k)) {
                    p = !0;
                    break
                }
            } else if (q.ec(this.o, l, b, e, h, k)) {
                p = !0;
                break
            }
            p && q && (this.cq = q, K.enable(this.o.R, "a-b-g-j-i", !0))
        }
    };

    function Ox(b) {
        Q.call(this);
        this.ra = new fu(this);
        this.g = new Ip(0, 0, 20, 300);
        this.a = "rgba(255, 255, 0, 0.2)";
        this.m = "rgba(0, 0, 0, 1)";
        this.w = !1;
        b && this.If(b)
    }

    B(Ox, Q);
    var Px = new sk("yyyy-MM-dd"), Qx = new sk("HH:mm:ss.S"), Rx = new sk("HH:mm"), Sx = new Do(1),
        Tx = /^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i;
    f = Ox.prototype;
    f.If = function (b) {
        this.o = b;
        this.bf()
    };
    f.bf = function () {
        this.ra.C(this.o, "renderforeground", this.$g)
    };
    f.Ba = function (b) {
        (this.Za = b) ? this.bf() : this.ra.ud();
        this.o.Ia()
    };
    f.isEnabled = function () {
        return this.Za
    };
    f.Ab = function (b) {
        b.match(Tx) && (this.a = b)
    };
    f.Jb = function () {
        return this.a
    };
    f.lG = function (b) {
        this.w = !0;
        this.m = b
    };
    f.$g = function (b) {
        if (this.isEnabled()) {
            this.g.left = .7 * xu(this.o).width;
            this.g.height = xu(this.o).height;
            var c = b.target.getContext(), d = this.o.Qa().t(this.g.left + this.g.width / 2 + this.o.pa);
            this.th = this.o.eb().indexOf(d);
            this.g.width = this.o.fb.Mg;
            c.save();
            c.beginPath();
            c.globalCompositeOperation = "destination-over";
            c.fillStyle = this.Jb();
            c.rect(this.g.left - 2.5, this.g.top - 2.5, this.g.width + 5, this.g.height + 5);
            c.fill();
            c.closePath();
            c.restore();
            b = b.target.getContext();
            this.th = 0 > this.th ? ~this.th - 1 : this.th;
            if (c =
                this.o.eb().ta[this.th]) {
                b.save();
                b.beginPath();
                b.fontSize = G(1.2 * this.o.fa().j.hd);
                b.font = b.fontSize + "px " + this.o.fa().j.mf;
                if (!this.w) {
                    b:{
                        var e = this.Jb().match(Tx);
                        if (e) {
                            var d = Number(e[1]), h = Number(e[2]), k = Number(e[3]), e = Number(e[4]);
                            if (0 <= d && 255 >= d && 0 <= h && 255 >= h && 0 <= k && 255 >= k && 0 <= e && 1 >= e) {
                                d = [d, h, k, e];
                                break b
                            }
                        }
                        d = []
                    }
                    ki(d) || (d[0] -= 100, d[1] -= 100, d[2] -= 100, d[0] = 0 > d[0] ? 0 : d[0], d[1] = 0 > d[1] ? 0 : d[1], d[2] = 0 > d[2] ? 0 : d[2], this.m = "rgba(" + d[0] + "," + d[1] + "," + d[2] + ",1)")
                }
                d = this.m;
                b.fillStyle = d;
                var d = Ux, e = this.o.W().Y(),
                    l = this.o.ma().Sb, h = new Date(c.getTime()), k = [];
                switch (this.o.Fa()) {
                    case 1:
                        k.push(["A:", c.ed().toFixed(5)]);
                        k.push(["Size:", Sx.format(c.Cs)]);
                        k.push(["B:", c.fd().toFixed(5)]);
                        k.push(["Size:", Sx.format(c.Ds)]);
                        k.push(["Spread:", ((c.ed() - c.fd()) / l).toFixed(2)]);
                        break;
                    default:
                        k.push(["O:", c.zb().toFixed(5)]), k.push(["H:", c.bb().toFixed(5)]), k.push(["L:", c.$a().toFixed(5)]), k.push(["C:", c.jb().toFixed(5)]), k.push(["V:", Sx.format(c.Hd()) + "M"])
                }
                k.push(["D:", Px.format(h, this.o.Ic(h))]);
                a:switch (!0) {
                    case 6E4 >=
                    e:
                        e = Qx;
                        break a;
                    default:
                        e = Rx
                }
                k.push(["T:", e.format(h, this.o.Ic(h))]);
                d(this, k, b);
                b.closePath();
                b.restore();
                d = this.o.Qa().x(c.getTime());
                h = this.o.fb.Mg;
                1 == this.o.Fa() ? (k = G(this.o.vb().y(xb(c.fd(), c.ed()))), e = G(this.o.vb().y(yb(c.fd(), c.ed()))) - k) : (k = G(this.o.vb().y(xb(c.zb(), c.jb()))), e = G(this.o.vb().y(yb(c.zb(), c.jb()))) - k);
                b.save();
                b.translate(-this.o.pa, 0);
                b.globalCompositeOperation = "destination-over";
                b.beginPath();
                1 !== this.o.Fa() ? (b.rect(d - (h / 2 | 0), k, h, e), b.moveTo(d, G(this.o.vb().y(c.bb())) - 1), b.lineTo(d,
                    G(this.o.vb().y(c.$a())) + 1)) : (b.moveTo(d, G(this.o.vb().y(xb(c.fd(), c.ed()))) - 1), b.lineTo(d, G(this.o.vb().y(yb(c.fd(), c.ed()))) + 1));
                b.shadowOffsetX = 0;
                b.shadowOffsetY = 0;
                b.shadowBlur = 3;
                b.strokeStyle = "#FFD600";
                b.shadowColor = "#FFD600";
                b.stroke();
                b.restore();
                b.restore()
            }
        }
    };

    function Ux(b, c, d) {
        var e = xu(b.o).width, h = !1, k = 0, l = 0;
        E(c, function (b) {
            b = d.measureText(b[0] + " " + b[1] + "   ").width;
            l = b > l ? b : l;
            k += b
        }, b);
        for (var e = e - l, h = 0 >= xu(b.o).width - k - 250, p = c.length - 1; 0 <= p; --p) {
            var q = d.measureText(c[p][0] + " ").width, r = b.g.top + b.g.height - d.fontSize / 4 - 13, t = d.font;
            h && p <= c.length - 4 && (r = b.g.top + b.g.height - d.fontSize / 4 - 13 - 1.5 * d.fontSize - 5, p == c.length - 4 && (e = xu(b.o).width - l));
            q += e;
            d.globalCompositeOperation = "source-over";
            d.textAlign = "left";
            d.font = "bold " + t;
            d.fillText(c[p][0] + " ", e, r);
            d.font =
                t;
            d.fillText(c[p][1], q, r);
            e -= l
        }
    };

    function Vx() {
        Q.call(this)
    }

    B(Vx, Q);
    var Nk = "close", Ok = "high", Pk = "low", Qk = "open", Rk = "h_l_2", Sk = "o_c_2";

    function Wx(b, c, d, e) {
        b.F = b.F || {Td: c, Eg: d, Mb: e};
        b.F.Td = c || b.F.Td;
        b.F.Eg = d || b.F.Eg;
        b.F.Mb = e || b.F.Mb
    }

    Vx.prototype.W = function () {
        return this.F.Mb
    };
    Vx.prototype.ma = function () {
        return this.F.Td
    };
    Vx.prototype.Db = function () {
        return this.F.Eg
    };
    Vx.prototype.Lt = function () {
        this.w = {};
        this.Uq = null
    };

    function Xx() {
        Q.call(this);
        this.Gr = 0
    }

    B(Xx, Vx);

    function Yx(b, c) {
        c >= b.Gr && (b.Gr = c)
    };

    function Zx(b, c, d, e) {
        Xx.call(this);
        this.Sa = b;
        this.$ = c;
        this.Vf = null != d ? d : 0;
        this.Uh = this.Sa.$c();
        this.a = 0;
        this.U = this.Vf ? kj(this.Vf * this.Sa.Sb, this.Uh) : 0;
        this.ia = null != e ? e : Nk;
        this.m = {};
        this.K = {};
        this.R = {};
        this.g = {}
    }

    B(Zx, Xx);

    function $x(b, c) {
        var d = new Date(Ul(c));
        d.setUTCHours(0, 0, 0, 0);
        b.a = d.getTime()
    }

    function ay(b, c) {
        b.m = b.m || [];
        b.m[b.a] = c
    }

    function by(b) {
        return (b = b.K[b.a]) ? b : null
    }

    function cy(b, c) {
        b.R = b.R || [];
        b.R[b.a] = c
    }

    function dy(b) {
        return b.R[b.a] || null
    }

    Zx.prototype.Nq = function (b, c, d, e, h) {
        var k = [];
        E(d, function (d) {
            $x(this, d[0]);
            d[0] <= (this.m[this.a] || 0) || (Yx(this, d[0]), ay(this, d[0]), (d = ey(this, b, c, d)) && 0 < d.length && E(d, function (b) {
                b = pi(b);
                var c = Math.ceil((b[1] - b[0]) / this.$.Y());
                b[7] > c && (b[7] = c);
                b.real_time = b[1];
                k.push(b)
            }, this))
        }, this);
        ia(h) && !ki(h) && ($x(this, h[0][0]), dy(this) && E(h, function (b) {
            var d = pi(dy(this));
            d[15] = "BID" == c ? b[1] : b[2];
            d[16] = "BID" == c ? b[2] : b[1];
            d.real_time = b[0];
            Yx(this, b[0]);
            k.push(d)
        }, this));
        this.dispatchEvent({type: "complete", data: k});
        return k
    };

    function ey(b, c, d, e) {
        var h = e;
        if (!Cl(c, bl) && (h = Lk(c, e, b.ia, b.Uh), !h)) return !1;
        e = !1;
        if (!h || null != by(b) && by(b)[0] >= h[0]) b = !1; else if (b.K = b.K || {}, b.K[b.a] = h, dy(b)) {
            if (fj(dy(b)[0], h[0])) {
                if (c = !dy(b)[14]) {
                    c = dy(b);
                    var k = fy(h, d), l = gy(b, k);
                    c = null === c[9] ? !0 : c[9] ? c[3] - l <= k : c[4] + l >= k
                }
                if (c) {
                    c = dy(b);
                    l = fy(h, d);
                    k = gy(b, l);
                    c[4] > l && (c[4] = l);
                    c[3] < l && (c[3] = l);
                    c[5] = l;
                    c[15] = l;
                    c[16] = l;
                    c[7] += 1;
                    c[6] = +(c[6] + ("BID" == d ? h[3] : h[4])).toFixed(2);
                    c[1] = h[0];
                    if (null === c[9]) d = c[2], kj(Math.abs(d - l), 10) >= k && (d > l ? (c[9] = !1, c[11] = [l, d]) :
                        (c[9] = !0, c[10] = [d, l]), c[8] = +(c[9] ? c[10][1] - k : c[11][0] + k).toFixed(5)); else {
                        d = c[10];
                        var h = c[11], p = c[9];
                        if (null === (b.g[b.a] || null)) p && d[1] < l ? c[10] = [d[0], l] : !p && h[0] > l && (c[11] = [l, h[1]]); else {
                            var q = null === d ? h[1] : d[1], r = null === h ? d[0] : h[0], t = (b.g[b.a] || null)[10],
                                u = (b.g[b.a] || null)[11], x = null === t ? u[1] : t[1], t = null === u ? t[0] : u[0];
                            p && q < l ? null === d ? x < l ? (c[10] = [x, l], c[11] = [r, x]) : c[11] = [r, l] : c[10] = [d[0], l] : !p && r > l && (null === h ? t > l ? (c[11] = [l, t], c[10] = [t, q]) : c[10] = [l, q] : c[11] = [l, h[1]])
                        }
                        d = c[10];
                        h = c[11];
                        l = null === d ? h[1] :
                            d[1];
                        d = null === h ? d[0] : h[0];
                        c[8] = +(c[9] ? l - k : d + k).toFixed(5)
                    }
                    d = dy(b)[1];
                    Wl(d) == d + 1 && (e = hy(dy(b)), cy(b, null))
                } else dy(b)[14] || (e = dy(b), k = e[10], l = e[11], e[14] = !0, e[13] = h[0], c = null === k ? l[1] : k[1], k = null === l ? k[0] : l[0], c = e[9] ? c - gy(b, fy(h, d)) : k + gy(b, fy(h, d)), e[8] = +c.toFixed(5), e = [dy(b)]), c = dy(b), b.g = b.g || [], b.g[b.a] = c, k = b.g[b.a] || null, p = h[0], c = fy(h, d), q = "BID" == d ? h[3] : h[4], d = gy(b, c), h = k[10], l = k[11], p = [k[1] + 1, p, c, c, c, c, q, 1, d, null, null, null, null, null, null, c, c], q = null === h ? l[1] : h[1], r = null === l ? h[0] : l[0], k[9] ? (p[9] =
                    !1, p[8] = +(c + d).toFixed(5), null === h ? p[11] = [c, q] : (d = [Math.max(c, r), q], p[10] = d, c < r && (p[11] = [c, r]))) : (p[9] = !0, p[8] = +(p[3] - d).toFixed(5), null === l ? p[10] = [r, c] : (d = [r, Math.min(q, c)], p[11] = d, c > q && (p[10] = [q, c]))), cy(b, p)
            } else e = hy(dy(b)), cy(b, iy(b, c, d, h));
            b = e
        } else cy(b, iy(b, c, d, h)), b = !1;
        return b
    }

    function hy(b) {
        b[12] = !0;
        var c = Xl(b[1]) - 1;
        b[1] = c;
        return [b]
    }

    function iy(b, c, d, e) {
        var h = e[0], k = e[0], l = fy(e, d);
        d = "BID" == d ? e[3] : e[4];
        Cl(c, bl) || (h = vj(c, h));
        return [h, k, l, l, l, l, d, 1, gy(b, l), null, null, null, null, null, null, l, l]
    }

    function fy(b, c) {
        return "BID" == c ? b[1] : b[2]
    }

    function gy(b, c) {
        return 0 < b.U ? b.U : +(-1 * c).toFixed(b.Uh)
    }

    Zx.prototype.reset = function () {
        this.a = this.Gr = 0;
        this.m = {};
        this.K = {};
        this.R = {};
        this.g = {}
    };
    Zx.prototype.Lt = function () {
        this.reset()
    };

    function jy(b, c, d, e) {
        Xx.call(this);
        this.Sa = b;
        this.$ = c;
        this.ka = null != d && 2 <= d ? d : 2;
        this.Uh = this.Sa.$c();
        this.a = 0;
        this.ia = null != e ? e : Nk;
        this.R = {};
        this.m = {};
        this.K = {};
        this.U = {};
        this.g = new Gi(this.ka - 1)
    }

    B(jy, Xx);

    function ky(b, c) {
        var d = new Date(Ul(c));
        d.setUTCHours(0, 0, 0, 0);
        b.a = d.getTime()
    }

    function ly(b, c) {
        b.R = b.R || [];
        b.R[b.a] = c
    }

    function my(b, c) {
        b.K = b.K || {};
        b.K[b.a] = c
    }

    function ny(b, c) {
        b.U = b.U || {};
        b.U[b.a] = c
    }

    jy.prototype.Nq = function (b, c, d, e, h) {
        var k = [];
        E(d, function (d) {
            ky(this, d[0]);
            d[0] <= (this.R[this.a] || 0) || (Yx(this, d[0]), ly(this, d[0]), (d = oy(this, b, c, d)) && 0 < d.length && (E(d, function (b) {
                b = pi(b);
                var c = Math.ceil((b[1] - b[0]) / this.$.Y());
                b[7] > c && (b[7] = c);
                b.real_time = b[1];
                k.push(b)
            }, this), ny(this, d[d.length - 1])))
        }, this);
        ia(h) && !ki(h) && (ky(this, h[0][0]), this.U[this.a] && E(h, function (b) {
            var d = pi(this.U[this.a] || null);
            d[13] = "BID" == c ? b[1] : b[2];
            d[14] = "BID" == c ? b[2] : b[1];
            d.real_time = b[0];
            Yx(this, b[0]);
            k.push(d)
        }, this));
        this.dispatchEvent({type: "complete", data: k});
        return k
    };

    function oy(b, c, d, e) {
        var h = e;
        if (!Cl(c, bl) && (h = Lk(c, e, b.ia, b.Uh), !h)) return !1;
        a:{
            e = h;
            var k = !1, l, p, q, r, t, u;
            if (!e || null != (b.m[b.a] || null) && (b.m[b.a] || null)[0] >= e[0]) b = !1; else {
                b.m = b.m || {};
                b.m[b.a] = e;
                l = "BID" == d ? e[1] : e[2];
                h = "BID" == d ? e[3] : e[4];
                p = b.g.aT();
                q = b.K[b.a] || null;
                if (null === p) null === q ? my(b, py(null, c, d, e)) : fj(q[1], e[0]) ? (q[1] = e[0], q[7]++, q[6] += +h.toFixed(2), l !== q[5] && (c = q[2], d = c < l ? l : c, k = c < l ? c : l, r = l > c, q[3] = d, q[4] = k, q[5] = l, q[8] = r, q[9] = +(r ? k : d).toFixed(5), q[10] = +(r ? k : d).toFixed(5), q[11] = e[0], Tk(q, b.Uh),
                    k = [q], Ii(b.g, pi(q)), my(b, null))) : my(b, py(null, c, d, e)); else if (fj(null === q ? p[0] : q[0], e[0])) if (r = p[8] ? p[3] < l : p[4] > l, t = p[8] ? p[10] > l : p[10] < l, r || t) if (c = (r = r ? p[8] : !p[8]) ? p[3] : p[4], d = r ? l : p[4], k = r ? p[3] : l, null === q) {
                    t = r ? p[3] : p[4];
                    u = qy(b, r, e[0]);
                    p = p[1] + 1;
                    q = e[0];
                    if (p > q) {
                        b = !1;
                        break a
                    }
                    k = Tk([p, q, c, d, k, l, h, 1, r, t, u, e[0], !1, null, null], b.Uh);
                    Ii(b.g, pi(k));
                    k = [k]
                } else t = r ? q[4] : q[3], r && t > k ? t = k : !r && t < d && (t = d), u = qy(b, r, q[0]), null === u && (u = r ? k : d), q[1] = e[0], q[2] = c, q[3] = d, q[4] = k, q[5] = l, q[6] += +h.toFixed(2), q[8] = r, q[9] = +t.toFixed(5),
                    q[10] = +u.toFixed(5), q[7]++, q[11] = e[0], Tk(q, b.Uh), k = [q], Ii(b.g, pi(q)), my(b, null); else null === q ? my(b, py(p, c, d, e)) : (q[1] = e[0], q[3] = q[3] < l ? l : q[3], q[4] = q[4] > l ? l : q[4], q[6] += +h.toFixed(2), q[7]++); else b.g.clear(), my(b, py(null, c, d, e));
                b = k
            }
        }
        return b
    }

    function py(b, c, d, e) {
        var h = null === b ? e[0] : b[1] + 1, k = e[0], l = "BID" == d ? e[1] : e[2];
        !Cl(c, bl) && null === b && (h = vj(c, h));
        return [h, k, null === b ? l : Infinity, l, l, null === b ? l : Infinity, "BID" == d ? e[3] : e[4], 1, null, null, null === b ? null : b[10], e[0], !1, null, null]
    }

    function qy(b, c, d) {
        var e = c ? Infinity : -Infinity;
        if (b.g.Ml()) return null;
        E(Ji(b.g), function (b) {
            fj(b[0], d) && (c ? e > b[4] && (e = b[4]) : e < b[3] && (e = b[3]))
        }, b);
        return isFinite(e) ? e : null
    }

    jy.prototype.reset = function () {
        this.a = this.Gr = 0;
        this.R = {};
        this.m = {};
        this.K = {};
        this.g.clear()
    };
    jy.prototype.Lt = function () {
        this.reset()
    };

    function ry(b, c, d, e, h) {
        Xx.call(this);
        this.Sa = b;
        this.va = c;
        this.Ea = d || 1;
        this.Vf = e || 1;
        this.za = null != h ? h : sy;
        this.m = kj(this.xi() * this.Sa.Sb, this.$c());
        this.R = this.m * this.ad();
        this.g = 0;
        this.$ = {};
        this.ia = {};
        this.K = null;
        this.U = {};
        this.ka = {};
        this.Wh = {};
        this.a = {}
    }

    B(ry, Xx);
    var sy = "close";
    f = ry.prototype;
    f.ma = function () {
        return this.Sa
    };
    f.W = function () {
        return this.va
    };
    f.xi = function () {
        return this.Ea
    };
    f.$c = function () {
        return this.Sa.$c()
    };
    f.ad = function () {
        return this.Vf
    };

    function ty(b, c) {
        var d = new Date(Ul(c));
        d.setUTCHours(0, 0, 0, 0);
        b.g = d.getTime()
    }

    function uy(b, c) {
        b.U = b.U || {};
        b.U[b.g] = c
    }

    function vy(b) {
        return (b = b.U[b.g]) ? b : null
    }

    function wy(b) {
        return (b = b.ka[b.g]) ? b : null
    }

    function xy(b) {
        return (b = b.ia[b.g]) ? b : null
    }

    function yy(b, c) {
        var d = kj(c / b.m, b.$c()) | 0;
        return kj(++d * b.m, b.$c())
    }

    function zy(b, c) {
        var d = kj(c / b.m, b.$c()), e = d | 0;
        e < d && e++;
        return kj(e * b.m, b.$c())
    }

    function Ay(b, c, d, e) {
        var h = null != e ? e[1] + 1 : c[0], k = c[0], l = kj(c[1], b.$c());
        c = kj(c[3], b.$c());
        var p = l, q = l, r = l, t = l;
        null == e ? (Cl(d, bl) || (h = vj(d, h)), q = yy(b, q), r = kj(q - b.m, b.$c())) : !0 === e[8] ? (q = kj(e[3] - b.m, b.$c()), r = zy(b, r), r > q - b.R && (r = q - b.R)) : !1 === e[8] && (r = kj(e[4] + b.m, b.$c()), q = yy(b, q), q < r + b.R && (q = r + b.R));
        l > q ? p = t = q : l < r && (p = t = r);
        b = [h, k, p, q, r, t, c, 1, null, !1, k, !1, t, t];
        b = By(b, e);
        b[12] = b[5];
        b[13] = b[5];
        return b
    }

    function By(b, c) {
        b[8] = null == c ? b[2] <= b[5] : !c[8];
        return b
    }

    f.Nq = function (b, c, d, e, h) {
        this.Wh = {};
        E(d, function (c) {
            ty(this, c[0]);
            if (!(c[0] <= (this.$[this.g] || 0))) {
                Yx(this, c[0]);
                var d = c[0];
                this.$ = this.$ || {};
                this.$[this.g] = d;
                var e = c, d = vy(this);
                if (Cl(b, bl)) Cy(this, b, e); else {
                    var h = null == d || !fj(d[0], c[0]) || d[8];
                    var r = this.za, t = this.$c(), e = vj(b, c[0]) + b.Y() - 1,
                        u = new Hk(c[0], c[1], c[2], c[3], c[4], c[5], c[4]);
                    b:if (u) switch (r) {
                        case "high_low":
                            h = [kj(h ? u.bb() : u.$a(), t), kj(h ? u.$a() : u.bb(), t)];
                            break b;
                        default:
                            h = [kj(u.jb(), t)]
                    } else h = [-Infinity];
                    r = [];
                    if (Ik(u)) e = !1; else {
                        u = 0;
                        for (t =
                                 h.length; u < t; u++) r.push([e, h[u], h[u], c[5], c[5]]);
                        e = r
                    }
                    if (e) for (c = 0, u = e.length; c < u; c++) {
                        if (h = 0 == c && 1 < e.length) if (h = null != d && fj(d[0], e[c][0])) {
                            a:{
                                h = d;
                                r = kj(e[c][1], this.$c());
                                if (!0 === h[8]) {
                                    if (r = yy(this, r), h[3] < r) {
                                        h = !0;
                                        break a
                                    }
                                } else if (!1 === h[8] && (r = zy(this, r), h[4] > r)) {
                                    h = !0;
                                    break a
                                }
                                h = !1
                            }
                            h = !h
                        }
                        h || Cy(this, b, e[c])
                    }
                }
            }
        }, this);
        this.a = Ta(this.Wh);
        E(this.a, function (b) {
            b.real_time = b[1]
        }, this);
        0 < this.a.length && (!this.K || this.K[0] <= this.a[this.a.length - 1][0]) && (this.K = this.a[this.a.length - 1]);
        ia(h) && !ki(h) && (ty(this,
            h[0][0]), this.K && E(h, function (b) {
            var d = pi(this.K);
            d[12] = "BID" == c ? b[1] : b[2];
            d[13] = "BID" == c ? b[2] : b[1];
            d.real_time = b[0];
            Yx(this, b[0]);
            this.a.push(d)
        }, this));
        this.dispatchEvent({type: "complete", data: this.a});
        return this.a
    };

    function Cy(b, c, d) {
        var e = vy(b), h = wy(b);
        if (d && !(null != xy(b) && xy(b)[0] >= d[0])) if (b.ia = b.ia || {}, b.ia[b.g] = d, null == e) uy(b, Ay(b, d, c, h)), e = vy(b), b.Wh[e[0]] = e; else {
            var k;
            a:{
                var l = e;
                k = kj(d[1], b.$c());
                if (fj(l[0], d[0])) {
                    if (!0 === l[8]) {
                        if (l = kj(l[3] - b.m - b.R, b.$c()), k <= l) {
                            k = !1;
                            break a
                        }
                    } else if (!1 === l[8] && (l = kj(l[4] + b.R, b.$c()), k >= l)) {
                        k = !1;
                        break a
                    }
                    k = !0
                } else k = !1
            }
            k ? (c = e, e = h, h = d[0], k = kj(d[1], b.$c()), l = kj(d[3], b.$c()), l = kj(c[6] + l, b.$c()), c[6] = l, !0 === c[8] ? (l = yy(b, k), c[3] < l && (c[3] = l)) : !1 === c[8] && (l = zy(b, k), c[4] > l && (c[4] =
                l)), c[7] += 1, c[10] = h, k > c[3] ? k = c[3] : k < c[4] && (k = c[4]), c[1] = h, c[5] = k, la(c[8]) || (c = By(c, e)), c[12] = c[5], c[13] = c[5], uy(b, c), e = vy(b), e[1] + 1 === Wl(d[0]) && (e[9] = !0, b = (new Date(Xl(e[1]))).getTime() - 1, e[1] = b)) : (e[10] = d[0], e[11] = !0, e[12] = e[5], e[13] = e[5], b.ka = b.ka || {}, b.ka[b.g] = e, h = wy(b), b.Wh[h[0]] || (b.Wh[h[0]] = h), uy(b, Ay(b, d, c, h)), e = vy(b), b.Wh[e[0]] = e)
        }
    }

    f.reset = function () {
        this.g = this.Gr = 0;
        this.ia = {};
        this.K = null;
        this.$ = {};
        this.U = {};
        this.ka = {};
        this.Wh = {};
        this.a = []
    };
    f.Lt = function () {
        this.reset()
    };

    function Dy(b, c, d, e) {
        Xx.call(this);
        this.Sa = b;
        this.Ea = c;
        this.za = null != d ? d : 1;
        this.Uh = this.Sa.$c();
        this.a = 0;
        this.$ = {};
        this.U = {};
        this.ka = {};
        this.R = {};
        this.va = kj(this.za * this.Sa.Sb, this.Uh);
        this.La = null != e ? e : Nk;
        this.K = {};
        this.ia = {};
        this.m = {};
        this.g = {}
    }

    B(Dy, Xx);

    function Ey(b, c) {
        b.$ = b.$ || [];
        b.$[b.a] = c
    }

    function Fy(b) {
        return b.$[b.a] || Infinity
    }

    function Gy(b, c) {
        b.U = b.U || [];
        b.U[b.a] = c
    }

    function Hy(b) {
        return b.U[b.a] || -Infinity
    }

    function Iy(b, c) {
        b.ka = b.ka || [];
        b.ka[b.a] = c
    }

    function Jy(b) {
        return b.ka[b.a] || -Infinity
    }

    function Ky(b, c) {
        b.R = b.R || [];
        b.R[b.a] = c
    }

    function Ly(b, c) {
        b.K = b.K || [];
        b.K[b.a] = c
    }

    function My(b, c) {
        b.ia = b.ia || [];
        b.ia[b.a] = c
    }

    function Ny(b) {
        b.m = b.m || [];
        b.m[b.a] = 0
    }

    function Oy(b, c) {
        b.m = b.m || [];
        b.m[b.a] || (b.m[b.a] = 0);
        b.m[b.a] += c
    }

    function Py(b) {
        b.g = b.g || [];
        b.g[b.a] = 0
    }

    function Qy(b) {
        b.g = b.g || [];
        b.g[b.a] || (b.g[b.a] = 0);
        b.g[b.a] += 1
    }

    function Ry(b, c) {
        var d = new Date(Ul(c));
        d.setUTCHours(0, 0, 0, 0);
        b.a = d.getTime()
    }

    Dy.prototype.Nq = function (b, c, d, e, h) {
        var k = [];
        E(d, function (d) {
            Ry(this, d[0]);
            d[0] <= (this.ia[this.a] || 0) || (Yx(this, d[0]), My(this, d[0]), d = Sy(this, b, c, d), 0 < d.length && (E(d, function (b) {
                b = pi(b);
                var c = Math.ceil((b[1] - b[0]) / this.Ea.Y());
                b[7] > c && (b[7] = c);
                b.real_time = b[1];
                k.push(b)
            }, this), Ky(this, d[d.length - 1][1] + 1), Ny(this), Py(this), Ly(this, d[d.length - 1])))
        }, this);
        ia(h) && !ki(h) && (Ry(this, h[0][0]), this.K[this.a] && E(h, function (b) {
            var d = pi(this.K[this.a] || null);
            d[11] = "BID" == c ? b[1] : b[2];
            d[12] = "BID" == c ? b[2] : b[1];
            d.real_time = b[0];
            Yx(this, b[0]);
            k.push(d)
        }, this));
        this.dispatchEvent({type: "complete", data: k});
        return k
    };

    function Sy(b, c, d, e) {
        var h = e;
        if (!Cl(c, bl)) {
            h = Lk(c, e, b.La, b.Uh);
            if (!h) return !1;
            Fy(b) > e[3] && Ey(b, e[3]);
            Hy(b) < e[2] && Gy(b, e[2])
        }
        var k = h;
        e = "BID" == d ? k[1] : k[2];
        h = k[0];
        Fy(b) > e && Ey(b, e);
        Hy(b) < e && Gy(b, e);
        Cl(c, bl) || (h = vj(c, h));
        if (isFinite(Jy(b))) if (isFinite(Jy(b)) && !fj(b.R[b.a] || Infinity, k[0])) b.Gr = 0, Ly(b, null), Iy(b, -Infinity), Ky(b, Infinity), Ny(b), Py(b), Ey(b, Infinity), Gy(b, -Infinity), Iy(b, Ty(b, k, d)), Ky(b, h), Oy(b, Uy(k, c, d)), Ey(b, e), Gy(b, e), Qy(b), b = !1; else {
            Oy(b, Uy(k, c, d));
            Qy(b);
            c = b.Uh;
            d = kj(Jy(b) - e, c);
            var h = b.va,
                l = b.K[b.a] || null;
            if (null != l && l[8] != 0 > d ? Math.abs(d) >= kj(2 * h, c) : Math.abs(d) >= h) {
                var l = Jy(b), p = b.Uh, q = b.va, h = kj(l - e, p), r = b.K[b.a] || null;
                e = 0 > h;
                d = c = -Infinity;
                null != r && r[8] != e ? (h = (Math.abs(h) - q) / q | 0, c = l + (r[8] ? -q : q)) : (h = Math.abs(h) / q | 0, c = l);
                d = c + h * (e ? q : -q);
                c = kj(c, p);
                d = kj(d, p);
                if (kj(Math.abs(c - d), p) < q || 0 >= h) throw Error("Cannot create renko bars, if price difference < range or if the number of new bars is <= 0! Price difference is [" + Math.abs(c - d) + "] and range [" + q + "], number of new bars [" + h + "]");
                var l = b.R[b.a] ||
                    Infinity, k = k[0], p = c, q = h, r = b.m[b.a] || 0, t = b.g[b.a] || 0, u = b.Uh, x = b.va, A = [],
                    C = p < d, I = l, N = l, S = 0, T = 0, U = 0, Y = 0, N = q - 1, fa = 2 * N, na = k;
                0 < N && (na = fa + 2 >= k - l ? l + 1 : k - fa);
                for (fa = 0; fa < q; fa++) {
                    N = 0 == fa ? na : I + 1;
                    if (N > k && (N = k, N <= I)) break;
                    fa == q - 1 && (N = k);
                    C ? (S = kj(p + fa * x, u), T = kj(S + x, u), U = kj(S, u), Y = kj(T, u)) : (S = kj(p - fa * x, u), T = kj(S - x, u), U = kj(T, u), Y = kj(S, u));
                    S = [I, N, S, Y, U, T, 0 == fa ? +r.toFixed(2) : 0, 0 == fa ? t : 0, C, 0, 0, T, T];
                    I = N + 1;
                    A.push(S)
                }
                if (l > k) b = []; else {
                    if (l != k) {
                        if (0 >= A.length) throw Error("Couldn't create renkos! [" + c + "," + d + "," + h + "," + l + "," +
                            k + "," + (b.m[b.a] || 0) + "," + (b.g[b.a] || 0) + "]");
                        e ? (Fy(b) < c && (A[0][9] = Fy(b)), Hy(b) > d && (A[A.length - 1][10] = Hy(b))) : (Hy(b) > c && (A[0][9] = Hy(b)), Fy(b) < d && (A[A.length - 1][10] = Fy(b)));
                        Ey(b, Infinity);
                        Gy(b, -Infinity);
                        Iy(b, d)
                    }
                    b = A
                }
            } else b = !1
        } else Iy(b, Ty(b, k, d)), Ky(b, h), Oy(b, Uy(k, c, d)), Qy(b), b = !1;
        return b
    }

    function Ty(b, c, d) {
        var e = b.Sa.Sb;
        c = "BID" == d ? c[1] : c[2];
        d = b.Uh;
        b = b.za;
        if (5 > b) return +c.toFixed(d);
        e = 10 > b ? 5 * e : 50 > b ? 10 * e : 100 > b ? 50 * e : 100 * e;
        b = kj(c % e, d);
        d = kj(e / 2, d);
        return b < d ? c - b : c + (e - b)
    }

    function Uy(b, c, d) {
        switch (d) {
            case "ASK":
                return Cl(c, bl) ? b[4] / 1E6 : b[4];
            case "BID":
                return Cl(c, bl) ? b[3] / 1E6 : b[3];
            default:
                return -Infinity
        }
    }

    Dy.prototype.reset = function () {
        this.Gr = 0;
        this.$ = {};
        this.U = {};
        this.ka = {};
        this.R = {};
        this.K = {};
        this.ia = {};
        this.m = {};
        this.g = {}
    };
    Dy.prototype.Lt = function () {
        this.reset()
    };

    function Vy() {
        Q.call(this)
    }

    B(Vy, Vx);
    Vy.prototype.Nq = function (b, c, d) {
        this.dispatchEvent({type: "complete", data: d});
        return d = Sa(d, function (b) {
            b.real_time = b[0];
            return b
        })
    };

    function Wy(b, c) {
        Q.call(this);
        this.qb = b;
        this.w = {};
        this.ul = null != c ? c : null
    }

    B(Wy, Vx);
    f = Wy.prototype;
    f.Ma = function () {
        delete this.w;
        this.w = null;
        delete this.Fc;
        this.Fc = null
    };
    f.RY = !1;
    f.Nq = function (b, c, d, e) {
        var h = [];
        this.a = b.Vd(el) ? 1 : b.Y();
        this.Fc = Cl(b, bl) ? "ASK" == c ? new Ac : new Bc : new Cc;
        !0 === e ? E(d, function (b) {
            h.push(Lc(this.lI([], [b], this.dK(b))))
        }, this) : La(zi(d, v(this.dK, this)), tf(v(h.push, h), v(this.lI, this, h)), this);
        this.dispatchEvent({type: "complete", data: h});
        return h
    };

    function Xy(b, c, d, e, h) {
        var k = [];
        b.Fc = Cl(c, bl) ? "ASK" == d ? new Ac : new Bc : new Cc;
        switch (!0) {
            case ug(b.qb.xc()) == ug(bl.xc()) && 1 < b.qb.lg:
                c = function () {
                    var b = 0;
                    return v(function (c, d) {
                        var e = this.Fc.getTime(c);
                        0 === d % this.qb.lg && (b = e);
                        return b
                    }, this)
                }.call(b);
                break;
            case b.qb.Y() >= ml.Y():
                c = v(b.X7, b, h);
                break;
            default:
                c = v(b.dK, b)
        }
        La(zi(e, c), tf(v(k.push, k), v(b.lI, b, k)), b);
        b.dispatchEvent({type: "complete", data: k});
        return k
    }

    f.dK = function (b) {
        return vj(this.qb, this.Fc.getTime(b), this.ul)
    };
    f.X7 = function (b, c) {
        var d = 0;
        b && (d = 12E4 * (new Date(1 * this.Fc.getTime(c))).getTimezoneOffset());
        var e;
        e = this.qb;
        var h = this.Fc.getTime(c) - d, k = new Date(h), l = e.xc();
        l == Ag || l.df(Ag) ? (k.setUTCHours(0, 0, 0, 0), k = new Date(k.getTime() - 864E5 * (k.getUTCDay() - 1)), e = k.getTime()) : e = vj(e, h);
        return e + d
    };
    f.Uq = null;
    f.lI = function (b, c, d) {
        var e = Yy(this, d, c);
        this.Uq && e[0] > this.Uq[0] && (this.Uq.zg || (this.Uq.zg = !0, this.RY && b.push(this.Uq)), this.dispatchEvent({
            type: "finish",
            data: this.Uq
        }));
        this.Uq = e;
        b = ud(c, function (b, c) {
            !b.zg && c[0] >= b.last_time && (b.dH && !Zy(c) && (b[1] = this.Fc.zb(c), b[2] = this.Fc.bb(c), b[3] = this.Fc.$a(c), b.dH = !1), b[5] += this.Fc.Hd(c), b.last_time = c[0] + (this.a || 0), b[2] = xb(b[2], this.Fc.bb(c)), b[3] = yb(b[3], this.Fc.$a(c)), b[4] = this.Fc.jb(c), b[6] = this.Fc.Gm(c), b.real_time = c[0]);
            return b
        }, Yy(this, d, c), this);
        b.dH ||
        delete b.dH;
        this.dispatchEvent({type: "update", data: b});
        return b
    };

    function Yy(b, c, d) {
        b.w[c] || (b.w[c] = [+c, b.Fc.zb(d[0]), b.Fc.bb(d[0]), b.Fc.$a(d[0]), b.Fc.jb(d[0]), 0, b.Fc.Gm(d[0])], b.w[c].last_time = d[0][0], b.w[c].real_time = d[0][0], b.w[c].dH = Zy(d[0]), b.dispatchEvent({
            type: "create",
            data: b.w[c]
        }));
        return b.w[c]
    }

    function Zy(b) {
        var c = b[4] == b[2], d = b[2] == b[3], e = 0 == b[5];
        return b[1] == b[4] && c && d && e
    };

    function $y(b, c) {
        Q.call(this);
        this.a = b;
        this.o = c;
        this.dg = new wu(this.Jj, this.On(), this);
        this.Za = !1
    }

    B($y, Q);
    f = $y.prototype;
    f.start = function () {
        this.dg.start(this.On());
        this.data = null;
        this.Jj()
    };
    f.stop = function () {
        this.dg.stop()
    };
    f.hJ = null;
    f.jp = !1;
    f.cancel = function () {
        this.jp = !0;
        this.hJ && this.hJ.cancel();
        this.jp = !1
    };
    f.Ba = function (b) {
        this.Za = b;
        this.dg.Id() && this.dg.stop();
        this.Za && !this.dg.Id() && this.dg.start(this.On());
        this.Za || this.dg.stop()
    };
    f.Jj = function (b, c) {
        var d = this.o.W(), e = this.o.ma(), h = this.o.Db(), k = null != b ? b : null, l = null != c ? c : null;
        switch (!0) {
            case !k && !l:
                k = vj(d, this.o.vE - d.Y());
                l = qj(this.o.eb());
                break;
            case !k && l:
                k = vj(d, this.o.vE - d.Y());
                break;
            case k && !l:
                l = qj(this.o.eb())
        }
        var p = this.a.Qn();
        this.a.Wt(!1);
        this.hJ = az(bz(az(this.a.st(e, h, d, k, null != l ? l : null, !0, !1, !0), this.E4, this), function () {
            this.jp || this.Za && this.dg.start(this.RJ(this.jv++))
        }, this), function () {
            this.jv = 0;
            this.jp || this.Za && this.dg.start(this.On())
        }, this);
        this.a.Wt(p)
    };
    f.On = function () {
        return this.o.j.PQ
    };
    f.RJ = function (b) {
        return Math.pow(100, Math.pow(cz(this, b), 1.25))
    };
    f.jv = 0;

    function cz(b, c) {
        return 0 <= c ? cz(b, c - 1) + Math.pow(2, -c) : 0
    }

    f.E4 = function (b) {
        this.data = b;
        this.dispatchEvent(new dz("load", b))
    };

    function dz(b, c, d) {
        cf.call(this, b, d);
        this.data = c
    }

    B(dz, cf);

    function ez() {
        Q.call(this);
        this.KQ = (new Date).getTime();
        this.ru = [];
        this.iH = null
    }

    B(ez, Q);
    f = ez.prototype;
    f.N = function () {
        this.j || (this.j = {mu: !0, xu: !1});
        return this.j
    };
    f.xG = function (b) {
        this.N().mu = b
    };
    f.HG = function (b) {
        this.N().xu = b
    };
    f.HA = function (b) {
        this.N().UF = !!b
    };
    f.uG = function (b) {
        this.N().SF = b
    };
    f.request = function (b, c, d, e, h, k, l) {
        this.dispatchEvent(new fz("load", [], {Td: b, Eg: c, Mb: d, ne: e, ye: h, wz: !!k, pq: l}));
        return gz([])
    };
    f.Dfa = function (b, c, d, e, h) {
        c > d ? this.lO([[b, d, c, h, e]]) : this.lO([[b, c, d, e, h]])
    };
    f.Ofa = function (b, c, d, e, h) {
        var k = (new Date).getTime();
        b = c > d ? [b, d, c, h, e] : [b, c, d, e, h];
        null != this.iH && (clearTimeout(this.iH), this.iH = null);
        200 > k - this.KQ ? (this.ru.push(b), this.iH = setTimeout(function (b) {
            b.ru.length && (b.uH(b.ru), b.ru = [])
        }, 200, this)) : (ki(this.ru) ? this.uH([b]) : this.uH(this.ru), this.ru = [], this.KQ = k)
    };
    f.lO = function (b) {
        this.data(bl, b)
    };
    f.uH = function (b) {
        this.data(bl, b, !0)
    };
    f.data = function (b, c, d) {
        this.dispatchEvent(new fz("userdata", c, {Td: void 0, Eg: void 0, Mb: b, ne: void 0, ye: void 0, unique: d}))
    };

    function fz(b, c, d, e) {
        cf.call(this, b, e);
        this.data = c;
        this.Tl = d
    }

    B(fz, cf);

    function hz(b, c, d) {
        Q.call(this);
        this.o = b;
        null != c && oa(c) && (this.jL = c);
        null != d && oa(d) && (this.eJ = d);
        this.S().C(this.o, iz, this.Mt)
    }

    B(hz, Q);
    f = hz.prototype;
    f.jL = vc;
    f.eJ = vc;
    f.ag = [];
    f.iF = !1;
    f.Zu = !1;
    f.S = function () {
        this.ra || (this.ra = new fu(this));
        return this.ra
    };
    f.Mt = function () {
        this.ag = [];
        this.Zu = this.iF = !1
    };
    f.handle = function (b) {
        var c = this.o, d = Cl(bl, b.Tl.Mb), e = [];
        if (c.gd || 0 == c.Ar && c.Ld instanceof jz) {
            if (d) {
                if (kz(c) && !this.Zu) {
                    this.iF = !0;
                    return
                }
                if (this.iF && !this.Zu) {
                    this.Zu = !0;
                    this.iF = !1;
                    e = b.data;
                    sx(lz(this), function () {
                        E(e, function (b) {
                            this.ag.push(b)
                        }, this);
                        mz(this, this.ag, bl, !1);
                        this.ag = []
                    }, this);
                    return
                }
                if (this.Zu) {
                    E(b.data, function (b) {
                        this.ag.push(b)
                    }, this);
                    return
                }
            }
            mz(this, b.data, b.Tl.Mb, b.Tl.unique)
        }
    };

    function mz(b, c, d, e) {
        var h = b.o;
        c = h.ib.eA(h.ma(), h.Db(), h.W(), !1, [[!0, {data: c, Tl: {Td: h.ma(), Eg: h.Db(), Mb: d}}]]);
        0 == h.Ar && h.Ld instanceof jz ? b.jL && b.jL(c, e) : h.gd && b.eJ && b.eJ(c, e)
    }

    function lz(b) {
        var c = b.o, d = qj(c.eb());
        if (c.gd && !kz(c)) return az(nz(c.ib, c.ma(), c.Db(), bl, d, null, !1, !0), function (b) {
            c.Ld.dispatchEvent(new fz("userdata", b, {
                Td: void 0,
                Eg: void 0,
                Mb: bl,
                ne: void 0,
                ye: void 0,
                unique: !0
            }));
            this.Zu = !1
        }, b)
    };

    function oz(b, c) {
        Q.call(this);
        this.g = b;
        this.o = c;
        this.w = !1;
        this.dg = new wu(this.Jj, this.On(), this)
    }

    B(oz, Q);
    f = oz.prototype;
    f.start = function () {
        this.dg.start(this.On());
        this.data = null;
        this.Jj()
    };
    f.stop = function () {
        this.dg.stop()
    };
    f.gJ = null;
    f.jp = !1;
    f.cancel = function () {
        this.jp = !0;
        this.gJ && this.gJ.cancel();
        this.jp = !1;
        this.a = null
    };
    f.Ba = function (b) {
        b && !this.dg.Id() && this.dg.start(this.On());
        b || this.dg.stop()
    };
    f.reload = function (b) {
        var c, d;
        this.dg && this.g && (d = this.g.rV || -Infinity, c = +new Date, !0 === b || 65E3 < c - d) && (this.g.rV = c, this.dg.stop(), kz(this.o) ? this.o.reload() : this.dg.start(1E3))
    };
    f.Jj = function () {
        var b, c = this.o.W(), d = this.o.ma(), e = this.o.Db(), h = c.Vd(el) ? 1 : 0, k = this.o.Qn(), l = this.o.N();
        l && 1 == l.activitySync && (b = this.g.sV, this.m = this.m || -Infinity, b && b[0] && (this.m = this.m || -Infinity, this.m < b[0] && (window.dc.activity.sync({
            instrument: d + "",
            id: l.activitySyncId,
            key: b[1] + ":" + b[3] + ":" + b[2] + ":" + b[4]
        }), this.m = b[0])));
        b = ud(k ? Gl : Fl, function (b, h) {
            return Math.max(this.g.$v[d + ";" + e + ";" + c + ";" + h] || -Infinity, b)
        }, -Infinity, this);
        isFinite(b) || (b = pz(this.g, d, e, c));
        this.a = b += this.w ? 1 : h;
        !kz(this.o) &&
        isFinite(this.a) && this.o.Cg ? (this.F = !1, this.gJ = az(bz(az(nz(this.g, d, e, c, b, void 0, null, this.w), this.UQ, this), function () {
            this.jp || this.dg.start(this.RJ(this.jv++))
        }, this), function () {
            this.jv = 0;
            this.jp || this.dg.start(this.On())
        }, this)) : (this.UQ([]), this.jv = 0, this.dg.start(this.On()), this.F = !0)
    };
    f.On = function () {
        return qz(this.o)
    };
    f.RJ = function (b) {
        return Math.pow(100, Math.pow(rz(this, b), 1.25))
    };
    f.jv = 0;

    function rz(b, c) {
        return 0 <= c ? rz(b, c - 1) + Math.pow(2, -c) : 0
    }

    f.UQ = function (b) {
        this.data = b;
        this.dispatchEvent(new sz("load", b))
    };

    function sz(b, c, d) {
        cf.call(this, b, d);
        this.data = c
    }

    B(sz, cf);

    function tz(b, c, d, e, h, k) {
        this.Sa = b instanceof Fi ? b.aa() : b;
        this.m = c;
        this.w = d;
        this.a = e;
        this.g = h;
        this.F = null != k ? k : Number.MIN_VALUE
    }

    f = tz.prototype;
    f.ma = function () {
        return this.Sa
    };
    f.Ie = function (b) {
        this.Sa = b
    };
    f.et = function () {
        return this.F
    };
    f.ed = function () {
        return this.m
    };
    f.hN = function (b) {
        this.m = b
    };
    f.fd = function () {
        return this.w
    };
    f.iN = function (b) {
        this.w = b
    };
    f.df = function (b) {
        return this === b || b instanceof tz && b.m == this.m && b.w == this.w && b.F == this.F
    };

    function uz(b, c) {
        return b.a > c.a ? 1 : b.a < c.a ? -1 : b.g < c.g ? 1 : b.g > c.g ? -1 : b.et() > c.et() ? 1 : -1
    }

    function vz(b, c) {
        return b.et() - c.et()
    }

    f.toString = function () {
        return this.m + "/" + this.w + " " + this.a + " " + this.g + " " + this.F
    };
    f.lb = function () {
        var b = this.ma();
        return [null, null === b ? "null" : b, null, this.a, this.g, this.et(), this.ed(), this.fd()]
    };

    function wz(b) {
        return new tz("null" === b[1] ? null : b[1], parseFloat(b[6]), parseFloat(b[7]), parseInt(b[3], 10), null === b[4] ? null : parseInt(b[4], 10), parseInt(b[5], 10))
    }

    f.cb = function (b) {
        this.Ie("null" === b[1] ? null : b[1]);
        this.a = parseInt(b[3], 10);
        this.g = parseInt(b[4], 10);
        this.F = parseInt(b[5], 10);
        this.hN(parseFloat(b[6]));
        this.iN(parseFloat(b[7]))
    };

    function xz() {
        this.clear()
    }

    xz.prototype.clear = function () {
        this.g = [];
        this.a = {}
    };

    function yz(b, c) {
        return 0 < zz(b, c).length || 0 < b.g.length
    }

    function Az(b, c, d) {
        if (!yz(b, c)) return null;
        c = Bz(zz(b, c), d);
        b = Bz(b.g, d);
        return null != c && null != b ? c.a < b.a ? b : c : null != c ? c : null != b ? b : null
    }

    function zz(b, c) {
        b.a[c] = b.a[c] || [];
        return b.a[c]
    }

    function Bz(b, c) {
        var d = [];
        if (null != b && 0 < b.length) for (var e = b.length - 1; 0 <= e; e--) {
            var h = b[e];
            if (h.a <= c && (null === h.g || c < h.g)) {
                var k = d, l = ui(k, h, vz);
                0 > l && ri(k, -(l + 1), 0, h)
            }
        }
        return $h(d)
    };

    function Cz() {
        this.a = new xz
    }

    f = Cz.prototype;
    f.jQ = function (b, c) {
        for (var d = ia(b) ? b : Array.prototype.slice.call(arguments), e = this.a, h = d, k = !1, d = [], l = 0, p = h.length; l < p; l++) {
            var q = h[l], r = q.ma();
            null == r ? (e.g.push(q), k = !0) : (e.a[r] = e.a[r] || [], e.a[r].push(q), li(d, r))
        }
        k && Ec(e.g, uz);
        h = 0;
        for (k = d.length; h < k; h++) Ec(e.a[d[h]], uz)
    };
    f.iJ = function (b) {
        return yz(this.a, b)
    };
    f.clear = function () {
        this.a.clear()
    };
    f.oQ = function (b, c, d) {
        if (!this.iJ(b)) return d;
        c = Az(this.a, b, d.getTime());
        if (!c) return d;
        if (0 != c.ed()) {
            var e = c.ed() * b.Sb;
            0 != e && Dz(b, "ASK", d, e)
        }
        0 != c.fd() && (c = c.fd() * b.Sb, 0 != c && Dz(b, "BID", d, c));
        return d
    };
    f.TS = function (b, c, d) {
        d = Az(this.a, b, d);
        return null === d ? 0 : ("ASK" === c ? d.ed() : d.fd()) * b.Sb
    };
    f.mI = function (b, c, d, e) {
        if (!this.iJ(b)) return e;
        if (Cl(c, bl)) {
            c = 0;
            for (var h = e.length; c < h; c++) this.oQ(b, d, e[c])
        } else for (c = 0, h = e.length; c < h; c++) {
            var k = e[c], l = this.TS(b, d, k.getTime());
            if (0 != l) {
                var p = b, q = d;
                k.ge(hm(p, q, k.zb(), l));
                k.sA(hm(p, q, k.jb(), l));
                k.Tt(hm(p, q, k.bb(), l));
                k.Vt(hm(p, q, k.$a(), l))
            }
        }
        return e
    };

    function Dz(b, c, d, e) {
        "ASK" === c ? d.hN(hm(b, "ASK", d.ed(), e)) : d.iN(hm(b, "BID", d.fd(), e))
    };

    function Ez(b, c, d, e, h, k) {
        Q.call(this);
        this.Sa = c;
        this.qb = d;
        this.of = e || "BID";
        this.yk = h;
        this.Os = k;
        this.zh(b);
        this.Md = {};
        this.Nf = {};
        this.rD = [];
        this.Kn = [];
        this.cG = [];
        this.ta = [];
        this.Ur = {};
        this.Of = []
    }

    B(Ez, Q);
    f = Ez.prototype;
    f.N = function () {
        this.j || (this.j = {oy: !1, hba: 5E3});
        return this.j
    };
    f.az = function () {
        return this.Vs
    };
    f.vA = function (b) {
        this.Vs = b
    };
    f.nN = function (b) {
        this.N().oy = b
    };
    f.kA = function (b) {
        this.Pb = 0;
        this.He = Infinity;
        this.rD.length = 0;
        this.vz = this.Kn.length = 0;
        this.cG.length = 0;
        this.Ur = {};
        this.ta.length = 0;
        this.Gn = null;
        (void 0 === b ? 0 : b) && dh(this.Of);
        this.$b.reset();
        this.$b.setData(this.ta);
        this.$b.ip()
    };

    function Fz(b, c) {
        return c.lc().getName() + ";" + c.oe.getName() + ";" + b.W().getName() + ";" + b.ma().aa() + ";" + b.Db()
    }

    function Gz(b) {
        b.Gn = null;
        var c = $h(b.ta);
        c && (b.Gn = c.getTime() + b.W().Y())
    }

    function Hz(b) {
        b.Md && dh(b.Md);
        b.Nf && dh(b.Nf)
    }

    f.appendData = function (b, c) {
        if (!ki(b)) {
            var d = $h(b).real_time, e = this.Sa instanceof Fi ? this.Sa.gt() : null;
            if (!this.Gn || d >= this.Gn) this.Gn = d;
            d = Sa(b, gm(this.wc));
            this.az().mI(this.ma(), this.W(), this.Db(), d);
            E(d, function (b) {
                this.Ur[b.getTime()] = b
            }, this);
            this.ta.length && d.length && (this.mV = this.ta.length - 1, this.Yv = this.ta[this.mV], this.LJ = this.ta[0], this.Qy = d[0], this.nV = d.length - 1, this.ZE = d[this.nV]);
            1 === this.wc && c ? this.ta = oi(this.ta, d) : (this.ta = Ta(this.Ur), Ec(this.ta, Ck));
            if (this.N().oy && this.Pb && this.He) {
                var d =
                    this.W().Y() * this.N().hba, h = this.Pb - d, k = this.He + d;
                $l(h, e) || (h = Zl(h) - 100 * this.W().Y());
                $l(k, e) || (k = Xl(k) + 100 * this.W().Y());
                this.ta = Ra(this.ta, function (b) {
                    return b.getTime() < h || b.getTime() > k ? (delete this.Ur[b.getTime()], !1) : !0
                }, this);
                e = $h(this.ta).getTime() + this.W().Y();
                e < this.Gn && (this.Gn = e)
            }
            Iz(this);
            Jz(this);
            this.rD.length = 0;
            this.cG.length = 0;
            Kz(this);
            this.$b.setData(this.ta);
            this.dispatchEvent("load");
            Lz(this)
        }
    };

    function Mz(b, c, d) {
        if (!ki(d)) {
            d = 0 !== c.oe ? Sa(d, gm(2)) : Sa(d, gm(b.wc));
            var e = Fz(b, c);
            b.az().mI(b.ma(), c.oe, b.Db(), d);
            b.Of[e] = b.Of[e] || [];
            b.Of[e] = Ta(Vg(zi(oi(b.Of[e], d), function (b) {
                return b.getTime()
            }), function (b) {
                return b[b.length - 1]
            }));
            Ec(b.Of[e], Ck);
            Nz(b, e, c);
            c instanceof ko && (6 === b.wc || 4 === b.wc || 7 === b.wc || 8 === b.wc) || Oz(b, e, c);
            Lz(b)
        }
    }

    f.ue = function () {
        return this.ta.length
    };
    f.zh = function (b) {
        this.wc = b;
        1 === this.wc ? (this.ND = Pz, this.Re = Qz, this.ff = Rz, this.vD = Sz, this.Hv = Tz, this.kT = Uz, this.Lp = Vz) : (this.ND = Wz, this.Re = Xz, this.ff = Yz, this.vD = Zz, this.kT = this.Hv = $z, this.Lp = aA);
        this.$b = bA(this)
    };

    function bA(b) {
        switch (b.wc) {
            case 1:
                return new qc(b);
            case 6:
                return new Bj(b);
            case 8:
                return new zj(b);
            case 2:
            case ya.f3:
            case 4:
            case 7:
                return new yj(b);
            default:
                return new Aj(b)
        }
    }

    f.ma = function () {
        return this.Sa
    };
    f.Ie = function (b) {
        this.Sa = b
    };
    f.Db = function () {
        return this.of
    };
    f.Gi = function (b) {
        this.of = b
    };
    f.W = function () {
        return this.qb
    };
    f.wj = function (b) {
        this.qb = b
    };
    f.Zh = function (b) {
        this.yk = b;
        this.vz = this.Kn.length = 0
    };

    function cA(b, c) {
        b.Os = c;
        b.Kn.length = 0;
        b.vz = 0
    }

    f.xv = function () {
        return this.rD.concat(this.Kn)
    };

    function Jz(b) {
        if (1 !== b.wc && !jm(b.wc)) if (1 == b.yk) b.eD(); else {
            var c = 3 === b.yk ? dA : eA;
            b.qb == rl && 1 !== b.Os && (c = va(fA, c));
            b.ta = zi(b.ta, c, b)[1] || []
        }
    }

    function Oz(b, c, d) {
        d = 0 === d.oe ? b.qb : d.oe;
        if (!(1 == b.yk && d.Y() < zg.Y())) {
            var e = 3 === b.yk ? dA : eA;
            d.Y() >= zg.Y() && (e = dA);
            d == rl && 1 !== b.Os && (e = va(fA, e));
            d = zi(b.Of[c], e);
            b.Of[c] = d[1] || []
        }
    }

    f.eD = function () {
        if (!this.Yv || !this.Qy || this.Yv.getTime() >= this.Qy.getTime()) {
            if (this.LJ && this.ZE && !(this.LJ.getTime() <= this.ZE.getTime())) for (var b = this.ZE.getTime() + this.qb.Y(), c = this.nV + 1; b < this.LJ.getTime(); b += this.qb.Y(), c++) {
                var d = gA(this, b, this.ZE);
                this.ta.splice(c, 0, d);
                this.Ur[b] = d
            }
        } else if (this.Yv && this.Qy && !(this.Yv.getTime() >= this.Qy.getTime())) for (b = this.Yv.getTime() + this.qb.Y(), c = this.mV + 1; b < this.Qy.getTime(); b += this.qb.Y(), c++) d = gA(this, b, this.Yv), this.ta.splice(c, 0, d), this.Ur[b] = d
    };

    function gA(b, c, d) {
        return gm(b.wc)([c, d.jb(), d.jb(), d.jb(), d.jb(), 0])
    }

    function dA(b) {
        return Ik(b) ? 0 : 1
    }

    function eA(b) {
        return !$l(b.time, this && this.Sa instanceof Fi ? this.Sa.gt() : null) && Ik(b) ? 0 : 1
    }

    function fA(b, c, d) {
        return 0 === (new Date(c.time)).getDay() ? 0 : b(c, d)
    }

    function Iz(b) {
        jm(b.wc) || 1 != b.Os && b.qb === rl && 2 == b.Os && E(b.ta, function (b, d, e) {
            e[d + 1] && 0 === (new Date(b.time)).getDay() && (d = e[d + 1], d.dx(b.Hd() + d.Hd()), d.ge(b.zb()), d.Tt(Math.max(b.bb(), d.bb())), d.Vt(Math.min(b.$a(), d.$a())))
        })
    }

    function Nz(b, c, d) {
        d = 0 === d.oe ? b.qb : d.oe;
        1 != b.Os && d === rl && 2 == b.Os && E(b.Of[c], function (b, c, d) {
            d[c + 1] && 0 === (new Date(b.time)).getDay() && (c = d[c + 1], c.dx(b.Hd() + c.Hd()), c.ge(b.zb()), c.Tt(Math.max(b.bb(), c.bb())), c.Vt(Math.min(b.$a(), c.$a())))
        })
    }

    function Kz(b) {
        if (!jm(b.wc)) for (var c = b.W().Y(), d = b.rD, e = 0, h = b.ta.length - 1; e < h; e++) {
            var k = b.ta[e], l = b.ta[e + 1], p = l.getTime() - k.getTime(), q = (p / c | 0) - 1,
                l = new Date(l.getTime());
            l.setUTCMonth(l.getUTCMonth() + 1);
            l.setUTCDate(0);
            l = l.getUTCDate() * rl.Y();
            c = Cl(b.W(), ul) ? l : c;
            p >= 2 * c && 0 < q ? 1 === b.wc ? 36E5 < p && d.push({
                start: k.getTime(),
                length: q
            }) : d.push({
                start: k.getTime() + c,
                length: p / c - 1
            }) : p < 2 * c && 1 !== b.wc && 0 < c - p && b.cG.push({start: k.getTime() + p, Gh: p, length: c - p})
        }
    }

    f.Qg = function () {
        var b = this.ta[0];
        return b ? b.getTime() : NaN
    };
    f.si = function () {
        var b = this.ta[this.ta.length - 1];
        return b ? b instanceof Uk ? b.Bf() : b.getTime() : NaN
    };

    function qj(b) {
        return b.Gn ? b.Gn : NaN
    }

    f.indexOf = function (b) {
        if (jm(this.wc)) return hA(this, b);
        b instanceof Bk && (b = b.getTime());
        return ui(this.ta, b, Dk)
    };

    function hA(b, c) {
        c instanceof Bk && (c = c.getTime());
        var d = ui(b.ta, c, Fk);
        return ~d ? Math.abs(d) : d
    }

    function Zi(b, c) {
        return b.ta[hA(b, c)]
    }

    f.bt = function (b) {
        return this.ta[this.indexOf(b)]
    };
    f.FS = function (b, c) {
        var d = this.indexOf(b), e = this.indexOf(c);
        0 > d && (d = ~d);
        0 > e && (e = ~e);
        return new qd(this.ta, d, e - d)
    };

    function Xi(b, c) {
        c = c >= b.ta.length ? b.ta.length - 1 : 0 > c ? 0 : c;
        return b.ta[c] ? b.ta[c].getTime() : NaN
    }

    f.Th = function () {
        return $h(this.ta)
    };
    f.cx = function (b, c) {
        if (!isNaN(b) || !isNaN(c)) {
            this.Pb = b;
            this.He = c;
            this.$b.cx(this.Pb, this.He);
            var d, e = this.Th();
            if (e) {
                d = e.getTime();
                d > this.Rba && 1 <= this.Kn.length && d > this.Kn[0].start && (this.vz = this.Kn.length = 0);
                a:{
                    var h = e;
                    if (Bl(this.W(), rl) && 1 !== this.yk && (e = new Date(this.He), e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0), e.setUTCMonth(e.getUTCMonth() + 1), e = e.getTime(), !(this.vz >= e))) {
                        this.vz = e;
                        var k = this.W().Y(), l = this.Sa instanceof Fi ? this.Sa.gt() : null;
                        if (ki(this.Kn)) {
                            if (!h || !h.getTime) break a;
                            h = h.getTime()
                        } else var p =
                            $h(this.Kn), h = p.start + p.length * k;
                        for (var p = rl.Y(), q = h; q <= e; q += p) $l(q, l) || (h = Wl(q), q = Xl(q), h = {
                            start: h,
                            length: (q - h) / k
                        }, this.Kn.push(h), q = h.start + h.length * k)
                    }
                }
                this.Rba = d
            }
            for (var r in this.Nf) this.Nf.hasOwnProperty(r) && this.Nf[r].cx(this.Pb, this.He)
        }
    };
    f.od = function () {
        return this.$b
    };
    f.Ni = function (b) {
        var c = b.Zb();
        this.Md[c] = b;
        this.Nf[c] || (this.Nf[c] = 1 === this.wc ? new wj(this, b) : new gc(this, b));
        Lz(this)
    };
    f.kb = function (b) {
        return this.Md[b]
    };
    f.xh = function (b) {
        b = b.Zb();
        try {
            delete this.Md[b]
        } catch (c) {
            this.Md[b] = null
        }
        this.Nf[b] && delete this.Nf[b]
    };

    function iA(b) {
        if (b in jA) return jA[b];
        throw Error('Mapping function not defined for price type: "' + b + '".');
    }

    var jA = {
        1: function (b) {
            return b.close
        }, 2: function (b) {
            return b.open
        }, 3: function (b) {
            return b.Mc
        }, 4: function (b) {
            return b.Bd
        }, 5: function (b) {
            return (b.Mc + b.Bd) / 2
        }, 6: function (b) {
            return (b.Mc + b.Bd + b.close) / 3
        }, 7: function (b) {
            return (b.Mc + b.Bd + 2 * b.close) / 4
        }
    };

    function kA(b) {
        if (b in lA) return lA[b];
        throw Error('Mapping function not defined for price type: "' + b + '".');
    }

    var lA = {
        1: function (b) {
            return b[4]
        }, 2: function (b) {
            return b[1]
        }, 3: function (b) {
            return b[2]
        }, 4: function (b) {
            return b[3]
        }, 5: function (b) {
            return (b[2] + b[3]) / 2
        }, 6: function (b) {
            return (b[2] + b[3] + b[4]) / 3
        }, 7: function (b) {
            return (b[2] + b[4] + b[4] + b[4]) / 4
        }
    };

    function Lz(b) {
        for (var c in b.Md) if (b.Md.hasOwnProperty(c)) {
            var d = b.Md[c], e = b.Nf[d.Zb()].getData(), h;
            h = b;
            var k = d;
            if (mA(h, k)) {
                var l = [], p = (h.Nf[k.Zb()].eb() || h).Of[Fz(h, k)];
                void 0 === p && (p = []);
                for (var q = 0, r = k.lc().numberOfInputs; q < r; q++) {
                    var t = k.FD(q);
                    if (0 == t.Kb()) {
                        l[q] = [[], [], [], [], [], []];
                        for (var t = 0, u = p.length; t < u; t++) p[t] && (l[q][0][t] = p[t].zb(), l[q][1][t] = p[t].jb(), l[q][2][t] = p[t].bb(), l[q][3][t] = p[t].$a(), l[q][4][t] = p[t].Hd(), l[q][5][t] = p[t].getTime())
                    } else if (1 == t.Kb()) l[q] = Sa(p, iA(t.G())); else if (2 ==
                        t.Kb()) l[q] = Sa(p, h.Lp); else throw Error('Unsupported input parameter type value: "' + t.Kb() + '".');
                }
            } else for (q = p = void 0, l = [], p = h.Nf[k.Zb()].eb() || h, 1 === h.wc ? (p = p.$b.Qr, q = kA) : (p = p.ta, q = iA), r = 0, t = k.lc().numberOfInputs; r < t; r++) if (u = k.FD(r), 0 == u.Kb()) {
                l[r] = [[], [], [], [], [], [], []];
                for (var u = 0, x = p.length; u < x; u++) p[u] && (l[r][0][u] = h.ND(p[u]), l[r][1][u] = h.vD(p[u]), l[r][2][u] = h.Re(p[u]), l[r][3][u] = h.ff(p[u]), l[r][4][u] = h.Hv(p[u]), l[r][5][u] = h.Lp(p[u]), l[r][6][u] = h.kT(p[u]))
            } else if (1 == u.Kb()) l[r] = Sa(p, q(u.G()));
            else if (2 == u.Kb()) l[r] = Sa(p, h.Lp); else throw Error('Unsupported input parameter type value: "' + u.Kb() + '".');
            h = l;
            p = b.Nf[d.Zb()].eb() || b;
            l = p.ta;
            k = l.length;
            1 === b.wc && (l = p.$b.Qr, k = l.length);
            p = 0;
            for (q = d.lc().numberOfInputs; p < q; p++) d.Eb(p, h[p]);
            h = d.ea();
            p = d.lc().Xl ? h : yb((b.Nf.lastIndex || 0) - h, h);
            q = d;
            q.na = [];
            for (r = q.lc().numberOfOutputs; 0 < r--;) q.na.push([]);
            d.zh(b.wc);
            d.iy = l;
            l = b.W();
            d.Fh = l;
            d.Oa(p, k - 1);
            b.Nf[c].lastIndex = k - 1;
            e[0].length = k;
            for (l = 0; l < d.na.length; l++) {
                p = d.na[l];
                for (q = 0; q < h && q < k; q++) e[l][q] = null;
                q = h;
                for (r = 0; q < k; q++, r++) e[l][q] = p[r]
            }
            b.Nf[c].cx(b.Pb, b.He)
        }
    }

    function mA(b, c) {
        return c instanceof ko && jm(b.wc) ? !0 : c.W && b.W().Y() > c.W().Y() || 0 === c.oe ? !1 : c.oe.Y() >= rl.Y() ? !0 : b.W().Y() === c.oe.Y() ? !1 : !(c.Dv && c.Dv(b.W()).Y() === c.oe.Y())
    }

    function Wz(b) {
        return b.zb()
    }

    function Zz(b) {
        return b.jb()
    }

    function Xz(b) {
        return b.bb()
    }

    function Yz(b) {
        return b.$a()
    }

    function $z(b) {
        return b.Hd()
    }

    function aA(b) {
        return b.getTime()
    }

    function Pz(b) {
        return b[1]
    }

    function Sz(b) {
        return b[4]
    }

    function Qz(b) {
        return b[2]
    }

    function Rz(b) {
        return b[3]
    }

    function Tz(b) {
        return b[5]
    }

    function Uz(b) {
        return b[6]
    }

    function Vz(b) {
        return b[0]
    };

    function jz() {
        ez.call(this)
    }

    B(jz, ez);

    function P(b, c) {
        Q.call(this);
        this.ra = new fu(this);
        this.tn = [Infinity, -Infinity, Infinity, -Infinity];
        this.uj(b || []);
        this.color = this.color || this.LM();
        this.Uu = null;
        c && this.Xh(c)
    }

    B(P, Q);
    P.prototype.gw = !0;
    P.prototype.qd = function () {
        return this.Yr
    };
    P.prototype.S = function () {
        return this.ra
    };
    var nA = new Hj("drawings");
    P.prototype.LM = va(Gn, v(nA.valueOf, nA));
    var oA = {Wo: "chartobjectcreate", NH: "chartobjectdelete", QB: "chartobjectposition", RB: "chartobjectproperties"},
        pA = 0;
    f = P.prototype;
    f.Ib = null;
    f.iD = null;

    function qA(b) {
        if (!b.gb || !b.iD) return {time: null, value: null};
        var c = b.gb.X().Qa(), d = b.gb.X().vb();
        return {time: c.t(b.iD) - c.t(0), value: d.qc(0) - d.qc(b.iD)}
    }

    f.LE = function () {
        return !0
    };
    f.CE = function () {
        return !0
    };
    f.$h = function (b) {
        b > pA && (pA = b);
        this.Ib = pA.toString(10);
        pA++
    };
    f.aa = function () {
        null === this.Ib && (this.Ib = pA.toString(10), pA++);
        return this.Ib
    };
    f.Kb = function () {
        return this.type
    };
    f.Tc = 3;
    f.hk = "";
    f.zG = function (b) {
        this.hk = b
    };
    f.oT = function () {
        return this.hk
    };
    f.eh = !1;
    f.Jea = function (b) {
        this.eh = b
    };
    f.O7 = function () {
        return this.eh
    };
    f.yB = !1;
    f.qfa = function (b) {
        this.yB = b
    };
    f.u8 = function () {
        return this.yB
    };
    f.pH = null;
    f.rh = function () {
        return this.pH
    };
    f.Gb = function (b) {
        this.pH = b
    };
    f.Jb = function () {
        return this.color
    };
    f.Ab = function (b) {
        this.color = b
    };
    f.zf = .35;
    f.Mw = function (b) {
        this.zf = b
    };

    function rA(b) {
        return Mn(b.color, b.zf)
    }

    f.sg = 1;
    f.Gv = function () {
        return this.sg
    };
    f.Yt = function (b) {
        this.sg = b
    };
    f.rd = function () {
        return Mn(this.color, this.sg)
    };
    f.Ii = 1;
    f.hg = function () {
        return this.Ii
    };
    f.Zt = function (b) {
        this.Ii = b
    };
    f.jn = Hc.Px;
    f.pr = function () {
        switch (this.jn.toLowerCase()) {
            case Hc.Xo:
                return [2 * this.hg(), 2 * this.hg()];
            case Hc.Ej:
                return [8 * this.hg(), 6 * this.hg()];
            default:
                return []
        }
    };
    f.zg = function () {
        return this.Uc <= this.ba.length
    };
    f.Ez = function () {
        return this.zg()
    };
    f.Kj = !1;
    f.HE = function () {
        return this.Kj
    };
    f.Xr = !0;
    f.Vp = function () {
        return this.Xr && this.rL()
    };
    f.rL = function () {
        return this.Uc <= this.ba.length
    };
    f.hs = function (b) {
        this.Xr = b
    };
    f.Vu = !0;
    f.Wm = !0;
    f.NX = function (b) {
        this.Wm = !!b
    };
    f.dw = !0;
    f.Yda = function (b) {
        this.dw = b
    };
    f.oD = !1;
    f.dv = function (b, c, d, e) {
        c = c - e;
        e = this.gb.X().Qa();
        var h = this.gb.X();
        d = e.x(d) + this.Im();
        b = e.x(b) - d;
        for (var k = this.ba.length; 0 < k--;) d = e.t(e.x(this.ba[k].time) + b), this.ba[k].time = this.Io(h, d), this.ba[k].value += c
    };
    f.Us = function (b, c, d) {
        b.time = c;
        b.value = d
    };

    function sA(b, c, d, e) {
        var h = b.qd().Qa(), k = b.qd().vb();
        b = c === b.ba[0] ? b.ba[1] : b.ba[0];
        d = Math.abs(h.x(b.time) - h.x(d));
        h = k.y(b.value);
        return e > b.value ? k.qc(h - d) : k.qc(h + d)
    }

    f.Yj = function (b, c) {
        this instanceof tA || this.Vm(oA.Wo);
        this.ee(b, c);
        this.Kj = !0
    };
    f.ee = function () {
        uA(this)
    };
    f.fM = function () {
    };
    f.hM = function () {
    };
    f.Vz = function () {
    };
    f.Vm = function (b) {
        var c = this.XF && !this.Uu;
        this.XF && this.Uu == oA.Wo && b == oA.RB ? this.Uu = oA.Wo : this.Uu = b;
        c || this.dispatchEvent("chartobjectchange")
    };
    f.ck = function () {
        this.kM = this.lb()
    };
    f.YJ = function () {
        return this.kM
    };

    function uA(b) {
        b.tn[0] = Infinity;
        b.tn[2] = -Infinity;
        b.tn[1] = Infinity;
        b.tn[3] = -Infinity;
        b.uO(b.tn)
    }

    f.uO = function (b) {
        for (var c = 0, d = this.ba.length; c < d; c++) {
            var e = this.ba[c].time, h = this.ba[c].value;
            isFinite(h) && isFinite(e) && (b[0] > e && (b[0] = e), b[2] < e && (b[2] = e), b[1] > h && (b[1] = h), b[3] < h && (b[3] = h))
        }
    };

    function vA(b) {
        isFinite(b.tn[0]) && isFinite(b.tn[1]) && isFinite(b.tn[2]) && isFinite(b.tn[3]) || uA(b);
        return b.tn
    }

    f.Gf = function (b) {
        this.ba.push(b)
    };
    f.Nd = function (b) {
        return (b = this.ba[b]) ? {time: this.Io(this.gb.X(), b.time), value: b.value} : b
    };
    f.Zs = function () {
        return Sa(this.ba, function (b) {
            return {time: this.Io(this.gb.X(), b.time), value: b.value}
        }, this)
    };
    f.uj = function (b) {
        this.ba = b;
        uA(this)
    };
    f.Xh = function (b) {
        this.gb = b;
        this.Je(this.gb)
    };
    f.ga = function () {
        return this.gb
    };
    f.getTime = function (b) {
        return this.Nd(b).time
    };
    f.setTime = function (b, c) {
        this.ba[b].time = c;
        uA(this)
    };
    f.G = function (b) {
        return this.Nd(b).value
    };
    f.V = function (b, c) {
        this.ba[b].value = c;
        uA(this)
    };
    f.offset = function (b, c) {
        for (var d = this.gb.X(), e = d.Qa(), h = d.W(), k = h.Y(), l = this.ba.length; 0 < l--;) if (d.Ec()) this.ba[l].time = this.Io(d, e.t(e.x(this.ba[l].time) + b / k * d.Ca() - this.Im())); else {
            var p = d.eb().indexOf(this.Io(d, this.ba[l].time));
            (p = ~p ? d.eb().ta[Math.floor(p + b / k + .5)] : null) ? this.ba[l].time = p.getTime() : Cl(h, ul) ? (p = new Date(this.ba[l].time), p.setMonth(p.getMonth() + b / k), this.ba[l].time = p.getTime()) : (this.ba[l].time += b, $l(this.ba[l].time, ym(d)) || 1 === d.Mn() || d.Ec() || (this.ba[l].time = 0 < b ? Xl(this.ba[l].time) :
                Wl(this.ba[l].time) + b));
            this.ba[l].value += c
        }
    };
    f.Dm = function (b, c, d, e, h) {
        h = h || 5;
        for (var k = Infinity, l = NaN, p = null, q = this.ba.length; 0 < q--;) l = Co(b, c, d.x(this.getTime(q)), e.y(this.G(q))), l < h && l < k && (p = this.ba[q], k = l);
        return p
    };
    f.QW = function () {
    };
    f.Fl = function (b, c, d) {
        b = this.ba[0];
        var e = this.ba[1], h = -5;
        e && (e.value > b.value && e.time > b.time || e.value < b.value && e.time < b.time) && (h = 15);
        return [c.x(b.time) + 5, d.y(b.value) + h]
    };
    f.Aw = function (b, c, d) {
        for (var e = this.ba.length; 0 < e--;) {
            var h = this.ba[e], k = c.x(h.time), h = d.y(h.value);
            b(k, h)
        }
    };
    f.Jt = function (b, c, d) {
        b.moveTo(c, d);
        b.arc(c, d, this.ga().X().fa().$y(), 0, 2 * Math.PI, !1)
    };
    f.Bw = function (b, c, d, e) {
        b.fillStyle = this.rd();
        b.beginPath();
        this.Aw(v(this.Jt, this, b), c, d, e);
        b.fill()
    };
    f.bK = function () {
        return []
    };
    f.lb = function () {
        return Ig({
            id: this.aa(),
            renderedDataID: this.qd() ? this.qd().aa() : null,
            type: this.Kb(),
            controlPointList: Sa(this.ba, function (b) {
                return Lc(b)
            }),
            strokeWidth: this.hg(),
            strokeLineStyle: this.jn,
            textLabel: this.hk,
            color: this.color,
            fillOpacity: this.zf,
            strokeOpacity: this.sg,
            pickable: this.Wm,
            tooltip: this.pH,
            renderable: this.Xr,
            needToSnapValue: this.gw
        })
    };
    f.cb = function (b) {
        b = Gg(b);
        this.uj(b.controlPointList);
        this.Yr = this.ga().X().qd(b.renderedDataID);
        this.Ib = b.id;
        this.Wm = b.pickable;
        this.zf = b.fillOpacity;
        this.pH = b.tooltip;
        this.Xr = b.hasOwnProperty("renderable") ? b.renderable : P.prototype.Xr;
        this.gw = b.hasOwnProperty("needToSnapValue") ? b.needToSnapValue : P.prototype.gw;
        this.vh ? (this.os.V(b.textLabel), this.np.V(Fn(parseInt(b.color.substr(1, 2), 16), parseInt(b.color.substr(3, 2), 16), parseInt(b.color.substr(5, 2), 16), b.fillOpacity)), this.nu.V(100 * b.strokeOpacity),
            this.px.V(b.strokeWidth), b.strokeLineStyle && this.ox.V(b.strokeLineStyle)) : (this.zG(b.textLabel), this.color = b.color, this.sg = b.strokeOpacity, this.Ii = b.strokeWidth, b.strokeLineStyle && (this.jn = b.strokeLineStyle))
    };
    f.getTypeName = function () {
        return "Chart Object"
    };
    f.toString = function () {
        return this.getTypeName() + " " + this.aa()
    };
    f.bK = function () {
        this.vh || (this.Sg(), wA(this));
        return this.vh
    };
    f.Sg = function () {
        var b = y("MSG_CHART_UI_DRAWING_TEXT_LABEL", {}, "Text label"),
            c = y("MSG_CHART_UI_DRAWING_COLOR", {}, "Color"),
            d = y("MSG_CHART_UI_DRAWING_STROKE_OPACITY", {}, "Stroke opacity"),
            e = y("MSG_CHART_UI_DRAWING_STROKE_WIDTH", {}, "Stroke width"),
            h = y("MSG_CHART_UI_DRAWING_STROKE_LINE_STYLE", {}, "Stroke style"),
            k = y("MSG_CHART_UI_DRAWING_COMMON_PROPERTIES", {}, "Style");
        this.kd = new lv(k);
        this.vh = [];
        this.os = new zv("", b, null, this.hk);
        this.kd.Xa(this.os);
        this.np = new vv("color", c, null, Fn(parseInt(this.Jb().substr(1,
            2), 16), parseInt(this.Jb().substr(3, 2), 16), parseInt(this.Jb().substr(5, 2), 16), this.zf));
        this.kd.Xa(this.np);
        this.nu = new Kv("strokeOpacity", d, null, 100 * this.Gv());
        this.nu.ah(0);
        this.nu.Ah(100);
        this.kd.Xa(this.nu);
        this.ox = new Av("strokeLineStyle", h, null, this.jn);
        this.ox.Xe(Ta(Hc));
        this.kd.Xa(this.ox);
        this.px = new Bv("strokeWidth", e, null, this.hg());
        this.px.Xe([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
        this.kd.Xa(this.px);
        this.vh.push(this.kd);
        this.S().C(this.os, "change", function (b) {
            this.zG(b.target.G());
            this.ga().X().Ia()
        }).C(this.np,
            "change", function () {
                var b = this.np.G().slice(5, -1).split(",");
                this.Ab(zn(b).substring(0, 7));
                this.Mw(b[b.length - 1]);
                this.ga().X().Ia()
            }).C(this.nu, "change", function () {
            this.Yt(this.nu.G() / 100);
            this.ga().X().Ia()
        }).C(this.px, "change", function () {
            this.Zt(this.px.G());
            this.ga().X().Ia()
        }).C(this.ox, "change", function () {
            this.jn = this.ox.G();
            this.ga().X().Ia()
        })
    };
    f.CJ = !0;
    f.AJ = !0;

    function wA(b) {
        var c = y("MSG_CHART_UI_DRAWING_COORDINATES_PROPERTIES", {}, "Coordinates"), d = new lv(c),
            e = b.ga().X().ma().Sb / 10, h = 1;
        0 !== b.jr().length && (b.Xu = [], E(b.jr(), function (b, c) {
            var p = this.Xu, q = h++, r = new Date(b.time), t;
            t = this.Xu[c - 1];
            t = this instanceof xA && t ? Gv(t.G()) : null;
            p[c] = new Ev(c, q, null, new Fv(r, t, this.CJ, b.value.toFixed(5), this.AJ, e));
            this.Xu[c].xA(c);
            d.Xa(this.Xu[c])
        }, b), b.vh.push(d), b.S().C(d, "change", b.Jv))
    }

    f.Jv = function (b) {
        var c = b.target.G();
        b = b.target.aj();
        this.ba[b].time = +c.Vq.getTime();
        this.ba[b].value = +c.gf();
        this.ba[b] = this.Nd(b);
        this.ga().X().Ia()
    };
    f.jr = function () {
        return this.ba
    };
    f.DS = function (b) {
        return this.ba[b]
    };
    f.XF = !1;
    f.FN = function (b) {
        this.XF = b
    };
    f.Sa = null;
    f.Ie = function (b) {
        this.Sa = b
    };
    f.ma = function () {
        return this.Sa
    };

    function yA(b, c) {
        if (!b.Sa) return !0;
        if (ka(b.Sa)) {
            if (ka(c)) return b.Sa == c;
            if (c instanceof Fi) return c.aa() == b.Sa
        } else if (b.Sa instanceof Fi) {
            if (ka(c)) return b.Sa.aa() == c;
            if (c instanceof Fi) return c.aa() == b.Sa.aa()
        }
        return !0
    }

    f.Im = function () {
        return 0
    };
    f.Io = function (b, c) {
        if (b.Ec()) {
            var d = Zi(b.eb(), c);
            if (d) return d.getTime()
        }
        return vj(b.W(), +c, b.ul)
    };
    f.JK = zc;

    function zA(b, c, d, e, h) {
        var k = 2, l = !1;
        "undefined" == typeof l && (l = !0);
        "undefined" === typeof k && (k = 5);
        if ("number" === typeof k) k = {oH: k, rO: k, wI: k, uI: k}; else {
            var p = {oH: 0, rO: 0, wI: 0, uI: 0}, q;
            for (q in p) k[q] = k[q] || p[q]
        }
        b.beginPath();
        b.moveTo(c + k.oH, d);
        b.lineTo(c + e - k.rO, d);
        b.quadraticCurveTo(c + e, d, c + e, d + k.rO);
        b.lineTo(c + e, d + h - k.wI);
        b.quadraticCurveTo(c + e, d + h, c + e - k.wI, d + h);
        b.lineTo(c + k.uI, d + h);
        b.quadraticCurveTo(c, d + h, c, d + h - k.uI);
        b.lineTo(c, d + k.oH);
        b.quadraticCurveTo(c, d, c + k.oH, d);
        b.closePath();
        b.fill();
        l && b.stroke()
    }

    f.Zd = function (b, c, d, e, h, k, l) {
        b.lineWidth = k;
        b.beginPath();
        l ? Jn(b, c, d, e, h, l) : (b.moveTo(c, d), b.lineTo(e, h));
        b.stroke()
    };

    function AA(b, c) {
        P.call(this, b, c)
    }

    B(AA, P);
    f = AA.prototype;
    f.type = "Ellipse";
    f.Uc = 2;
    f.T = function (b, c, d, e) {
        var h = G(c.x(this.getTime(0))) + .5, k = G(d.y(this.G(0))) + .5;
        c = G(c.x(this.getTime(1))) + .5;
        d = G(d.y(this.G(1))) + .5;
        var l = 2 * Math.abs(h - c), p = 2 * Math.abs(k - d), q = c, r = k;
        h < c && (q -= l);
        k > d && (r -= p);
        var t = e.left, u = e.left + e.width, x = e.top;
        e = e.top + e.height;
        (t <= h && h <= u || t <= c && c <= u || x <= k && k <= e || x <= d && d <= e || h <= t && u <= c || k <= x && e <= d) && Kn(b, q, r, l, p)
    };
    f.Us = function (b, c, d, e) {
        b.time = c;
        b.value = null != e && e ? sA(this, b, c, d) : d
    };
    f.Fl = function (b, c, d) {
        b = this.ba[0];
        var e = this.ba[1], h = -5;
        e && e.value > b.value && (h = 15);
        return [c.x(b.time) + 5, d.y(b.value) + h]
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        var l = d.x(this.getTime(0));
        k = e.y(this.G(0));
        var p = d.x(this.getTime(1)), q = e.y(this.G(1));
        d = Math.abs(l - p);
        e = Math.abs(k - q);
        l < p && (l -= d, p -= d);
        k > q && (k -= e, q -= e);
        l = xb(l, p);
        k = xb(k, q);
        b = (b - l) * (b - l);
        c = (c - k) * (c - k);
        k = d - h;
        d += h;
        l = e - h;
        h = e + h;
        return 1 <= b / (k * k) + c / (l * l) && 1 >= b / (d * d) + c / (h * h)
    };
    f.getTypeName = function () {
        return "Ellipse"
    };

    function BA(b, c) {
        P.call(this, b, c)
    }

    B(BA, P);
    BA.prototype.Tc = 1;

    function CA(b) {
        return Ra(b.a, function (b, d) {
            return !!DA(this)[d]
        }, b)
    }

    function DA(b) {
        if (!b.m || ia(b.m) && ki(b.m)) b.m = Sa(b.a, function () {
            return 1
        });
        return b.m
    }

    BA.prototype.Sg = function () {
        BA.P.Sg.call(this);
        var b = y("MSG_CHART_UI_DRAWING_LEVELS_GROUP", {}, "Levels"), b = new lv(b), c = this.a;
        this.g = [];
        for (var d = 0, e = c.length; d < e; d++) {
            var h = c[d], k = y("MSG_CHART_UI_LEVELED_OBJECT_LEVEL", {level: d.toString(10)}, "Level {$level}"),
                h = this.g[d] = new Dv("level" + d.toString(10), k, null, h);
            this.g[d].qg(.001);
            this.g[d].Ba(!!DA(this)[d]);
            b.Xa(h);
            this.S().C(h, "change", v(function (b, c) {
                this.a[b] = +c.target.G();
                DA(this)[b] = +c.target.isEnabled();
                this.ga().X().Ia()
            }, this, d))
        }
        this.vh.push(b)
    };
    BA.prototype.lb = function () {
        var b = Gg(BA.P.lb.call(this));
        jh(b, {levels: this.a, activeLevels: DA(this)});
        return Ig(b)
    };
    BA.prototype.cb = function (b) {
        BA.P.cb.call(this, b);
        b = Gg(b);
        var c = b.levels, d = b.activeLevels;
        this.g ? E(c, function (b, c) {
            this.g[c].V(b);
            this.g[c].ah(0);
            d && this.g[c].Ba(d[c])
        }, this) : (this.a = c, d && (this.m = d))
    };

    function Fx(b, c, d, e, h) {
        this.ba = [];
        null != d && null != e && this.UX(d, e);
        P.call(this, this.ba, h);
        null != h && !this.ba.length && EA(this);
        this.ga() && this.Ie(this.ga().X().ma());
        this.g = null != b ? b : Bx;
        this.$ = null != c ? c : Dx;
        this.Xd = 5;
        this.w = [];
        this.JQ = [];
        this.m = []
    }

    B(Fx, P);
    var Bx = "BUY", Cx = "SELL", Dx = "OPEN", Ex = "CLOSE";
    Fx.prototype.type = "HistoricalOrder";
    var FA = y("MSG_DRAWING_HISTORICALORDER_TYPE_NAME", {}, "Historical order");
    f = Fx.prototype;
    f.getTypeName = function () {
        return FA
    };
    f.eh = !0;
    f.Wm = !1;
    f.Tc = 1;
    f.Uc = 1;
    f.Yj = function () {
    };
    f.Xh = function (b) {
        Fx.P.Xh.call(this, b);
        this.ga() && this.Ie(this.ga().X().ma());
        this.ba.length || EA(this)
    };
    f.DC = !1;
    f.gG = function (b) {
        (this.DC = b) || GA(this);
        this.ga() && this.ga().X().Ia()
    };
    f.T = function (b, c, d, e) {
        var h = this.ba[0], k = HA(this), l = this.ga().X(), l = Cl(l.W(), bl) || l.Ec();
        if (h && (l || k)) {
            this.m = [];
            ia(this.w) && !ki(this.w) && IA(this, b, h, k, c, d, e);
            if (l) {
                var p = this.Nh() === Bx;
                e = this.ef() === Dx;
                l = p ? -5 : 5;
                c = c.x(h.time) - this.Im() + .5;
                h = d.y(h.value) + .5;
                d = this.Xd * (this.ve() ? 1.5 : 1);
                var k = p ? 3 : -3, q;
                b.beginPath();
                b.moveTo(c, h + l + k);
                this.m.push([c, h + l]);
                b.lineWidth = .5;
                b.setLineDash([0]);
                p ? (q = this.ve() ? e ? "#008b2d" : "#737375" : e ? "#22b155" : "#aeaeaf", b.strokeStyle = e ? "#008b2d" : "#737375", b.fillStyle = q, b.lineTo(c -
                    d, h + l + k + d), b.lineTo(c + d, h + l + k + d)) : (q = this.ve() ? e ? "#d70400" : "#737375" : e ? "#d75548" : "#aeaeaf", b.strokeStyle = e ? "#d70400" : "#737375", b.fillStyle = q, b.lineTo(c - d, h + l + k - d), b.lineTo(c + d, h + l + k - d));
                b.lineTo(c, h + l + k);
                this.m.push([c, h]);
                b.moveTo(c, h + l);
                b.arc(c, h + l, 1.5, 0, 2 * Math.PI, !1);
                b.fill();
                b.stroke();
                b.closePath();
                this.DC && "OPEN" === this.ia && JA(this, c, h + l, p ? "#22b155" : "#d75548")
            } else {
                h = this.Nh() === Bx;
                e = this.ef() === Dx;
                c = c.x(k.getTime()) + .5;
                q = h ? d.y(k.$a()) + 2.5 : d.y(k.bb()) - 2.5;
                l = this.Xd * (this.ve() ? 1.5 : 1);
                d = d.y(this.pT()[1]);
                a:{
                    var k = k.getTime(), r = this.ga().ri(), t = this.Nh() === Bx;
                    if (this.ef() === Dx) p = 0; else if (void 0 !== xx[this.Nh() + k]) p = xx[this.Nh() + k]; else {
                        for (p in r) if (r.hasOwnProperty(p)) {
                            var u = r[p];
                            if (u instanceof Fx) {
                                var x = u.Nh() === Bx;
                                if (u.ef() === Dx && t === x && HA(u) && k == HA(u).getTime()) {
                                    xx[this.Nh() + k] = t ? 7 : -7;
                                    p = xx[this.Nh() + k];
                                    break a
                                }
                            }
                        }
                        p = xx[this.Nh() + k] = 0
                    }
                }
                q = q + p;
                b.beginPath();
                b.moveTo(c, q);
                this.m.push([c, q]);
                b.lineWidth = .5;
                b.setLineDash([0]);
                h ? (p = this.ve() ? e ? "#008b2d" : "#737375" : e ? "#22b155" : "#aeaeaf", b.strokeStyle = e ?
                    "#008b2d" : "#737375", b.fillStyle = p, b.lineTo(c - l, q + l), b.lineTo(c + l, q + l)) : (p = this.ve() ? e ? "#d70400" : "#737375" : e ? "#d75548" : "#aeaeaf", b.strokeStyle = e ? "#d70400" : "#737375", b.fillStyle = p, b.lineTo(c - l, q - l), b.lineTo(c + l, q - l));
                b.lineTo(c, q);
                c += 2;
                l /= 2;
                this.m.push([c, d]);
                b.moveTo(c, d);
                b.lineTo(c + l, d - l);
                b.lineTo(c + l, d + l);
                b.lineTo(c, d);
                b.fill();
                b.stroke();
                b.closePath();
                this.DC && "OPEN" === this.ia && JA(this, c, d, h ? "#22b155" : "#d75548")
            }
            b.beginPath()
        }
    };

    function JA(b, c, d, e) {
        b.a && O(b.a, b.R);
        if (b.R) {
            if (!b.a) {
                var h = b.ga().X().M();
                h.append(b.ga().X().Fb, b.a = h.u(D, "a-b-T-U"))
            }
            if (b.F != c - b.ga().X().pa || b.K != d || b.U != e) b.F = c - b.ga().X().pa, b.K = d, b.U = e, tu(b.a, b.F, b.K), ht(b.a, "border-color", "rgba(" + pn(e).join(",") + ",1)"), ht(b.a, "background-color", "rgba(" + pn(e).join(",") + ",0.1)")
        }
    }

    function IA(b, c, d, e, h, k, l) {
        var p = b.ga().X(), q = Cl(p.W(), bl) || p.Ec(), r = (q ? G(h.x(d.time)) : G(h.x(e.getTime()))) + .5,
            t = G(k.y(d.value)) + .5, u = b.Nh() === Bx ? -5 : 5, r = r - b.Im();
        q && (t += u);
        c.save();
        E(b.w, function (b) {
            var d = b[0];
            if (!q) {
                d = KA(this, {time: b[0], value: b[1]});
                if (!d) return;
                d = d.getTime()
            }
            var e = b[1], d = G(h.x(d)) - this.Im() + .5, p = G(k.y(e)) + .5;
            q && (p -= b[2] ? u : -u);
            c.strokeStyle = b[2] ? b[2] == Cx ? this.ve() ? "#d70400" : "#d75548" : this.ve() ? "#008b2d" : "#22b155" : this.ve() ? "#737375" : "#aeaeaf";
            c.lineWidth = this.ve() ? 1.5 : .8;
            c.setLineDash([5]);
            b = r;
            var e = t, N, S, T = [];
            switch (!0) {
                case b >= d && e >= p:
                case b <= d && e <= p:
                    N = LA(l.left, l.top, b, e, d, p);
                    S = LA(l.left + l.width, l.top + l.height, b, e, d, p);
                    break;
                case b >= d && e <= p:
                case b <= d && e >= p:
                    N = LA(l.left, l.top + l.height, b, e, d, p), S = LA(l.left + l.width, l.top, b, e, d, p)
            }
            b < l.left ? (T.push(Gc(b, d, N)), T.push(Gc(e, p, N))) : b > l.left + l.width ? (T.push(Gc(b, d, S)), T.push(Gc(e, p, S))) : (T.push(b), T.push(e));
            d < l.left ? (T.push(Gc(b, d, N)), T.push(Gc(e, p, N))) : d > l.left + l.width ? (T.push(Gc(b, d, S)), T.push(Gc(e, p, S))) : (T.push(d), T.push(p));
            c.moveTo(T[0],
                T[1]);
            c.lineTo(T[2], T[3])
        }, b);
        c.stroke();
        c.restore()
    }

    var xx = {};
    f = Fx.prototype;
    f.Fl = function (b, c, d) {
        b = this.Nh() === Bx;
        var e = this.ba[0], h = this.ga().X(), h = Cl(h.W(), bl) || h.Ec(), k = HA(this);
        return h ? [c.x(e[0]) - this.Im() + 10.5, d.y(e[1]) + 20.5] : k ? [c.x(k.getTime()) + 10.5, b ? d.y(k.$a()) + 20.5 : d.y(k.bb()) - 20.5] : [0, 0]
    };
    f.ec = function (b, c, d, e, h, k) {
        d = k || 5;
        for (var l in this.m) if (this.m.hasOwnProperty(l) && (e = this.m[l], Math.abs(e[0] - b) <= d && Math.abs(e[1] - c) <= d)) return this.JQ = [e[0], e[1]], !0;
        return !1
    };
    f.iR = !1;
    f.sf = function (b) {
        this.iR = b
    };
    f.ve = function () {
        return this.iR
    };
    f.j5 = function (b) {
        this.g = b;
        this.ga() && this.ga().X().Ia()
    };
    f.Nh = function () {
        return this.g
    };
    f.i5 = function (b) {
        this.$ = b;
        this.ga() && this.ga().X().Ia()
    };
    f.ef = function () {
        return this.$
    };
    f.UX = function (b, c) {
        this.ba[0] = {time: b, value: c};
        this.ga() && this.ga().X().Ia()
    };
    f.pT = function () {
        var b = this.ba[0];
        return b ? [b.time, b.value] : null
    };

    function EA(b) {
        if (!b.ba[0] && b.ga()) {
            var c = b.ga().X().eb().Th();
            b.ba[0] = {time: c.getTime(), value: c.jb()}
        }
    }

    function HA(b) {
        return Cl(b.ga().X().W(), bl) || !b.ba[0] ? null : KA(b, b.ba[0])
    }

    var wx = {};

    function KA(b, c) {
        var d = b.ga().X(), e = d.eb(), h, k = c.time + d.W().Y() + d.ma().aa() + d.YS();
        if (wx[k]) return h = wx[k];
        var l = vj(d.W(), c.time), p = e.xv(), q;
        h = e.bt(l);
        !h && Xi(e, 0) < l && e.si() > l && (q = ui(p, l, function (b, c) {
            var e = c.start, h = e + c.length * d.W().Y();
            return b > h ? 1 : b < e ? -1 : 0
        }), (p = p[q]) && (h = e.bt(p.start + p.length * d.W().Y())));
        h && (wx[k] = h);
        return !h && e.si() > l ? new Hk(l + d.W().Y(), c.value, c.value, c.value, c.value, 0, NaN) : h
    }

    Fx.prototype.Sg = function () {
        this.vh = []
    };
    Fx.prototype.Vz = function () {
        Fx.P.Vz.call(this);
        GA(this)
    };

    function GA(b) {
        b.a && (Ls(b.a), b.F = null, b.K = null, b.U = null, delete b.a)
    }

    Fx.prototype.Im = function () {
        var b = this.gb.X();
        return b.Ec() ? b.Ca() / 2 : 0
    };

    function MA(b, c) {
        P.call(this, b, c)
    }

    B(MA, P);
    f = MA.prototype;
    f.Rc = null;
    f.ai = function (b) {
        this.Rc = b
    };
    f.type = "HorizontalLine";
    f.Tc = 1;
    f.Uc = 1;
    f.ee = function () {
        MA.P.ee.call(this)
    };
    f.T = function (b, c, d, e) {
        c = G(d.y(this.G(0))) + .5;
        e.top <= c && c <= e.top + e.height && this.Zd(b, e.left, c, e.left + e.width, c)
    };
    f.Zd = function (b, c, d, e, h) {
        null === this.Rc ? (b.moveTo(c, d), b.lineTo(e, h)) : Jn(b, c, d, e, h, this.Rc)
    };
    f.Aw = function (b, c, d, e) {
        d = G(d.y(this.G(0))) + .5;
        for (var h = 0; 2 > h; h++) c = e.left + 1 / 3 * e.width * (h + 1), b(c, d)
    };
    f.ec = function (b, c, d, e, h, k) {
        b = k || 5;
        return Math.abs(e.y(this.G(0)) - c) <= b
    };
    f.lb = function () {
        var b = Gg(MA.P.lb.call(this));
        this.Rc && (b.linePattern = this.Rc);
        return Ig(b)
    };
    f.cb = function (b) {
        MA.P.cb.call(this, b);
        b = Gg(b);
        b.linePattern && (this.Rc = b.linePattern)
    };
    f.getTypeName = function () {
        return "Horizontal Line"
    };

    function NA(b, c, d) {
        P.call(this, c, d);
        this.Ad = b
    }

    B(NA, MA);
    f = NA.prototype;
    f.type = "PriceLabel";
    f.zf = 1;
    f.T = function (b, c, d, e) {
        c = G(d.y(this.G(0))) + .5;
        0 <= c && c <= e.height && (d = b.measureText(this.Ad), b.fillText(this.Ad, e.left + e.width - d.width - 20, c + 3), this.Zd(b, e.left, c, e.left + e.width - d.width - 25, c), this.Zd(b, e.left + e.width - 15, c, e.left + e.width, c))
    };
    f.lb = function () {
        var b = Gg(NA.P.lb.call(this));
        b.label = this.Ad;
        return Ig(b)
    };
    f.cb = function (b) {
        NA.P.cb.call(this, b);
        this.Ad = Gg(b).label
    };
    f.getTypeName = function () {
        return "Price Label"
    };

    function OA(b, c) {
        P.call(this, b, c)
    }

    B(OA, MA);
    f = OA.prototype;
    f.type = "PriceLevel";
    f.zf = 1;
    f.CJ = !1;
    f.T = function (b, c, d, e) {
        c = G(d.y(this.G(0))) + .5;
        if (0 <= c && c <= e.height) {
            d = this.G(0).toFixed(5);
            var h = b.measureText(d + this.hk), k = this.hk ? 5 : 0;
            b.fillText(d, e.left + e.width - b.measureText(d).width - 20, c + 2);
            b.moveTo(e.left + 5, c - 2);
            b.lineTo(e.left, c);
            b.moveTo(e.left + 5, c + 2);
            b.lineTo(e.left, c);
            b.lineTo(e.left + e.width - h.width - 25 - k, c);
            b.moveTo(e.left + e.width - 15, c);
            b.lineTo(e.left + e.width, c);
            b.moveTo(e.left + e.width - 5, c - 2);
            b.lineTo(e.left + e.width, c);
            b.moveTo(e.left + e.width - 5, c + 2);
            b.lineTo(e.left + e.width, c)
        }
    };
    f.Fl = function (b, c, d, e) {
        c = this.G(0).toFixed(5);
        return [e.left + e.width - b.measureText(c + this.hk).width - 25, d.y(this.G(0)) + 3]
    };
    f.getTypeName = function () {
        return "Price Level"
    };
    f.toString = function () {
        return OA.P.toString.call(this) + " (" + this.G(0).toFixed(5) + ")"
    };

    function PA(b, c) {
        P.call(this, b, c)
    }

    B(PA, P);
    f = PA.prototype;
    f.type = "Linear";
    f.Tc = 1;
    f.Uc = 2;

    function LA(b, c, d, e, h, k) {
        h -= d;
        k -= e;
        return ((b - d) * h + (c - e) * k) / (h * h + k * k)
    }

    function QA(b, c, d, e, h, k, l) {
        var p = h - d, q = k - e, r = p * p + q * q, t = ((b - d) * p + (c - e) * q) / r;
        switch (!0) {
            case 2 === l && 0 > t:
                return Co(b, c, d, e);
            case 2 === l && 1 < t:
            case 1 === l && 1 < t:
                return Co(b, c, h, k);
            default:
                return Math.abs((b - d) * q - (c - e) * p) / Math.sqrt(r)
        }
    }

    f.T = function (b, c, d, e) {
        if (c = this.Rn(c, d, e)) for (d = 0, e = c.length; d < e; d += 4) this.Zd(b, G(c[d + 0]) + .5, G(c[d + 1]) + .5, G(c[d + 2]) + .5, G(c[d + 3]) + .5)
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = d.x(this.getTime(0));
        var l = e.y(this.G(0));
        d = d.x(this.getTime(1));
        e = e.y(this.G(1));
        return Math.abs(QA(b, c, k, l, d, e, this.BL)) <= h
    };
    f.Rc = null;
    f.ai = function (b) {
        this.Rc = b
    };
    f.Zd = function (b, c, d, e, h) {
        null === this.Rc ? (b.moveTo(c, d), b.lineTo(e, h)) : Jn(b, c, d, e, h, this.Rc)
    };

    function RA(b, c) {
        P.call(this, b, c)
    }

    B(RA, P);
    f = RA.prototype;
    f.type = "Channel";
    f.Tc = 1;
    f.Uc = 2;
    f.Dm = function (b, c, d, e, h) {
        h = h || 5;
        for (var k = this.Rn(), l = Infinity, p = NaN, q = null, r = 0; 2 > r; r++) p = Co(b, c, d.x(k[2 * r + 0]), e.y(k[2 * r + 1])), p < h && p < l && (q = this.ba[r], l = p);
        return q
    };
    f.T = function (b, c, d) {
        var e = this.Rn();
        if (e) for (var h = 0, k = e.length; h < k; h += 4) b.moveTo(G(c.x(e[h + 0]) + .5), G(d.y(e[h + 1]) + .5)), b.lineTo(G(c.x(e[h + 2]) + .5), G(d.y(e[h + 3]) + .5))
    };
    f.Aw = function (b, c, d) {
        var e = this.Rn();
        e && (b(c.x(e[0]), d.y(e[1])), b(c.x(e[2]), d.y(e[3])))
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = this.Rn();
        if (!k) return !1;
        for (var l = 0, p = k.length; l < p; l += 4) if (Math.abs(QA(b, c, d.x(k[l + 0]), e.y(k[l + 1]), d.x(k[l + 2]), e.y(k[l + 3]), 2)) <= h) return !0;
        return !1
    };
    f.getTypeName = function () {
        return "Channel"
    };

    function SA(b, c) {
        P.call(this, b, c)
    }

    B(SA, RA);
    f = SA.prototype;
    f.type = "StdDevChannel";
    f.AJ = !1;
    f.CE = function (b) {
        return "D" === b
    };
    f.Rn = function () {
        var b = yb(this.getTime(0), this.getTime(1)), c = xb(this.getTime(0), this.getTime(1)),
            d = this.gb.X().eb().FS(b, c);
        if (0 > d.length) return null;
        var e = [], h = [], k = [], l = [[], [], [], [], [], [], [], [], [], []], p = [], q = [], r = [], t, u, x, A, C;
        C = d.length - 1;
        r[1] = C + 1;
        for (A = 1; 2 >= A; A++) {
            for (x = t = 0; x <= 0 + C; x++) t += Math.pow(x, A);
            r[A + 1] = t
        }
        for (A = 1; 2 >= A; A++) {
            for (x = t = 0; x <= 0 + C; x++) u = TA(this, d.kc(x)), t = 1 == A ? t + u : t + u * Math.pow(x, A - 1);
            p[A] = t
        }
        for (t = 1; 2 >= t; t++) for (x = 1; 2 >= x; x++) A = x + t - 1, l[x][t] = r[A];
        for (A = 1; 1 >= A; A++) {
            t = r = 0;
            for (x = A; 2 >= x; x++) Math.abs(l[x][A]) >
            t && (t = Math.abs(l[x][A]), r = x);
            if (0 == r) return null;
            if (r != A) {
                for (t = 1; 2 >= t; t++) u = l[A][t], l[A][t] = l[r][t], l[r][t] = u;
                u = p[A];
                p[A] = p[r];
                p[r] = u
            }
            for (x = A + 1; 2 >= x; x++) {
                r = l[x][A] / l[A][A];
                for (t = 1; 2 >= t; t++) l[x][t] = t == A ? 0 : l[x][t] - r * l[A][t];
                p[x] -= r * p[A]
            }
        }
        q[2] = p[2] / l[2][2];
        for (x = 1; 1 <= x; x--) for (u = 0, t = 1; t <= 2 - x; t++) u += l[x][x + t] * q[x + t], q[x] = 1 / l[x][x] * (p[x] - u);
        for (x = 0; x <= 0 + C; x++) {
            t = 0;
            for (A = 1; 1 >= A; A++) t += q[A + 1] * Math.pow(x, A);
            e[x] = q[1] + t
        }
        for (x = l = 0; x <= 0 + C; x++) l += Math.pow(TA(this, d.kc(x)) - e[x], 2);
        l = 2 * Math.sqrt(l / (C + 1));
        for (x =
                 0; x <= 0 + C; x++) h[x] = e[x] + l, k[x] = e[x] - l;
        return [b, e[0], c, e[e.length - 1], b, h[0], c, h[h.length - 1], b, k[0], c, k[k.length - 1]]
    };
    f.Fl = function (b, c, d) {
        b = this.ba[0];
        var e = this.ba[1], h = this.Rn();
        h && (b = {time: h[0], value: h[1]}, e = {time: h[2], value: h[3]});
        h = -5;
        e && (e.value > b.value && e.time > b.time || e.value < b.value && e.time < b.time) && (h = 15);
        return [c.x(b.time) + 5, d.y(b.value) + h]
    };

    function TA(b, c) {
        return c instanceof Cj ? "BID" === b.gb.X().Db() ? c.fd() : c.ed() : c.jb()
    }

    f.getTypeName = function () {
        return "Standard Deviation Channel"
    };

    function UA(b, c) {
        P.call(this, b, c);
        this.a = [.382, .5, .618, .763]
    }

    B(UA, BA);
    f = UA.prototype;
    f.type = "FiboArc";
    f.Uc = 2;
    f.T = function (b, c, d) {
        var e = c.x(this.getTime(1)), h = d.y(this.G(1));
        c = c.x(this.getTime(0));
        d = d.y(this.G(0));
        d = Math.sqrt(Math.pow(Math.abs(e - c), 2) + Math.pow(Math.abs(h - d), 2));
        c = CA(this);
        for (var k = 0, l = c.length; k < l; k++) {
            var p = d * c[k];
            b.moveTo(e + p, h);
            b.arc(e, h, p, 0, 2 * Math.PI)
        }
    };
    f.Bw = function (b, c, d, e) {
        UA.P.Bw.call(this, b, c, d, e);
        e = c.x(this.getTime(0));
        var h = d.y(this.G(0));
        c = c.x(this.getTime(1));
        d = d.y(this.G(1));
        b.save();
        b.beginPath();
        b.moveTo(e, h);
        b.lineTo(c, d);
        b.strokeStyle = this.rd();
        b.stroke();
        b.restore()
    };
    f.getTypeName = function () {
        return "FiboArc"
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = d.x(this.getTime(1));
        var l = e.y(this.G(1));
        d = d.x(this.getTime(0));
        var p = e.y(this.G(0));
        e = Math.sqrt(Math.pow(Math.abs(k - d), 2) + Math.pow(Math.abs(l - p), 2));
        if (Math.abs(QA(b, c, k, l, d, p, 2)) <= h) return !0;
        d = CA(this);
        for (var p = 0, q = d.length; p < q; p++) {
            var r = e * d[p], t = (b - k) * (b - k), u = (c - l) * (c - l), x = r - h, r = r + h;
            if (1 <= t / (x * x) + u / (x * x) && 1 >= t / (r * r) + u / (r * r)) return !0
        }
        return !1
    };
    f.Sg = function () {
        UA.P.Sg.call(this);
        E(this.g, function (b, c) {
            this.g[c].BX(0, 100, .01)
        }, this)
    };

    function VA(b, c) {
        P.call(this, b, c);
        this.a = [.618, 1, 1.618, 2.618, 4.236]
    }

    B(VA, BA);
    f = VA.prototype;
    f.type = "FiboExpansion";
    f.rL = function () {
        return 2 <= this.ba.length
    };
    f.Uc = 3;
    f.jn = Hc.Ej;
    f.T = function (b, c, d, e) {
        var h = this.G(0), k = this.G(1), l = d.y(h), p = d.y(k), q = c.x(this.getTime(0)), r = c.x(this.getTime(1));
        b.setLineDash(this.pr());
        b.moveTo(q, l);
        b.lineTo(r, p);
        if (null != this.Nd(2)) {
            var t = this.G(2);
            d = d.y(this.G(2));
            var u = c.x(this.getTime(2));
            b.moveTo(r, p);
            b.lineTo(u, d);
            c = Math.min(q, r, u);
            q = Math.max(q, r, u);
            l = p - l;
            r = q - c;
            h = k - h;
            k = this.ga().X().ma().$c();
            p = CA(this);
            q = Math.min(e.left + e.width, c + 3 * r);
            e = Math.min(e.left + e.width - 5, c + 3 * r);
            b.textAlign = "right";
            b.textBaseline = "bottom";
            b.fillStyle = this.color;
            r = 0;
            for (u = p.length; r < u; r++) {
                var x = p[r], A = Math.round(d + l * x) + .5, C = t + h * x;
                b.moveTo(c, A);
                b.lineTo(q, A);
                x = (100 * x).toFixed(2) + " % (" + C.toFixed(k) + ")";
                b.fillText(x, e, A)
            }
        }
    };
    f.Bw = function (b, c, d, e) {
        var h = d.y(this.G(0)), k = c.x(this.getTime(0)), l = d.y(this.G(1)), p = c.x(this.getTime(1));
        b.fillStyle = this.rd();
        b.beginPath();
        for (var q = v(this.Jt, this, b), r = 0, t = Math.min(3, this.ba.length); r < t; r++) {
            var u = c.x(this.getTime(r)), x = d.y(this.G(r));
            q(u, x)
        }
        if (null != this.Nd(2)) for (d = d.y(this.G(2)), r = c.x(this.getTime(2)), c = Math.min(k, p, r), k = Math.max(k, p, r), h = l - h, k -= c, l = CA(this), e = Math.min(e.left + e.width, c + 3 * k), e = c + (e - c) / 2, k = 0, p = l.length; k < p; k++) c = Math.round(d + h * l[k]) + .5, q(e, c);
        b.fill()
    };
    f.getTypeName = function () {
        return "FiboExpansion"
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = e.y(this.G(0));
        var l = d.x(this.getTime(0)), p = e.y(this.G(1)), q = d.x(this.getTime(1));
        if (Math.abs(QA(b, c, l, k, q, p, 2)) <= h) return !0;
        if (2 < this.ba.length) {
            e = e.y(this.G(2));
            var r = d.x(this.getTime(2));
            if (Math.abs(QA(b, c, q, p, r, e, 2)) <= h) return !0;
            d = Math.min(l, q, r);
            l = Math.max(l, q, r);
            k = p - k;
            l -= d;
            p = CA(this);
            q = this.gb.X().pa;
            r = ru(WA(this.ga(), this)).width;
            l = Math.min(q + r, d + 3 * l);
            q = 0;
            for (r = p.length; q < r; q++) {
                var t = Math.round(e + k * p[q]) + .5;
                if (Math.abs(QA(b, c, d, t, l, t, 2)) <= h) return !0
            }
        }
        return !1
    };
    f.Dm = function (b, c, d, e, h) {
        h = h || 5;
        for (var k = this.ba, l = Infinity, p = NaN, q = null, r = 0; 3 > r; r++) p = Co(b, c, d.x(this.getTime(r)), e.y(this.G(r))), p < h && p < l && (q = k[r], l = p);
        var r = e.y(this.G(0)), p = d.x(this.getTime(0)), t = e.y(this.G(1)), u = d.x(this.getTime(1));
        e = e.y(this.G(2));
        var x = d.x(this.getTime(2));
        d = Math.min(p, u, x);
        for (var p = Math.max(p, u, x), r = t - r, p = p - d, t = this.a, u = this.gb.X().pa, x = ru(WA(this.ga(), this)).width, u = Math.min(u + x, d + 3 * p), x = 0, A = t.length; x < A; x++) DA(this)[x] && (p = Math.round(e + r * t[x]) + .5, p = QA(b, c, d, p, u, p, 2),
        p < h && p < l && (q = k[x + 3], l = p));
        return q
    };
    f.jr = function () {
        return [this.ba[0], this.ba[1], this.ba[2]]
    };
    f.Yj = function (b, c) {
        this.Vm(oA.Wo);
        XA(this, c);
        this.Kj = !0
    };

    function XA(b, c) {
        var d = b.ba;
        if (!(3 > d.length)) {
            var e = c.y(b.G(0)), h = c.y(b.G(1)), k = c.y(b.G(2)), e = h - e, h = b.a;
            d.length = h.length + 3;
            for (var l = 0, p = h.length; l < p; l++) {
                var q = Math.round(k + e * h[l]) + .5;
                d[l + 3] = {time: NaN, value: c.qc(q)}
            }
            uA(b)
        }
    }

    f.ee = function (b, c, d) {
        b = ai(this.ba, d);
        switch (b) {
            case -1:
                break;
            case 0:
                XA(this, c);
                break;
            case 1:
                XA(this, c);
                break;
            case 2:
                XA(this, c);
                break;
            default:
                d = c.y(this.G(0));
                var e = c.y(this.G(1)), h = c.y(this.G(2));
                c = c.y(this.G(b));
                this.a[b - 3] = ((c - h) / (e - d)).toFixed(3);
                this.g && this.g[b - 3].V(this.a[b - 3])
        }
        uA(this)
    };
    f.cb = function (b) {
        VA.P.cb.call(this, b);
        Gg(b).strokeLineStyle || (this.jn = Hc.Ej)
    };

    function YA(b, c) {
        P.call(this, b, c);
        this.a = [0, .236, .382, .5, .618, 1]
    }

    B(YA, BA);
    f = YA.prototype;
    f.type = "FiboFan";
    f.Uc = 2;
    f.T = function (b, c, d, e) {
        var h = c.x(this.getTime(0)), k = d.y(this.G(0));
        c = c.x(this.getTime(1));
        var l = d.y(this.G(1));
        this.Zd(b, h, k, c, l);
        if (h != c) {
            d = c - h;
            for (var l = l - k, p = CA(this), q = 0, r = p.length; q < r; q++) {
                var t = p[q];
                if (-1 != t && 0 != t && 1 != t) {
                    var u = l * (1 - t) / d, x = 0 < d ? e.left + e.width : e.left;
                    this.Zd(b, h, k + (h - h) * u, x, k + (x - h) * u);
                    var x = b, A = k, C = c, u = A + (C - h) * u;
                    x.save();
                    x.fillStyle = this.color;
                    x.textBaseline = u < A ? "top" : "bottom";
                    x.fillText(t, C + 5, u);
                    x.restore()
                }
            }
        }
    };
    f.Rc = null;
    f.ai = function (b) {
        this.Rc = b
    };
    f.Zd = function (b, c, d, e, h) {
        null === this.Rc ? (b.moveTo(c, d), b.lineTo(e, h)) : Jn(b, c, d, e, h, this.Rc)
    };
    f.getTypeName = function () {
        return "FiboFan"
    };
    f.ec = function (b, c, d, e, h, k) {
        k = k || 5;
        var l = d.x(this.getTime(0)), p = e.y(this.G(0));
        d = d.x(this.getTime(1));
        var q = e.y(this.G(1));
        e = this.gb.X().pa;
        if (Math.abs(QA(b, c, l, p, d, q, 2)) <= k) return !0;
        if (l != d) {
            d -= l;
            for (var q = q - p, r = CA(this), t = 0, u = r.length; t < u; t++) {
                var x = r[t], A;
                if (A = -1 != x && 0 != x && 1 != x) x = q * (1 - x) / d, A = 0 < d ? e + h.width : e, A = Math.abs(QA(b, c, l, p + (l - l) * x, A, p + (A - l) * x, 2)) <= k;
                if (A) return !0
            }
        }
        return !1
    };

    function ZA(b, c) {
        P.call(this, b, c);
        this.a = [0, .236, .382, .5, .618, 1, 1.618, 2.618, 4.236]
    }

    B(ZA, BA);
    f = ZA.prototype;
    f.type = "FiboRetracements";
    f.Uc = 2;
    f.T = function (b, c, d, e) {
        var h = this.G(0), k = this.G(1), l = d.y(h);
        d = d.y(k);
        c = c.x(Math.min(this.getTime(0), this.getTime(1)));
        e = e.left + e.width;
        l = l - d;
        h -= k;
        b.textAlign = "right";
        b.textBaseline = "bottom";
        b.fillStyle = this.color;
        for (var p = this.ga().X().ma().$c(), q = CA(this), r = 0, t = q.length; r < t; r++) {
            var u = q[r], x = Math.round(d + l * u) + .5, A = k + h * u;
            b.moveTo(c, x);
            b.lineTo(e, x);
            u = (100 * u).toFixed(2) + " % (" + A.toFixed(p) + ")";
            b.fillText(u, e - 5, x)
        }
    };
    f.Bw = function (b, c, d, e) {
        var h = d.y(this.G(0)), k = d.y(this.G(1)), l = c.x(Math.min(this.getTime(0), this.getTime(1)));
        c.x(Math.max(this.getTime(0), this.getTime(1)));
        b.strokeStyle = this.rd();
        b.fillStyle = this.rd();
        b.beginPath();
        this.getTime(0) < this.getTime(1) ? Jn(b, c.x(this.getTime(0)), d.y(this.G(0)), c.x(this.getTime(1)), d.y(this.G(1)), [2, 5]) : Jn(b, c.x(this.getTime(1)), d.y(this.G(1)), c.x(this.getTime(0)), d.y(this.G(0)), [2, 5]);
        b.stroke();
        for (var p = v(this.Jt, this, b), q = this.ba, r, t, u = 0; 2 > u; u++) r = c.x(this.getTime(u)),
            t = d.y(this.G(u)), p(r, t);
        c = h - k;
        d = CA(this);
        e = l + (e.left + e.width - l) / 2;
        l = 2;
        for (q = q.length; l < q; l++) t = Math.round(k + c * d[l - 2]) + .5, p(e, t);
        b.fill()
    };
    f.getTypeName = function () {
        return "FiboRetracements"
    };
    f.ec = function (b, c, d, e, h, k) {
        k = k || 5;
        var l = e.y(this.G(0));
        e = e.y(this.G(1));
        var p = d.x(this.getTime(0));
        d = d.x(this.getTime(1));
        if (Math.abs(QA(b, c, p, l, d, e, 2)) <= k) return !0;
        var l = l - e, q = CA(this);
        h = this.gb.X().pa + h.left + h.width;
        for (var r = 0, t = q.length; r < t; r++) {
            var u = e + Math.round(l * q[r]) + .5;
            if (Math.abs(QA(b, c, Math.min(p, d), u, h, u, 2)) <= k) return !0
        }
        return !1
    };
    f.Dm = function (b, c, d, e, h) {
        h = h || 5;
        for (var k = this.ba, l = Infinity, p = NaN, q = null, r = 0; 2 > r; r++) if (p = Co(b, c, d.x(this.getTime(r)), e.y(this.G(r))), p < h && p < l) return q = k[r];
        p = e.y(this.G(0));
        e = e.y(this.G(1));
        r = d.x(Math.min(this.getTime(0), this.getTime(1)));
        d.x(Math.max(this.getTime(0), this.getTime(1)));
        d = p - e;
        for (var t = this.a, u = this.gb.X().pa + ru(WA(this.ga(), this)).width, x = 2, A = k.length; x < A; x++) DA(this)[x - 2] && (p = e + Math.round(d * t[x - 2]), p = QA(b, c, r, p, u, p, 2), p < h && p < l && (q = k[x], l = p));
        return q
    };
    f.jr = function () {
        return [this.ba[0], this.ba[1]]
    };
    f.Yj = function (b, c) {
        this.Vm(oA.Wo);
        $A(this, c);
        this.Kj = !0
    };

    function $A(b, c) {
        if (c) {
            var d = c.y(b.G(0)), e = c.y(b.G(1)), e = d - e, h = b.a, k = b.ba;
            k.length = h.length + 2;
            for (var l = 0, p = h.length; l < p; l++) k[l + 2] = {time: NaN, value: c.qc(d + e * h[l])};
            uA(b)
        }
    }

    f.ee = function (b, c, d) {
        b = ai(this.ba, d);
        switch (b) {
            case -1:
                break;
            case 0:
                $A(this, c);
                break;
            case 1:
                $A(this, c);
                break;
            default:
                d = c.y(this.G(0));
                var e = c.y(this.G(1));
                c = c.y(this.G(b));
                this.a[b - 2] = ((c - e) / (d - e)).toFixed(3);
                this.g && this.g[b - 2].V(this.a[b - 2])
        }
        uA(this)
    };

    function aB(b, c) {
        P.call(this, b, c);
        this.a = [0, .01, .02, .03, .05, .08, .13, .21, .34, .55, .89]
    }

    B(aB, BA);
    f = aB.prototype;
    f.type = "FiboTimeZones";
    f.Uc = 2;
    f.jn = Hc.Ej;
    f.T = function (b, c, d, e) {
        var h = d.y(this.G(0)) + .5;
        d = c.x(this.getTime(0)) + .5;
        var k = c.x(this.getTime(1)) + .5;
        c = k - d;
        b.setLineDash(this.pr());
        b.moveTo(d, h);
        b.lineTo(k, h);
        b.fillStyle = this.color;
        b.textBaseline = "middle";
        for (var h = CA(this), k = ru(WA(this.ga(), this)).height / 2, l = 0, p = h.length; l < p; l++) {
            var q = h[l], r = d + Math.round(c * q * 100);
            b.moveTo(r, e.top);
            b.lineTo(r, e.top + e.height);
            b.fillText((100 * q).toFixed(2), r + 5, k)
        }
    };
    f.Bw = function (b, c, d) {
        b.fillStyle = this.rd();
        b.beginPath();
        for (var e = v(this.Jt, this, b), h = this.ba, k, l, p = 0; 2 > p; p++) k = h[p], l = c.x(k.time), k = d.y(k.value), e(l, k);
        d = c.x(this.getTime(0));
        c = c.x(this.getTime(1)) - d;
        l = CA(this);
        p = ru(WA(this.ga(), this)).height / 2;
        k = 2;
        for (h = h.length; k < h; k++) {
            var q = d + Math.round(c * l[k - 2] * 100);
            e(q, p)
        }
        b.fill()
    };
    f.getTypeName = function () {
        return "FiboTimeZones"
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = d.x(this.getTime(0));
        var l = e.y(this.G(0));
        d = d.x(this.getTime(1));
        e = e.y(this.G(1));
        if (Math.abs(QA(b, c, k, l, d, e, 2)) <= h) return !0;
        c = d - k;
        e = CA(this);
        d = 0;
        for (l = e.length; d < l; d++) {
            var p = k + c * e[d] * 100;
            if (b - h <= p && p <= b + h) return !0
        }
        return !1
    };
    f.Dm = function (b, c, d, e, h) {
        h = h || 5;
        for (var k = this.ba, l = Infinity, p = NaN, q = null, r = 0; 2 > r; r++) p = Co(b, c, d.x(this.getTime(r)), e.y(this.G(r))), p < h && p < l && (q = k[r], l = p);
        c = d.x(this.getTime(0));
        d = d.x(this.getTime(1)) - c;
        e = this.a;
        for (var r = 2, t = k.length; r < t; r++) DA(this)[r - 2] && (p = Math.abs(b - (c + d * e[r - 2] * 100)), p < h && p < l && (q = k[r], l = p));
        return q
    };
    f.jr = function () {
        return [this.ba[0], this.ba[1]]
    };
    f.Yj = function (b) {
        this.Vm(oA.Wo);
        bB(this, b);
        this.Kj = !0
    };

    function bB(b, c) {
        var d = c.x(b.getTime(0)), e = c.x(b.getTime(1)) - d;
        c.W();
        var h = b.a, k = b.ba;
        k.length = h.length + 2;
        for (var l = 0, p = h.length; l < p; l++) k[l + 2] = {time: c.t(d + e * h[l] * 100), value: NaN};
        uA(b)
    }

    f.ee = function (b, c, d) {
        c = ai(this.ba, d);
        switch (c) {
            case -1:
                break;
            case 0:
                this.V(1, this.G(0));
                bB(this, b);
                break;
            case 1:
                this.V(0, this.G(1));
                bB(this, b);
                break;
            default:
                d = b.x(this.getTime(0));
                var e = b.x(this.getTime(1));
                b = b.x(this.getTime(c));
                this.a[c - 2] = ((b - d) / (e - d) / 100).toFixed(3);
                this.g && this.g[c - 2].V(this.a[c - 2])
        }
        uA(this)
    };
    f.cb = function (b) {
        aB.P.cb.call(this, b);
        Gg(b).strokeLineStyle || (this.jn = Hc.Ej)
    };

    function cB(b, c) {
        P.call(this, b, c)
    }

    B(cB, PA);
    cB.prototype.type = "Line";
    cB.prototype.BL = 0;
    cB.prototype.Rn = function (b, c, d) {
        var e = b.x(this.getTime(0)), h = c.y(this.G(0));
        b = b.x(this.getTime(1));
        c = c.y(this.G(1));
        var k, l;
        switch (!0) {
            case e >= b && h >= c:
            case e <= b && h <= c:
                k = LA(d.left, d.top, e, h, b, c);
                l = LA(d.left + d.width, d.top + d.height, e, h, b, c);
                break;
            case e >= b && h <= c:
            case e <= b && h >= c:
                k = LA(d.left, d.top + d.height, e, h, b, c), l = LA(d.left + d.width, d.top, e, h, b, c)
        }
        return [Gc(e, b, k), Gc(h, c, k), Gc(e, b, l), Gc(h, c, l)]
    };
    cB.prototype.getTypeName = function () {
        return "Line"
    };

    function dB(b, c) {
        P.call(this, b, c)
    }

    B(dB, PA);
    f = dB.prototype;
    f.type = "LinearChannel";
    f.Tc = 1;
    f.Uc = 2;
    f.zg = function () {
        return 3 == this.ba.length
    };
    f.Ez = function () {
        return this.ba.length >= this.Uc
    };
    f.Rn = function (b, c, d) {
        var e = b.x(this.getTime(0)), h = c.y(this.G(0)), k = b.x(this.getTime(1)), l = c.y(this.G(1)), p = [];
        eB(e, h, k, l, d, p);
        3 == this.ba.length && (l = b.x(this.getTime(2)) - b.x(this.getTime(0)), k = this.G(2) - this.G(0), e = b.x(this.getTime(2)), h = c.y(this.G(2)), b = b.x(this.getTime(1)) + l, c = c.y(this.G(1) + k), eB(e, h, b, c, d, p));
        return p
    };

    function eB(b, c, d, e, h, k) {
        var l, p;
        switch (!0) {
            case b >= d && c >= e:
            case b <= d && c <= e:
                l = LA(h.left, h.top, b, c, d, e);
                p = LA(h.left + h.width, h.top + h.height, b, c, d, e);
                break;
            case b >= d && c <= e:
            case b <= d && c >= e:
                l = LA(h.left, h.top + h.height, b, c, d, e), p = LA(h.left + h.width, h.top, b, c, d, e)
        }
        k.push(G(Gc(b, d, l)) + .5, G(Gc(c, e, l)) + .5, G(Gc(b, d, p)) + .5, G(Gc(c, e, p)) + .5)
    }

    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = r = d.x(this.getTime(0));
        var l = t = e.y(this.G(0)), p = u = d.x(this.getTime(1)), q = x = e.y(this.G(1));
        if (3 == this.ba.length) var r = d.x(this.getTime(2)), t = e.y(this.G(2)), u = p + (r - k), x = q + (t - l);
        return Math.abs(QA(b, c, k, l, p, q, 0)) <= h || Math.abs(QA(b, c, r, t, u, x, 0)) <= h
    };
    f.getTypeName = function () {
        return "Linear Channel"
    };

    function fB(b, c) {
        P.call(this, b, c)
    }

    B(fB, PA);
    fB.prototype.type = "Ray";
    fB.prototype.BL = 1;
    fB.prototype.Rn = function (b, c, d) {
        var e = b.x(this.getTime(0)), h = c.y(this.G(0));
        b = b.x(this.getTime(1));
        c = c.y(this.G(1));
        var k;
        switch (!0) {
            case e >= b && h >= c:
                k = LA(d.left + d.width, d.top + d.height, e, h, b, c);
                break;
            case e <= b && h <= c:
                k = LA(d.left, d.top, e, h, b, c);
                break;
            case e >= b && h <= c:
                k = LA(d.left + d.width, d.top, e, h, b, c);
                break;
            case e <= b && h >= c:
                k = LA(d.left, d.top + d.height, e, h, b, c)
        }
        return [Gc(e, b, k), Gc(h, c, k), b, c]
    };
    fB.prototype.getTypeName = function () {
        return "Ray"
    };

    function gB(b, c) {
        P.call(this, b, c)
    }

    B(gB, PA);
    gB.prototype.type = "Segment";
    gB.prototype.BL = 2;
    gB.prototype.Rn = function (b, c) {
        return [b.x(this.getTime(0)), c.y(this.G(0)), b.x(this.getTime(1)), c.y(this.G(1))]
    };
    gB.prototype.getTypeName = function () {
        return "Segment"
    };

    function hB(b, c) {
        this.Dt = [];
        iB(this);
        P.call(this, b, c)
    }

    B(hB, P);
    hB.prototype.type = "PitchFork";
    var jB = {O2: "Original", X2: "Schiff", uZ: "Modified Schiff", nZ: "Inside"};
    f = hB.prototype;
    f.zf = 1;
    f.Uc = 2;
    f.Tc = P.prototype.Tc ^ 2;
    f.T = function (b, c, d, e) {
        var h = {
            cd: c.x(this.getTime(0)),
            Xc: d.y(this.G(0)),
            vf: c.x(this.getTime(1)),
            af: d.y(this.G(1)),
            cl: c.x(this.getTime(this.ba.length - 1)),
            dl: d.y(this.G(this.ba.length - 1))
        };
        h.ih = (h.cl + h.vf) / 2;
        h.jh = (h.dl + h.af) / 2;
        h.fm = Fc(h.cd, h.Xc, h.ih, h.jh, e);
        this.ac.pi = [];
        this.ac.T(b, e, this.ba, h);
        kB(this, b, e, c, d);
        lB(this, b, c, d)
    };
    f.uj = function (b) {
        hB.P.uj.call(this, b);
        for (var c = b.length; 0 < c--;) this.Dt[c] = b[c];
        this.Dt[b.length] = b[0]
    };
    f.Gf = function (b) {
        hB.P.Gf.call(this, b);
        this.zg() && this.uj(this.ba)
    };
    f.hz = function () {
        return this.Dt
    };
    f.getTypeName = function () {
        return "Andrew's Pitchfork"
    };
    f.zg = function () {
        if (3 <= this.ba.length) return !0
    };
    f.ec = function (b, c, d, e, h, k) {
        d = k || 5;
        e = this.ac.DD();
        h = Infinity;
        if (!ia(e)) return !1;
        for (var l in e) if (e.hasOwnProperty(l)) {
            k = e[l][0];
            var p = e[l][1], q = e[l][2], r = e[l][3], t = q - k, u = r - p, x = t * t + u * u,
                A = ((b - k) * t + (c - p) * u) / x;
            switch (!0) {
                case 0 <= A && 1 >= A:
                    h = Math.abs((b - k) * u - (c - p) * t) / Math.sqrt(x);
                    break;
                case 0 > A:
                    h = Co(b, c, k, p);
                    break;
                case 1 < A:
                    h = Co(b, c, q, r)
            }
            if (h <= d) return !0
        }
        return !1
    };

    function lB(b, c, d, e) {
        E(b.ba, function (b, k) {
            if (this.zg() || k != this.ba.length - 1) c.beginPath(), c.lineWidth = 2, c.fillStyle = "white", c.arc(d.x(this.getTime(k)), e.y(this.G(k)), 5, 0, 2 * Math.PI, !1), c.fill(), c.stroke(), c.closePath()
        }, b)
    }

    function kB(b, c, d, e, h) {
        E(b.ba, function (b) {
            var l = b.time;
            b = b.value;
            var p = b.toFixed(5).toString().length + 4, q = this.ga().X().fa().j.hd / 2 | 0, l = G(e.x(l)),
                r = G(h.y(b)) + 10;
            l - q * p <= d.left && (l += q * (p + 2));
            r + 10 >= d.height && (r = r - 2 * q + 3 - 15);
            c.save();
            c.beginPath();
            c.textBaseline = "middle";
            c.fillStyle = Ic(this.Jb(), this.zf);
            c.shadowColor = "rgba(50,50,50,1)";
            c.shadowBlur = 1;
            c.shadowOffsetX = 1;
            c.shadowOffsetY = 1;
            c.fillRect(l - q * p, r - q - 1, q * (p - 2), 2 * q + 3);
            c.fillStyle = "white";
            c.textAlign = "center";
            c.fillText(b.toFixed(5), l - q * p + q * (p - 2) /
                2, r + 1);
            c.closePath();
            c.restore()
        }, b)
    }

    f.N = function () {
        var b = Hc.Px;
        this.j || (this.j = {
            mD: jB.O2,
            Gz: {1: !1, 2: !1, 3: !1, 4: !1, 5: !1, 6: !0, 7: !1, 8: !1, 9: !1},
            aA: {1: 1.25, 2: .382, 3: .5, 4: .618, 5: .75, 6: 1, 7: 1.5, 8: 1.75, 9: 4},
            my: {
                1: "#A50000",
                2: "#A06B00",
                3: "#699E00",
                4: "#009B00",
                5: "#009965",
                6: "#006599",
                7: "#00FFFF",
                8: "#660099",
                9: "#FFFF00"
            },
            opacity: {1: .35, 2: .35, 3: .35, 4: .35, 5: .35, 6: .35, 7: .35, 8: .35, 9: .35},
            Ii: {1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1},
            jB: {1: b, 2: b, 3: b, 4: b, 5: b, 6: b, 7: b, 8: b, 9: b}
        });
        return this.j
    };
    f.Yt = function (b) {
        hB.P.Yt.call(this, b);
        this.ac && this.ac.Yt(this.Gv())
    };

    function iB(b) {
        switch (b.N().mD) {
            case jB.X2:
                b.ac = new Nc(b.N());
                break;
            case jB.uZ:
                b.ac = new Mc(b.N());
                break;
            case jB.nZ:
                b.ac = new Kc(b.N());
                break;
            default:
                b.ac = new Jc(b.N())
        }
        b.ac.Yt(b.Gv())
    }

    f.Sg = function () {
        var b = y("MSG_STYLE", {}, "Pitchfork style"), c = y("MSG_MEDIAN", {}, "Median");
        hB.P.Sg.call(this);
        this.Uy = new xv("forkStyle", b, null, this.N().mD);
        this.Uy.Xe(Ta(jB), Ta(jB));
        this.kd.Xa(this.Uy);
        this.S().C(this.Uy, "change", function () {
            var b = this.Uy.G();
            this.N().mD = b;
            iB(this)
        });
        this.a = [];
        for (b = 1; 9 >= b; ++b) this.a[b] = new uv("median" + b, c + " " + b, null, this.N().Gz[b]), this.a[b].FA(this.N().aA[b]), this.a[b].Ab(this.N().my[b]), this.a[b].Sk(this.N().opacity[b]), this.a[b].Zt(this.N().Ii[b]), this.a[b].yG(this.N().jB[b]),
            this.kd.Xa(this.a[b]);
        E(this.a, function (b, c) {
            this.S().C(b, ["update", "change"], function () {
                this.N().Gz[c] = b.G();
                this.N().aA[c] = b.qM;
                this.N().my[c] = b.Jb();
                this.N().opacity[c] = b.Fm();
                this.N().Ii[c] = b.hg();
                this.N().jB[c] = b.rd();
                iB(this)
            })
        }, this)
    };
    f.lb = function () {
        var b = Gg(hB.P.lb.call(this));
        jh(b, {forkStyle: this.N().mD});
        for (var c = 1; 9 >= c; ++c) {
            var d = {};
            d["median" + c] = this.N().Gz[c];
            d["positionValues" + c] = this.N().aA[c];
            d["colors" + c] = this.N().my[c];
            d["opacity" + c] = this.N().opacity[c];
            d["strokeWidth" + c] = this.N().Ii[c];
            d["strokeStyles" + c] = this.N().jB[c];
            jh(b, d)
        }
        return Ig(b)
    };
    f.cb = function (b) {
        hB.P.cb.call(this, b);
        b = Gg(b);
        if (this.vh) {
            this.Uy.V(b.forkStyle);
            for (var c = 1; 9 >= c; ++c) this.a[c].V(b["median" + c]), this.a[c].FA(b["positionValues" + c]), this.a[c].Ab(b["colors" + c]), this.a[c].Sk(b["opacity" + c]), this.a[c].Zt(b["strokeWidth" + c]), this.a[c].yG(b["strokeStyles" + c])
        } else for (c = 1; 9 >= c; ++c) this.N().Gz[c] = b["median" + c], this.N().aA[c] = b["positionValues" + c], this.N().my[c] = b["colors" + c], this.N().opacity[c] = b["opacity" + c], this.N().Ii[c] = b["strokeWidth" + c], this.N().jB[c] = b["strokeStyles" +
        c]
    };

    function Fc(b, c, d, e, h) {
        if (b >= d && c >= e) return LA(h.left - 150, h.top - 150, b, c, d, e);
        if (b <= d && c <= e) return LA(h.left + h.width + 150, h.top + h.height + 150, b, c, d, e);
        if (b >= d && c <= e) return LA(h.left - 150, h.top + h.height + 150, b, c, d, e);
        if (b <= d && c >= e) return LA(h.left + h.width + 150, h.top - 150, b, c, d, e)
    }

    function Ic(b, c) {
        return Fn(parseInt(b.substr(1, 2), 16), parseInt(b.substr(3, 2), 16), parseInt(b.substr(5, 2), 16), c)
    };

    function mB(b, c) {
        P.call(this, b, c)
    }

    B(mB, P);
    f = mB.prototype;
    f.type = "Polyline";
    f.Tc = P.prototype.Tc ^ 2;
    f.Uc = 2;
    f.Gf = function (b) {
        if (this.ba.length - 1 > this.Uc) {
            var c = this.ba[this.ba.length - 2], d = qA(this);
            if ($m(b.time, c.time, d.time) && $m(b.value, c.value, d.value)) {
                this.oh = !0;
                this.ba.pop();
                return
            }
        }
        mB.P.Gf.call(this, b);
        uA(this)
    };
    f.oh = !1;
    f.zg = function () {
        return this.oh
    };
    f.Ez = function () {
        return this.ba.length >= this.Uc
    };
    f.T = function (b, c, d) {
        this.Tc & 2 && nB(this, b, c, d);
        this.Tc & 1 && oB(this, b, c, d)
    };

    function nB(b, c, d, e) {
        c.moveTo(d.x(b.getTime(0)), e.y(b.G(0)));
        for (var h = 0, k = b.ba.length; h < k; h++) c.lineTo(d.x(b.getTime(h)), e.y(b.G(h)))
    }

    function oB(b, c, d, e) {
        for (var h = d.x(b.getTime(0)), k = e.y(b.G(0)), l = 0, p = b.ba.length; l < p; l++) {
            var q = d.x(b.getTime(l)), r = e.y(b.G(l));
            b.Zd(c, h, k, q, r);
            h = q;
            k = r
        }
    }

    f.hz = function () {
        return this.ba
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        var l;
        k = this.hz();
        for (var p = k.length - 1; 0 < p--;) {
            var q = d.x(k[p].time), r = e.y(k[p].value), t = d.x(k[p + 1].time), u = e.y(k[p + 1].value), x = t - q,
                A = u - r, C = x * x + A * A, I = ((b - q) * x + (c - r) * A) / C;
            switch (!0) {
                case 0 <= I && 1 >= I:
                    l = Math.abs((b - q) * A - (c - r) * x) / Math.sqrt(C);
                    break;
                case 0 > I:
                    l = Co(b, c, q, r);
                    break;
                case 1 < I:
                    l = Co(b, c, t, u)
            }
            if (l <= h) return !0
        }
        return !1
    };
    f.cb = function (b) {
        mB.P.cb.call(this, b);
        this.oh = !0
    };
    f.getTypeName = function () {
        return "Polyline"
    };
    f.Rc = null;
    f.ai = function (b) {
        this.Rc = b
    };
    f.Zd = function (b, c, d, e, h) {
        null === this.Rc ? (b.moveTo(c, d), b.lineTo(e, h)) : Jn(b, c, d, e, h, this.Rc)
    };

    function pB(b, c) {
        this.Dt = [];
        P.call(this, b, c)
    }

    B(pB, mB);
    f = pB.prototype;
    f.type = "Polygon";
    f.Tc = P.prototype.Tc;
    f.T = function (b, c, d) {
        this.Tc & 2 && (nB(this, b, c, d), b.closePath(), b.fill());
        if (this.Tc & 1) {
            b.beginPath();
            oB(this, b, c, d);
            var e = c.x(this.getTime(this.ba.length - 1)), h = d.y(this.G(this.ba.length - 1));
            c = c.x(this.getTime(0));
            d = d.y(this.G(0));
            this.Zd(b, e, h, c, d);
            b.stroke()
        }
        return !0
    };
    f.uj = function (b) {
        pB.P.uj.call(this, b);
        for (var c = b.length; 0 < c--;) this.Dt[c] = b[c];
        this.Dt[b.length] = b[0]
    };
    f.Gf = function (b) {
        pB.P.Gf.call(this, b);
        this.zg() && this.uj(this.ba)
    };
    f.hz = function () {
        return this.Dt
    };
    f.getTypeName = function () {
        return "Polygon"
    };

    function qB(b, c) {
        pB.call(this, b, c)
    }

    B(qB, pB);
    qB.prototype.type = "Triangle";
    qB.prototype.Gf = function (b) {
        this.ba.length >= this.Uc && (this.oh = !0);
        this.ba.push(b);
        uA(this);
        this.zg() && this.uj(this.ba)
    };
    qB.prototype.getTypeName = function () {
        return "Triangle"
    };

    function rB(b, c) {
        P.call(this, null, c);
        null != b && this.Gf({time: 0, value: b});
        this.w = this.m = !1;
        this.g = null;
        this.color = "#9B7F1B";
        this.a = !1;
        this.F = null
    }

    B(rB, MA);
    f = rB.prototype;
    f.Xh = function (b) {
        rB.P.Xh.call(this, b);
        b = this.ga() ? this.ga().X() : null;
        this.S().wa(b, Mx, this.kR).C(b, Mx, this.kR)
    };
    f.kR = function () {
        this.a && this.dispatchEvent(sB.KB)
    };
    f.type = "PriceAlert";
    f.gw = !1;
    f.zf = 1;
    f.Vu = !1;
    f.eh = !0;
    f.dw = !1;
    f.Wm = !0;
    f.yB = !0;
    f.CJ = !1;
    f.sg = .6;
    var sB = {Kx: "pricealertchange", Ox: "pricealertremove", KB: "pricealertdblclick"};
    f = rB.prototype;
    f.Uk = function (b) {
        this.Nd(0) ? this.V(0, b) : this.Gf({time: 0, value: b});
        this.dispatchEvent(sB.Kx)
    };
    f.gf = function () {
        return this.Nd(0) ? this.G(0) : null
    };
    f.ec = function (b, c, d, e, h, k) {
        var l = this.ga() ? this.ga().X() : null;
        if (!l) return !1;
        var p = l.R;
        c = rB.P.ec.call(this, b, c, d, e, h, k);
        this.m = this.a || c;
        K.enable(p, "a-b-g-h-i-k", c && 15 > Math.abs(b - l.pa - 11));
        return c
    };
    f.rd = function () {
        return Mn(this.color, this.m ? 1 : this.sg)
    };
    f.pr = function () {
        return [6 * this.hg(), 3 * this.hg()]
    };
    f.dv = function (b, c, d, e) {
        rB.P.dv.call(this, b, c, d, e);
        this.w = !0
    };
    f.Vm = function (b) {
        rB.P.Vm.call(this, b);
        this.w = !1;
        this.g = this.gf();
        this.dispatchEvent(sB.Kx)
    };
    f.fM = function () {
        this.a = !0
    };
    f.hM = function () {
        this.a = !1
    };
    f.T = function (b, c, d, e) {
        c = G(d.y(this.G(0))) + .5;
        var h = 24;
        0 <= c && c <= e.height && (b.beginPath(), b.save(), b.strokeStyle = this.rd(), b.setLineDash(this.pr()), b.moveTo(e.left, c), b.lineTo(e.left + e.width, c), b.stroke(), b.restore(), b.closePath());
        if (this.w && this.g) {
            var k = G(d.y(this.g)) + .5;
            d = G(d.y(this.G(0))) + .5;
            0 <= k && k <= e.height && (b.beginPath(), b.save(), b.strokeStyle = Mn(this.color, .4), b.setLineDash(this.pr()), b.moveTo(e.left, k), b.lineTo(e.left + e.width, k), b.stroke(), b.restore(), b.closePath());
            b.beginPath();
            b.save();
            b.strokeStyle = this.rd();
            b.setLineDash(this.pr());
            b.moveTo(e.left + 10.5, k);
            b.lineTo(e.left + 10.5, d);
            b.stroke();
            b.restore();
            b.closePath();
            d = h;
            var k = G(1.1 * this.gb.fa().j.hd / 2), l = parseFloat(this.gf()), p = this.g,
                q = this.ga() ? this.ga().X() : null, r = 0;
            q && p && l ? (q = q.ma().Sb, p = ((l - p) / q).toFixed(1), l = Eb(l, q).join(""), b.beginPath(), b.save(), q = Math.ceil(b.measureText(p).width) + 6, b.fillStyle = this.rd(), b.setLineDash([]), zA(b, e.left + r + h, c - k - 1.5, q, 2 * k + 1), b.fillStyle = Mn("#ffffff", 1), b.fillText(p, e.left + r + h + 3, c + 2.5), r += q +
                1, b.restore(), b.closePath(), b.beginPath(), b.save(), q = Math.ceil(b.measureText(l).width) + 6, b.fillStyle = this.rd(), b.setLineDash([]), zA(b, e.left + r + h, c - k - 1.5, q, 2 * k + 1), b.fillStyle = Mn("#ffffff", 1), b.fillText(l, e.left + r + h + 3, c + 2.5), r += q + 1, b.restore(), b.closePath(), h = r) : h = 0;
            h = d + h
        }
        this.m && (d = G(1.1 * this.gb.fa().j.hd / 2), b.beginPath(), b.save(), b.fillStyle = this.rd(), b.setLineDash([]), zA(b, e.left + 1, c - d - 1.5, 22, 2 * d + 1), b.restore(), b.closePath(), k = e.left + 22 - 3, l = c - d / 2 - 2, b.beginPath(), b.save(), b.fillStyle = Mn("#ffffff",
            1), b.setLineDash([]), b.moveTo(k, l), b.lineTo(k - 4, l + d / 2 - 1), b.lineTo(k - 4, l + d / 2 + 3), b.lineTo(k, l + d + 2), b.lineTo(k, l), b.rect(k - 7, l + d / 2 - 1, 2, 4), b.fill(), b.restore(), b.closePath(), b.beginPath(), b.save(), b.strokeStyle = Mn("#ffffff", 1), b.setLineDash([1, 2]), b.moveTo(e.left + 3.5, c - d + 1.5), b.lineTo(e.left + 3.5, c + d - 1.5), b.moveTo(e.left + 6.5, c - d + 1.5), b.lineTo(e.left + 6.5, c + d - 1.5), b.stroke(), b.restore(), b.closePath(), d = h, h = G(1.1 * this.gb.fa().j.hd / 2), this.F = e.left + d + h + 1, b.beginPath(), b.save(), b.fillStyle = this.rd(), zA(b, e.left +
            d, c - h - 1.5, 2 * h + 2, 2 * h + 1), b.restore(), b.closePath(), b.beginPath(), b.save(), b.strokeStyle = Mn("#ffffff", 1), b.setLineDash([]), b.moveTo(e.left + d + 4, c - h - 2 + 4), b.lineTo(e.left + d + 2 * h + 2 - 4, c + h - 4), b.moveTo(e.left + d + 2 * h + 2 - 4, c - h - 2 + 4), b.lineTo(e.left + d + 4, c + h - 4), b.stroke(), b.restore(), b.closePath());
        return !0
    };
    f.JK = function (b) {
        return 8 >= Math.abs((this.ga() ? this.ga().X() : null).pa + b.offsetX - this.F) ? (this.dispatchEvent(sB.Ox), !0) : !1
    };
    f.Fl = function (b, c, d, e) {
        c = this.G(0).toFixed(5);
        return [e.left + e.width - b.measureText(c + this.hk).width - 25, d.y(this.G(0)) + 3]
    };
    f.getTypeName = function () {
        return "Price Alert"
    };
    f.toString = function () {
        return rB.P.toString.call(this) + " (" + this.G(0).toFixed(5) + ")"
    };

    function tB(b, c) {
        P.call(this, b, c);
        this.K = null;
        this.R = 0;
        this.F = null;
        this.w = 0
    }

    B(tB, P);
    f = tB.prototype;
    f.type = "Rectangle";
    f.Uc = 2;
    f.T = function (b, c, d, e) {
        var h = G(c.x(this.getTime(0))) + .5, k = G(d.y(this.G(0))) + .5;
        c = G(c.x(this.getTime(1))) + .5;
        var l = G(d.y(this.G(1))) + .5;
        (h <= e.left && c >= e.left || h >= e.left && c <= e.left + e.width || h <= e.left + e.width && c >= e.left + e.width) && (0 >= k && 0 <= l || 0 <= k && l <= e.height || k <= e.height && l >= e.height) && (e = yb(h, c), d = yb(k, l), h = Math.abs(h - c), k = Math.abs(k - l), l = c = 0, this.R && (b.save(), b.beginPath(), b.fillStyle = this.K, b.rect(e, d, h, this.R), b.fill(), b.closePath(), b.restore(), c = this.R + this.hg()), this.w && (l = d + k, b.save(), b.beginPath(),
            b.fillStyle = this.F, b.rect(e, l - this.w, h, this.w), b.fill(), b.closePath(), b.restore(), l = c + this.w + this.hg()), b.beginPath(), b.rect(e, d + c, h, k - l))
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = d.x(this.getTime(0));
        var l = e.y(this.G(0));
        d = d.x(this.getTime(1));
        e = e.y(this.G(1));
        var p = yb(l, e) - h, q = xb(l, e) + h, r = xb(k, d) + h;
        return yb(k, d) - h <= b && b <= r && p <= c && c <= q && (Math.abs(k - b) <= h || Math.abs(d - b) <= h || Math.abs(l - c) <= h || Math.abs(e - c) <= h)
    };
    f.getTypeName = function () {
        return "Rectangle"
    };
    f.Us = function (b, c, d, e) {
        b.time = c;
        b.value = null != e && e ? sA(this, b, c, d) : d
    };
    f.Xh = function (b) {
        tB.P.Xh.call(this, b);
        this.K || (this.K = this.ga().X().fa().j.Yk);
        this.F || (this.F = this.ga().X().fa().j.ik)
    };

    function uB(b, c) {
        return Fn(parseInt(b.substr(1, 2), 16), parseInt(b.substr(3, 2), 16), parseInt(b.substr(5, 2), 16), c)
    }

    f.WX = function (b, c) {
        null != c || (c = 1);
        this.K = uB(b, c)
    };
    f.yX = function (b, c) {
        null != c || (c = 1);
        this.F = uB(b, c)
    };
    f.dfa = function (b, c, d, e) {
        this.WX(b, d);
        this.yX(c, e)
    };
    f.XX = function (b) {
        this.R = b
    };
    f.zX = function (b) {
        this.w = b
    };
    f.efa = function (b, c) {
        this.XX(b);
        this.zX(c)
    };

    function vB(b, c) {
        P.call(this, b, c);
        this.U = 140;
        this.a = new op(0, 0);
        this.m = new op(0, 0);
        this.Ha = this.g = null
    }

    B(vB, tB);
    f = vB.prototype;
    f.LE = function () {
        return !1
    };
    f.type = "Divider";
    f.Tc = 1;
    f.zf = .15;
    f.sB = "rgb(191, 247, 198)";
    f.Iy = "rgb(255, 202, 195)";
    f.pv = "#000";
    f.lG = function (b) {
        this.pv = b
    };
    f.Uc = 1;
    f.zg = function () {
        if (2 <= this.ba.length) return !0
    };
    f.T = function (b, c, d, e) {
        var h, k, l, p;
        this.getTime(0) < this.getTime(this.ba.length - 1) ? (h = this.getTime(0), k = this.getTime(this.ba.length - 1), l = this.G(0), p = this.G(this.ba.length - 1)) : (h = this.getTime(this.ba.length - 1), k = this.getTime(0), l = this.G(this.ba.length - 1), p = this.G(0));
        h = G(c.x(h)) + .5;
        l = G(d.y(l)) + .5;
        c = G(c.x(k)) + .5;
        d = G(d.y(p)) + .5;
        if ((h <= e.left && c >= e.left || h >= e.left && c <= e.left + e.width || h <= e.left + e.width && c >= e.left + e.width) && (0 >= l && 0 <= d || 0 <= l && d <= e.height || l <= e.height && d >= e.height)) {
            this.dispatchEvent("change");
            this.a.x = h;
            this.a.y = l;
            this.m.x = c;
            this.m.y = d;
            this.g = b;
            this.Ha = e;
            var q, r;
            this.getTime(0) < this.getTime(this.ba.length - 1) ? (q = this.getTime(0), r = this.getTime(this.ba.length - 1), k = this.G(0), l = this.G(this.ba.length - 1)) : (q = this.getTime(this.ba.length - 1), r = this.getTime(0), k = this.G(this.ba.length - 1), l = this.G(0));
            b = this.a.x;
            e = this.a.y;
            d = this.m.x;
            p = this.m.y;
            h = this.g;
            c = this.Ha;
            k = k.toFixed(5);
            l = l.toFixed(5);
            q = (new Date(q)).toUTCString();
            r = (new Date(r)).toUTCString();
            var t = h.measureText(Nh("X", k.length)).width, u =
                    h.measureText(Nh("X", l.length)).width, x = h.measureText(Nh("X", q.length)).width,
                A = h.measureText(Nh("X", r.length)).width, C = c.left + c.width, I = c.top + c.height, N = 35;
            h.save();
            h.beginPath();
            h.setLineDash([2, 3]);
            h.fillStyle = this.pv;
            h.font = "10px Arial, Verdana, sans-serif";
            h.textAlign = "center";
            h.moveTo(c.left, e);
            xb(b, d) < C - 15 - t && (h.lineTo(C - 15 - t, e), h.save(), h.fillStyle = this.rd(), h.fillRect(C - 15 - t - .5, e - 8.5, t + 1, 15), h.fillStyle = "#fff", h.fillRect(C - 15 - t, e - 8, t, 14), h.restore(), h.fillText(k, C - 15 - t / 2, e + 2), h.moveTo(C -
                15, e));
            h.lineTo(C, e);
            1 < this.ba.length && (h.moveTo(c.left, p), xb(b, d) < C - 15 - t && (h.lineTo(C - 15 - t, p), h.save(), h.fillStyle = this.rd(), h.fillRect(C - 15 - t - .5, p - 8.5, t + 1, 15), h.fillStyle = "#fff", h.fillRect(C - 15 - t, p - 8, t, 14), h.restore(), h.fillStyle = this.pv, h.fillText(l, C - 15 - u / 2, p + 2), h.fill(), h.moveTo(C - 15, p)), h.lineTo(C, p));
            h.moveTo(b, c.top);
            xb(e, p) < I - N - 50 ? (h.lineTo(b, I - N), h.save(), h.fillStyle = this.rd(), h.fillRect(b - x / 2 - .5, I - N - .5, x + 1, 15), h.fillStyle = "#fff", h.fillRect(b - x / 2, I - N, x, 14), h.restore(), h.fillText(q, b, I - N +
                10), h.moveTo(b, I - N + 15)) : yb(e, p) > c.top + N + 40 && (h.lineTo(b, c.top + N - 25), h.save(), h.fillStyle = this.rd(), h.fillRect(b - x / 2 - .5, c.top + N - 25.5, x + 1, 15), h.fillStyle = "#fff", h.fillRect(b - x / 2, c.top + N - 25, x, 14), h.restore(), h.fillText(q, b, c.top + N - 15), h.moveTo(b, c.top + N - 10));
            h.lineTo(b, I);
            if (1 < this.ba.length) {
                if (d >= b && b + x / 2 > d - A / 2 || d < b && d + x / 2 > b - A / 2) N = 53;
                h.moveTo(d, c.top);
                xb(e, p) < I - N - 50 ? (h.lineTo(d, I - N), h.save(), h.fillStyle = this.rd(), h.fillRect(d - A / 2 - .5, I - N - .5, A + 1, 15), h.fillStyle = "#fff", h.fillRect(d - A / 2, I - N, A, 14), h.restore(),
                    h.fillText(r, d, I - N + 10), h.moveTo(d, I - N + 15)) : yb(e, p) > c.top + N + 40 && (h.lineTo(d, c.top + N - 25), h.save(), h.fillStyle = this.rd(), h.fillRect(d - A / 2 - .5, c.top + N - 25.5, A + 1, 15), h.fillStyle = "#fff", h.fillRect(d - A / 2, c.top + N - 25, A, 14), h.restore(), h.fillText(r, d, c.top + N - 15), h.moveTo(d, c.top + N - 10));
                h.lineTo(d, I)
            }
            h.stroke();
            h.closePath();
            h.restore();
            b = this.a.x;
            e = this.a.y;
            d = this.m.x;
            p = this.m.y;
            h = this.g;
            h.beginPath();
            h.rect(yb(b, d), yb(e, p), Math.abs(b - d), Math.abs(e - p));
            h.fill();
            h.closePath();
            if (1 != this.ba.length) {
                b = this.a.x;
                e = this.a.y;
                d = this.m.x;
                p = this.m.y;
                h = this.g;
                c = d > b ? d - 5 : d + 5;
                k = p > e ? p - 5 : p + 5;
                h.beginPath();
                this.qj(b, e, d, e);
                this.qj(c, e - 3, d, e);
                this.qj(c, e + 3, d, e);
                h.stroke();
                h.closePath();
                h.beginPath();
                this.qj(b, e, b, p);
                this.qj(b - 3, k, b, p);
                this.qj(b + 3, k, b, p);
                h.stroke();
                h.closePath();
                c = p > e ? 1 : -1;
                k = d >= b ? b + 10 : b - 10;
                l = d >= b ? 5 : -5;
                for (q = 3 * c; d >= b ? k <= d - 10 : k >= d + 10; k += l, q = q == 3 * c ? 6 * c : 3 * c) this.qj(k, e, k, e + q);
                c = d > b ? 1 : -1;
                k = p >= e ? e + 10 : e - 10;
                l = p >= e ? 5 : -5;
                for (q = 3 * c; p >= e ? k <= p - 10 : k >= p + 10; k += l, q = q == 3 * c ? 6 * c : 3 * c) this.qj(b, k, b + q, k);
                h.stroke();
                u = this.a.x;
                e = this.a.y;
                x = this.m.x;
                d = this.m.y;
                b = this.g;
                q = this.Ha;
                p = this.U;
                h = u < x ? x - p - 10 : x + 10;
                c = e < d ? e + 10 : e - 30 - 10;
                k = u < x ? u + 10 : u - p - 10;
                l = e < d ? d - 30 - 10 : d + 10;
                Math.abs(x - u) >= p + 20 && 100 <= Math.abs(d - e) || Math.abs(x - u) >= 2 * (p + 20) && 50 <= Math.abs(d - e) || (c = d > e ? e - 30 - 10 : e + 10, h = x > u ? u : u - p, l = d > e ? d + 10 : d - 30 - 10, k = x > u ? u : u - p);
                5.5 > c ? (c = 5.5, h = x > u ? x + 10 : x - p - 10) : c > q.height - 5.5 - 30 - 10 && (c = q.height - 5.5 - 30 - 10, h = x > u ? x + 10 : x - p - 10);
                l > q.height - 5.5 - 30 - 10 ? (l = q.height - 5.5 - 30 - 10, k = x > u ? k > u ? k - p - 20 : k - p - 10 : u + 10) : 5.5 > l && (l = 5.5, k = x > u ? u - p - 10 : u + 10);
                this.getTime(0) <
                this.getTime(this.ba.length - 1) ? (A = this.getTime(0), C = this.getTime(this.ba.length - 1), q = this.G(0), r = this.G(this.ba.length - 1)) : (A = this.getTime(this.ba.length - 1), C = this.getTime(0), q = this.G(this.ba.length - 1), r = this.G(0));
                if (this.gb.X().Ec()) var N = C, S = this.gb.X().eb(), t = S.ue() - 1, I = S.indexOf(A),
                    N = S.indexOf(N),
                    t = Math.abs((0 > N ? 0 : N > t ? t + 1 : N) - (0 > I ? 0 : I > t ? t + 1 : I)); else t = Math.floor((C - A) / this.Qa().Y());
                A = Math.abs(C - A);
                u = 0 < x - u;
                x = "";
                A /= 1E3;
                C = Math.floor(A / 86400);
                A -= 86400 * C;
                if (7 <= C) var T = Math.floor(C / 7), C = C - 7 * T;
                I = Math.floor(A /
                    3600) % 24;
                A -= 3600 * I;
                N = Math.floor(A / 60) % 60;
                A = Math.round((A - 60 * N) % 60);
                T && (x += T + "w ");
                C && (x += C + "d ");
                I && (x += I + "h ");
                N && (x += N + "m ");
                A && (x += A + "s ");
                u = 0 < x.length ? (u ? "" : "-") + x.substring(0, x.length - 1) : "0s";
                T = (r - q).toFixed(5);
                q = (100 * r / q - 100).toFixed(2) + "%";
                r = Math.round(T / this.gb.X().ma().Sb);
                t = t + " bars, " + u;
                T = r + " pips, " + T + ", " + q;
                b.beginPath();
                b.rect(h, c, p, 30);
                b.rect(k, l, p, 30);
                b.fillStyle = e > d ? this.sB : this.Iy;
                b.fill();
                b.stroke();
                b.closePath();
                b.fillStyle = this.pv;
                b.font = "bold 12px Arial, Verdana, sans-serif";
                b.fillText(t, h + 5, c + 19);
                b.fillText(T, k + 5, l + 19);
                T = Nh("X", xb(t.length, T.length));
                this.U = b.measureText(T).width
            }
        }
    };
    f.Fl = function (b) {
        var c = -5;
        this.a.y < this.m.y && (c = 15);
        return [this.a.x - 5 - b.measureText(this.hk).width, this.a.y + c]
    };
    f.getTypeName = function () {
        return "Divider"
    };
    f.Qa = function () {
        return this.gb.Qa(this)
    };
    f.vb = function () {
        return this.gb.vb(this)
    };
    f.Sg = function () {
        var b = y("MSG_UP_COLOR", {}, "Text block up color"), c = y("MSG_DOWN_COLOR", {}, "Text block down color"),
            d = y("MSG_FONT_COLOR", {}, "Font color");
        vB.P.Sg.call(this);
        this.kd.pop();
        this.vH = new vv("upColor", b, null, this.sB);
        this.kd.Xa(this.vH);
        this.OC = new vv("downColor", c, null, this.Iy);
        this.kd.Xa(this.OC);
        this.jD = new vv("fontColor", d, null, this.pv);
        this.kd.Xa(this.jD);
        this.S().C(this.vH, "change", function () {
            this.sB = this.vH.G()
        }).C(this.OC, "change", function () {
            this.Iy = this.OC.G()
        }).C(this.jD, "change",
            function () {
                this.lG(this.jD.G())
            })
    };
    f.qj = function (b, c, d, e) {
        this.g.moveTo(b, c);
        this.g.lineTo(d, e)
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = d.x(this.getTime(0));
        var l = e.y(this.G(0));
        d = d.x(this.getTime(this.ba.length - 1));
        e = e.y(this.G(this.ba.length - 1));
        var p = yb(l, e) - h, q = xb(l, e) + h, r = xb(k, d) + h;
        return yb(k, d) - h <= b && b <= r && p <= c && c <= q && (Math.abs(k - b) <= h || Math.abs(d - b) <= h || Math.abs(l - c) <= h || Math.abs(e - c) <= h)
    };
    f.mc = function () {
        var b = (this.G(this.ba.length - 1) - this.G(0)).toFixed(5), b = Math.round(b / this.gb.X().ma().Sb);
        return {
            start_point: {time: this.getTime(0), value: this.G(0)},
            end_point: {time: this.getTime(this.ba.length - 1), value: this.G(this.ba.length - 1)},
            pip_amount: b,
            side: this.gb.X().Db()
        }
    };
    f.lb = function () {
        var b = Gg(vB.P.lb.call(this));
        jh(b, {upColor: this.sB, downColor: this.Iy, fontColor: this.pv});
        return Ig(b)
    };
    f.cb = function (b) {
        vB.P.cb.call(this, b);
        b = Gg(b);
        this.vh ? (this.vH.V(b.upColor), this.OC.V(b.downColor), this.jD.V(b.fontColor)) : (this.sB = b.upColor, this.Iy = b.downColor, this.lG(b.fontColor))
    };

    function V(b, c, d, e, h, k, l, p) {
        P.call(this, [{time: Date.now(), value: +l || Infinity}, {
            time: Date.now(),
            value: +l || Infinity
        }, {time: Date.now(), value: +l || Infinity}], p);
        this.Wf({orderId: b, offerSide: c, orderType: d, executed: e, amount: h, unit: k, price: +l});
        this.g = {};
        this.w = {};
        this.a = {};
        this.g[0] = -Infinity;
        this.g[1] = -Infinity;
        this.g[2] = -Infinity;
        wB(this);
        this.color = xB[c];
        this.m = null
    }

    B(V, P);
    V.prototype.type = "Order";
    var yB = {L2: "", qZ: "LIMIT", d3: "STOP"}, zB = {DP: "orderremove", FP: "ordertpremove", EP: "orderslremove"},
        AB = {0: [], 1: [5, 4], 2: [5, 4], 3: [5, 4]}, xB = {BID: "#d75341", ASK: "#6ba583"},
        BB = {0: null, 1: "TP", 2: "SL"};
    f = V.prototype;
    f.gw = !1;
    f.N = function () {
        this.j || (this.j = {
            orderId: null,
            offerSide: "ASK",
            orderType: null,
            executed: !1,
            executedOrderInfo: "",
            amount: 0,
            unit: "units",
            price: 0,
            tpShow: !0,
            tpPrice: 0,
            slShow: !0,
            slPrice: 0,
            slippagePrice: null,
            tpId: null,
            slId: null,
            accountCurrency: "USD",
            accountCurrencyRateBid: 1,
            accountCurrencyRateAsk: 1,
            accuracy: 2,
            locked: !1,
            highlighted: !1,
            precision: 10,
            markerPrecision: 32
        });
        return this.j
    };

    function CB(b) {
        b.F || (b.F = {xW: null, yW: null, zW: null});
        return b.F
    }

    f.sea = function (b) {
        CB(this).xW = b
    };
    f.x7 = function () {
        return CB(this).xW
    };
    f.tea = function (b) {
        CB(this).yW = b
    };
    f.y7 = function () {
        return CB(this).yW
    };
    f.uea = function (b) {
        CB(this).zW = b
    };
    f.z7 = function () {
        return CB(this).zW
    };
    f.Wf = function (b) {
        La(b, function (b, d) {
            this.N()[d] = b
        }, this);
        DB(this)
    };
    f.kea = function (b) {
        this.N().orderId = b
    };
    f.OD = function () {
        return this.N().orderId
    };
    f.Gi = function (b) {
        this.N().offerSide = b;
        this.color = xB[b];
        DB(this)
    };
    f.Db = function () {
        return this.N().offerSide
    };
    f.lea = function (b) {
        this.N().orderType = b
    };
    f.iT = function () {
        return this.N().orderType
    };
    f.jda = function (b) {
        this.N().executed = b
    };
    f.QS = function () {
        return this.N().executed
    };
    f.kda = function (b) {
        this.N().executedOrderInfo = b
    };
    f.SS = function () {
        return this.N().executedOrderInfo
    };
    f.k5 = function (b) {
        this.N().amount = b;
        DB(this)
    };
    f.rv = function () {
        return this.N().amount
    };
    f.Eo = function (b) {
        this.N().unit = b;
        DB(this)
    };
    f.xc = function () {
        return this.N().unit
    };
    f.Uk = function (b) {
        this.N().price = +b;
        this.V(0, +b);
        DB(this)
    };
    f.gf = function () {
        return this.G(0)
    };
    f.ffa = function (b) {
        this.N().tpShow = b
    };
    f.ZX = function (b) {
        this.N().tpPrice = +b;
        this.V(1, +b);
        DB(this)
    };
    f.n8 = function () {
        return this.G(1)
    };
    f.Cea = function (b) {
        this.N().slShow = b
    };
    f.SX = function (b) {
        this.N().slPrice = +b;
        this.V(2, +b);
        DB(this)
    };
    f.N7 = function () {
        return this.G(2)
    };
    f.Dea = function (b) {
        this.N().slippagePrice = +b;
        this.m = null;
        EB(this);
        DB(this)
    };
    f.UD = function () {
        return this.N().slippagePrice
    };
    f.YX = function (b) {
        this.N().tpId = b;
        DB(this)
    };
    f.qT = function () {
        return this.N().tpId
    };
    f.RX = function (b) {
        this.N().slId = b;
        DB(this)
    };
    f.lT = function () {
        return this.N().slId
    };
    f.xca = function (b) {
        this.N().accountCurrency = b
    };
    f.vS = function () {
        return this.N().accountCurrency
    };
    f.zca = function (b) {
        this.N().accountCurrencyRateBid = b
    };
    f.xS = function () {
        return this.N().accountCurrencyRateBid
    };
    f.yca = function (b) {
        this.N().accountCurrencyRateAsk = b
    };
    f.wS = function () {
        return this.N().accountCurrencyRateAsk
    };
    f.lR = function (b) {
        this.N().accuracy = b
    };
    f.mJ = function () {
        return this.N().accuracy
    };
    f.Xda = function (b) {
        this.N().locked = b
    };
    f.eT = function () {
        return this.N().locked
    };
    f.sf = function (b) {
        this.$q = this.N().highlighted = b
    };
    f.ve = function () {
        return this.N().highlighted
    };
    f.l5 = function (b) {
        this.N().precision = b
    };
    f.Lf = function () {
        return this.N().precision
    };
    f.$da = function (b) {
        this.N().markerPrecision = b
    };
    f.WJ = function () {
        return this.N().markerPrecision
    };
    f.zf = 1;
    f.Vu = !1;
    f.eh = !0;
    f.dw = !1;
    f.Wm = !0;
    f.yB = !0;
    f.$q = !1;
    f.ec = function (b, c, d, e) {
        d = this.ga() ? this.ga().X() : null;
        var h = this.WJ(), k = this.Lf(), l = e.y(this.G(0)), p;
        if (!d) return !1;
        var q = d.R;
        wB(this);
        FB(this);
        this.ve() && (this.$q = !0);
        for (var r = 0; 3 > r; r++) if (!(GB(this, r) || (p = e.y(this.G(r)), 0 < r && p == l && (p = "BID" == this.Db() ? p + (1 == r ? 2 * k : -2 * k) : p + (1 == r ? -2 * k : 2 * k)), Math.abs(p - c) > k))) {
            this.$q = !0;
            0 == r && (this.a[1] = !0, this.a[2] = !0);
            this.a[r] = !0;
            this.w[r] = !0;
            if (Math.abs(b - this.g[r]) < k) return K.enable(q, "a-b-g-h-i", !0), !0;
            if (b < d.pa + h) {
                if (this.eT() && 0 == r) return HB(q), !1;
                K.enable(q,
                    "a-b-g-h-i-k", !0);
                return !0
            }
            HB(q);
            return !1
        }
        HB(q);
        this.ve() || (this.$q = !1);
        FB(this);
        return !1
    };
    f.Dm = function (b, c, d, e) {
        var h = 2 * this.WJ(), k = this.Lf(), l = e.y(this.G(0)), p, q = Infinity, r = Infinity, t = NaN;
        p = NaN;
        for (var u = null, x = this.ba.length; 0 < x--;) GB(this, x) || (p = e.y(this.G(x)), 0 < x && p == l && (p = "BID" == this.Db() ? p + (1 == x ? 2 * k : -2 * k) : p + (1 == x ? -2 * k : 2 * k)), t = Co(b, c, d.x(this.getTime(x)), c), p = Co(b, c, b, p), t < h && p < k && t < q && p < r && (u = this.ba[x], q = t, r = p));
        return u
    };
    f.Uc = 1;
    f.Jt = vc;

    function EB(b) {
        b.gb && (b.m = b.gf() - b.UD(), b.m = +b.m.toFixed(5))
    }

    function DB(b) {
        b.gb && b.gb.X().Ia()
    }

    f.T = function (b, c, d, e) {
        var h = this.gb.fa(), k = G(1.1 * h.j.hd / 2), l = 2 * k + 3, p = G(d.y(this.G(0))),
            q = G(d.y(this.G(this.N().tpShow ? 1 : 0))), r = G(d.y(this.G(this.N().slShow ? 2 : 0))), t = !1, u = 0;
        this.UD() && !this.m && EB(this);
        E(this.ba, function (b, d) {
            this.ba[d].time = 0 == d ? (new Date).getTime() : c.t(e.left)
        }, this);
        this.$q && (b.save(), b.strokeStyle = Mn("#5f5f5f", this.sg), this.Zd(b, e.left + 5.5, Math.max(e.top, Math.min(p, q, r)), e.left + 5.5, Math.min(e.top + e.height, Math.max(p, q, r)), 1, AB[1]), b.restore());
        IB(this, b, h, k, d, t, e);
        for (r = 0; 2 >= r; r++) if (!GB(this,
            r)) {
            var x = this.G(r), A = G(d.y(x));
            A <= e.top || A >= e.top + e.height || this.OD() || x == this.G(0) && 0 != r || (b.save(), u = b.measureText("preview").width, b.fillStyle = 0 == r ? this.rd() : Mn("#5f5f5f", this.sg), b.fillText("preview", e.left + e.width - 25 - u, A + 2.5), b.restore())
        }
        for (r = 2; 0 <= r; r--) if (!GB(this, r) && (x = this.G(r), isFinite(x) && (A = G(d.y(x)), e.top <= A && A <= e.top + e.height))) {
            b.strokeStyle = 0 == r ? this.rd() : Mn("#5f5f5f", this.sg);
            switch (r) {
                case 0:
                    t = this.a[r];
                    break;
                case 1:
                    t = q != p ? this.a[r] : !1;
                    break;
                case 2:
                    t = q != p ? this.a[r] : !1
            }
            this.OD() ?
                this.Zd(b, e.left, A + (t ? 0 : .5), e.left + e.width, A + (t ? 0 : .5), t ? 2 : this.hg(), AB[r]) : (u = b.measureText("preview").width, this.Zd(b, e.left, A + (t ? 0 : .5), e.left + e.width - 30 - u, A + (t ? 0 : .5), t ? 2 : this.hg(), AB[r]), this.Zd(b, e.left + e.width - 20, A + (t ? 0 : .5), e.left + e.width, A + (t ? 0 : .5), t ? 2 : this.hg(), AB[r]));
            this.$q && (b.save(), b.font = 1.2 * h.j.hd + "px Arial, sans-serif", 0 !== r && Math.abs(A - p) < l && (A = "BID" == this.Db() ? A + (1 == r ? 1 : -1) : A + (1 == r ? -1 : 1), A = p + (0 < A - p ? l : -l)), JB(this, b, r, A, k, e), KB(this, b, r, A, x, k, e), LB(this, b, r, A, x, k, e), b.restore())
        }
        return !0
    };

    function JB(b, c, d, e, h, k) {
        var l = b.rd();
        c.fillStyle = 0 == d ? l : Mn("#5f5f5f", b.sg);
        zA(c, k.left + 1, e - h - 2, 32, 2 * h + 2);
        0 == d ? ("ASK" == b.Db() ? (d = k.left + 16 + 3, l = e - 5, c.save(), c.beginPath(), d += .5, c.fillStyle = Mn("#ffffff", b.sg), c.moveTo(d, l), c.lineTo(d + 4.5, l + 3 + 1), c.lineTo(d + 1.5, l + 3 + 1), c.lineTo(d + 1.5, l + 6 + 1), c.lineTo(d - 1.5, l + 6 + 1), c.lineTo(d - 1.5, l + 3 + 1), c.lineTo(d - 4.5, l + 3 + 1)) : (d = k.left + 16 + 3, l = e + 3, c.save(), c.beginPath(), d += .5, c.fillStyle = Mn("#ffffff", b.sg), c.moveTo(d, l), c.lineTo(d + 4.5, l - 3 - 1), c.lineTo(d + 1.5, l - 3 - 1), c.lineTo(d +
            1.5, l - 6 - 1), c.lineTo(d - 1.5, l - 6 - 1), c.lineTo(d - 1.5, l - 3 - 1), c.lineTo(d - 4.5, l - 3 - 1)), c.lineTo(d, l), c.closePath(), c.fill(), c.restore()) : (c.fillStyle = Mn("#ffffff", b.sg), c.fillText(BB[d], k.left + 12, e + h / 2));
        c.save();
        c.strokeStyle = Mn("#ffffff", b.sg);
        b.Zd(c, k.left + 3.5, e - h + 1.5, k.left + 3.5, e + h - 1.5, 1, [1, 2]);
        b.Zd(c, k.left + 6.5, e - h + 1.5, k.left + 6.5, e + h - 1.5, 1, [1, 2]);
        c.restore()
    }

    function KB(b, c, d, e, h, k, l) {
        var p = b.gb.fa(), q = b.rd(), r = .5 > ec(b.color) ? fc.white : fc.black;
        d = 0 == d;
        c.save();
        c.textBaseline = "middle";
        c.fillStyle = p.j.Rm;
        c.fillRect(l.left + l.width - 1, e - k - 1, p.El() + 1 + 1, 2 * k + 2);
        c.fillStyle = d ? q : Mn("#5f5f5f", b.sg);
        c.fillRect(l.left + l.width - 1 + 1, e - k, p.El() + 1, 2 * k);
        c.fillStyle = d ? r : Mn("#ffffff", b.sg);
        c.fillText(h.toFixed(5), l.left + l.width + 2, e + 1);
        c.restore()
    }

    function LB(b, c, d, e, h, k, l) {
        var p = 0 == d ? b.rd() : Mn("#5f5f5f", b.sg), q = 34;
        if (0 == d) q = MB(b, c, q, b.rv() + " " + b.xc(), p, e, k, l), q = b.QS() ? MB(b, c, q, b.SS(), p, e, k, l) : MB(b, c, q, b.iT(), p, e, k, l), q = MB(b, c, q, b.OD(), p, e, k, l), NB(b, c, d, q, p, e, k, l); else {
            var r = b.ga().X().ma();
            h = "ASK" == b.Db() ? h - b.G(0) : b.G(0) - h;
            var t = h / r.Sb, u = 1 == d ? b.qT() : b.lT(), x = 1 == d ? b.wS() : b.xS();
            if (0 != h || u) h /= 10 * r.Sb, h = (h * x).toFixed(b.mJ()), t = t.toFixed(1), q = MB(b, c, q, t + " pips", p, e, k, l), q = MB(b, c, q, b.vS() + " " + h, p, e, k, l), u && (q = MB(b, c, q, u, p, e, k, l)), NB(b, c, d, q, p,
                e, k, l)
        }
    }

    function MB(b, c, d, e, h, k, l, p) {
        var q = (c.measureText(e).width | 0) + 8;
        if (!e) return d;
        c.fillStyle = h;
        zA(c, p.left + d, k - l - 2, q, 2 * l + 2);
        c.fillStyle = Mn("#ffffff", b.sg);
        c.fillText(e, p.left + d + 4, k + l / 2);
        return d + q + 1
    }

    function NB(b, c, d, e, h, k, l, p) {
        b.g[d] = p.left + e + l + 1;
        b.w[d] && (c.fillStyle = h, zA(c, p.left + e, k - l - 2, 2 * l + 2, 2 * l + 2), c.beginPath(), c.strokeStyle = Mn("#ffffff", b.sg), c.setLineDash([]), c.moveTo(p.left + e + 4, k - l - 2 + 4), c.lineTo(p.left + e + 2 * l + 2 - 4, k + l - 4), c.moveTo(p.left + e + 2 * l + 2 - 4, k - l - 2 + 4), c.lineTo(p.left + e + 4, k + l - 4), c.stroke())
    }

    function IB(b, c, d, e, h, k, l) {
        if (b.UD()) {
            var p = b.gf() - b.m, q = G(h.y(b.gf()));
            h = G(h.y(p));
            var r = Math.min(h, q), q = Math.abs(h - q);
            r + q < l.top || r > l.height || (h > l.top && h < l.top + l.height && (c.save(), c.strokeStyle = b.rd(), b.Zd(c, l.left, h + (k ? 0 : .5), l.left + l.width, h + (k ? 0 : .5), k ? 2 : b.hg(), AB[3]), c.restore(), b.$q && (c.save(), c.font = 1.2 * d.j.hd + "px Arial, sans-serif", KB(b, c, 0, h, p, e, l), c.restore())), b.$q && (r + q > l.top + l.height && (q = l.top + l.height - r), c.save(), c.fillStyle = Mn(b.color, .2), c.fillRect(l.left, r, l.width, q), c.restore()))
        }
    }

    f.lb = function () {
        var b = Gg(V.P.lb.call(this));
        b.options = this.N();
        return Ig(b)
    };
    f.cb = function (b) {
        V.P.cb.call(this, b);
        b = Gg(b);
        this.Wf(b.options)
    };
    f.getTypeName = function () {
        return "SLTPOrder"
    };
    f.JK = function (b) {
        var c = this.ga() ? this.ga().X() : null, d = c.vb(), c = c.pa + b.offsetX;
        b = b.offsetY;
        for (var e = 0; 3 > e; e++) if (10 >= Math.abs(d.y(this.G(e)) - b)) {
            if (10 >= Math.abs(c - this.g[e])) {
                switch (e) {
                    case 0:
                        this.dispatchEvent(zB.DP);
                        break;
                    case 1:
                        this.dispatchEvent(zB.FP);
                        break;
                    case 2:
                        this.dispatchEvent(zB.EP)
                }
                return !0
            }
            break
        }
        return !1
    };

    function wB(b) {
        b.w[0] = !1;
        b.w[1] = !1;
        b.w[2] = !1
    }

    function FB(b) {
        b.a[0] = !1;
        b.a[1] = !1;
        b.a[2] = !1
    }

    function HB(b) {
        K.enable(b, "a-b-g-h-i", !1);
        K.enable(b, "a-b-g-h-i-k", !1)
    }

    f.eca = function () {
        this.RX(null);
        this.SX(this.gf())
    };
    f.fca = function () {
        this.YX(null);
        this.ZX(this.gf())
    };

    function GB(b, c) {
        return 2 == c && !b.N().slShow || 1 == c && !b.N().tpShow
    };

    function OB(b, c) {
        P.call(this, b, c);
        this.color = "#e50000"
    }

    B(OB, P);
    f = OB.prototype;
    f.type = "SignalDown";
    f.Tc = 2;
    f.Ay = 8;
    f.Uc = 1;
    f.zf = .85;
    f.T = function (b, c, d) {
        c = G(c.x(this.getTime(0))) + .5;
        d = G(d.y(this.G(0))) + .5;
        var e = this.gb.X().Ca() / 2;
        e < this.Ay && (e = this.Ay);
        b.beginPath();
        b.moveTo(c, d);
        b.lineTo(c - e, d - e);
        b.lineTo(c + e, d - e);
        b.lineTo(c, d);
        b.closePath();
        b.rect(c - e / 2, d - 2 * e, e, e)
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 2 * this.Ay;
        d = d.x(this.ba[0].time);
        e = e.y(this.ba[0].value) - this.Ay;
        return Co(b, c, d, e) <= h
    };
    f.Fl = function (b, c, d) {
        return [c.x(this.ba[0].time) - b.measureText(this.hk).width / 2, d.y(this.ba[0].value) - 3 * this.Ay]
    };
    f.getTypeName = function () {
        return "Signal Down"
    };

    function PB(b, c) {
        P.call(this, b, c);
        this.color = "#0fb60b"
    }

    B(PB, P);
    f = PB.prototype;
    f.type = "SignalUp";
    f.Tc = 2;
    f.By = 8;
    f.Uc = 1;
    f.zf = .85;
    f.T = function (b, c, d) {
        c = G(c.x(this.getTime(0))) + .5;
        d = G(d.y(this.G(0))) + .5;
        var e = this.gb.X().Ca() / 2;
        e < this.By && (e = this.By);
        b.beginPath();
        b.moveTo(c, d);
        b.lineTo(c + e, d + e);
        b.lineTo(c - e, d + e);
        b.lineTo(c, d);
        b.closePath();
        b.rect(c - e / 2, d + e, e, e)
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 2 * this.By;
        d = d.x(this.ba[0].time);
        e = e.y(this.ba[0].value) + this.By;
        return Co(b, c, d, e) <= h
    };
    f.Fl = function (b, c, d) {
        return [c.x(this.ba[0].time) - b.measureText(this.hk).width / 2, d.y(this.ba[0].value) + 4 * this.By]
    };
    f.getTypeName = function () {
        return "Signal Up"
    };

    function QB(b, c) {
        P.call(this, b, c)
    }

    B(QB, P);
    f = QB.prototype;
    f.uO = function (b) {
        QB.P.uO.call(this, b);
        b[1] = Infinity;
        b[3] = -Infinity
    };
    f.Rc = null;
    f.ai = function (b) {
        this.Rc = b
    };
    f.type = "VerticalLine";
    f.Tc = 1;
    f.Uc = 1;
    f.T = function (b, c, d, e) {
        c = G(c.x(this.getTime(0))) + .5;
        e.left <= c && c <= e.left + e.width && this.Zd(b, c, e.top, c, e.top + e.height)
    };
    f.Zd = function (b, c, d, e, h) {
        null === this.Rc ? (b.moveTo(c, d), b.lineTo(e, h)) : Jn(b, c, d, e, h, this.Rc)
    };
    f.Aw = function (b, c, d, e) {
        c = G(c.x(this.getTime(0))) + .5;
        d = this.gb.X().je().height;
        e = -1 * e.top;
        for (var h = 0; 2 > h; h++) b(c, e + 1 / 3 * d * (h + 1))
    };
    f.ec = function (b, c, d, e, h, k) {
        c = k || 5;
        return Math.abs(d.x(this.getTime(0)) - b) <= c
    };
    f.lb = function () {
        var b = Gg(QB.P.lb.call(this));
        this.Rc && (b.linePattern = this.Rc);
        return Ig(b)
    };
    f.cb = function (b) {
        QB.P.cb.call(this, b);
        b = Gg(b);
        b.linePattern && (this.Rc = b.linePattern)
    };
    f.getTypeName = function () {
        return "Vertical Line"
    };

    function RB(b, c, d) {
        P.call(this, c, d);
        this.Ad = b
    }

    B(RB, QB);
    f = RB.prototype;
    f.type = "TimeLabel";
    f.zf = 1;
    f.T = function (b, c, d, e) {
        c = G(c.x(this.getTime(0))) + .5;
        if (e.left <= c && c <= e.left + e.width) {
            d = b.measureText(this.Ad);
            var h = c + 5;
            h + d.width > e.left + e.width && (h = c - 5 - d.width);
            b.fillText(this.Ad, h, e.top + e.height - 4);
            this.Zd(b, c, e.top, c, e.top + e.height)
        }
    };
    f.lb = function () {
        var b = Gg(RB.P.lb.call(this));
        b.label = this.Ad;
        return Ig(b)
    };
    f.cb = function (b) {
        RB.P.cb.call(this, b);
        this.Ad = Gg(b).label
    };
    f.getTypeName = function () {
        return "Time Label"
    };

    function SB(b, c) {
        P.call(this, b, c)
    }

    B(SB, QB);
    f = SB.prototype;
    f.Vu = !1;
    f.type = "TimeMarker";
    f.zf = 1;
    f.AJ = !1;
    f.ee = function (b, c, d) {
        SB.P.ee.call(this, b, c, d)
    };
    f.T = function (b, c, d, e) {
        d = G(c.x(this.getTime(0))) + .5;
        var h = this.gb.X().je().height, k = -1 * e.top;
        if (e.left <= d && d <= e.left + e.width) {
            c = this.mR(c.Y(), this.getTime(0));
            var l = b.measureText(c), p = d + 5;
            p + l.width > e.left + e.width && (p = d - 5 - l.width);
            b.save();
            b.fillStyle = this.ga().fa().j.ke;
            b.fillText(c, p - 1, k + h - 4 - 1);
            b.fillText(c, p - 1, k + h - 4 + 1);
            b.fillText(c, p + 1, k + h - 4 + 1);
            b.fillText(c, p + 1, k + h - 4 - 1);
            b.fillText(c, p, k + h - 4 - 1);
            b.fillText(c, p, k + h - 4 + 1);
            b.fillText(c, p - 1, k + h - 4);
            b.fillText(c, p + 1, k + h - 4);
            b.fillStyle = rA(this);
            b.fillText(c,
                p, k + h - 4);
            b.moveTo(d - 2, k + 5);
            b.lineTo(d, k);
            b.moveTo(d + 2, k + 5);
            b.lineTo(d, k);
            b.lineTo(d, k + h);
            b.moveTo(d - 2, k + h - 5);
            b.lineTo(d, k + h);
            b.moveTo(d + 2, k + h - 5);
            b.lineTo(d, k + h);
            b.restore()
        }
    };
    f.Fl = function (b, c, d, e) {
        return [c.x(this.getTime(0)) + 5, e.top + 10]
    };
    f.mR = function () {
        var b = new Date;
        return function (c, d) {
            b.setTime(d);
            var e;
            a:switch (!0) {
                case 1E3 >= c:
                    e = TB;
                    break a;
                case 864E5 > c:
                    e = UB;
                    break a;
                default:
                    e = VB
            }
            return e.format(b, this.ga().X().Ic(b))
        }
    }();
    var TB = new sk("HH:mm:ss.S yyyy-MM-dd"), UB = new sk("HH:mm yyyy-MM-dd"), VB = new sk("yyyy-MM-dd");
    SB.prototype.getTypeName = function () {
        return "Time Marker"
    };
    SB.prototype.toString = function () {
        var b = SB.P.toString.call(this), c = this.gb ? this.gb.X().Qa().Y() : 1E3;
        return b + " (" + this.mR(c, this.getTime(0)) + ")"
    };

    function WB(b, c) {
        P.call(this, b, c);
        this.color = "#bebebe";
        this.g = [];
        this.w = !1;
        this.sj = So.xs;
        this.mg = 24;
        this.hh = To.qm;
        this.Dj = 30;
        this.Zg = Uo.om;
        this.Cj = 70;
        this.nm = "#779E2E";
        this.To = .5;
        this.mm = "#FF0000";
        this.So = .5;
        this.km = "#779E2E";
        this.Ro = .7;
        this.jm = "#FF0000";
        this.Qo = .7;
        this.Ul = "#FF0000";
        this.ro = 1;
        this.so = Hc.Xo;
        this.$j = 1;
        this.mb = new Ro;
        c && (this.mb.o = c.X(), this.mg = Cl(c.X().W(), bl) ? 3 : 24);
        XB(this)
    }

    B(WB, P);
    f = WB.prototype;
    f.type = "VolumeProfile";
    f.getTypeName = function () {
        return "VolumeProfile"
    };
    f.Uc = 2;
    f.zf = .1;

    function XB(b) {
        b.mb && (b.mb.Ab(b.Jb()), b.mb.Mw(b.zf), b.mb.sj = b.sj, b.mb.mg = b.mg, b.mb.hh = b.hh, b.mb.Dj = b.Dj, b.mb.Zg = b.Zg, b.mb.Cj = b.Cj, b.mb.nm = b.nm, b.mb.To = b.To, b.mb.mm = b.mm, b.mb.So = b.So, b.mb.km = b.km, b.mb.Ro = b.Ro, b.mb.jm = b.jm, b.mb.Qo = b.Qo, b.mb.Ul = b.Ul, b.mb.ro = b.ro, b.mb.so = b.so, b.mb.$j = b.$j)
    }

    f.Sg = function () {
        this.vh = [];
        YB(this);
        ZB(this);
        $B(this);
        aC(this);
        bC(this)
    };

    function YB(b) {
        var c = y("MSG_CHART_UI_DRAWING_COMMON_PROPERTIES", {}, "Common"),
            d = y("MSG_CHART_UI_DRAWING_TEXT_LABEL", {}, "Text label"),
            e = y("MSG_CHART_UI_DRAWING_COLOR", {}, "Color");
        b.kd = new lv(c);
        b.os = new zv("", d, null, b.hk);
        b.os.sd = !0;
        b.kd.Xa(b.os);
        b.np = new vv("color", e, null, Fn(parseInt(b.Jb().substr(1, 2), 16), parseInt(b.Jb().substr(3, 2), 16), parseInt(b.Jb().substr(5, 2), 16), b.zf));
        b.np.sd = !0;
        b.kd.Xa(b.np);
        b.vh.push(b.kd);
        b.S().C(b.os, "change", function (b) {
            this.zG(b.target.G());
            this.ga().X().Ia()
        }).C(b.np,
            "change", function () {
                var b = this.np.G().slice(5, -1).split(",");
                this.Ab(zn(b).substring(0, 7));
                this.Mw(b[b.length - 1]);
                this.ga().X().Ia()
            })
    }

    function ZB(b) {
        var c = y("MSG_CHART_UI_DRAWING_INPUTS_PROPERTIES", {}, "Inputs"),
            d = y("MSG_CHART_UI_DRAWING_ROWS_LAYOUT", {}, "Rows type"),
            e = y("MSG_CHART_UI_DRAWING_ROW_SIZE", {}, "Row size"),
            h = y("MSG_CHART_UI_DRAWING_VOLUME_TYPE", {}, "Volume"),
            k = y("MSG_CHART_UI_DRAWING_WIDTH_PERCENT", {}, "Width (%)"),
            l = y("MSG_CHART_UI_DRAWING_PLACEMENT", {}, "Placement"),
            p = y("MSG_CHART_UI_DRAWING_VALUE_AREA_PERCENT", {}, "Value area volume (%)");
        b.a = new lv(c);
        b.Ew = new xv("rowsLayout", d, null, b.sj);
        b.Ew.Xe(Ta(So), Ta(So));
        b.Ew.sd =
            !0;
        b.a.Xa(b.Ew);
        b.hq = new Cv("rowSize", e, null, b.mg);
        b.hq.ah(1);
        b.hq.Ah(1E3);
        b.hq.sd = !0;
        b.a.Xa(b.hq);
        b.Dx = new xv("volumeType", h, null, b.hh);
        b.Dx.Xe(Ta(To), Ta(To));
        b.Dx.sd = !0;
        b.a.Xa(b.Dx);
        b.Fq = new Cv("widthPercent", k, null, b.Dj);
        b.Fq.ah(1);
        b.Fq.Ah(100);
        b.Fq.sd = !0;
        b.a.Xa(b.Fq);
        b.pw = new xv("placement", l, null, b.Zg);
        b.pw.Xe(Ta(Uo), Ta(Uo));
        b.pw.sd = !0;
        b.a.Xa(b.pw);
        b.zq = new Cv("valueAreaPercent", p, null, b.Cj);
        b.zq.ah(1);
        b.zq.Ah(100);
        b.zq.sd = !0;
        b.a.Xa(b.zq);
        b.vh.push(b.a);
        b.S().C(b.Ew, "change", function () {
            this.sj =
                this.Ew.G();
            this.mb && (this.mb.sj = this.sj);
            this.ga().X().Ia()
        }).C(b.hq, "change", function () {
            var b = this.hq.G();
            b != (b | 0) ? this.hq.V(b | 0) : (this.mg = this.hq.G() | 0, this.mb && (this.mb.mg = this.mg), this.ga().X().Ia())
        }).C(b.Dx, "change", function () {
            this.hh = this.Dx.G();
            this.mb && (this.mb.hh = this.hh)
        }).C(b.Fq, "change", function () {
            var b = this.Fq.G();
            b != (b | 0) ? this.Fq.V(b | 0) : (this.Dj = this.Fq.G() | 0, this.mb && (this.mb.Dj = this.Dj), this.ga().X().Ia())
        }).C(b.pw, "change", function () {
            this.Zg = this.pw.G();
            this.mb && (this.mb.Zg = this.Zg);
            this.ga().X().Ia()
        }).C(b.zq, "change", function () {
            var b = this.zq.G();
            b != (b | 0) ? this.zq.V(b | 0) : (this.Cj = this.zq.G() | 0, this.mb && (this.mb.Cj = this.Cj), this.ga().X().Ia())
        })
    }

    function $B(b) {
        var c = y("MSG_CHART_UI_DRAWING_VOLUME_STYLE_PROPERTIES", {}, "Volume Style"),
            d = y("MSG_CHART_UI_DRAWING_VOLUME_UP_COLOR", {}, "Volume Up color"),
            e = y("MSG_CHART_UI_DRAWING_VOLUME_DOWN_COLOR", {}, "Volume Down color");
        b.K = new lv(c);
        b.xB = new vv("volumeUpColor", d, null, Fn(parseInt(b.nm.substr(1, 2), 16), parseInt(b.nm.substr(3, 2), 16), parseInt(b.nm.substr(5, 2), 16), b.To));
        b.xB.sd = !0;
        b.K.Xa(b.xB);
        b.wB = new vv("volumeDownColor", e, null, Fn(parseInt(b.mm.substr(1, 2), 16), parseInt(b.mm.substr(3, 2), 16), parseInt(b.mm.substr(5,
            2), 16), b.So));
        b.wB.sd = !0;
        b.K.Xa(b.wB);
        b.vh.push(b.K);
        b.S().C(b.xB, "change", function () {
            var b = this.xB.G().slice(5, -1).split(",");
            this.nm = zn(b).substring(0, 7);
            this.To = b[b.length - 1];
            this.mb && (this.mb.nm = this.nm, this.mb.To = this.To);
            this.ga().X().Ia()
        }).C(b.wB, "change", function () {
            var b = this.wB.G().slice(5, -1).split(",");
            this.mm = zn(b).substring(0, 7);
            this.So = b[b.length - 1];
            this.mb && (this.mb.mm = this.mm, this.mb.So = this.So);
            this.ga().X().Ia()
        })
    }

    function aC(b) {
        var c = y("MSG_CHART_UI_DRAWING_VALUE_AREA_STYLE_PROPERTIES", {}, "Value Area Style"),
            d = y("MSG_CHART_UI_DRAWING_VALUE_AREA_UP_COLOR", {}, "Value Up color"),
            e = y("MSG_CHART_UI_DRAWING_VALUE_AREA_DOWN_COLOR", {}, "Value Down color");
        b.F = new lv(c);
        b.vB = new vv("valueAreaUpColor", d, null, Fn(parseInt(b.km.substr(1, 2), 16), parseInt(b.km.substr(3, 2), 16), parseInt(b.km.substr(5, 2), 16), b.Ro));
        b.vB.sd = !0;
        b.F.Xa(b.vB);
        b.uB = new vv("valueAreaDownColor", e, null, Fn(parseInt(b.jm.substr(1, 2), 16), parseInt(b.jm.substr(3,
            2), 16), parseInt(b.jm.substr(5, 2), 16), b.Qo));
        b.uB.sd = !0;
        b.F.Xa(b.uB);
        b.vh.push(b.F);
        b.S().C(b.vB, "change", function () {
            var b = this.vB.G().slice(5, -1).split(",");
            this.km = zn(b).substring(0, 7);
            this.Ro = b[b.length - 1];
            this.mb && (this.mb.km = this.km, this.mb.Ro = this.Ro);
            this.ga().X().Ia()
        }).C(b.uB, "change", function () {
            var b = this.uB.G().slice(5, -1).split(",");
            this.jm = zn(b).substring(0, 7);
            this.Qo = b[b.length - 1];
            this.mb && (this.mb.jm = this.jm, this.mb.Qo = this.Qo);
            this.ga().X().Ia()
        })
    }

    function bC(b) {
        var c = y("MSG_CHART_UI_DRAWING_POC_LINE_STYLE_PROPERTIES", {}, "POC Line Style"),
            d = y("MSG_CHART_UI_DRAWING_POC_LINE_COLOR", {}, "POC Line color"),
            e = y("MSG_CHART_UI_DRAWING_POC_LINE_STYLE", {}, "POC Line style"),
            h = y("MSG_CHART_UI_DRAWING_POC_LINE_WIDTH", {}, "POC Line width");
        b.m = new lv(c);
        b.$z = new vv("pocLineColor", d, null, Fn(parseInt(b.Ul.substr(1, 2), 16), parseInt(b.Ul.substr(3, 2), 16), parseInt(b.Ul.substr(5, 2), 16), b.ro));
        b.$z.sd = !0;
        b.m.Xa(b.$z);
        b.qw = new Av("pocLineStyle", e, null, b.so);
        b.qw.Xe(Ta(Hc));
        b.qw.sd = !0;
        b.m.Xa(b.qw);
        b.rw = new Bv("pocLineWidth", h, null, b.$j);
        b.rw.Xe([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
        b.rw.sd = !0;
        b.m.Xa(b.rw);
        b.vh.push(b.m);
        b.S().C(b.$z, "change", function () {
            var b = this.$z.G().slice(5, -1).split(",");
            this.Ul = zn(b).substring(0, 7);
            this.ro = b[b.length - 1];
            this.mb && (this.mb.Ul = this.Ul, this.mb.ro = this.ro);
            this.ga().X().Ia()
        }).C(b.qw, "change", function () {
            this.so = this.qw.G();
            this.mb && (this.mb.so = this.so);
            this.ga().X().Ia()
        }).C(b.rw, "change", function () {
            this.$j = this.rw.G();
            this.mb && (this.mb.$j = this.$j);
            this.ga().X().Ia()
        })
    }

    f.Aw = function (b, c, d) {
        var e = c.x(this.getTime(0));
        c = c.x(this.getTime(1));
        var h = d.y(this.G(0));
        d = d.y(this.G(1));
        var k = this.gb.X(), l = e < c ? 1 : -1, e = e - l * k.Ca() / 2;
        c += l * k.Ca() / 2;
        b(e, h);
        b(c, d)
    };
    f.T = function (b, c, d, e) {
        this.mb.o = this.gb.X();
        var h = this.getTime(0);
        this.mb.Bh = h;
        h = this.getTime(1);
        this.mb.Ih = h;
        this.mb.Ab(this.Jb());
        this.mb.Mw(this.zf);
        this.mb.T(b, c, d, e);
        this.V(0, (this.mb.m + this.mb.g) / 2);
        this.V(1, (this.mb.m + this.mb.g) / 2)
    };
    f.QW = function (b) {
        if (this.HE() && !this.w && !ki(this.g) && this.mb) {
            var c = this.g[0], d = this.g[1];
            b.save();
            b.beginPath();
            b.strokeStyle = this.rd();
            b.fillStyle = rA(this);
            this.Jt(b, c, d);
            b.stroke();
            b.closePath();
            b.restore();
            Yo(this.mb, b, c, d)
        }
    };
    f.ec = function (b, c, d, e, h, k) {
        var l = k || 5, p = this.gb.X();
        h = d.x(this.mb.Qg()) - p.Ca() / 2;
        k = e.y(this.mb.g);
        d = d.x(this.mb.si()) + p.Ca() / 2;
        e = e.y(this.mb.m);
        var q = yb(k, e) - l, r = xb(k, e) + l, t = xb(h, d) + l, p = Math.abs(h - b) <= l, u = Math.abs(d - b) <= l,
            x = Math.abs(k - c) <= l, A = Math.abs(e - c) <= l;
        this.g = (l = yb(h, d) - l <= b && b <= t && q <= c && c <= r && (p || u || x || A)) ? [p ? h : u ? d : b, x ? k : A ? e : c] : [];
        return l
    };
    f.Dm = function (b, c, d, e, h) {
        h = h || 5;
        var k = Infinity, l = NaN, p = null, q = this.gb.X(), r = (this.mb.g + this.mb.m) / 2,
            l = d.x(this.mb.Qg()) - q.Ca() / 2;
        d = d.x(this.mb.si()) + q.Ca() / 2;
        e = e.y(r);
        r = this.ba[0].time > this.ba[1].time;
        l = Co(b, c, l, e);
        l < h && l < k && (p = this.ba[r ? 1 : 0], k = l);
        l = Co(b, c, d, e);
        l < h && l < k && (p = this.ba[r ? 0 : 1]);
        return p
    };
    f.Us = function (b, c, d, e) {
        b.time = c;
        b.value = null != e && e ? sA(this, b, c, d) : d
    };
    f.fM = function () {
        this.w = !0
    };
    f.hM = function () {
        this.w = !1
    };
    f.Xh = function (b) {
        WB.P.Xh.call(this, b);
        this.mg = Cl(b.X().W(), bl) ? 3 : 24;
        this.mb.o = this.ga().X();
        this.mb.mg = this.mg
    };
    f.lb = function () {
        var b = Gg(WB.P.lb.call(this));
        jh(b, {
            rowsLayout: this.sj,
            rowSize: this.mg,
            volumeType: this.hh,
            widthPercent: this.Dj,
            placement: this.Zg,
            valueAreaPercent: this.Cj,
            volumeUpColor: this.nm,
            volumeUpOpacity: this.To,
            volumeDownColor: this.mm,
            volumeDownOpacity: this.So,
            valueAreaUpColor: this.km,
            valueAreaUpOpacity: this.Ro,
            valueAreaDownColor: this.jm,
            valueAreaDownOpacity: this.Qo,
            pocLineColor: this.Ul,
            pocLineOpacity: this.ro,
            pocLineStyle: this.so,
            pocLineWidth: this.$j
        });
        return Ig(b)
    };
    f.cb = function (b) {
        WB.P.cb.call(this, b);
        b = Gg(b);
        this.vh ? (this.Ew.V(b.rowsLayout), this.hq.V(b.rowSize), this.Dx.V(b.volumeType), this.Fq.V(b.widthPercent), this.pw.V(b.placement), this.zq.V(b.valueAreaPercent), this.xB.V(Fn(parseInt(b.volumeUpColor.substr(1, 2), 16), parseInt(b.volumeUpColor.substr(3, 2), 16), parseInt(b.volumeUpColor.substr(5, 2), 16), b.volumeUpOpacity)), this.wB.V(Fn(parseInt(b.volumeDownColor.substr(1, 2), 16), parseInt(b.volumeDownColor.substr(3, 2), 16), parseInt(b.volumeDownColor.substr(5, 2), 16),
            b.volumeDownOpacity)), this.vB.V(Fn(parseInt(b.valueAreaUpColor.substr(1, 2), 16), parseInt(b.valueAreaUpColor.substr(3, 2), 16), parseInt(b.valueAreaUpColor.substr(5, 2), 16), b.valueAreaUpOpacity)), this.uB.V(Fn(parseInt(b.valueAreaDownColor.substr(1, 2), 16), parseInt(b.valueAreaDownColor.substr(3, 2), 16), parseInt(b.valueAreaDownColor.substr(5, 2), 16), b.valueAreaDownOpacity)), this.$z.V(Fn(parseInt(b.pocLineColor.substr(1, 2), 16), parseInt(b.pocLineColor.substr(3, 2), 16), parseInt(b.pocLineColor.substr(5, 2), 16), b.pocLineOpacity)),
            this.qw.V(b.pocLineStyle), this.rw.V(b.pocLineWidth)) : (this.sj = b.rowsLayout, this.mg = b.rowSize, this.hh = b.volumeType, this.Dj = b.widthPercent, this.Zg = b.placement, this.Cj = b.valueAreaPercent, this.nm = b.volumeUpColor, this.To = b.volumeUpOpacity, this.mm = b.volumeDownColor, this.So = b.volumeDownOpacity, this.km = b.valueAreaUpColor, this.Ro = b.valueAreaUpOpacity, this.jm = b.valueAreaDownColor, this.Qo = b.valueAreaDownOpacity, this.Ul = b.pocLineColor, this.ro = b.pocLineOpacity, this.so = b.pocLineStyle, this.$j = b.pocLineWidth, XB(this))
    };
    f.Fl = function (b, c, d, e) {
        if (!this.mb || !this.ga()) return WB.P.Fl.call(this, b, c, d, e);
        b = this.ga().X().Ca() / 2 | 0;
        return [c.x(this.mb.Qg()) - b, d.y(this.mb.g) - 5]
    };

    function cC(b, c) {
        P.call(this, b, c)
    }

    B(cC, P);
    f = cC.prototype;
    f.type = "Callout";
    f.Uc = 2;
    f.Yj = function () {
        this.oh = !0;
        uA(this);
        var b = this.Nd(0), c = this.Nd(1), d = Math.min(b.time, c.time), e = Math.max(b.time, c.time),
            h = Math.max(b.value, c.value), b = Math.min(b.value, c.value), c = h - b, k = e - d;
        this.Ki = {time: d, value: h};
        this.jj = {time: e, value: h - .65 * c};
        this.g = {time: d + .35 * k, value: h - .65 * c};
        this.m = {time: d, value: b};
        this.a = {time: d + .15 * k, value: h - .65 * c};
        this.oh = !0;
        this.uj([this.Ki, this.jj, this.g, this.m, this.a])
    };
    f.ee = function (b, c, d) {
        uA(this);
        if (this.oh && d) {
            var e = ai(this.ba, d), h = d.value;
            d = 2 * this.Tr;
            var k = 2 * this.Tr, l = b.Y(), p, q;
            if (0 == e) {
                p = c.qc(c.y(this.Ki.value) + k);
                p = Math.min(this.jj.value, p);
                q = this.Ki.value;
                var r = Math.min(b.t(b.x(this.jj.time) - d), this.jj.time - l);
                this.Ki.time = Math.min(this.Ki.time, r)
            }
            1 == e && (l = Math.max(b.t(b.x(this.Ki.time) + d), this.Ki.time + l), this.jj.time = Math.max(this.jj.time, l));
            if (1 == e || 2 == e || 4 == e) p = h, q = c.qc(c.y(h) - k), q = Math.max(this.Ki.value, q);
            if (4 == e || 0 == e || 1 == e) c = Math.max(b.t(b.x(this.Ki.time) +
                d), this.Ki.time), h = Math.min(this.g.time, this.jj.time), this.a.time = Math.min(Math.max(c, this.a.time), Math.max(c, h));
            if (2 == e || 0 == e || 1 == e) b = Math.min(b.t(b.x(this.jj.time) - d), this.jj.time), e = Math.max(this.Ki.time, this.a.time), this.g.time = Math.max(Math.min(b, this.g.time), Math.max(e, this.a.time));
            this.Ki.value = q || this.Ki.value;
            this.g.value = this.a.value = this.jj.value = p || this.jj.value;
            this.m.value = Math.min(this.m.value, this.jj.value)
        }
    };
    f.lJ = "#fff";
    f.Iw = function (b) {
        this.lJ = b;
        this.ga() && this.ga().X().Ia()
    };
    f.Tr = 15;

    function dC(b) {
        var c = b.Ki.time, d = b.jj.time, e = b.Ki.value, h = b.jj.value;
        return [].concat([{time: c, value: e, dr: 1, er: 0, arc: !0}, {time: (c + d) / 2, value: e}, {
            time: d,
            value: e,
            dr: 0,
            er: 1,
            arc: !0
        }, {time: d, value: h, dr: -1, er: 0, arc: !0}]).concat([b.g, b.m, b.a]).concat([{
            time: c,
            value: h,
            dr: 0,
            er: -1,
            arc: !0
        }])
    }

    function eC(b) {
        var c = b.Nd(0), d = b.Nd(1);
        b = Math.min(c.time, d.time);
        var e = Math.max(c.time, d.time), h = Math.max(c.value, d.value), c = Math.min(c.value, d.value), d = h - c,
            k = e - b;
        return [{time: b, value: h, dr: 1, er: 0, arc: !0}, {time: (b + e) / 2, value: h}, {
            time: e,
            value: h,
            dr: 0,
            er: 1,
            arc: !0
        }, {time: e, value: h - .65 * d, dr: -1, er: 0, arc: !0}, {time: b + .35 * k, value: h - .65 * d}, {
            time: b,
            value: c
        }, {time: b + .15 * k, value: h - .65 * d}, {time: b, value: h - .65 * d, dr: 0, er: -1, arc: !0}]
    }

    f.T = function (b, c, d) {
        var e = this.oh ? dC(this) : eC(this), h, k;
        b.beginPath();
        for (var l = 1, p = e.length; l <= p; l++) {
            var q = e[l % p];
            h = G(c.x(q.time));
            k = G(d.y(q.value));
            q.arc && 0 < this.Tr ? b.arcTo(h, k, h + q.dr * this.Tr, k + q.er * this.Tr, this.Tr) : b.lineTo(h, k)
        }
        b.closePath();
        b.fillStyle = this.lJ;
        b.fill();
        b.strokeStyle = this.rd();
        b.stroke();
        return !0
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        var l;
        k = this.oh ? dC(this) : eC(this);
        for (var p = k.length - 1; 0 < p--;) {
            var q = d.x(k[p].time), r = e.y(k[p].value), t = d.x(k[p + 1].time), u = e.y(k[p + 1].value), x = t - q,
                A = u - r, C = x * x + A * A, I = ((b - q) * x + (c - r) * A) / C;
            switch (!0) {
                case 0 <= I && 1 >= I:
                    l = Math.abs((b - q) * A - (c - r) * x) / Math.sqrt(C);
                    break;
                case 0 > I:
                    l = Co(b, c, q, r);
                    break;
                case 1 < I:
                    l = Co(b, c, t, u)
            }
            if (l <= h) return !0
        }
        return !1
    };
    f.Sg = function () {
        cC.P.Sg.call(this);
        this.fA = new Kv("", "Corner radius", null, this.Tr);
        this.fA.ah(0);
        this.fA.Ah(20);
        this.kd.Xa(this.fA);
        this.Pq = new vv("", "Background color", null, this.lJ);
        mv(this.kd, this.Pq);
        this.S().C(this.fA, "change", function () {
            this.Tr = parseInt(this.fA.G());
            this.ee(this.gb.Qa(this), this.gb.vb(this), this.Ki);
            this.ee(this.gb.Qa(this), this.gb.vb(this), this.jj);
            this.gb.X().Ia()
        }).C(this.Pq, "change", function () {
            this.Iw(this.Pq.G())
        })
    };

    function fC(b, c) {
        P.call(this, b, c);
        b && 4 == b.length || this.uj([{time: Infinity, value: Infinity}, {
            time: Infinity,
            value: Infinity
        }, {time: Infinity, value: Infinity}, {time: Infinity, value: Infinity}])
    }

    B(fC, P);
    f = fC.prototype;
    f.type = "Candle";
    f.Uc = 4;
    f.setTime = function (b) {
        this.ba[0].time = this.ba[1].time = this.ba[2].time = this.ba[3].time = b;
        uA(this)
    };
    f.getTime = function () {
        return this.Nd(0).time
    };
    f.zb = function () {
        return this.Nd(0).value
    };
    f.bb = function () {
        return this.Nd(1).value
    };
    f.$a = function () {
        return this.Nd(2).value
    };
    f.jb = function () {
        return this.Nd(3).value
    };
    f.ee = function (b, c, d) {
        fC.P.ee.call(this);
        this.setTime((d || this.Nd(0)).time);
        this.ba[1].value = Math.max(this.ba[0].value, this.ba[1].value, this.ba[3].value);
        this.ba[2].value = Math.min(this.ba[0].value, this.ba[2].value, this.ba[3].value)
    };

    function gC(b, c, d, e, h) {
        b.ba[0].value = c;
        b.ba[1].value = d;
        b.ba[2].value = e;
        b.ba[3].value = h;
        uA(b)
    }

    f.T = function (b, c, d) {
        var e = this.gb.X(), h = this.gb.fa(), k = this.Nd(0).time, l = this.Nd(0).value, p = this.Nd(1).value,
            q = this.Nd(2).value, r = this.Nd(3).value, t;
        l <= r ? (t = h.j.ki, h = h.j.ji) : (t = h.j.ii, h = h.j.hi);
        c = c.x(k);
        p = G(d.y(p));
        k = 1;
        q = G(d.y(q)) - p;
        b.save();
        b.fillStyle = h;
        b.fillRect(c, p, k, q);
        p = G(d.y(xb(l, r)));
        q = G(d.y(yb(l, r))) - p || 1;
        k = e.sb().Mg;
        c -= k / 2 | 0;
        b.fillRect(c, p, k, q);
        b.fillStyle = t;
        b.fillRect(c + 1, p + 1, k - 2, q - 2);
        b.restore();
        return !0
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        k = this.gb.X();
        var l = G(d.x(this.Nd(0).time));
        d = G(e.y(this.Nd(0).value));
        var p = G(e.y(this.Nd(1).value)), q = G(e.y(this.Nd(2).value)), r = G(e.y(this.Nd(3).value)), t;
        e = l - h;
        t = p - h;
        if (b >= e && b <= e + (1 + 2 * h) && c >= t && c <= t + (q - p + 2 * h)) return !0;
        e = l - (k.sb().Mg / 2 | 0) - h;
        t = yb(d, r) - h;
        k = k.sb().Mg + 2 * h;
        h = Math.abs(d - r) + 2 * h;
        return b >= e && b <= e + k && c >= t && c <= t + h ? !0 : !1
    };

    function tA(b, c, d, e) {
        fC.call(this, void 0, e);
        this.setTime(b);
        gC(this, c, c, c, c);
        this.yh = (.65 > Math.random() ? 1 : -1) * Math.random();
        this.oF = Math.random();
        this.qE = Math.random();
        this.eF = Math.random();
        this.oC = Math.random();
        this.ak = c;
        this.Jo = d;
        hC(this)
    }

    B(tA, fC);
    f = tA.prototype;
    f.type = "GhostCandle";
    f.ee = function (b, c, d) {
        tA.P.ee.call(this, b, c, d);
        d && (b = ai(this.ba, d), iC[b].call(this), ai(this.ba, d))
    };
    f.oba = function () {
        var b = this.Jo * this.gk / 2;
        this.nF = -1 * ((this.zb() - this.ak + b * (this.yh - this.Ek) * this.oF * this.Vh) / b);
        this.$L();
        this.aM()
    };
    f.$L = function () {
        var b = this.zb(), c = this.jb(), d = b < c ? 1 : -1, e = this.Jo * this.gk / 2;
        this.qz = -1 * (-1 * this.bb() + xb(b, c) + d * e * this.yh * this.qE * this.Vh) / (d * e)
    };
    f.aM = function () {
        var b = this.zb(), c = this.jb(), d = b < c ? 1 : -1, e = this.Jo * this.gk / 2;
        this.Az = -1 * ((this.$a() - yb(b, c) + d * e * this.yh * this.eF * this.Vh) / (d * e))
    };
    f.nba = function () {
        var b = this.Jo * this.gk / 2;
        this.nC = -1 * ((-1 * this.jb() + this.ak + b * (this.yh - this.Ek) * this.oC * this.Vh) / b);
        this.$L();
        this.aM()
    };
    var iC = [tA.prototype.oba, tA.prototype.$L, tA.prototype.aM, tA.prototype.nba];
    f = tA.prototype;
    f.Uk = function (b) {
        this.ak = b
    };
    f.gk = 1;
    f.qz = 0;
    f.Az = 0;
    f.Vh = 0;
    f.nC = 1;
    f.nF = 1;
    f.Ek = 2;

    function hC(b) {
        var c, d, e = b.Jo * b.gk / 2;
        c = b.ak - (b.nF * e + e * (b.yh - b.Ek) * b.oF * b.Vh);
        d = b.ak + (b.nC * e + e * (b.yh - b.Ek) * b.oC * b.Vh);
        var h = c < d ? 1 : -1;
        gC(b, c, xb(c, d) + h * b.qz * e + h * e * b.yh * b.qE * b.Vh, yb(c, d) - h * b.Az * e - h * e * b.yh * b.eF * b.Vh, d)
    }

    f.T = function (b, c, d) {
        var e = this.gb.X(), h = this.gb.fa(), k = this.Nd(0).time, l = this.Nd(0).value, p = this.Nd(1).value,
            q = this.Nd(2).value, r = this.Nd(3).value, t, u;
        l <= r ? (t = h.j.ki, u = h.j.ji) : (t = h.j.ii, u = h.j.hi);
        var x, A;
        A = xb(l, r);
        h = yb(l, r);
        b.save();
        b.globalAlpha = this.zf;
        b.fillStyle = u;
        u = c.x(k);
        p = G(d.y(p));
        x = 1;
        A = G(d.y(A)) - p;
        b.fillRect(u, p, x, A);
        u = c.x(k);
        p = G(d.y(h));
        x = 1;
        A = G(d.y(q)) - p;
        b.fillRect(u, p, x, A);
        p = G(d.y(xb(l, r)));
        A = G(d.y(yb(l, r))) - p || 1;
        x = e.sb().Mg;
        u -= x / 2 | 0;
        b.fillRect(u, p, 1, A);
        b.fillRect(u + x - 1, p, 1, A);
        b.fillRect(u,
            p, x - 1, 1);
        b.fillRect(u, p + A - 1, x - 1, 1);
        b.fillStyle = t;
        b.fillRect(u + 1, p + 1, x - 2, A - 2);
        b.restore();
        return !0
    };
    f.lb = function () {
        var b = Gg(tA.P.lb.call(this));
        jh(b, {
            openExpression: this.nF,
            highExpression: this.qz,
            lowExpression: this.Az,
            closeExpression: this.nC,
            openSeed: this.oF,
            highSeed: this.qE,
            lowSeed: this.eF,
            closeSeed: this.oC,
            seed: this.yh,
            inversionProbability: this.Ek,
            randomnessCoefficient: this.Vh,
            price: this.ak,
            spread: this.Jo,
            spreadScale: this.gk
        });
        return Ig(b)
    };
    f.cb = function (b) {
        tA.P.cb.call(this, b);
        b = Gg(b);
        this.nF = b.openExpression;
        this.qz = b.highExpression;
        this.Az = b.lowExpression;
        this.nC = b.closeExpression;
        this.oF = b.openSeed;
        this.qE = b.highSeed;
        this.eF = b.lowSeed;
        this.oC = b.closeSeed;
        this.yh = b.seed;
        this.Ek = b.inversionProbability;
        this.Vh = b.randomnessCoefficient;
        this.ak = b.price;
        this.Jo = b.spread;
        this.gk = b.spreadScale
    };

    function jC(b, c) {
        P.call(this, b, c);
        this.AC = v(this.AC, this);
        this.a = {x: NaN, y: NaN}
    }

    B(jC, P);
    jC.prototype.type = "GannAngle";
    var kC = [1, .5, 2, 1 / 3, 3, .25, 4, .125, 8];
    f = jC.prototype;
    f.Tc = 7;
    f.Uc = 2;
    f.xp = 1;
    f.Gf = function (b) {
        jC.P.Gf.call(this, b);
        lC(this, this.qd().Qa().ma(), this.qd().Qa().W())
    };
    f.Yj = function (b, c) {
        jC.P.Yj.call(this, b, c);
        1 < this.ba.length && lC(this, b.ma(), b.W())
    };

    function lC(b, c, d) {
        2 > b.ba.length ? b.xp = Infinity : (b.setTime(1, Math.max(b.getTime(0), b.getTime(1))), c = c.Sb, c = (b.G(1) - b.G(0)) / c, d = (b.getTime(1) - b.getTime(0)) / d.Y(), b.xp = c / d)
    }

    f.ee = function (b, c, d) {
        jC.P.ee.call(this, b, c, d);
        d && d === this.ba[1] && lC(this, b.ma(), b.W())
    };
    f.Jv = function (b) {
        jC.P.Jv.call(this, b);
        1 == b.target.aj() && lC(this, this.ga().Qa(this).ma(), this.ga().Qa(this).W())
    };
    f.Vp = function (b, c, d) {
        return !Cl(b.W(), bl) && jC.P.Vp.call(this, b, c, d)
    };
    f.T = function (b, c, d, e) {
        var h = c.ma().Sb * this.xp, k = c.x(this.getTime(0)), l = d.y(this.G(0)), p = e.left + e.width,
            q = (p - k) / c.Ca();
        b.save();
        for (var r = 0, t = kC.length; r < t; r++) {
            var u = d.y(this.G(0) + q * h * kC[r]);
            b.moveTo(k, l);
            b.lineTo(p, u)
        }
        r = t = 0;
        r = d.y(this.G(0) + q * h * kC[0]);
        0 > r || r > e.top + e.height ? (r = 0 > r ? l / 2 : (e.top + e.height + l) / 2, e = (d.qc(r) - this.G(0)) / h, t = k + e * c.Ca()) : (t = k + (p - k) / 2, r = d.y(this.G(0) + q * h / 2));
        this.a.x = t;
        this.a.y = r;
        !this.ba[1] || this.ba[1].time && this.ba[1].value || (this.ba[1].time = c.t(t - 10), this.ba[1].value = d.qc(r),
            this.ck());
        b.stroke();
        b.fillStyle = this.Jb();
        b.fillText(isFinite(this.xp) ? this.xp.toFixed(2) : 0 < this.xp ? "\u221e" : "-\u221e", t + 5, r + 5);
        this.Tc & 4 && (b.fillStyle = this.rd(), b.beginPath(), this.AC(c.x(this.getTime(0)), d.y(this.G(0))), this.AC(t, r), b.fill());
        b.restore();
        return !0
    };
    f.ec = function (b, c, d, e, h, k) {
        k = k || 5;
        var l, p = d.ma().Sb * this.xp, q = d.x(this.getTime(0)), r = e.y(this.G(0));
        h = h.left + h.width;
        d = (h - q) / d.Ca();
        for (var t = 0, u = kC.length; t < u; t++) {
            var x = e.y(this.G(0) + d * p * kC[t]), A = q - h, C = r - x, I = A * A + C * C,
                N = ((b - q) * A + (c - r) * C) / I;
            switch (!0) {
                case 0 <= N && 1 >= N:
                    l = Math.abs((b - q) * C - (c - r) * A) / Math.sqrt(I);
                    break;
                case 0 > N:
                    l = Co(b, c, q, r);
                    break;
                case 1 < N:
                    l = Co(b, c, h, x)
            }
            if (l <= k) return !0
        }
        return !1
    };
    f.Dm = function (b, c, d, e, h) {
        return Co(b, c, this.a.x, this.a.y) <= (h || 5) ? this.ba[1] : jC.P.Dm.call(this, b, c, d, e, h)
    };
    f.AC = function (b, c) {
        var d = this.ga().X().getContext();
        d.moveTo(b, c);
        d.arc(b, c, this.ga().X().fa().$y(), 0, 2 * Math.PI, !1)
    };
    f.getTypeName = function () {
        return "GannAngle"
    };
    f.lb = function () {
        var b = Gg(jC.P.lb.call(this));
        b.pipsPerBar = this.xp;
        return Ig(b)
    };
    f.cb = function (b) {
        jC.P.cb.call(this, b);
        this.xp = Gg(b).pipsPerBar
    };

    function mC(b, c) {
        P.call(this, b, c);
        this.BC = v(this.BC, this);
        this.a = {x: NaN, y: NaN}
    }

    B(mC, P);
    f = mC.prototype;
    f.type = "GannGrid";
    f.Tc = 0;
    f.Uc = 2;
    f.Fn = 1;
    f.il = 7;
    f.Gf = function (b) {
        mC.P.Gf.call(this, b);
        1 < this.ba.length && this.ee(this.ga().Qa(this), this.ga().vb(this), this.ba[1])
    };
    f.Yj = function (b, c) {
        mC.P.Yj.call(this, b, c);
        nC(this)
    };
    f.ee = function (b, c, d) {
        mC.P.ee.call(this, b, c, d);
        if (d && d === this.ba[1]) {
            c = b.x(this.getTime(0));
            d = b.x(this.getTime(1));
            var e = b.ma().Sb, e = (this.G(1) - this.G(0)) / e;
            this.il = Math.max(1, Math.round((d - c) / b.Ca()));
            this.Fn = e / this.il;
            .01 > Math.abs(this.Fn) && (this.Fn = 0 < this.Fn ? .01 : -.01)
        }
    };
    f.Jv = function (b) {
        mC.P.Jv.call(this, b);
        1 == b.target.aj() && this.ee(this.ga().Qa(this), this.ga().vb(this), this.ba[1])
    };
    f.Vp = function (b, c, d) {
        return !Cl(b.W(), bl) && mC.P.Vp.call(this, b, c, d)
    };
    f.T = function (b, c, d, e) {
        var h = c.ma().Sb * this.Fn, k = c.x(this.getTime(0)), l = d.y(this.G(0)), p = k + this.il * c.Ca(),
            h = d.y(this.G(0) + h * this.il);
        b.save();
        b.beginPath();
        oC(this, b, this.cK, p, h, k, l, e);
        var q = p - k, r = h - l;
        if (0 != r && 2 < this.il && 3 < Math.abs(r)) {
            var t = 0, u = !1;
            do u = oC(this, b, this.Z6, k + q * (t + 2), l, p + q * t, h, e), t += 2; while (!u && 256 > t);
            t = 0;
            do u = oC(this, b, this.cK, p - q * t, h + r * (t + 2), p - q * (t + 1), h + r * (t + 1), e), t++; while (!u && 256 > t);
            t = 0;
            do u = oC(this, b, this.cK, p + q * (t + 2), h - r * t, p + q * (t + 1), h - r * (t + 1), e), t++; while (!u && 256 > t)
        }
        b.stroke();
        b.fillStyle = this.Jb();
        b.fillText(this.Fn.toFixed(2), p + 5, h + 5);
        this.a.x = p;
        this.a.y = h;
        this.Tc & 4 && (b.fillStyle = this.rd(), b.beginPath(), this.BC(c.x(this.getTime(0)), d.y(this.G(0))), this.BC(p, h), b.fill());
        b.restore();
        return !0
    };

    function oC(b, c, d, e, h, k, l, p) {
        b = d.call(b, e, h, k, l, p);
        c.moveTo(b[0], b[1]);
        c.lineTo(b[2], b[3]);
        c = p.top;
        d = p.top + p.height;
        e = p.left;
        p = p.left + p.width;
        return b[0] < e && b[2] < e || b[0] > p && b[2] > p || b[1] < c && b[3] < c || b[1] > d && b[3] > d
    }

    f.Z6 = function (b, c, d, e, h) {
        var k, l;
        switch (!0) {
            case b >= d && c >= e:
            case b <= d && c <= e:
                k = LA(h.left, h.top, b, c, d, e);
                l = LA(h.left + h.width, h.top + h.height, b, c, d, e);
                break;
            case b >= d && c <= e:
            case b <= d && c >= e:
                k = LA(h.left, h.top + h.height, b, c, d, e), l = LA(h.left + h.width, h.top, b, c, d, e)
        }
        return [Gc(b, d, k), Gc(c, e, k), Gc(b, d, l), Gc(c, e, l)]
    };
    f.cK = function (b, c, d, e, h) {
        var k;
        switch (!0) {
            case b >= d && c >= e:
                k = LA(h.left + h.width, h.top + h.height, b, c, d, e);
                break;
            case b <= d && c <= e:
                k = LA(h.left, h.top, b, c, d, e);
                break;
            case b >= d && c <= e:
                k = LA(h.left + h.width, h.top, b, c, d, e);
                break;
            case b <= d && c >= e:
                k = LA(h.left, h.top + h.height, b, c, d, e)
        }
        return [Gc(b, d, k), Gc(c, e, k), d, e]
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        var l, p = d.ma().Sb * this.Fn;
        k = d.x(this.getTime(0));
        var q = e.y(this.G(0));
        l = d.x(this.getTime(1));
        var r = e.y(this.G(1));
        d = k + this.il * d.Ca();
        e = e.y(this.G(0) + p * this.il);
        l = Co(b, c, l, r);
        if (Math.abs(l) <= h) return !0;
        l = QA(b, c, d, e, k, q, 1);
        if (Math.abs(l) <= h) return !0;
        r = d - k;
        p = e - q;
        if (0 != p && 2 < this.il && 3 < Math.abs(p)) {
            var t = 0, u = !1;
            do {
                l = QA(b, c, k + r * (t + 2), q, d + r * t, e, 0);
                if (Math.abs(l) <= h) return !0;
                t += 2
            } while (!u && 256 > t);
            t = 0;
            u = !1;
            do {
                l = QA(b, c, d - r * t, e + p * (t + 2), d - r * (t + 1), e + p * (t + 1), 1);
                if (Math.abs(l) <=
                    h) return !0;
                t++
            } while (!u && 256 > t);
            t = 0;
            u = !1;
            do {
                l = QA(b, c, d + r * (t + 2), e - p * t, d + r * (t + 1), e - p * (t + 1), 1);
                if (Math.abs(l) <= h) return !0;
                t++
            } while (!u && 256 > t)
        }
    };
    f.Dm = function (b, c, d, e, h) {
        return Co(b, c, this.a.x, this.a.y) <= (h || 5) ? this.ba[1] : mC.P.Dm.call(this, b, c, d, e, h)
    };
    f.jr = function () {
        nC(this);
        return this.ba
    };

    function nC(b) {
        if (!b.ba[1] || !b.ba[1].time || !b.ba[1].value) {
            var c = b.ga().Qa(b), d = c.ma().Sb * b.Fn;
            b.ba[1] = {time: b.getTime(0) + b.il * c.W().Y(), value: b.G(0) + d * b.il}
        }
    }

    f.BC = function (b, c) {
        var d = this.ga().X().getContext();
        d.moveTo(b, c);
        d.arc(b, c, this.ga().X().fa().$y(), 0, 2 * Math.PI, !1)
    };
    f.getTypeName = function () {
        return "GannGrid"
    };
    f.lb = function () {
        var b = Gg(mC.P.lb.call(this));
        b.pipsPerBar = this.Fn;
        b.cellWidthInBars = this.il;
        return Ig(b)
    };
    f.cb = function (b) {
        mC.P.cb.call(this, b);
        b = Gg(b);
        this.Fn = b.pipsPerBar;
        this.il = b.cellWidthInBars
    };

    function xA(b, c) {
        P.call(this, b, c)
    }

    B(xA, P);
    f = xA.prototype;
    f.type = "GhostFeed";
    f.sg = .5;
    f.Tc = P.prototype.Tc ^ 2;
    f.Uc = 2;
    f.Gf = function (b) {
        if (this.ba.length - 1 > this.Uc) {
            var c = this.ba[this.ba.length - 2], d = qA(this);
            if ($m(b.time, c.time, d.time) && $m(b.value, c.value, d.value)) {
                this.oh = !0;
                this.ba.pop();
                return
            }
        }
        xA.P.Gf.call(this, b);
        pC(this);
        uA(this)
    };
    f.jr = function () {
        return this.We
    };
    f.DS = function (b) {
        return this.We[b]
    };
    f.Jv = function (b) {
        var c = b.target.G();
        b = b.target.aj();
        this.Xu[b + 1] && (this.Xu[b + 1].G().GV = c.Vq);
        this.We[b].time = +c.Vq.getTime();
        this.We[b].value = +c.gf();
        this.ee(this.Qa(), this.vb, this.We[b])
    };
    f.oh = !1;
    f.zg = function () {
        return this.oh
    };
    f.Ez = function () {
        return this.ba.length >= this.Uc
    };
    f.Kj = !1;
    f.Rh = 0;
    f.Us = function (b, c, d) {
        this.Kj ? (b.value = d, d = ai(this.We, b), ~d && (b.time = yb(xb(c, this.We[d - 1] ? this.We[d - 1].time : -Infinity), this.We[d + 1] ? this.We[d + 1].time : Infinity))) : xA.P.Us.call(this, b, c, d)
    };
    f.rL = function () {
        return (!this.Kj || this.gb.X().W() === this.qb) && this.Uc <= this.ba.length
    };
    f.Yj = function () {
        this.Kj || (this.qb = this.gb.X().W(), this.oh = this.Kj = !0, this.Rh = this.ba.length, this.We = this.ba.slice(), qC(this), uA(this), this.Vm(oA.Wo), this.ck(), this.S().C(this.gb.X(), px, function () {
            this.S().Qf(this.gb.X(), qx, this.QK)
        }))
    };
    f.QK = function () {
        rC(this);
        if (this.gb.X().W() === this.qb) for (var b = 0, c = this.We.length - 1; b < c; b++) sC(this, b)
    };
    f.ee = function (b, c, d) {
        this.Kj ? d && (b = ai(this.ba, d), b < this.Rh ? (d = ai(this.We, d), 0 < d && sC(this, d - 1), d < this.Rh - 1 && sC(this, d)) : this.hl[(b - this.Rh) / 4 | 0].ee(this.Qa(), this.vb(), d)) : pC(this);
        uA(this)
    };
    f.Vz = function () {
        this.We = [];
        E(this.hl, v(this.gb.Me, this.gb));
        this.dispatchEvent(new cf(Bu, this))
    };

    function pC(b) {
        for (var c = 1, d = b.ba.length; c < d; c++) {
            var e = b.ba[c - 1], h = b.ba[c];
            h.time <= e.time && (h.time = e.time)
        }
    }

    function qC(b) {
        b.li = [];
        b.hl = [];
        for (var c = 0, d = b.We.length - 1; c < d; c++) b.li[c] = [], sC(b, c)
    }

    f.Jz = 1;
    f.dB = .01;
    f.gk = .5;
    f.Vh = 5;
    f.Ek = 0;

    function sC(b, c) {
        for (var d = b.Qa(), e = b.sb().Ca(), h = b.We[c], k = b.We[c + 1], l = d.x(h.time), p = (d.x(k.time) - l) / e | 0, k = (k.value - h.value) / p, q = p, r = b.li[c].length; q < r; q++) b.QM(b.li[c][q]);
        b.li[c].length = p;
        for (var t = b.li[c], u = b.gb.X().ma().Sb, q = 0, r = p; q < r; q++) {
            var x = d.t(l + e * q), A = h.value + k * q,
                C = (0 < k ? 1 : 0 > k ? -1 : 0) * Math.max(Math.abs(k), b.Jz * u), I;
            if (!t[q]) {
                t[q] = I = new tA(x, C, k, b.gb);
                var N = Math.random() * Math.random(), S = I;
                S.qz = .05 * (2 - N);
                hC(S);
                S = I;
                S.Az = .05 * (1 + N);
                hC(S);
                I.NX(!1)
            }
            I = t[q];
            I.setTime(x);
            I.Uk(A);
            I.Jo = C;
            x = I;
            A = b.gk +
                b.dB * (1 / Math.log(p));
            x.gk = A;
            hC(x);
            x = I;
            x.Vh = b.Vh;
            hC(x);
            I.Ek = b.Ek;
            hC(I)
        }
        E(t.slice(0, p), b.iQ, b);
        t.length > p && E(t.slice(p), b.QM, b)
    }

    f.iQ = function (b) {
        ~ai(this.hl, b) || (this.gb.Jg(b, WA(this.gb, this)), li(this.hl, b), this.ba = this.ba.concat(b.ba))
    };

    function rC(b) {
        b.hl = b.hl || [];
        E(b.hl.slice(), b.QM, b)
    }

    f.QM = function (b) {
        ~ai(this.hl, b) && (this.gb.Me(b), mi(this.hl, b), E(b.ba, va(mi, this.ba)))
    };
    f.sb = function () {
        return this.gb.X().sb()
    };
    f.Qa = function () {
        return this.gb.Qa(this)
    };
    f.vb = function () {
        return this.gb.vb(this)
    };
    f.ec = function (b, c, d, e, h, k) {
        if (this.Kj) {
            for (var l = 0, p = this.We.length; l < p; l++) {
                var q = d.x(this.We[l].time), r = e.y(this.We[l].value);
                if ($m(b, q, k || 5) && $m(c, r, k || 5)) return !0
            }
            l = 0;
            for (p = this.hl.length; l < p; l++) if (this.hl[l].ec(b, c, d, e, h, k)) return !0
        }
        return !1
    };
    f.T = function (b, c, d) {
        b.save();
        var e = this.Kj ? this.We : this.ba;
        tC(this, b, c.x(e[0].time), d.y(e[0].value));
        for (var h = 1, k = e.length; h < k; h++) Jn(b, c.x(e[h - 1].time), d.y(e[h - 1].value), c.x(e[h].time), d.y(e[h].value), [10, 10]), tC(this, b, c.x(e[h].time), d.y(e[h].value));
        b.stroke();
        b.restore();
        return !0
    };
    f.jn = Hc.Ej;

    function tC(b, c, d, e) {
        c.setLineDash(b.pr());
        c.moveTo(d - 5, e - 5);
        c.lineTo(d + 5, e + 5);
        c.moveTo(d + 5, e - 5);
        c.lineTo(d - 5, e + 5)
    }

    f.Sg = function () {
        xA.P.Sg.call(this);
        this.hB = new Kv("", "Spread scale", null, this.gk / 10 * 100);
        this.hB.ah(0);
        this.hB.Ah(100);
        this.kd.Xa(this.hB);
        this.cB = new Kv("", "Slope effect", null, 100 * this.dB);
        this.cB.ah(0);
        this.cB.Ah(100);
        this.kd.Xa(this.cB);
        this.Kz = new Kv("", "Minimum spread", null, this.Jz);
        this.Kz.ah(0);
        this.Kz.Ah(10);
        this.kd.Xa(this.Kz);
        this.hA = new Kv("", "Randomness", null, this.Vh);
        this.hA.ah(0);
        this.hA.Ah(100);
        this.kd.Xa(this.hA);
        this.sz = new Kv("", "Inversion", null, this.Ek);
        this.sz.ah(0);
        this.sz.Ah(100);
        this.kd.Xa(this.sz);
        this.S().C(this.hB, "change", function () {
            this.gk = this.hB.G() / 100 * 10;
            for (var b = 0, c = this.li.length; b < c; b++) sC(this, b);
            this.gb.X().Ia()
        }).C(this.cB, "change", function () {
            this.dB = this.cB.G() / 100;
            for (var b = 0, c = this.li.length; b < c; b++) sC(this, b);
            this.gb.X().Ia()
        }).C(this.Kz, "change", function () {
            this.Jz = parseInt(this.Kz.G());
            for (var b = 0, c = this.li.length; b < c; b++) sC(this, b);
            this.gb.X().Ia()
        }).C(this.hA, "change", function () {
            this.Vh = parseFloat(this.hA.G());
            for (var b = 0, c = this.li.length; b < c; b++) sC(this,
                b);
            this.gb.X().Ia()
        }).C(this.sz, "change", function () {
            this.Ek = parseFloat(this.sz.G()) / 100 * 2;
            for (var b = 0, c = this.li.length; b < c; b++) sC(this, b);
            this.gb.X().Ia()
        })
    };
    f.getTypeName = function () {
        return "GhostFeed"
    };
    f.lb = function () {
        var b = Gg(xA.P.lb.call(this)), c = [];
        this.li = this.li || [];
        E(this.li, function (b, e) {
            c[e] = [];
            E(b, function (b) {
                c[e].push(b.lb())
            })
        }, this);
        jh(b, {
            controlPointList: Sa(this.ba, function (b) {
                return Lc(b)
            }),
            referenceControlPointList: Sa(this.We, function (b) {
                return Lc(b)
            }),
            spreadScale: this.gk,
            slopeEffect: this.dB,
            minSpread: this.Jz,
            randomnessCoefficient: this.Vh,
            inversionProbability: this.Ek,
            candlesSeq: c
        });
        return Ig(b)
    };
    f.cb = function (b) {
        xA.P.cb.call(this, b);
        b = Gg(b);
        this.We = this.ba = b.referenceControlPointList;
        this.gk = b.spreadScale;
        this.dB = b.slopeEffect;
        this.Jz = b.minSpread;
        this.Vh = b.randomnessCoefficient;
        this.Ek = b.inversionProbability;
        b.strokeLineStyle || (this.jn = Hc.Ej);
        this.Kj && (rC(this), this.li = [], this.hl = [], E(b.candlesSeq, function (b, d) {
            this.li[d] = [];
            E(b, function (b) {
                var c = new tA(null, null, null, this.gb);
                c.cb(b);
                this.li[d].push(c);
                this.iQ(c)
            }, this)
        }, this))
    };

    function uC(b, c, d) {
        P.call(this, c, d);
        b && this.jR(b)
    }

    B(uC, P);
    f = uC.prototype;
    f.type = "Image";
    f.jR = function (b) {
        this.a = b;
        this.g = b.width;
        this.w = wb(b.width / 2);
        this.jf = b.height;
        this.m = wb(b.height / 2);
        this.gb && (this.gb.Me(this), this.gb.Jg(this))
    };
    f.Tc = 0;
    f.Uc = 1;
    f.T = function (b, c, d) {
        if (this.a) return c = G(c.x(this.getTime(0))), d = G(d.y(this.G(0))), b.drawImage(this.a, c - this.w, d - this.m, this.g, this.jf), !0
    };
    f.ec = function (b, c, d, e, h, k) {
        if (this.a) return h = k || 5, d = G(d.x(this.getTime(0))), k = G(e.y(this.G(0))), e = d - this.w - h, d = e + this.g + 2 * h, k = k - this.m - h, h = k + this.jf + 2 * h, b >= e && b <= d && c >= k && c <= h
    };
    f.lb = function () {
        var b = Gg(uC.P.lb.call(this));
        this.a && (b.image = this.a.src);
        return Ig(b)
    };
    f.cb = function (b) {
        uC.P.cb.call(this, b);
        b = Gg(b);
        var c = new Image;
        c.onload = v(this.jR, this, c);
        c.src = b.image
    };
    f.getTypeName = function () {
        return "Image"
    };

    function vC(b, c, d, e, h, k, l, p) {
        P.call(this, [{time: Date.now(), value: h || Infinity}, {
            time: Date.now(),
            value: k || Infinity
        }, {time: Date.now(), value: l || Infinity}], p);
        this.Wf(b, c, d, e);
        this.m = [{width: 2, pattern: null}, {width: 1, pattern: [5, 2]}, {width: 1, pattern: [2, 2]}];
        this.w = [{width: 1, pattern: null}, {width: 1, pattern: [5, 4]}, {width: 1, pattern: [2, 4]}];
        this.R = [null, "TP", "SL"]
    }

    B(vC, P);
    f = vC.prototype;
    f.type = "Order";
    f.zf = 1;
    f.Vu = !1;
    f.ec = function (b, c, d, e, h, k) {
        b = k || 5;
        for (d = 0; 3 > d; d++) if (Math.abs(e.y(this.G(d)) - c) <= b) return !0;
        return !1
    };
    f.Uc = 1;
    f.Wf = function (b, c, d, e) {
        this.F = b;
        this.g = c;
        this.a = d;
        this.K = e;
        this.Ad = (this.F ? this.F + ", " : "") + this.g + " " + this.a
    };
    f.Uk = function (b, c) {
        switch (b) {
            case 0:
                this.ba[0].value = c;
                break;
            case 1:
                this.ba[1].value = c;
                break;
            case 2:
                this.ba[2].value = c
        }
        uA(this)
    };
    f.qea = function (b, c, d) {
        this.Uk(0, b);
        this.Uk(1, c);
        this.Uk(2, d)
    };
    f.Vda = function (b, c, d, e) {
        b = (b ? this.m : this.w)[c];
        b.width = d;
        b.pattern = e
    };
    f.T = function (b, c, d, e) {
        c = this.gb.fa();
        for (var h = G(c.j.hd / 2), k = rA(this), l = .4 > ec(this.color) ? fc.white : fc.black, p = 0; 3 > p; p++) {
            var q = this.G(p);
            if (isFinite(q)) {
                var r = G(d.y(q));
                if (e.top <= r && r <= e.top + e.height) {
                    var t = (this.K ? this.m : this.w)[p];
                    0 == p && b.fillText(this.Ad, e.left + 5, r - 3);
                    this.Zd(b, e.left, r + .5, e.left + e.width, r + .5, t.width, t.pattern);
                    b.save();
                    b.textBaseline = "middle";
                    var t = this.R[p], u = 1;
                    t && (u += b.measureText(t).width);
                    b.fillStyle = c.j.Rm;
                    b.fillRect(e.left + e.width - u, r - h - 1, c.El() + u + 1, 2 * h + 2);
                    b.fillStyle = k;
                    b.fillRect(e.left + e.width - u + 1, r - h, c.El() + u, 2 * h);
                    b.fillStyle = l;
                    b.fillText(q.toFixed(5), e.left + e.width + 2, r + 1);
                    t && b.fillText(t, e.left + e.width + 2 - u, r + 1);
                    b.restore()
                }
            }
        }
        return !0
    };
    f.Zd = function (b, c, d, e, h, k, l) {
        b.lineWidth = k;
        b.beginPath();
        l ? Jn(b, c, d, e, h, l) : (b.moveTo(c, d), b.lineTo(e, h));
        b.stroke()
    };
    f.lb = function () {
        var b = Gg(vC.P.lb.call(this));
        b.label = this.Ad;
        return Ig(b)
    };
    f.cb = function (b) {
        vC.P.cb.call(this, b);
        this.Ad = Gg(b).label
    };
    f.getTypeName = function () {
        return "Order"
    };

    function DC(b, c, d, e, h, k, l) {
        this.Ff = b;
        this.hW = EC(e);
        this.vW = EC(h);
        this.lX = EC(k);
        this.Bh = c;
        this.Ih = c + d;
        this.iW = {width: 1, pattern: null, color: fc.blue};
        this.wW = {width: 1, pattern: null, color: fc.green};
        this.mX = {width: 1, pattern: null, color: fc.red};
        var p = Infinity, q = -Infinity;
        E([this.hW, this.vW, this.lX], function (b) {
            E(b, function (b) {
                p = yb(p, b.value);
                q = xb(q, b.value)
            })
        });
        P.call(this, [{time: this.Bh, value: p}, {time: this.Ih, value: q}], l)
    }

    B(DC, P);
    DC.prototype.Uc = 2;
    DC.prototype.type = "Pattern";
    var FC = {qga: 0, sha: 1, Uga: 2, Tga: 3, Gha: 4, Fha: 5, uka: 6, Vha: 7, ala: 8, $ka: 9, nka: 10, Zka: 11};

    function EC(b) {
        return ia(b) ? b : ka(b) ? Sa(b.split(","), function (b) {
            b = b.split(":");
            var d = parseInt(b[0], 10);
            return 1E6 < d ? {time: 1E3 * d, value: parseFloat(b[1])} : {offset: d, value: parseFloat(b[1])}
        }) : []
    }

    f = DC.prototype;
    f.oea = function (b, c, d) {
        GC(this.iW, b, c, d)
    };
    f.rea = function (b, c, d) {
        GC(this.wW, b, c, d)
    };
    f.xea = function (b, c, d) {
        GC(this.mX, b, c, d)
    };

    function GC(b, c, d, e) {
        b.color = c;
        b.width = null != d ? d : b.width;
        b.pattern = null != e ? e : b.pattern
    }

    f.T = function (b, c, d) {
        b.save();
        HC(this, b, c, d, this.iW, this.hW);
        HC(this, b, c, d, this.wW, this.vW);
        HC(this, b, c, d, this.mX, this.lX);
        b.restore();
        return !0
    };
    f.ec = function () {
        return !1
    };
    f.Xh = function (b) {
        DC.P.Xh.call(this, b);
        this.Er = b.X().W().Y()
    };

    function HC(b, c, d, e, h, k) {
        c.save();
        c.lineWidth = h.width;
        c.strokeStyle = h.color;
        c.beginPath();
        for (var l = d.sx(b.Bh), p = d.yb, q = p.ue(), p = p.W().Y(), r = 1, t = k.length; r < t; r++) {
            var u = k[r - 1], x = k[r], A = u.time ? d.x(u.time) : b.kf(d, l + u.offset, q, p), u = e.y(u.value),
                C = x.time ? d.x(x.time) : b.kf(d, l + x.offset, q, p), x = e.y(x.value);
            b.wk(c, A, u, C, x, h.pattern)
        }
        c.stroke();
        c.restore()
    }

    f.kf = function (b, c, d, e) {
        return b.x(b.sE(c) + Math.max(c - d, 0) * e)
    };
    f.wk = function (b, c, d, e, h, k) {
        k ? Jn(b, c, d, e, h, k) : (b.moveTo(c, d), b.lineTo(e, h))
    };
    var IC = new Q;
    IC.lL = {};
    IC.pj = {};
    IC.D7 = function () {
        return Ua(IC.pj)
    };
    IC.Zn = {};
    IC.H6 = function () {
        return this.Zn
    };
    IC.tb = function (b, c) {
        if (b in this.pj) throw Error('Indicator "' + b + '" already registered.');
        c.prototype.sa = c.prototype.sa || c.prototype.indicatorInfo;
        oa(c.prototype.getOptInputParameter) && (c.prototype.ya = c.prototype.getOptInputParameter);
        oa(c.prototype.setOptInputParameter) && (c.prototype.ja = c.prototype.setOptInputParameter);
        oa(c.prototype.calculate) && (c.prototype.Oa = c.prototype.calculate);
        this.pj[b] = c;
        var d = c.prototype.lc().pb;
        this.Zn[d] = this.Zn[d] || {};
        this.Zn[d][b] = c;
        this.dispatchEvent(new JC("register",
            this, b))
    };
    IC.Pfa = function (b) {
        if (!(b in this.pj)) throw Error('Indicator "' + b + '" not registered.');
        var c = this.pj[b].prototype.lc().pb;
        this.Zn[c][b] = null;
        delete this.Zn[c][b];
        ch(this.Zn[c]) && (this.Zn[c] = null, delete this.Zn[c]);
        this.pj[b] = null;
        delete this.pj[b];
        this.dispatchEvent(new JC("unregister", this, b))
    };
    IC.Paa = function (b) {
        return b in this.pj
    };
    IC.kb = function (b) {
        if (!(b in this.pj)) throw Error('Indicator "' + b + '" not registered.');
        var c = new this.pj[b](this), d = c.lc().numberOfOutputs;
        this.lL[b] = this.lL[b] || 0;
        this.bI.dN(b + ";" + this.lL[b]++);
        for (b = d; 0 < b--;) {
            var e = c.Se(b);
            e.Jb() || (1 == d ? e.Ab("#7092BE") : e.Ab(c.B5[b]))
        }
        return c
    };
    IC.G6 = function (b) {
        if (!(b in this.pj)) throw Error('Indicator "' + b + '" not registered.');
        var c = new this.pj[b](this), d = c.lc(), e = [], h = [];
        this.pj[b].prototype.init.call(c);
        this.pj[b].prototype.init && this.pj[b].prototype.init.call(c);
        for (var k = 0, l = d.rb; k < l; k++) {
            var p = c.XJ(k), q = p.description;
            q instanceof Tc ? e.push({
                title: p.name,
                "default": q.a,
                values: q.values,
                names: q.m
            }) : q instanceof Og && e.push({title: p.name, "default": q.a, min: q.min, max: q.max, increment: q.g})
        }
        k = 0;
        for (l = d.numberOfOutputs; k < l; k++) p = c.Se(k), h.push({
            name: p.name,
            color: p.color, opacity: p.opacity, drawingStyle: p.cr, show: p.show
        });
        return {id: b, title: d.Nb(), inputs: e, outputs: h}
    };
    IC.tQ = "white";
    IC.Nk = function (b) {
        this.tQ = b
    };
    IC.bI = new Hj;
    IC.LM = va(Gn, v(IC.bI.valueOf, IC.bI));
    IC.Fla = function () {
        var b = IC.tQ, c = IC.LM || Gn;
        do var d = c(); while (.65 > In(b, d) && .5 > Math.abs(ec(b) - ec(d)));
        return d
    };

    function JC(b, c, d) {
        cf.call(this, b, c);
        this.indicator = d
    }

    B(JC, cf);

    function KC(b) {
        M.call(this, b)
    }

    B(KC, M);
    KC.prototype.sa = new Oc({
        name: "ADX",
        nb: "ADX",
        title: H.VZ,
        pb: H.pm,
        Vb: !0,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(KC.prototype.sa.getName(), KC);
    f = KC.prototype;
    f.wm = 14;
    f.init = function () {
        this.Lb = [new Qc("Price HLC", 0)];
        this.g = [new Pg(H.se, new Og(this.ha, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        this.m = b - this.ea();
        this.La = this.da[0][2][this.m];
        this.Ya = this.da[0][3][this.m];
        this.Ea = this.da[0][1][this.m];
        this.F = this.U = this.R = 0;
        for (var d = this.wm - 1, e = 0; 0 < d; d--) LC(this, !1), this.F += this.a, this.Ea = this.da[0][1][this.m];
        this.ob = 0;
        for (d = this.wm; 0 < d; d--) LC(this, !0), MC(this, !0);
        this.za = this.ob / this.wm;
        for (d = 0; 0 < d; d--) LC(this, !0), MC(this, !1);
        for (this.na[0][e++] = this.za; this.m < c; e++) LC(this, !0), MC(this, !1), this.na[0][e] = this.za;
        return new Pc(b, e)
    };

    function LC(b, c) {
        b.m++;
        b.a = b.da[0][2][b.m];
        b.ia = b.a - b.La;
        b.La = b.a;
        b.a = b.da[0][3][b.m];
        b.$ = b.Ya - b.a;
        b.Ya = b.a;
        c && (b.R -= b.R / b.wm, b.U -= b.U / b.wm);
        0 < b.$ && b.ia < b.$ ? b.R += b.$ : 0 < b.ia && b.ia > b.$ && (b.U += b.ia);
        b.a = b.La - b.Ya;
        b.K = Math.abs(b.La - b.Ea);
        b.K > b.a && (b.a = b.K);
        b.K = Math.abs(b.Ya - b.Ea);
        b.K > b.a && (b.a = b.K)
    }

    function MC(b, c) {
        b.F = b.F - b.F / b.wm + b.a;
        b.Ea = b.da[0][1][b.m];
        -1E-8 < b.F && 1E-8 > b.F || (b.ka = b.R / b.F * 100, b.va = b.U / b.F * 100, b.a = b.ka + b.va, -1E-8 < b.a && 1E-8 > b.a || (c ? b.ob += Math.abs(b.ka - b.va) / b.a * 100 : (b.a = Math.abs(b.ka - b.va) / b.a * 100, b.za = (b.za * (b.wm - 1) + b.a) / b.wm)))
    }

    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.wm = c
    };
    f.ya = function () {
        return this.wm
    };
    f.ea = function () {
        return 2 * this.wm - 1
    };

    function NC(b) {
        M.call(this, b)
    }

    B(NC, M);
    NC.prototype.sa = new Oc({
        name: "AO",
        nb: "AO",
        title: H.XZ,
        pb: H.OB,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 2
    });
    IC.tb(NC.prototype.sa.getName(), NC);
    f = NC.prototype;
    f.TU = !0;
    f.Xq = 34;
    f.Wq = 5;
    f.init = function () {
        this.m = this.w.kb("SMA");
        this.a = this.w.kb("SMA");
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.qP, new Og(NC.prototype.Xq, 2, 1E5, 1)), new Pg(H.gP, new Og(NC.prototype.Wq, 2, 1E5, 1))];
        this.Ga = [new L(H.I_, 0, 12, !1, "#6BA583"), new L(H.x_, 0, 12, !1, "#D75442")]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        if (this.Xq < this.Wq) {
            var d = this.Xq;
            this.Xq = this.Wq;
            this.Wq = d
        }
        var d = Array(c - b + 1), e = Array(c - b + 1);
        this.a.ja(0, this.Wq);
        this.a.Eb(0, this.da[0]);
        this.a.na[0] = d;
        this.m.ja(0, this.Xq);
        this.m.Eb(0, this.da[0]);
        this.m.na[0] = e;
        this.a.Oa(b, c);
        for (var h = this.m.Oa(b, c), k = 0, l = 0; l < h.Kd; l++) {
            var p = d[l] - e[l];
            this.na[0][l] = p > k ? p : 0;
            this.na[1][l] = p > k ? 0 : p;
            k = p
        }
        return new Pc(h.ph, h.Kd)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.Xq = c;
                this.m.ja(0, this.Xq);
                break;
            case 1:
                this.Wq = c, this.a.ja(0, this.Wq)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.Xq;
            case 1:
                return this.Wq
        }
    };
    f.ea = function () {
        return Math.max(this.m.ea(), this.a.ea())
    };
    f.qf = 2;
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        l = h = h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) return l = k.y(0), h = k.y(h), h > l ? e >= l - d && e <= h + d : e >= h - d && e <= l + d;
        return !1
    };

    function OC() {
        M.call(this)
    }

    B(OC, M);
    OC.prototype.sa = new Oc({
        name: "BWMFI",
        nb: "BWMFI",
        title: H.D0,
        pb: H.OB,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 0,
        numberOfOutputs: 4,
        Kr: 2
    });
    IC.tb(OC.prototype.sa.getName(), OC);
    f = OC.prototype;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.Ga = [new L(H.x0, 0, 12, !1, fc.green), new L(H.u0, 0, 12, !1, "#FFBA00"), new L(H.w0, 0, 12, !1, fc.blue), new L(H.v0, 0, 12, !1, "#EFBBCC")]
    };
    f.Oa = function (b, c) {
        var d, e;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        d = b;
        for (e = 0; d <= c; d++, e++) {
            var h = (this.da[0][2][d] - this.da[0][3][d]) / this.da[0][4][d],
                k = (this.da[0][2][d - 1] - this.da[0][3][d - 1]) / this.da[0][4][d - 1], l = !1, p = !1;
            this.da[0][4][d - 1] < this.da[0][4][d] && (l = !0);
            h > k && (p = !0);
            l && p ? (this.na[0][e] = h, this.na[1][e] = 0, this.na[2][e] = 0, this.na[3][e] = 0) : l || p ? !l && p ? (this.na[0][e] = 0, this.na[1][e] = 0, this.na[2][e] = h, this.na[3][e] = 0) : (this.na[0][e] = 0, this.na[1][e] = 0, this.na[2][e] = 0, this.na[3][e] =
                h) : (this.na[0][e] = 0, this.na[1][e] = h, this.na[2][e] = 0, this.na[3][e] = 0)
        }
        return new Pc(b, e)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ea = function () {
        return 1
    };
    f.ld = function () {
        return 0
    };
    f.qf = 2;
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) return e >= k.y(h) - d;
        return !1
    };

    function PC(b) {
        M.call(this, b)
    }

    B(PC, M);
    PC.prototype.sa = new Oc({
        name: "BBANDSFIB",
        nb: "BBANDSFIB",
        title: H.b_,
        pb: H.Ig,
        numberOfInputs: 2,
        rb: 4,
        numberOfOutputs: 7
    });
    IC.tb(PC.prototype.sa.getName(), PC);
    f = PC.prototype;
    f.ha = 20;
    f.ty = ai(nd, "EMA");
    f.My = 1.618;
    f.Ny = 2.618;
    f.Oy = 4.236;
    f.init = function () {
        this.a = this.w.kb("MA");
        this.a.ja(0, this.ha);
        this.a.ja(1, this.ty);
        this.m = this.w.kb("ATR");
        this.a.ja(0, this.ha);
        this.Lb = [new Qc(H.zc, 1, 5), new Qc(H.e_, 0, 5)];
        this.g = [new Pg(H.se, new Og(this.ha, 2, 2E3, 1)), new Pg(H.PB, new Tc(this.ty, od, nd)), new Pg(H.YZ, new Og(this.My, 1, 13, .01)), new Pg(H.ZZ, new Og(this.Ny, 1, 13, .01)), new Pg(H.$Z, new Og(this.Oy, 1, 13, .01))];
        this.Ga = [new L(H.r2, 0, 1, null, qn(153, 217, 234)), new L(H.q2, 0, 1, null, qn(119, 158, 46)), new L(H.p2, 0, Un, null, qn(255, 200, 0)), new L(H.lP, 0, Un,
            null, qn(64, 64, 255)), new L(H.f0, 0, Un, null, qn(255, 200, 0)), new L(H.g0, 0, 1, null, qn(119, 158, 46)), new L(H.h0, 0, 1, null, qn(153, 217, 234))];
        this.Ga[0].jq(2);
        this.Ga[6].jq(2)
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var h = Array(c - b + 1);
        this.a.Eb(0, d[0]);
        eo(this.a, h);
        var k = Array(c - b + 1);
        this.m.Eb(0, d[1]);
        eo(this.m, k);
        for (var d = this.a.Oa(b, c), l = this.m.Oa(b, c), d = Math.min(l.Kd, d.Kd), l = 0; l < d; l++) {
            var p = h[l], q = k[l];
            e[0][l] = p + this.Oy * q;
            e[1][l] = p + this.Ny * q;
            e[2][l] = p + this.My * q;
            e[3][l] = p;
            e[4][l] = p - this.My * q;
            e[5][l] = p - this.Ny * q;
            e[6][l] = p - this.Oy * q
        }
        return new Pc(b, d)
    };
    f.ea = function () {
        return Math.max(this.a.ea(), this.m.ea())
    };
    f.Bl = function () {
        return 0
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ha = parseInt(c, 10);
                this.a.ja(0, this.ha);
                this.m.ja(0, this.ha);
                break;
            case 1:
                this.ty = c;
                this.a.ja(1, this.ty);
                break;
            case 2:
                this.My = parseFloat(c);
                break;
            case 3:
                this.Ny = parseFloat(c);
                break;
            case 4:
                this.Oy = parseFloat(c)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ha;
            case 1:
                return this.ty;
            case 2:
                return this.My;
            case 3:
                return this.Ny;
            case 4:
                return this.Oy
        }
    };

    function QC(b) {
        M.call(this, b)
    }

    B(QC, M);
    QC.prototype.sa = new Oc({
        name: "BBANDS",
        nb: "BBANDS",
        title: H.a_,
        pb: H.Ig,
        numberOfInputs: 1,
        rb: 4,
        numberOfOutputs: 3
    });
    IC.tb(QC.prototype.sa.getName(), QC);
    f = QC.prototype;
    f.ha = 20;
    f.Oz = 2;
    f.Nz = 2;
    f.uy = ai(nd, "EMA");
    f.init = function () {
        this.F = this.w.kb("STDDEV");
        this.F.ja(0, this.ha);
        this.F.ja(1, this.Oz);
        this.m = this.w.kb("STDDEV");
        this.m.ja(0, this.ha);
        this.m.ja(1, this.Nz);
        this.a = this.w.kb("MA");
        this.a.ja(0, this.ha);
        this.a.ja(1, this.uy);
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(this.ha, 2, 2E3, 1)), new Pg(H.q_, new Og(this.Oz, -1E4, 1E4, .01)), new Pg(H.p_, new Og(this.Nz, -1E4, 1E4, .01)), new Pg(H.PB, new Tc(this.uy, od, nd))];
        this.Ga = [new L(H.o2, 0, 1, null, fc.blue), new L(H.lP, 0, 1, null, fc.green), new L(H.e0, 0, 1, null,
            fc.red)]
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var h = Array(c - b + 1);
        this.a.Eb(0, d[0]);
        eo(this.a, h);
        var k = Array(c - b + 1);
        this.F.Eb(0, d[0]);
        eo(this.F, k);
        var l = Array(c - b + 1);
        this.m.Eb(0, d[0]);
        eo(this.m, l);
        d = this.a.Oa(b, c);
        this.F.Oa(b, c);
        this.m.Oa(b, c);
        for (var p = 0, q = d.Kd; p < q; p++) e[1][p] = h[p], e[0][p] = h[p] + k[p], e[2][p] = h[p] - l[p];
        return new Pc(b, d.Kd)
    };
    f.ea = function () {
        return this.a.ea()
    };
    f.Bl = function () {
        return 0
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ha = parseInt(c, 10);
                this.a.ja(0, this.ha);
                this.F.ja(0, this.ha);
                this.m.ja(0, this.ha);
                break;
            case 1:
                this.Oz = parseInt(c, 10);
                this.F.ja(1, this.Oz);
                break;
            case 2:
                this.Nz = parseInt(c, 10);
                this.m.ja(1, this.Nz);
                break;
            case 3:
                this.uy = c, this.a.ja(1, this.uy)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ha;
            case 1:
                return this.Oz;
            case 2:
                return this.Nz;
            case 3:
                return this.uy
        }
    };

    function RC(b) {
        M.call(this, b)
    }

    B(RC, M);
    RC.prototype.sa = new Oc({
        name: "CCI",
        nb: "CCI",
        title: H.k_,
        pb: H.pm,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1,
        Kr: 1
    });
    IC.tb(RC.prototype.sa.getName(), RC);
    f = RC.prototype;
    f.ha = 14;
    f.init = function () {
        this.Lb = [new Qc("Price HLC", 0)];
        this.g = [new Pg(H.se, new Og(RC.prototype.ha, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e, h, k, l, p, q = 0, r = Array(this.ha), t = this.ea();
        for (k = b - this.ea(); k < b; k++) r[q] = (this.da[0][2][k] + this.da[0][3][k] + this.da[0][1][k]) / 3, q++, q > t && (q = 0);
        for (p = 0; k <= c; k++, p++) {
            h = (this.da[0][2][k] + this.da[0][3][k] + this.da[0][1][k]) / 3;
            r[q] = h;
            for (l = d = 0; l < this.ha; l++) d += r[l];
            d /= this.ha;
            for (l = e = 0; l < this.ha; l++) e += Math.abs(r[l] - d);
            d = h - d;
            this.na[0][p] = 0 != d && 0 != e ? d / (e / this.ha * .015) : 0;
            q++;
            q > t && (q = 0)
        }
        return new Pc(b, p)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };
    f.ld = qf(-500);
    f.pd = qf(500);

    function SC(b) {
        M.call(this, b)
    }

    B(SC, M);
    SC.prototype.sa = new Oc({
        name: "DEMA",
        nb: "DEMA",
        title: H.m_,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1,
        Xl: !0
    });
    IC.tb(SC.prototype.sa.getName(), SC);
    f = SC.prototype;
    f.ha = 30;
    f.init = function () {
        this.a = this.w.kb("EMA");
        this.m = this.w.kb("EMA");
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(30, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = Array(this.ea() + c - b + 1);
        this.a.Eb(0, this.da[0]);
        this.a.na[0] = d;
        var e = this.a.Oa(b - this.a.ea(), c), h = Array(e.Kd);
        this.m.Eb(0, d);
        this.m.na[0] = h;
        for (var k = this.m.Oa(0, e.Kd - 1), l = k.ph, p = 0; p < k.Kd; l++, p++) this.na[0][p] = 2 * d[l] - h[p];
        return new Pc(e.ph + k.ph, p)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c;
        this.a.ja(b, c);
        this.m.ja(b, c)
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.a.ea() + this.m.ea()
    };

    function TC(b) {
        M.call(this, b)
    }

    B(TC, M);
    TC.prototype.sa = new Oc({
        name: "DONCHIANCHANNEL",
        nb: "DONCHIANCHANNEL",
        title: H.s_,
        pb: H.zP,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 2
    });
    IC.tb(TC.prototype.sa.getName(), TC);
    f = TC.prototype;
    f.ha = 10;
    f.init = function () {
        this.Lb = [new Qc("Input data", 0)];
        this.g = [new Pg(H.se, new Og(TC.prototype.ha, 1, 500, 1))];
        this.Ga = [new L(H.N_, 0, 1, !1, fc.green), new L(H.d0, 0, 1, !1, fc.red)]
    };
    f.Oa = function (b, c) {
        var d, e, h;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        d = b;
        for (e = 0; d <= c; d++, e++) {
            var k = this.da[0][2][d - 1], l = this.da[0][3][d - 1];
            for (h = this.ha; 1 < h; h--) k = this.da[0][2][d - h] > k ? this.da[0][2][d - h] : k, l = this.da[0][3][d - h] < l ? this.da[0][3][d - h] : l;
            this.na[0][e] = k;
            this.na[1][e] = l
        }
        return new Pc(b, e)
    };
    f.FD = function (b) {
        if (b <= this.Lb.length) return this.Lb[b]
    };
    f.XJ = function (b) {
        if (b <= this.g.length) return this.g[b]
    };
    f.Se = function (b) {
        if (b <= this.Ga.length) return this.Ga[b]
    };
    f.Eb = function (b, c) {
        this.da[b] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };
    f.qf = 15;

    function UC(b) {
        M.call(this, b)
    }

    B(UC, M);
    UC.prototype.sa = new Oc({
        name: "EMA",
        nb: "EMA",
        title: H.t_,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(UC.prototype.sa.getName(), UC);
    f = UC.prototype;
    f.ha = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(UC.prototype.ha, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = 2 / (this.ha + 1), e = b - this.ea(), h = 0, k, l = 0;
        for (k = this.ha; 0 < k; k--) h += this.da[0][e++];
        for (h /= this.ha; e <= b;) h += (this.da[0][e++] - h) * d;
        for (this.na[0][l++] = h; e <= c;) h += (this.da[0][e++] - h) * d, this.na[0][l++] = h;
        return new Pc(b, l)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };

    function VC(b) {
        M.call(this, b)
    }

    B(VC, M);
    VC.prototype.sa = new Oc({
        name: "FRACTAL",
        nb: "FRACTAL",
        title: H.H_,
        pb: H.OB,
        Vb: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 2,
        Ke: !0
    });
    IC.tb(VC.prototype.sa.getName(), VC);
    f = VC.prototype;
    f.fp = 2;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.F0, new Og(VC.prototype.fp, 1, 200, 1))];
        this.Ga = [new L(H.p0, 0, 14, !1, fc.blue), new L(H.y0, 0, 13, !1, fc.lime)]
    };
    f.Oa = function (b, c) {
        var d, e, h;
        0 > b - this.ea() && (b -= b - this.ea());
        c + this.Bl() >= this.da[0][0].length && (c = this.da[0][0].length - 1 - this.Bl());
        if (b > c) return new Pc(0, 0);
        d = b;
        for (e = 0; d <= c; d++, e++) {
            var k = !0, l = this.da[0][2][d];
            for (h = d - this.fp; h <= d + this.fp; h++) if (d != h && l < this.da[0][2][h]) {
                k = !1;
                break
            }
            var p = this.da[0][3][d], q = !0;
            for (h = d - this.fp; h <= d + this.fp; h++) if (d != h && p > this.da[0][3][h]) {
                q = !1;
                break
            }
            this.na[0][e] = k ? l : Number.NaN;
            this.na[1][e] = q ? p : Number.NaN
        }
        return new Pc(b, e)
    };
    f.ja = function (b, c) {
        0 == b && (this.fp = c)
    };
    f.ya = function (b) {
        if (0 == b) return this.fp
    };
    f.ea = function () {
        return this.fp
    };
    f.Bl = function () {
        return this.fp
    };
    f.qf = 15;
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        for (var p = l = 0, q = b.length; p < q; ++p) if (h = b[p][c], l = 0 == p ? -15 : 15, h && Math.abs(k.y(h) - e + l) <= d) return !0;
        return !1
    };

    function WC(b) {
        M.call(this, b)
    }

    B(WC, M);
    WC.prototype.sa = new Oc({
        name: "HMA",
        nb: "HMA",
        title: H.Q_,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(WC.prototype.sa.getName(), WC);
    f = WC.prototype;
    f.ha = 15;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(WC.prototype.ha, 2, 500, 1))];
        this.Ga = [new L(H.P_, 0, 1)];
        this.m = this.w.kb("WMA");
        this.F = this.w.kb("WMA");
        this.a = this.w.kb("WMA")
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        this.m.Eb(0, this.da[0]);
        var d = Array(c - b + this.a.ea() + 1);
        this.m.na[0] = d;
        var e = this.m.Oa(b - this.a.ea(), c), h = Array(c - b + this.a.ea() + 1);
        this.F.Eb(0, this.da[0]);
        this.F.ja(0, 2 > (this.ha / 2 | 0) ? 2 : this.ha / 2 | 0);
        this.F.na[0] = h;
        this.F.Oa(b - this.a.ea(), c);
        var k = Array(e.Kd), l;
        for (l = 0; l < e.Kd; l++) k[l] = 2 * h[l] - d[l];
        this.a.Eb(0, k);
        this.a.na[0] = this.na[0];
        d = this.a.Oa(0, e.Kd - 1);
        return new Pc(e.ph + d.ph, d.Kd)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c;
        this.m.ja(0, this.ha);
        this.a.ja(0, 2 > Math.floor(Math.sqrt(this.ha)) ? 2 : Math.floor(Math.sqrt(this.ha)))
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.m.ea() + this.a.ea()
    };

    function XC(b) {
        M.call(this, b)
    }

    B(XC, go);
    XC.prototype.sa = new Oc({
        name: "HEIKINASHI",
        nb: "HEIKINASHI",
        title: H.L_,
        pb: H.WH,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 0,
        numberOfOutputs: 2,
        Xl: !0
    });
    IC.tb(XC.prototype.sa.getName(), XC);
    f = XC.prototype;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.Ga = [new L(H.hP, 0, 19), new L(H.iP, 0, 18)];
        this.Ga[0].Ab("#347EEF");
        this.Ga[0].ng = "#FF0000";
        this.Ga[1].Ab("#347EEF");
        this.Ga[1].ng = "#FF0000";
        this.Ga[1].Yn = !1
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b = this.ea());
        if (b > c) return new Pc(0, 0);
        var d = this.da[0], e = Array(4);
        e[0] = (d[0][b - 1] + d[1][b - 1]) / 2;
        e[1] = (d[0][b - 1] + d[1][b - 1] + d[2][b - 1] + d[3][b - 1]) / 4;
        e[2] = Math.max(Math.max(d[2][b - 1], e[0]), e[1]);
        e[3] = Math.min(Math.min(d[3][b - 1], e[0]), e[1]);
        for (var h = b, k = 0; h <= c; h++, k++) {
            var l = h == b ? e : this.na[0][k - 1], p = Array(4);
            p[0] = (l[0] + l[1]) / 2;
            p[1] = (d[0][h] + d[1][h] + d[2][h] + d[3][h]) / 4;
            p[2] = Math.max(Math.max(d[2][h], p[0]), p[1]);
            p[3] = Math.min(Math.min(d[3][h], p[0]), p[1]);
            this.na[0][k] = p;
            this.na[1][k] = p
        }
        return new Pc(b, k)
    };
    f.ya = function () {
        return null
    };
    f.ja = function () {
    };
    f.ea = function () {
        return 1
    };

    function YC(b) {
        M.call(this, b)
    }

    B(YC, go);
    YC.prototype.sa = new Oc({
        name: "HEIKINASHISMOOTH",
        nb: "HEIKINASHISMOOTH",
        title: H.M_,
        pb: H.WH,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 0,
        numberOfOutputs: 2,
        Xl: !0
    });
    IC.tb(YC.prototype.sa.getName(), YC);
    f = YC.prototype;
    f.xy = ai(nd, "SMMA");
    f.Mb = 6;
    f.Cz = ai(nd, "LWMA");
    f.Zz = 2;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.PB, new Tc(this.xy, od, nd)), new Pg(H.q0, new Og(this.Mb, 2, 100, 1)), new Pg(H.s0, new Tc(this.Cz, od, nd)), new Pg(H.r0, new Og(this.Zz, 2, 100, 1))];
        this.Ga = [new L(H.hP, 0, 19), new L(H.iP, 0, 18)];
        this.Ga[0].Ab("#347EEF");
        this.Ga[0].ng = "#FF0000";
        this.Ga[1].Ab("#347EEF");
        this.Ga[1].ng = "#FF0000";
        this.Ga[1].Yn = !1;
        this.a = this.w.kb("MA");
        this.a.ja(0, this.Mb);
        this.a.ja(1, this.xy);
        this.m = this.w.kb("MA");
        this.m.ja(0, this.Zz);
        this.m.ja(1, this.Cz)
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b = this.ea());
        if (b > c) return new Pc(0, 0);
        var d = this.da[0], e = c - b + 1, h = this.m.ea() + 1, k = e + h, l = [Array(k), Array(k), Array(k), Array(k)];
        this.a.Eb(0, d[0]);
        eo(this.a, l[0]);
        this.a.Oa(b - h, c);
        this.a.Eb(0, d[1]);
        eo(this.a, l[1]);
        this.a.Oa(b - h, c);
        this.a.Eb(0, d[2]);
        eo(this.a, l[2]);
        this.a.Oa(b - h, c);
        this.a.Eb(0, d[3]);
        eo(this.a, l[3]);
        this.a.Oa(b - h, c);
        var k = l[0].length - 1, d = [Array(k), Array(k), Array(k), Array(k)], h = Array(l[0].length),
            p = Array(l[0].length);
        h[0] = (l[0][0] + l[1][0] + l[2][0] + l[3][0]) /
            4;
        p[0] = h[0];
        for (k = 1; k < l[0].length; k++) {
            h[k] = (l[0][k] + l[1][k] + l[2][k] + l[3][k]) / 4;
            p[k] = (h[k - 1] + p[k - 1]) / 2;
            d[0][k - 1] = p[k];
            d[1][k - 1] = h[k];
            var q = 0, r = 0;
            h[k] > p[k] ? (q = h[k], r = p[k]) : (q = p[k], r = h[k]);
            l[2][k] > q && (q = l[2][k]);
            l[3][k] < r && (r = l[3][k]);
            d[2][k - 1] = q;
            d[3][k - 1] = r
        }
        k = this.na[0].length;
        l = [Array(k), Array(k), Array(k), Array(k)];
        this.m.Eb(0, d[0]);
        eo(this.m, l[0]);
        this.m.Oa(0, d[0].length - 1);
        this.m.Eb(0, d[1]);
        eo(this.m, l[1]);
        this.m.Oa(0, d[1].length - 1);
        this.m.Eb(0, d[2]);
        eo(this.m, l[2]);
        this.m.Oa(0, d[2].length - 1);
        this.m.Eb(0,
            d[3]);
        eo(this.m, l[3]);
        this.m.Oa(0, d[2].length - 1);
        for (k = 0; k < l[0].length; k++) d = [l[0][k], l[1][k], l[2][k], l[3][k]], this.na[0][k] = d, this.na[1][k] = d;
        return new Pc(b, e)
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.xy;
            case 1:
                return this.Mb;
            case 2:
                return this.Cz;
            case 3:
                return this.Zz;
            default:
                throw Error("Indicator parameter index is out of bounds");
        }
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.xy = +c;
                this.a.ja(1, this.xy);
                break;
            case 1:
                this.Mb = +c;
                this.a.ja(0, this.Mb);
                break;
            case 2:
                this.Cz = +c;
                this.m.ja(1, this.Cz);
                break;
            case 3:
                this.Zz = +c;
                this.m.ja(0, this.Zz);
                break;
            default:
                throw Error("Indicator parameter index is out of bounds");
        }
    };
    f.ea = function () {
        return this.a.ea() + this.m.ea() + 1
    };

    function ZC(b) {
        M.call(this, b)
    }

    B(ZC, M);
    ZC.prototype.sa = new Oc({
        name: "KAMA",
        nb: "KAMA",
        title: H.Z_,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 1
    });
    IC.tb(ZC.prototype.sa.getName(), ZC);
    f = ZC.prototype;
    f.ha = 30;
    f.dD = 2;
    f.$G = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(ZC.prototype.ha, 1, 500, 1)), new Pg(H.F_, new Og(ZC.prototype.dD, 1, 500, 1)), new Pg(H.u1, new Og(ZC.prototype.$G, 1, 500, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        this.U = 2 / (this.$G + 1);
        this.ka = 2 / (this.dD + 1) - this.U;
        this.ia = this.m = b - this.ea();
        this.F = 0;
        for (var d = this.ha, e = 0; 0 < d; d--) this.a = this.da[0][this.m++], this.a -= this.da[0][this.m], this.F += Math.abs(this.a);
        this.R = this.da[0][this.m - 1];
        $C(this, !1);
        for (++this.m; this.m <= b; this.m++, this.ia++) $C(this, !0);
        this.na[0][e++] = this.R;
        for (d = this.m - 1; this.m <= c; e++, this.m++) $C(this, !0), this.na[0][e] = this.R;
        return new Pc(d, e)
    };

    function $C(b, c) {
        b.a = b.da[0][b.m];
        b.K = b.da[0][b.ia++];
        b.$ = b.a - b.K;
        c && (b.F -= Math.abs(b.va - b.K), b.F += Math.abs(b.a - b.da[0][b.m - 1]));
        b.va = b.K;
        b.a = b.F <= b.$ || -1E-8 < b.F && 1E-8 > b.F ? 1 : Math.abs(b.$ / b.F);
        b.a = b.a * b.ka + b.U;
        b.a *= b.a;
        b.R = (b.da[0][b.m] - b.R) * b.a + b.R
    }

    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ha = c;
                break;
            case 1:
                this.dD = c;
                break;
            case 2:
                this.$G = c
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ha;
            case 1:
                return this.dD;
            case 2:
                return this.$G
        }
    };
    f.ea = function () {
        return this.ha + 0
    };

    function aD(b) {
        M.call(this, b)
    }

    B(aD, M);
    aD.prototype.sa = new Oc({
        name: "LWMA",
        nb: "LWMA",
        title: H.b0,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(aD.prototype.sa.getName(), aD);
    f = aD.prototype;
    f.ha = 14;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(aD.prototype.ha, 2, 200, 1))];
        this.Ga = [new L(H.j0, 0, 1)]
    };
    f.Oa = function (b, c) {
        var d, e, h;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        d = 1;
        for (e = b; e <= c; d++, e++) {
            var k = 0, l = 0, p = this.ha;
            for (h = e; h > e - this.ha; h--) k += p, l += this.da[0][h] * p, p--;
            this.na[0][d - 1] = l / k
        }
        return new Pc(b, d - 1)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };

    function bD(b) {
        M.call(this, b)
    }

    B(bD, M);
    bD.prototype.sa = new Oc({
        name: "MACD",
        nb: "MACD",
        title: H.C0,
        pb: H.pm,
        Vb: !0,
        Qc: !0,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 3
    });
    IC.tb(bD.prototype.sa.getName(), bD);
    f = bD.prototype;
    f.Yq = 12;
    f.Zq = 26;
    f.YG = 9;
    f.init = function () {
        this.m = this.w.kb("EMA");
        this.F = this.w.kb("EMA");
        this.a = this.w.kb("EMA");
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.gP, new Og(bD.prototype.Yq, 2, 1E5, 1)), new Pg(H.qP, new Og(bD.prototype.Zq, 2, 1E5, 1)), new Pg(H.m1, new Og(bD.prototype.YG, 2, 1E5, 1))];
        this.Ga = [new L(H.k0, 0, 1), new L(H.m0, 0, Un), new L(H.l0, 0, 12)];
        this.Ga[2].saa = !0
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        if (this.Zq < this.Yq) {
            var d = this.Zq;
            this.Zq = this.Yq;
            this.Yq = d
        }
        this.m.ja(0, this.Yq);
        this.F.ja(0, this.Zq);
        var e = Array(c - b + 1 + this.a.ea());
        this.m.Eb(0, this.da[0]);
        this.m.na[0] = e;
        var h = Array(c - b + 1 + this.a.ea());
        this.F.Eb(0, this.da[0]);
        this.F.na[0] = h;
        this.m.Oa(b - this.a.ea(), c);
        for (var d = this.F.Oa(b - this.a.ea(), c), k = Array(d.Kd), l = 0; l < d.Kd; l++) k[l] = e[l] - h[l];
        e = Array(c - b + 1);
        this.a.Eb(0, k);
        this.a.na[0] = e;
        for (var h = this.a.Oa(0, d.Kd - 1),
                 l = h.ph, p = 0; p < h.Kd; l++, p++) this.na[0][p] = k[l];
        for (l = 0; l < h.Kd; l++) this.na[1][l] = e[l], this.na[2][l] = this.na[0][l] - e[l];
        return new Pc(d.ph + h.ph, h.Kd)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.Yq = c;
                this.m.ja(0, this.Yq);
                break;
            case 1:
                this.Zq = c;
                this.F.ja(0, this.Zq);
                break;
            case 2:
                this.YG = c, this.a.ja(0, this.YG)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.Yq;
            case 1:
                return this.Zq;
            case 2:
                return this.YG
        }
    };
    f.ea = function () {
        return Math.max(this.m.ea(), this.F.ea()) + this.a.ea()
    };
    f.qf = 2;
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        l = h = h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) {
            if (2 == l) return l = k.y(0), h = k.y(h), h > l ? e >= l - d && e <= h + d : e >= h - d && e <= l + d;
            if (Math.abs(k.y(h) - e) <= d) return !0
        }
        return !1
    };

    function cD(b) {
        M.call(this, b)
    }

    B(cD, M);
    cD.prototype.sa = new Oc({
        name: "MA",
        nb: "MA",
        title: H.B0,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 1
    });
    IC.tb(cD.prototype.sa.getName(), cD);
    f = cD.prototype;
    f.ha = 30;
    f.wp = 0;
    f.init = function () {
        this.a = this.w.kb(nd[this.wp]);
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(this.ha, 1, 2E3, 1)), new Pg(H.PB, new Tc(this.wp, od, nd))];
        this.Ga = [new L(H.XH, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        if (1 == this.ha) {
            var d, e;
            d = b;
            for (e = 0; d <= c; d++, e++) this.na[0][e] = this.da[0][d];
            return new Pc(b, e)
        }
        this.a.Eb(0, this.da[0]);
        this.a.na[0] = this.na[0];
        "MAMA" == nd[this.wp] ? (this.a.ja(0, .5), this.a.ja(1, .05)) : this.a.ja(0, this.ha);
        return this.a.Oa(b, c)
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ha = c;
                break;
            case 1:
                this.wp = c, this.a = this.w.kb(nd[this.wp] || this.wp)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ha;
            case 1:
                return this.wp
        }
    };
    f.ea = function () {
        if (1 == this.ha) return 0;
        "MAMA" == nd[this.wp] ? (this.a.ja(0, .5), this.a.ja(1, .05)) : "T3" == nd[this.wp] ? (this.a.ja(0, this.ha), this.a.ja(1, .7)) : this.a.ja(0, this.ha);
        return this.a.ea()
    };

    function dD(b) {
        M.call(this, b)
    }

    B(dD, M);
    dD.prototype.sa = new Oc({
        name: "MAMA",
        nb: "MAMA",
        title: H.t0,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 2,
        Xl: !0
    });
    IC.tb(dD.prototype.sa.getName(), dD);
    f = dD.prototype;
    f.init = function () {
        this.a = .5;
        this.m = .05;
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.E_, new Og(.5, .01, .99, .01)), new Pg(H.t1, new Og(.05, .01, .99, .01))];
        this.Ga = [new L(H.n0, 0, 1), new L(H.z_, 0, Un)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e, h, k, l = b - this.ea(), p = l, q = this.da[0][p++], r = q, t = q, u, x, A, C = Array(3),
            I = Array(3), N, S, T, U, Y = Array(3), fa = Array(3), na, xa, vb, zb, Gf = Array(3), Za = Array(3), Aa, hb,
            We, zh, wC, Es = Array(3), Fs = Array(3), Xc, kw, lw, xC, yC, yp, zp, Gs, Hs, zC, Um, AC, Vm,
            BC = 180 / (4 * Math.atan(1)), Is, mw, nw, CC, q = this.da[0][p++], r = r + q, t = t + 2 * q,
            q = this.da[0][p++], r = r + q, t = t + 3 * q;
        u = 0;
        for (d = 9; 0 < d; d--, p++, l++) q = this.da[0][p], r += q, r -= u, t += 4 * q, u = this.da[0][l], t -= r;
        A = 0;
        C[0] = 0;
        C[1] =
            0;
        C[2] = 0;
        I[0] = 0;
        I[1] = 0;
        U = T = S = N = I[2] = 0;
        Y[0] = 0;
        Y[1] = 0;
        Y[2] = 0;
        fa[0] = 0;
        fa[1] = 0;
        zb = vb = xa = na = fa[2] = 0;
        Gf[0] = 0;
        Gf[1] = 0;
        Gf[2] = 0;
        Za[0] = 0;
        Za[1] = 0;
        wC = zh = We = hb = Za[2] = 0;
        Es[0] = 0;
        Es[1] = 0;
        Es[2] = 0;
        Fs[0] = 0;
        Fs[1] = 0;
        for (CC = zC = AC = Um = Vm = Is = mw = Gs = Hs = zp = yp = d = k = yC = xC = lw = kw = Fs[2] = 0; p <= c; p++) h = .075 * k + .54, nw = this.da[0][p], r += nw, r -= u, t += 4 * nw, u = this.da[0][l++], e = .1 * t, t -= r, 0 == p % 2 ? (x = .0962 * e, q = -I[A], I[A] = x, q += x, q -= S, S = .5769 * U, q += S, U = e, q *= h, x = .0962 * q, e = -fa[A], fa[A] = x, e += x, e -= xa, xa = .5769 * zb, e += xa, zb = q, e *= h, x = .0962 * Vm, Aa = -Za[A], Za[A] =
            x, Aa += x, Aa -= We, We = .5769 * wC, Aa += We, wC = Vm, Aa *= h, x = .0962 * e, Xc = -Fs[A], Fs[A] = x, Xc += x, Xc -= lw, lw = .5769 * yC, Xc += lw, yC = e, Xc *= h, 3 == ++A && (A = 0), h = .2 * (e + Aa) + .8 * yp, x = .2 * (Vm - Xc) + .8 * zp, Um = zC, zC = q, e = 0 != Vm ? Math.atan(e / Vm) * BC : 0) : (x = .0962 * e, q = -C[A], C[A] = x, q += x, q -= N, N = .5769 * T, q += N, T = e, q *= h, x = .0962 * q, e = -Y[A], Y[A] = x, e += x, e -= na, na = .5769 * vb, e += na, vb = q, e *= h, x = .0962 * Um, Aa = -Gf[A], Gf[A] = x, Aa += x, Aa -= hb, hb = .5769 * zh, Aa += hb, zh = Um, Aa *= h, x = .0962 * e, Xc = -Es[A], Es[A] = x, Xc += x, Xc -= kw, kw = .5769 * xC, Xc += kw, xC = e, Xc *= h, h = .2 * (e + Aa) + .8 * yp, x = .2 * (Um -
            Xc) + .8 * zp, Vm = AC, AC = q, e = 0 != Um ? Math.atan(e / Um) * BC : 0), q = CC - e, CC = e, 1 > q && (q = 1), 1 < q ? (q = this.a / q, q < this.m && (q = this.m)) : q = this.a, Is = q * nw + (1 - q) * Is, q *= .5, mw = q * Is + (1 - q) * mw, p >= b && (this.na[0][d] = Is, this.na[1][d++] = mw), Gs = .2 * (x * zp + h * yp) + .8 * Gs, Hs = .2 * (x * yp - h * zp) + .8 * Hs, yp = h, zp = x, q = k, 0 != Hs && 0 != Gs && (k = 360 / (Math.atan(Hs / Gs) * BC)), e = 1.5 * q, k > e && (k = e), e = .67 * q, k < e && (k = e), 6 > k ? k = 6 : 50 < k && (k = 50), k = .2 * k + .8 * q;
        return new Pc(b, d)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        0 == b ? this.a = c : this.m = c
    };
    f.ya = function (b) {
        return 0 == b ? this.a : this.m
    };
    f.ea = function () {
        return 32
    };

    function eD(b) {
        M.call(this, b)
    }

    B(eD, M);
    eD.prototype.sa = new Oc({
        name: "MOM",
        nb: "MOM",
        title: H.A0,
        pb: H.pm,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(eD.prototype.sa.getName(), eD);
    f = eD.prototype;
    f.ha = 10;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(eD.prototype.ha, 1, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e;
        d = b;
        for (e = 0; d <= c; d++, e++) this.na[0][e] = this.da[0][d] - this.da[0][e + b - this.ha];
        return new Pc(b, e)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };

    function fD(b) {
        M.call(this, b)
    }

    B(fD, M);
    fD.prototype.sa = new Oc({
        name: "RSI",
        nb: "RSI",
        title: H.Y0,
        pb: H.pm,
        Vb: !0,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(fD.prototype.sa.getName(), fD);
    f = fD.prototype;
    f.ha = 14;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(fD.prototype.ha, 2, 2E3, 1))];
        this.Ga = [new L(H.G0, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e = b - this.ea(), h = 0, k = this.da[0][e], l = 0, p = 0, q, r;
        e++;
        for (d = this.ha; 0 < d; d--) q = this.da[0][e++], r = q - k, k = q, 0 > r ? p -= r : l += r;
        l /= this.ha;
        p /= this.ha;
        e > b && (q = l + p, this.na[0][h++] = 0 == q ? 0 : l / q * 100);
        for (; e <= c;) q = this.da[0][e++], r = q - k, k = q, p *= this.ha - 1, l *= this.ha - 1, 0 > r ? p -= r : l += r, p /= this.ha, l /= this.ha, q = p + l, this.na[0][h++] = 0 == q ? 0 : l / q * 100;
        return new Pc(b, h)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };

    function gD(b) {
        M.call(this, b)
    }

    B(gD, M);
    gD.prototype.sa = new Oc({
        name: "RVI",
        nb: "RVI",
        title: H.Z0,
        pb: H.pm,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 2
    });
    IC.tb(gD.prototype.sa.getName(), gD);
    f = gD.prototype;
    f.ha = 10;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.pP, new Og(gD.prototype.ha, 1, 100, 1))];
        this.Ga = [new L(H.a1, 0, 1), new L(H.l1, 0, 1)]
    };
    f.Oa = function (b, c) {
        var d, e, h;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var k = Array(c - b + 1 + this.ea() - 3), l = Array(c - b + 1 + this.ea() - 3);
        d = b - this.ea() + 3;
        for (e = 0; d <= c; d++, e++) k[e] = (this.da[0][1][d - 3] - this.da[0][0][d - 3] + 2 * (this.da[0][1][d - 2] - this.da[0][0][d - 2]) + 2 * (this.da[0][1][d - 1] - this.da[0][0][d - 1]) + (this.da[0][1][d] - this.da[0][0][d])) / 6, l[e] = (this.da[0][2][d - 3] - this.da[0][3][d - 3] + 2 * (this.da[0][2][d - 2] - this.da[0][3][d - 2]) + 2 * (this.da[0][2][d - 1] - this.da[0][3][d - 1]) + (this.da[0][2][d] - this.da[0][3][d])) /
            6;
        var p = Array(k.length - this.ha);
        e = 0;
        for (d = this.ha; d < k.length; d++, e++) {
            var q = 0, r = 0;
            for (h = e; h < e + this.ha; h++) q = k[h] + q, r = l[h] + r;
            p[e] = q / r
        }
        d = 0;
        for (e = 3; e < p.length; e++, d++) this.na[0][d] = p[e], this.na[1][d] = (p[e - 3] + 2 * p[e - 2] + 2 * p[e - 1] + p[e]) / 6;
        return new Pc(b, d)
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha + 6
    };

    function hD(b) {
        M.call(this, b)
    }

    B(hD, M);
    hD.prototype.sa = new Oc({
        name: "SMA",
        nb: "SMA",
        title: H.v1,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(hD.prototype.sa.getName(), hD);
    f = hD.prototype;
    f.ha = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(hD.prototype.ha, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e, h;
        d = b;
        for (e = 0; d <= c; d++, e++) {
            var k = 0;
            for (h = this.ha; 0 < h; h--) k += this.da[0][d - h + 1], isNaN(k) && (window.n = !0);
            k /= this.ha;
            this.na[0][e] = k
        }
        return new Pc(b, e)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };

    function iD(b) {
        M.call(this, b)
    }

    B(iD, M);
    iD.prototype.sa = new Oc({
        name: "SMMA",
        nb: "SMMA",
        title: H.y1,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1,
        Xl: !0
    });
    IC.tb(iD.prototype.sa.getName(), iD);
    f = iD.prototype;
    f.ha = 14;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(iD.prototype.ha, 2, 200, 1))];
        this.Ga = [new L(H.w1, 0, 1, !1, fc.red)]
    };
    f.Oa = function (b, c) {
        var d, e;
        e = 0;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        for (d = b - 1; d >= b - this.ha; d--) e += this.da[0][d];
        this.na[0][0] = e / this.ha;
        d = 1;
        for (e = b + 1; e <= c; d++, e++) this.na[0][d] = (this.na[0][d - 1] * (this.ha - 1) + this.da[0][e]) / this.ha;
        return new Pc(b, d)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };

    function jD(b) {
        M.call(this, b)
    }

    B(jD, M);
    jD.prototype.sa = new Oc({
        name: "STDDEV",
        nb: "STDDEV",
        title: H.x1,
        pb: H.rP,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 1,
        Vb: !0
    });
    IC.tb(jD.prototype.sa.getName(), jD);
    f = jD.prototype;
    f.ha = 5;
    f.Mz = 1;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 1)];
        this.g = [new Pg(H.se, new Og(this.ha, 2, 1E5, 1)), new Pg(H.j1, new Og(this.Mz, -100, 100, .1))];
        this.Ga = [new L(H.qk, 0, 1, null, fc.blue)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d;
        d = b;
        var e, h, k, l, p, q, r, t;
        e = this.ha - 1;
        d < e && (d = e);
        if (d > c) d = new Pc(0, 0); else {
            k = h = 0;
            q = t = d - e;
            if (1 < this.ha) for (; q < d;) e = this.da[0][q++], h += e, e *= e, k += e;
            r = 0;
            do e = this.da[0][q++], h += e, e *= e, k += e, l = h / this.ha, p = k / this.ha, e = this.da[0][t++], h -= e, e *= e, k -= e, this.na[0][r++] = p - l * l; while (q <= c);
            d = new Pc(d, r)
        }
        if (0 === d.Kd) return d;
        h = d.Kd;
        if (1 != this.Mz) for (d = 0; d < h; d++) k = this.na[0][d], this.na[0][d] = 1E-10 > k ? 0 : Math.sqrt(k) * this.Mz; else for (d =
                                                                                                                                           0; d < h; d++) k = this.na[0][d], this.na[0][d] = 1E-10 > k ? 0 : Math.sqrt(k);
        return new Pc(b, h)
    };
    f.ea = function () {
        return this.ha - 1
    };
    f.Bl = function () {
        return 0
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ha = parseInt(c, 10);
                break;
            case 1:
                this.Mz = parseFloat(c, 10)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ha;
            case 1:
                return this.Mz
        }
    };

    function kD(b) {
        M.call(this, b)
    }

    B(kD, M);
    kD.prototype.sa = new Oc({
        name: "STOCHF",
        nb: "STOCHF",
        title: H.A1,
        pb: H.pm,
        Vb: !0,
        Qc: !0,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 2
    });
    IC.tb(kD.prototype.sa.getName(), kD);
    f = kD.prototype;
    f.init = function () {
        this.a = this.w.kb("MA");
        this.m = 5;
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.fP, new Og(5, 1, 2E3, 1)), new Pg(H.C_, new Og(3, 1, 2E3, 1)), new Pg(H.B_, new Tc(0, od, nd))];
        this.Ga = [new L(H.D_, 0, Un), new L(H.A_, 0, Un)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = this.m - 1, e = Array(c - b + 1 + this.a.ea()), h, k, l, p = Array(c - b + 1);
        h = b - this.a.ea();
        for (k = 0; h <= c; h++, k++) {
            var q = this.da[0][2][h], r = this.da[0][3][h];
            for (l = d; 0 < l; l--) q = this.da[0][2][h - l] > q ? this.da[0][2][h - l] : q, r = this.da[0][3][h - l] < r ? this.da[0][3][h - l] : r;
            e[k] = 0 == q - r ? 0 : (this.da[0][1][h] - r) / (q - r) * 100
        }
        this.a.Eb(0, e);
        this.a.na[0] = p;
        this.a.na[0] = this.na[1];
        l = this.a.Oa(0, e.length - 1);
        if (0 == l.Kd) return new Pc(0, 0);
        h = l.ph;
        for (k = 0; k < l.Kd; h++,
            k++) this.na[0][k] = e[h];
        return new Pc(d + l.ph, l.Kd)
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.m = c;
                break;
            case 1:
                this.a.ja(0, c);
                break;
            case 2:
                this.a.ja(1, c)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.m;
            case 1:
                return this.a.ya(0);
            case 2:
                return this.a.ya(1)
        }
    };
    f.ea = function () {
        return this.a.ea() + (this.m - 1)
    };

    function lD(b) {
        M.call(this, b)
    }

    B(lD, M);
    lD.prototype.sa = new Oc({
        name: "STOCH",
        nb: "STOCH",
        title: H.z1,
        pb: H.pm,
        Vb: !0,
        Qc: !0,
        numberOfInputs: 1,
        rb: 5,
        numberOfOutputs: 2
    });
    IC.tb(lD.prototype.sa.getName(), lD);
    f = lD.prototype;
    f.init = function () {
        this.F = this.w.kb("MA");
        this.F.ja(0, 3);
        this.a = this.w.kb("MA");
        this.a.ja(0, 3);
        this.m = 5;
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.fP, new Og(5, 1, 2E3, 1)), new Pg(H.s1, new Og(3, 1, 2E3, 1)), new Pg(H.r1, new Tc(0, od, nd)), new Pg(H.p1, new Og(3, 1, 2E3, 1)), new Pg(H.o1, new Tc(0, od, nd))];
        this.Ga = [new L(H.q1, 0, Un), new L(H.n1, 0, Un)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = this.F.ea() + this.a.ea(), e = Array(c - b + 1 + d), h, k, l = Array(c - b + 1 + this.a.ea()),
            d = b - d;
        for (h = 0; d <= c; d++, h++) {
            var p = this.da[0][2][d], q = this.da[0][3][d];
            for (k = this.m - 1; 0 < k; k--) p = this.da[0][2][d - k] > p ? this.da[0][2][d - k] : p, q = this.da[0][3][d - k] < q ? this.da[0][3][d - k] : q;
            e[h] = 0 == p - q ? 0 : (this.da[0][1][d] - q) / (p - q) * 100
        }
        this.F.Eb(0, e);
        this.F.na[0] = l;
        e = this.F.Oa(0, e.length - 1);
        if (0 == e.Kd) return new Pc(0, 0);
        this.a.Eb(0, l);
        this.a.na[0] = this.na[1];
        k = this.a.Oa(0, e.Kd - 1);
        if (0 == k.Kd) return new Pc(0, 0);
        d = k.ph;
        for (h = 0; h < k.Kd; d++, h++) this.na[0][h] = l[d];
        return new Pc(e.ph + k.ph + (this.m - 1), k.Kd)
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.m = c;
                break;
            case 1:
                this.F.ja(0, c);
                break;
            case 2:
                this.F.ja(1, c);
                break;
            case 3:
                this.a.ja(0, c);
                break;
            case 4:
                this.a.ja(1, c)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.m;
            case 1:
                return this.F.ya(0);
            case 2:
                return this.F.ya(1);
            case 3:
                return this.a.ya(0);
            case 4:
                return this.a.ya(1)
        }
    };
    f.ea = function () {
        return this.a.ea() + this.F.ea() + (this.m - 1)
    };

    function mD(b) {
        M.call(this, b)
    }

    B(mD, M);
    mD.prototype.sa = new Oc({
        name: "SUPERTREND",
        nb: "SUPERTREND",
        title: H.B1,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 2,
        rb: 2,
        numberOfOutputs: 2,
        Xl: !0
    });
    IC.tb(mD.prototype.sa.getName(), mD);
    f = mD.prototype;
    f.Yx = 10;
    f.Lz = 1.7;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5), new Qc(H.e_, 0, 5)];
        this.g = [new Pg(H.M1, new Og(mD.prototype.Yx, 2, 2E3, 1)), new Pg(H.E0, new Og(mD.prototype.Lz, 1, 100, .1))];
        this.Ga = [new L(H.D1, 0, 32), new L(H.C1, 0, 32)];
        this.Ga[0].Ab("#6BA583");
        this.Ga[0].tS = !0;
        this.Ga[1].Ab("#D75442");
        this.Ga[1].tS = !0;
        this.m = this.w.kb("ATR")
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b = this.ea());
        if (b > c) return new Pc(0, 0);
        var d = Array(c - b + 1);
        this.m.Eb(0, this.da[1]);
        eo(this.m, d);
        this.m.Oa(b, c);
        for (var e = Array(c - b + 1), h = NaN, k = this.Yx, l = b, p = 0; l <= c; l++, p++) {
            var q = this.da[0][l] + d[p] * this.Lz, r = this.da[0][l] - d[p] * this.Lz, t = this.da[1][1][l];
            e[p] = p == k ? q : t > e[p - 1] && h <= e[p - 1] ? r : t < e[p - 1] && h >= e[p - 1] ? q : e[p - 1] < r ? r : e[p - 1] > q ? q : e[p - 1];
            t > e[p] || t == e[p] && (0 == p || h > e[p - 1]) ? (this.na[0][p] = e[p], 0 < p && isNaN(this.na[0][p - 1]) && (this.na[1][p] = this.na[0][p])) : t < e[p] || t == e[p] &&
            (0 == p || h < e[p - 1]) ? (this.na[1][p] = e[p], 0 < p && isNaN(this.na[1][p - 1]) && (this.na[0][p] = this.na[1][p])) : 0 < p && (this.na[0][p] = this.na[0][p - 1], this.na[1][p] = this.na[1][p - 1]);
            h = t
        }
        return new Pc(b, c - b + 1)
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.Yx;
            case 1:
                return this.Lz;
            default:
                throw Error("Indicator parameter index is out of bounds");
        }
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.Yx = ++c.toFixed(0);
                this.m.ja(0, this.Yx);
                break;
            case 1:
                this.Lz = ++c.toFixed(1);
                break;
            default:
                throw Error("Indicator parameter index is out of bounds");
        }
    };
    f.ea = function () {
        return this.m.ea()
    };

    function nD(b) {
        M.call(this, b)
    }

    B(nD, M);
    nD.prototype.sa = new Oc({
        name: "T3",
        nb: "T3",
        title: H.j2,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 1
    });
    IC.tb(nD.prototype.sa.getName(), nD);
    f = nD.prototype;
    f.ha = 5;
    f.ts = .7;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(nD.prototype.ha, 2, 1E5, 1)), new Pg(H.G2, new Og(nD.prototype.ts, 0, 1, .05))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        this.k = 2 / (this.ha + 1);
        this.m = b - this.ea();
        this.R = 1 - this.k;
        var d = 0, e, h, k, l;
        l = 0;
        for (e = this.ha; 0 < e; e--, this.m++) l += this.da[0][this.m];
        l = this.U = l / this.ha;
        for (e = this.ha - 1; 0 < e; e--, this.m++) oD(this), l += this.U;
        l = this.$ = l / this.ha;
        for (e = this.ha - 1; 0 < e; e--, this.m++) pD(this), l += this.$;
        l = this.a = l / this.ha;
        for (e = this.ha - 1; 0 < e; e--, this.m++) qD(this), l += this.a;
        l = this.F = l / this.ha;
        for (e = this.ha - 1; 0 < e; e--, this.m++) rD(this), l += this.F;
        l = this.K = l /
            this.ha;
        for (e = this.ha - 1; 0 < e; e--, this.m++) sD(this), l += this.K;
        for (this.ia = l / this.ha; this.m <= b; this.m++) tD(this);
        l = this.ts * this.ts;
        e = -(l * this.ts);
        h = 3 * (l - e);
        k = -6 * l - 3 * (this.ts - e);
        l = 1 + 3 * this.ts - e + 3 * l;
        for (this.na[0][d++] = e * this.ia + h * this.K + k * this.F + l * this.a; this.m <= c; this.m++, d++) tD(this), this.na[0][d] = e * this.ia + h * this.K + k * this.F + l * this.a;
        return new Pc(b, d)
    };

    function oD(b) {
        b.U = b.k * b.da[0][b.m] + b.R * b.U
    }

    function pD(b) {
        oD(b);
        b.$ = b.k * b.U + b.R * b.$
    }

    function qD(b) {
        pD(b);
        b.a = b.k * b.$ + b.R * b.a
    }

    function rD(b) {
        qD(b);
        b.F = b.k * b.a + b.R * b.F
    }

    function sD(b) {
        rD(b);
        b.K = b.k * b.F + b.R * b.K
    }

    function tD(b) {
        sD(b);
        b.ia = b.k * b.K + b.R * b.ia
    }

    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        0 == b ? this.ha = c : this.ts = c
    };
    f.ya = function (b) {
        return 0 == b ? this.ha : this.ts
    };
    f.ea = function () {
        return 6 * (this.ha - 1) + 0
    };

    function uD(b) {
        M.call(this, b)
    }

    B(uD, M);
    uD.prototype.sa = new Oc({
        name: "TD_S",
        nb: "TD_S",
        title: H.E1,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 2,
        Xl: !0
    });
    IC.tb(uD.prototype.sa.getName(), uD);
    f = uD.prototype;
    f.ha = 4;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 1)];
        this.g = [new Pg(H.se, new Og(uD.prototype.ha, 2, 100, 1))];
        this.Ga = [new L(H.H1, 0, 33), new L(H.G1, 0, 33)];
        this.Ga[0].Ab("#347EEF");
        this.Ga[1].Ab("#FF0000")
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b = this.ea());
        if (b > c) return new Pc(0, 0);
        for (var d = b, e = 0; d <= c; d++, e++) {
            var h = e, k = 0, l = 0;
            0 < h && (k = this.na[0][h - 1] || 0, l = this.na[1][h - 1] || 0);
            var p = this.da[0][d], q = this.da[0][d - this.ha], r = this.da[0][d - 1], t = this.da[0][d - 1 - this.ha];
            0 == k && r <= t && p > q ? this.na[0][h] = 1 : 0 != k && p > q ? this.na[0][h] = k + 1 : 0 != k && p < q && (this.na[0][h] = 0);
            0 == l && r >= t && p < q ? this.na[1][h] = -1 : 0 != l && p < q ? this.na[1][h] = l - 1 : 0 != l && p > q && (this.na[1][h] = 0)
        }
        return new Pc(b, e)
    };
    f.ya = function () {
        return this.ha
    };
    f.ja = function (b, c) {
        this.ha = parseInt(c, 10)
    };
    f.ea = function () {
        return this.ha + 1
    };
    f.ec = function (b, c, d, e, h, k, l) {
        this.o = b;
        return uD.P.ec.call(this, b, c, d, e, h, k, l)
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        l = NaN;
        l = this.iy[c];
        var p;
        if (!l) return !1;
        this.o && this.o.eb().od() instanceof qc ? (h = l[2], p = l[3]) : (h = l.bb(), p = l.$a());
        for (var q = 0, r = b.length; q < r; ++q) if (l = b[q][c]) return 0 < l ? Math.abs(k.y(h) - e) <= d : Math.abs(k.y(p) - e) <= d;
        return !1
    };

    function vD(b) {
        M.call(this, b)
    }

    B(vD, M);
    vD.prototype.sa = new Oc({
        name: "TEMA",
        nb: "TEMA",
        title: H.i2,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(vD.prototype.sa.getName(), vD);
    f = vD.prototype;
    f.ha = 30;
    f.init = function () {
        this.a = this.w.kb("EMA");
        this.m = this.w.kb("EMA");
        this.F = this.w.kb("EMA");
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(vD.prototype.ha, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = Array(this.ea() + c - b + 1);
        this.a.Eb(0, this.da[0]);
        this.a.na[0] = d;
        var e = this.a.Oa(b - 2 * this.a.ea(), c), h = Array(e.Kd);
        this.m.Eb(0, d);
        this.m.na[0] = h;
        var k = this.m.Oa(0, e.Kd - 1);
        this.F.Eb(0, h);
        this.F.na[0] = this.na[0];
        for (var l = this.F.Oa(0, k.Kd - 1), k = k.ph + l.ph, p = l.ph, e = k + e.ph, q = 0; q < l.Kd; q++, k++, p++) this.na[0][q] += 3 * d[k] - 3 * h[p];
        return new Pc(e, q)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c;
        this.a.ja(b, c);
        this.m.ja(b, c);
        this.F.ja(b, c)
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.a.ea() + this.m.ea() + this.F.ea()
    };

    function wD(b) {
        M.call(this, b)
    }

    B(wD, M);
    wD.prototype.sa = new Oc({
        name: "TRIMA",
        nb: "TRIMA",
        title: "Triangular Moving Average",
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(wD.prototype.sa.getName(), wD);
    f = wD.prototype;
    f.ha = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(30, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = this.ha >> 1, e = 0, h = 0 == this.ha % 2, k = b - this.ea(), l, p, q = k + d;
        h ? (l = d * (d + 1), --q) : l = (d + 1) * (d + 1);
        l = 1 / l;
        for (var r = q + d, t = 0, u = 0, x = 0, d = q; d >= k; d--) p = this.da[0][d], u += p, t += u;
        q++;
        for (d = q; d <= r; d++) p = this.da[0][d], x += p, t += x;
        p = this.da[0][k++];
        this.na[0][e++] = t * l;
        for (r++; r <= c; r++, q++, k++) t -= u, u -= p, p = this.da[0][q], u += p, h ? (x -= p, t += x) : (t += x, x -= p), p = this.da[0][r], x += p, t += p, p = this.da[0][k], this.na[0][e++] = t * l;
        return new Pc(b, e)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };

    function xD(b) {
        M.call(this, b)
    }

    B(xD, M);
    xD.prototype.sa = new Oc({
        name: "TVS",
        nb: "TVS",
        title: H.a2,
        pb: H.ws,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(xD.prototype.sa.getName(), xD);
    f = xD.prototype;
    f.ha = 18;
    f.init = function () {
        this.g = [new Pg(H.se, new Og(xD.prototype.ha, 1, 100, 1))];
        this.Ga = [new L(H.yP, 0, 12)];
        this.Lb = [new Qc(H.zc, 0)]
    };
    f.Oa = function (b, c) {
        var d, e, h;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        h = 0;
        for (e = b; e <= c; e++, h++) {
            var k = 0;
            for (d = h; d < h + this.ea(); d++) {
                var l = 0;
                d != h && (l = this.da[0][1][d] > this.da[0][1][d - 1] ? this.da[0][4][d] * (this.da[0][1][d] - this.da[0][1][d - 1]) : this.da[0][1][d] < this.da[0][1][d - 1] ? -1 * this.da[0][4][d] * (-this.da[0][1][d] + this.da[0][1][d - 1]) : 0);
                k += l
            }
            this.na[0][h] = k
        }
        return new Pc(b, h)
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };
    f.qf = 2;
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        l = h = h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) return l = k.y(0), h = k.y(h), h > l ? e >= l - d && e <= h + d : e >= h - d && e <= l + d;
        return !1
    };

    function yD(b) {
        M.call(this, b)
    }

    B(yD, M);
    yD.prototype.sa = new Oc({
        name: "ULTOSC",
        nb: "ULTOSC",
        title: H.m2,
        pb: H.pm,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 1
    });
    IC.tb(yD.prototype.sa.getName(), yD);
    f = yD.prototype;
    f.qs = 7;
    f.rs = 14;
    f.ss = 28;
    f.init = function () {
        this.Lb = [new Qc("Price HLC", 0)];
        this.g = [new Pg(H.W1, new Og(this.qs, 1, 1E5, 1)), new Pg(H.Y1, new Og(this.rs, 1, 1E5, 1)), new Pg(H.X1, new Og(this.ss, 1, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = 0, e = 0, h = 0, k = 0, l = 0, p = 0, q, r, t, u, x, A;
        x = Array(3);
        A = Array(3);
        var C = Array(3);
        A[0] = this.qs;
        A[1] = this.rs;
        A[2] = this.ss;
        x[0] = 0;
        x[1] = 0;
        for (t = x[2] = 0; 3 > t; ++t) {
            for (u = r = q = 0; 3 > u; ++u) 0 == x[u] && A[u] > q && (q = A[u], r = u);
            x[r] = 1;
            C[t] = q
        }
        this.qs = C[2];
        this.rs = C[1];
        this.ss = C[0];
        for (t = b - this.qs + 1; t < b; ++t) zD(this, t), d += this.m, k += this.a;
        for (t = b - this.rs + 1; t < b; ++t) zD(this, t), e += this.m, l += this.a;
        for (t = b - this.ss + 1; t < b; ++t) zD(this, t), h += this.m, p += this.a;
        t = b;
        r = t - this.qs + 1;
        x = t - this.rs + 1;
        A = t - this.ss + 1;
        for (u = 0; t <= c; t++, u++, r++, x++, A++) zD(this, t), d += this.m, e += this.m, h += this.m, k += this.a, l += this.a, p += this.a, q = 0, -1E-8 < k && 1E-8 > k || (q += d / k * 4), -1E-8 < l && 1E-8 > l || (q += e / l * 2), -1E-8 < p && 1E-8 > p || (q += h / p), zD(this, r), d -= this.m, k -= this.a, zD(this, x), e -= this.m, l -= this.a, zD(this, A), h -= this.m, p -= this.a, this.na[0][u] = q / 7 * 100;
        return new Pc(b, u)
    };

    function zD(b, c) {
        b.R = b.da[0][3][c];
        b.U = b.da[0][2][c];
        b.K = b.da[0][1][c - 1];
        b.$ = b.R < b.K ? b.R : b.K;
        b.m = b.da[0][1][c] - b.$;
        b.a = b.U - b.R;
        b.F = Math.abs(b.K - b.U);
        b.F > b.a && (b.a = b.F);
        b.F = Math.abs(b.K - b.R);
        b.F > b.a && (b.a = b.F)
    }

    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.qs = c;
                break;
            case 1:
                this.rs = c;
                break;
            case 2:
                this.ss = c
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.qs;
            case 1:
                return this.rs;
            case 2:
                return this.ss
        }
    };
    f.ea = function () {
        return Math.max(this.qs, Math.max(this.rs, this.ss))
    };

    function AD(b) {
        M.call(this, b)
    }

    B(AD, M);
    AD.prototype.sa = new Oc({
        name: "VOLUMEEXT",
        nb: "VOLUMEEXT",
        title: H.E2,
        pb: H.ws,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(AD.prototype.sa.getName(), AD);
    f = AD.prototype;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg("Drawing Style", new Tc(0, [0, 1], ["HISTOGRAM", "LINE"]))];
        this.Ga = [new L(H.yP, 0, 12)]
    };
    f.Oa = function (b, c) {
        var d, e;
        d = b;
        for (e = 0; d <= c; d++, e++) this.na[0][e] = this.da[0][4][d];
        return new Pc(b, e)
    };
    f.ja = function (b, c) {
        this.Ga[0].cr = 0 == c ? 12 : 1;
        this.a = c
    };
    f.ya = function () {
        return this.a
    };
    f.ea = function () {
        return 0
    };
    f.toFixed = function (b) {
        return (+b).toFixed(3)
    };

    function BD(b, c) {
        return null != c ? Eb(b, c).join("") : parseFloat(b).toPrecision(6).substring(0, 7)
    }

    f.WI = function (b) {
        this.o = b;
        b = this.o.ma();
        CD(this.o.Fd(), b) ? this.Si = function (b, d) {
            return BD(1E3 * b, d)
        } : DD(this.o.Fd(), b) ? this.Si = function (b, d) {
            return BD(b, d)
        } : this.Si = function (b, d) {
            return BD(1E6 * b, d)
        }
    };
    f.qf = 2;
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) return e >= k.y(h) - d;
        return !1
    };

    function ED(b) {
        M.call(this, b)
    }

    B(ED, M);
    ED.prototype.sa = new Oc({
        name: "VOLUME",
        nb: "VOLUME, MIO",
        title: H.$H,
        pb: H.ws,
        Vb: !0,
        Qc: !1,
        numberOfInputs: 1,
        rb: 0,
        numberOfOutputs: 1,
        Kr: 2
    });
    IC.tb(ED.prototype.sa.getName(), ED);
    f = ED.prototype;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.Ga = [new L(H.$H, 0, 12)]
    };
    f.Oa = function (b, c) {
        for (var d = b, e = 0; d <= c; d++, e++) this.na[0][e] = this.da[0][4][d] || 0;
        return new Pc(b, e)
    };
    f.ea = function () {
        return 0
    };
    f.mA = function (b) {
        return b
    };
    f.toFixed = function (b) {
        return (+b).toFixed(3)
    };
    f.ea = function () {
        return 0
    };
    f.or = function () {
        return this.mA
    };

    function FD(b, c) {
        return null != c ? Eb(b, c).join("") : parseFloat(b).toPrecision(6).substring(0, 7)
    }

    f.WI = function (b) {
        this.o = b;
        b = this.o.ma();
        CD(this.o.Fd(), b) ? (this.lc().ek("VOLUME, thou ounces"), this.Si = function (b, d) {
            return FD(1E3 * b, d)
        }) : GD(this.o.Fd(), b) ? (this.lc().ek("VOLUME, coins"), this.Si = function (b, d) {
            return FD(1E6 * b, d)
        }) : this.o.ma().gB || this.o.ma().xc() ? (this.lc().ek("VOLUME, " + (this.o.ma().xc() ? this.o.ma().xc() : "DUK+")), this.Si = function (b, d) {
            return FD(1E6 * b, d)
        }) : DD(this.o.Fd(), b) ? (this.lc().ek("VOLUME, mio units"), this.Si = function (b, d) {
            return FD(b, d)
        }) : (this.lc().ek("VOLUME, contracts"),
            this.Si = function (b, d) {
                return FD(1E6 * b, d)
            })
    };
    M.prototype.lc = function () {
        this.sa || (this.sa = new Oc({
            name: "VOLUME",
            nb: "VOLUME, mio units",
            title: H.$H,
            pb: H.ws,
            Vb: !0,
            Qc: !1,
            numberOfInputs: 1,
            rb: 0,
            numberOfOutputs: 1,
            Kr: 2
        }));
        return this.sa
    };
    ED.prototype.ld = function () {
        return 0
    };
    ED.prototype.qf = 2;
    ED.prototype.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if (h = b[l][c]) return e >= k.y(h) - d;
        return !1
    };

    function HD(b) {
        this.a = 1;
        this.sj = ID.xs;
        this.mg = 24;
        this.hh = JD.qm;
        this.Dj = 30;
        this.Zg = KD.om;
        this.Cj = 70;
        M.call(this, b)
    }

    B(HD, M);
    var ID = {xs: 0, HP: 1}, LD = {0: So.xs, 1: So.HP}, JD = {qm: 0, XP: 1}, MD = {0: To.qm, 1: To.XP},
        KD = {om: 0, PP: 1}, ND = {0: Uo.om, 1: Uo.PP};
    HD.prototype.sa = new Oc({
        name: "VOLUME_PROFILE",
        nb: "VOLUME_PROFILE",
        title: H.s2,
        pb: H.ws,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 6,
        numberOfOutputs: 4,
        Xl: !0
    });
    IC.tb(HD.prototype.sa.getName(), HD);
    f = HD.prototype;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [this.K = new Pg(H.u2, new Tc(this.a, [], [])), new Pg(H.x2, new Tc(this.sj, Ta(ID), Ta(LD))), new Pg(H.y2, new Og(this.mg, 1, 1E3, 1)), new Pg(H.C2, new Tc(this.hh, Ta(JD), Ta(MD))), new Pg(H.D2, new Og(this.Dj, 1, 100, 1)), new Pg(H.v2, new Tc(this.Zg, Ta(KD), Ta(ND))), new Pg(H.A2, new Og(this.Cj, 1, 100, 1))];
        this.Ga = [new L(H.t2, 0, -1), new L(H.B2, 0, -1), new L(H.z2, 0, -1), new L(H.w2, 0, -1)];
        this.Ga[0].Ab("#5F5F5F");
        this.Ga[0].Sk(.1);
        this.Ga[0].Yn = !1;
        this.Ga[1].N().ng = !0;
        this.Ga[1].Ab("#779E2E");
        this.Ga[1].Sk(.5);
        this.Ga[1].ng = "#FF0000";
        this.Ga[1].Pt = .5;
        this.Ga[1].Yn = !1;
        this.Ga[2].N().ng = !0;
        this.Ga[2].Ab("#779E2E");
        this.Ga[2].Sk(.7);
        this.Ga[2].ng = "#FF0000";
        this.Ga[2].Pt = .7;
        this.Ga[2].Yn = !1;
        this.Ga[3].N().cF = !0;
        this.Ga[3].Ab("#FF0000");
        this.Ga[3].Sk(1);
        this.Ga[3].jq(1);
        this.Ga[3].ai(Hc.Ej);
        this.Ga[3].Yn = !1
    };
    f.Oa = function (b, c) {
        var d = OD(this);
        0 > b - this.ea() && (b = this.ea());
        if (b > c) return new Pc(0, 0);
        if (!d) return PD(this, b, c), new Pc(b, c - b + 1);
        for (var e = b, h = b + 1; h <= c; h++) vj(d, this.Lp(h)) != vj(d, this.Lp(h - 1)) && (PD(this, e, h - 1), e = h);
        PD(this, e, c);
        return new Pc(b, c - b + 1)
    };

    function PD(b, c, d) {
        var e = Mn, h = v(b.Se, b);
        b.F = e(h(0).Jb(), h(0).Fm());
        b.ka = e(h(1).Jb(), h(1).Fm());
        b.$ = e(h(2).Jb(), h(2).Fm());
        b.ia = e(Xn(h(1)), Wn(h(1)));
        b.U = e(Xn(h(2)), Wn(h(2)));
        b.R = e(h(3).Jb(), h(3).Fm());
        if (!(c > d)) {
            for (var e = b.na, k = b.Lp(c), l = b.Lp(d), p = -Infinity, q = Infinity, r, t, h = [], u = c; u <= d; u++) p < b.Re(u) && (p = b.Re(u)), q > b.ff(u) && (q = b.ff(u));
            b.sj == ID.xs ? (r = b.mg, t = (p - q) / r) : (t = b.mg * b.X().ma().Sb / 10, r = +Math.max(Math.ceil((p - q) / t), 1), 1E3 < r && (r = 1E3, t = (p - q) / r));
            for (u = 0; u < r; u++) h[u] = [0, 0];
            for (u = c; u <= d; u++) if (0 ==
                t) h[0][0] += b.Hv(u); else for (var x = +Math.min(Math.floor((p - b.Re(u)) / t), r - 1), A = +Math.min(Math.floor((p - b.ff(u)) / t), r - 1), C = b.vD(u) >= b.ND(u) ? 0 : 1; x <= A; x++) {
                if (b.Re(u) == b.ff(u)) {
                    h[x][C] += b.Hv(u);
                    break
                }
                var I = Math.min(p - x * t, b.Re(u)), N = Math.max(p - (x + 1) * t, b.ff(u)),
                    I = (I - N) / (b.Re(u) - b.ff(u));
                h[x][C] += b.Hv(u) * I
            }
            b = [k, l];
            d = [p, q];
            var S = 0, T = 0, U = -1;
            E(h, function (b, c) {
                S < b[0] + b[1] && (S = b[0] + b[1], U = c);
                T += b[0] + b[1]
            });
            e[0][c] = [b, d];
            e[1][c] = [b, d, h, T, S, U];
            e[2][c] = [b, d, h, T, S, U];
            e[3][c] = [b, d, h, T, S, U]
        }
    }

    f.T = function (b, c, d, e, h, k, l) {
        OD(this) ? c.vj(c.Cc() - Math.ceil(OD(this).Y() / this.Fh.Y())) : c.vj(-c.Cc());
        h = 0;
        for (var p = c.length; h < p; h++) {
            var q = c.kc(h);
            if (q) {
                var r = q[0][1], t = q[1][0], u = q[1][1], x = Math.round(d.x(q[0][0]) - this.X().Ca() / 2) + .5,
                    r = Math.round(d.x(r) + this.X().Ca() / 2) + .5, t = e.y(t) + .5, A = e.y(u) + .5, u = yb(x, r),
                    x = xb(x, r), r = yb(t, A), t = xb(t, A), u = xb(u, this.X().pa),
                    x = yb(x, this.X().pa + this.X().je().width);
                switch (k) {
                    case 0:
                        var q = b, A = u, C = x, I = r, N = t;
                        q.fillStyle = this.F;
                        q.fillRect(A, I, Math.round(C - A), Math.round(N - I));
                        jc(l.kb()) && (b.beginPath(), b.fillStyle = this.X().fa().j.Yc, b.arc(u, (r + t) / 2 | 0, 1.8, 0, 2 * Math.PI, !1), b.arc(x, (r + t) / 2 | 0, 1.8, 0, 2 * Math.PI, !1), b.fill());
                        break;
                    case 1:
                    case 2:
                        QD(this, b, k, q, u, x, r, t);
                        break;
                    default:
                        RD(this, b, q, u, x, r, t)
                }
            }
        }
    };

    function QD(b, c, d, e, h, k, l, p) {
        var q = e[2] || [], r = null != e[4] ? e[4] : NaN, t = null != e[3] ? e[3] : NaN;
        e = null != e[5] ? e[5] : -1;
        var u = (p - l) / q.length, x = (k - h) * b.Dj / 100 | 0, A = +Math.max((.9 * u | 0) - 1, 0), C = -Infinity,
            I = e, N = e;
        if (0 <= e) for (p = t * b.Cj / 100, t = q[e][0] + q[e][1]; t < p && (0 < I || N < q.length - 1);) 0 < I && (N == q.length - 1 || q[I - 1][0] + q[I - 1][1] > q[N + 1][0] + q[N + 1][1]) ? (I--, t += q[I][0] + q[I][1]) : (N++, t += q[N][0] + q[N][1]);
        E(q, function (b, e) {
            var p = this.hh == JD.qm ? b[0] : b[0] + b[1], q = p / r * x | 0, p = q, t = A,
                na = this.Zg == KD.om ? h : k - q, xa = Math.round(l + e * u + (u - A) / 2);
            if (0 < e && 2 > xa - C) if (0 < t) t--, xa++; else return; else 0 < e && 2 < xa - C && (t += xa - C - 2, xa -= xa - C - 2);
            C = xa + t;
            if (0 != q) {
                var vb = I > e || e > N;
                if (vb && 2 == d || !vb && 1 == d) return;
                c.fillStyle = vb ? this.ka : this.$;
                c.fillRect(na + .5, xa, q + 1, (0 < t ? t : 0) + 1)
            }
            this.hh != JD.qm || (p = b[1], p = p / r * x | 0, na = this.Zg == KD.om ? na + q + (0 != q ? 1 : 0) : na - (0 != q ? 1 : 0) - p, 0 == p || (vb = I > e || e > N, vb && 2 == d)) || !vb && 1 == d || (c.fillStyle = vb ? this.ia : this.U, c.fillRect(na + .5, xa, p + 1, (0 < t ? t : 0) + 1))
        }, b)
    }

    function RD(b, c, d, e, h, k, l) {
        var p = d[2] || [];
        d = null != d[5] ? d[5] : -1;
        var q = (l - k) / p.length, r = +Math.max((.9 * q | 0) - 1, 0);
        0 <= d && (l = +Math.round(k + d * q + q / 2) + .5, c.strokeStyle = b.R, c.lineWidth = b.Se(3).Pg(), c.setLineDash(b.Se(3).Rc), c.moveTo(e, l), c.lineTo(h, l), c.stroke());
        16 < r && E(p, function (b, d) {
            var l = +Math.round(k + d * q + (q - r) / 2),
                p = this.hh == JD.qm ? b[0].toFixed(2) + "M x " + b[1].toFixed(2) + "M" : (b[0] + b[1]).toFixed(2) + "M";
            c.font = "12px Arial, sans-serif";
            c.fillStyle = this.X().fa().j.Yc;
            c.shadowOffsetX = 1;
            c.shadowOffsetY = 1;
            c.shadowColor =
                this.X().fa().j.wd;
            c.shadowBlur = 1;
            h - e > c.measureText(p).width + 10 && c.fillText(p, (this.Zg == KD.om ? e : h - c.measureText(p).width - 10) + 5, l + 5 + (r / 2 | 0))
        }, b);
        c.shadowOffsetX = 0;
        c.shadowOffsetY = 0;
        c.shadowBlur = 0
    }

    f.ea = function () {
        return 0
    };
    f.mA = function (b) {
        return b
    };
    f.toFixed = function (b) {
        return (+b).toFixed(3)
    };
    f.ea = function () {
        return 0
    };
    f.or = function () {
        return this.mA
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.a = c;
                break;
            case 1:
                this.sj = c;
                break;
            case 2:
                this.mg = c;
                break;
            case 3:
                this.hh = c;
                break;
            case 4:
                this.Dj = c;
                break;
            case 5:
                this.Zg = c;
                break;
            case 6:
                this.Cj = c;
                break;
            default:
                throw Error("Indicator parameter index is out of bounds");
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.a;
            case 1:
                return this.sj;
            case 2:
                return this.mg;
            case 3:
                return this.hh;
            case 4:
                return this.Dj;
            case 5:
                return this.Zg;
            case 6:
                return this.Cj;
            default:
                throw Error("Indicator parameter index is out of bounds");
        }
    };
    f.Bv = function () {
        var b = [], c = [];
        La(SD(this), function (d, e) {
            d instanceof al && Bl(d, this.Fh) || (b.push(e), c[e] = e)
        }, this);
        c[this.a] || (this.a = b[1]);
        this.K.rN(new Tc(this.a, b, c));
        return HD.P.Bv.call(this)
    };

    function SD(b) {
        if (b.m) return b.m;
        b.m = {None: "None"};
        E([cl, el, el, fl, gl, hl, il, jl, ll, ml, ol, rl, bj, ul], function (b) {
            this.m[b.lg + " " + b.xc().getName()] = b
        }, b);
        return b.m
    }

    function OD(b) {
        var c = SD(b)[b.a];
        if ("None" == c) return null;
        c.Yh(b.X().Fe());
        return c
    }

    f.Ph = function (b, c, d, e, h, k, l) {
        c = null != l ? l : this.Lf();
        var p, q, r, t;
        b = b[0];
        l = 0;
        for (var u = b.length; l < u; ++l) if (b[l] && (p = b[l][0][0], q = b[l][0][1], r = b[l][1][0], t = b[l][1][1], p && q && r && t)) {
            p = h.x(p) - this.X().Ca() / 2;
            r = k.y(r);
            q = h.x(q) + this.X().Ca() / 2;
            t = k.y(t);
            var x = yb(r, t) - c, A = xb(r, t) + c, C = xb(p, q) + c;
            if (yb(p, q) - c <= d && d <= C && x <= e && e <= A && (Math.abs(p - d) <= c || Math.abs(q - d) <= c || Math.abs(r - e) <= c || Math.abs(t - e) <= c)) return !0
        }
        return !1
    };
    f.Lp = function (b) {
        return this.da[0][5][b]
    };
    f.ND = function (b) {
        return this.da[0][0][b]
    };
    f.Re = function (b) {
        return this.da[0][2][b]
    };
    f.ff = function (b) {
        return this.da[0][3][b]
    };
    f.vD = function (b) {
        return this.da[0][1][b]
    };
    f.Hv = function (b) {
        return Cl(this.Fh, bl) ? (b = this.da[0][6][b], b instanceof td ? b.mc()[0] : b) : this.da[0][4][b]
    };

    function TD(b) {
        M.call(this, b)
    }

    B(TD, M);
    TD.prototype.sa = new Oc({
        name: "WMA",
        nb: "WMA",
        title: H.H2,
        pb: H.Ig,
        Vb: !1,
        Qc: !1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(TD.prototype.sa.getName(), TD);
    f = TD.prototype;
    f.ha = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.se, new Og(this.ha, 2, 1E5, 1))];
        this.Ga = [new L(H.qk, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e, h;
        d = b;
        for (e = 0; d <= c; d++, e++) {
            var k = 0, l = 0, p = 1;
            for (h = this.ha; 0 < h; h--, p++) k += this.da[0][d - h + 1] * p, l += p;
            k /= l;
            this.na[0][e] = k
        }
        return new Pc(b, e)
    };
    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };

    function UD(b) {
        M.call(this, b)
    }

    B(UD, M);
    UD.prototype.sa = new Oc({
        name: "ZigZag",
        nb: "ZigZag",
        title: H.AP,
        pb: H.WH,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 1,
        Xl: !0,
        Ke: !0
    });
    IC.tb(UD.prototype.sa.getName(), UD);
    f = UD.prototype;
    f.lv = 1;
    f.mv = 5;
    f.kv = 3;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.v_, new Og(this.lv, 1, 200, 1)), new Pg(H.w_, new Og(this.mv, 5, 200, 1)), new Pg(H.u_, new Og(this.kv, 3, 200, 1))];
        this.Ga = [new L(H.AP, 0, 21, null, fc.red)];
        this.a = 1E-4
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d = Array(c + 1), e = Array(c + 1), h = Array(c + 1), k = 0, l, p, q = 0, r = 0, t, u, x = 0, A = 0;
        for (l = 0; l < c + 1; l++) d[l] = 0, e[l] = 0, h[l] = 0;
        for (l = b; l <= c; l++) {
            t = this.da[0][3][l];
            for (p = l - 1; p > l - this.lv; p--) t = Math.min(t, this.da[0][3][p]);
            if (t == A) t = 0; else if (A = t, this.da[0][3][l] - t > this.mv * this.a) t = 0; else for (p = 1; p <= this.kv; p++) u = d[l - p], 0 != u && u > t && (d[l - p] = 0);
            d[l] = this.da[0][3][l] == t ? t : 0;
            t = this.da[0][2][l];
            for (p = l - 1; p > l - this.lv; p--) t = Math.max(t, this.da[0][2][p]);
            if (t == x) t = 0; else if (x = t, t - this.da[0][2][l] > this.mv * this.a) t = 0; else for (p = 1; p <= this.kv; p++) u = e[l - p], 0 != u && u < t && (e[l - p] = 0);
            e[l] = this.da[0][2][l] == t ? t : 0
        }
        x = A = 0;
        for (l = b; l <= c; l++) switch (k) {
            case 0:
                0 != e[l] && (x = this.da[0][2][l], q = l, k = -1, h[l] = x);
                0 != d[l] && (A = this.da[0][3][l], r = l, k = 1, h[l] = A);
                break;
            case 1:
                0 != d[l] && d[l] < A && 0 == e[l] && (h[r] = 0, r = l, A = d[l], h[l] = A);
                0 != e[l] && 0 == d[l] && (x = e[l], q = l, h[l] = x, k = -1);
                break;
            case -1:
                0 != e[l] && e[l] > x && 0 == d[l] && (h[q] = 0, q = l, x = e[l], h[l] = x), 0 != d[l] && 0 == e[l] && (A = d[l], r = l, h[l] = A, k = 1)
        }
        l =
            0;
        for (p = b; p <= c; l++, p++) this.na[0][l] = 0 != h[p] ? h[p] : Number.NaN;
        return new Pc(b, l)
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.lv = c;
                break;
            case 1:
                this.mv = c;
                break;
            case 2:
                this.kv = c
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.lv;
            case 1:
                return this.mv;
            case 2:
                return this.kv
        }
    };
    f.ea = function () {
        return Math.max(this.kv, Math.max(this.lv, this.mv))
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        l = null != l ? l : this.Lf();
        for (var p = l + 1, q = NaN, r = NaN, t = NaN, u, x = NaN, t = q = r = NaN, A = 0, x = b.length; A < x; ++A) {
            q = b[A][c];
            t = r = NaN;
            if (isNaN(q)) {
                for (u = c; 0 <= u;) if (u--, q = b[A][u], !isNaN(q)) {
                    r = q;
                    break
                }
                if (isNaN(r)) break;
                x = h.kf(u);
                r = k.y(r);
                for (u = c; u < b[A].length;) if (u++, q = b[A][u], !isNaN(q)) {
                    t = q;
                    break
                }
                if (isNaN(t)) break;
                q = h.kf(u);
                t = k.y(t);
                b = q - x;
                c = t - r;
                h = b * b + c * c;
                k = ((d - x) * b + (e - r) * c) / h;
                switch (!0) {
                    case 0 <= k && 1 >= k:
                        p = Math.abs((d - x) * c - (e - r) * b) / Math.sqrt(h);
                        break;
                    case 0 > k:
                        p = Co(d, e, x, r);
                        break;
                    case 1 < k:
                        p =
                            Co(d, e, q, t)
                }
                return p <= l
            }
            if (q && Math.abs(k.y(q) - e) <= l) return !0
        }
        return !1
    };

    function VD(b) {
        M.call(this, b)
    }

    B(VD, M);
    VD.prototype.sa = new Oc({
        name: "ALLIGATOR",
        nb: "ALLIGATOR",
        title: H.GZ,
        pb: H.OB,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 3
    });
    IC.tb(VD.prototype.sa.getName(), VD);
    f = VD.prototype;
    f.Vv = 13;
    f.qx = 8;
    f.bw = 5;
    f.init = function () {
        this.a = this.w.kb("SMMA");
        this.a.ja(0, this.Vv);
        this.F = this.w.kb("SMMA");
        this.F.ja(0, this.qx);
        this.m = this.w.kb("SMMA");
        this.m.ja(0, this.bw);
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.Y_, new Og(this.Vv, 2, 200, 1)), new Pg(H.I1, new Og(this.qx, 2, 200, 1)), new Pg(H.c0, new Og(this.bw, 2, 200, 1))];
        this.Ga = [new L(H.HZ, 0, 1, !0, fc.blue), new L(H.JZ, 0, 1, !0, fc.red), new L(H.IZ, 0, 1, !0, fc.green)];
        this.Ga[0].xj(8);
        this.Ga[1].xj(5);
        this.Ga[2].xj(3)
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na;
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        this.a.Eb(0, d[0]);
        this.F.Eb(0, d[0]);
        this.m.Eb(0, d[0]);
        eo(this.a, e[0]);
        eo(this.F, e[1]);
        eo(this.m, e[2]);
        this.a.Oa(b, c);
        this.F.Oa(b, c);
        return this.m.Oa(b, c)
    };
    f.ea = function () {
        return Math.max(this.qx + 5, this.Vv + 8, this.bw + 3) + 1
    };
    f.Bl = function () {
        return 0
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.Vv = c;
                break;
            case 1:
                this.qx = c;
                break;
            case 2:
                this.bw = c
        }
        this.a.ja(0, this.Vv);
        this.F.ja(0, this.qx);
        this.m.ja(0, this.bw)
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.Vv;
            case 1:
                return this.qx;
            case 2:
                return this.bw
        }
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        var p = NaN;
        h = 0;
        for (l = b.length; h < l; ++h) {
            a:{
                switch (h) {
                    case 0:
                        p = 8;
                        break a;
                    case 1:
                        p = 5;
                        break a;
                    case 2:
                        p = 3;
                        break a
                }
                p = void 0
            }
            if ((p = b[h][c - p]) && Math.abs(k.y(p) - e) <= d) return !0
        }
        return !1
    };

    function WD(b) {
        M.call(this, b)
    }

    B(WD, M);
    WD.prototype.sa = new Oc({
        name: "AROON",
        nb: "AROON",
        title: H.LZ,
        pb: H.pm,
        Vb: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 2,
        Kr: 1
    });
    IC.tb(WD.prototype.sa.getName(), WD);
    f = WD.prototype;
    f.sy = 14;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.se, new Og(this.sy, 2, 1E4, 1))];
        this.Ga = [new L(H.OZ, 0, Un, null, fc.blue), new L(H.PZ, 0, 1, null, fc.green)]
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na, h = d[0][2], d = d[0][3];
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        for (var k = this.sy, l = b, p = 0; l <= c; l++, p++) {
            for (var q = h[l], r = d[l], t = l, u = l, x = l - k, A = l; x <= A; x++) h[x] >= q && (t = x, q = h[x]), d[x] <= r && (u = x, r = d[x]);
            e[0][p] = (k - (l - u)) / k * 100;
            e[1][p] = (k - (l - t)) / k * 100;
            0 === e[0][p] && (e[0][p] = "0");
            0 === e[1][p] && (e[1][p] = "0")
        }
        return new Pc(b, c - b)
    };
    f.ea = function () {
        return this.sy - 1
    };
    f.Bl = function () {
        return 0
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.sy = c
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.sy
        }
    };
    f.ld = function () {
        return 0
    };
    f.pd = function () {
        return 100
    };

    function XD(b) {
        M.call(this, b)
    }

    B(XD, M);
    XD.prototype.sa = new Oc({
        name: "ATR",
        nb: "ATR",
        title: H.WZ,
        pb: H.zP,
        Vb: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(XD.prototype.sa.getName(), XD);
    f = XD.prototype;
    f.ha = 14;
    f.init = function () {
        this.oG(new Qc("Candle", 0));
        this.g = [new Pg(H.se, new Og(this.ha, 2, 1E5, 1))];
        this.tG(new L(H.RZ, 0, 1))
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na[0], h = d[0][2], k = d[0][3], d = d[0][1];
        0 > b - this.ha && (b -= b - this.ha);
        if (b > c) return new Pc(0, 0);
        if (1 >= this.ha) {
            for (var l = b; l < c; l++) e[l] = YD(l, h, k, d);
            return new Pc(b, c)
        }
        for (var l = 0, p = b - this.ha + 1; p <= b; p++) l += YD(p, h, k, d);
        e[b] = l / this.ha;
        for (p = 0; p < this.ea(); p++) l = YD(b + p, h, k, d), e[b] = (e[b] * (this.ha - 1) + l) / this.ha;
        for (p = b + 1; p <= c; p++) l = YD(p + this.ea(), h, k, d), e[p] = (e[p - 1] * (this.ha - 1) + l) / this.ha;
        return new Pc(b, c)
    };

    function YD(b, c, d, e) {
        return Math.max(c[b] - d[b], Math.abs(c[b] - e[b - 1]) || 0, Math.abs(d[b] - e[b - 1]) || 0)
    }

    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha
    };

    function ZD(b) {
        ko.call(this, b)
    }

    B(ZD, ko);
    ZD.prototype.sa = new Oc({
        name: "CAMPIVOT",
        nb: "CAMPIVOT",
        title: H.d_,
        pb: H.Mx,
        Vb: !1,
        Ke: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 9
    });
    IC.tb(ZD.prototype.sa.getName(), ZD);
    f = ZD.prototype;
    f.Su = function (b, c, d, e) {
        return c + 1.1 * (d - e) / 2
    };
    f.Hs = function (b, c, d, e) {
        return c + 1.1 * (d - e) / 4
    };
    f.Gs = function (b, c, d, e) {
        return c + 1.1 * (d - e) / 6
    };
    f.Fs = function (b, c, d, e) {
        return c + 1.1 * (d - e) / 12
    };
    f.Es = function (b, c, d) {
        return (c + d + b) / 3
    };
    f.Is = function (b, c, d, e) {
        return c - 1.1 * (d - e) / 12
    };
    f.Js = function (b, c, d, e) {
        return c - 1.1 * (d - e) / 6
    };
    f.Ks = function (b, c, d, e) {
        return c - 1.1 * (d - e) / 4
    };
    f.Tu = function (b, c, d, e) {
        return c - 1.1 * (d - e) / 2
    };

    function $D(b) {
        ko.call(this, b)
    }

    B($D, ko);
    $D.prototype.sa = new Oc({
        name: "CLASSICPIVOT",
        nb: "CLASSICPIVOT",
        title: H.i_,
        pb: H.Mx,
        Vb: !1,
        Ke: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 7
    });
    IC.tb($D.prototype.sa.getName(), $D);
    f = $D.prototype;
    f.Hs = function (b, c, d, e) {
        return b + 2 * (d - e)
    };
    f.Gs = function (b, c, d, e) {
        return b + (d - e)
    };
    f.Fs = function (b, c, d, e) {
        return 2 * b - e
    };
    f.Es = function (b, c, d) {
        return (b + c + d) / 3
    };
    f.Is = function (b, c, d) {
        return 2 * b - d
    };
    f.Js = function (b, c, d, e) {
        return b - (d - e)
    };
    f.Ks = function (b, c, d, e) {
        return b - 2 * (d - e)
    };

    function aE(b) {
        M.call(this, b)
    }

    B(aE, M);
    aE.prototype.sa = new Oc({
        name: "DMI",
        nb: "DMI",
        title: H.r_,
        pb: H.pm,
        Vb: !0,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 3
    });
    IC.tb(aE.prototype.sa.getName(), aE);
    f = aE.prototype;
    f.xm = 14;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.se, new Og(14, 3, 100, 1))];
        this.Ga = [new L(H.FZ, 0, 1, !0, "#20b2aa"), new L(H.K0, 0, 1, !0, "#9acd32"), new L(H.z0, 0, 1, !0, "#f5deb3")]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        this.m = b - this.ea();
        this.La = this.da[0][2][this.m];
        this.Ya = this.da[0][3][this.m];
        this.Ea = this.da[0][1][this.m];
        this.F = this.U = this.R = 0;
        for (var d = this.xm - 1, e = 0; 0 < d; d--) bE(this, !1), this.F += this.a, this.Ea = this.da[0][1][this.m];
        this.ob = 0;
        for (d = this.xm; 0 < d; d--) bE(this, !0), cE(this, !0);
        this.za = this.ob / this.xm;
        for (d = 0; 0 < d; d--) bE(this, !0), cE(this, !1);
        this.na[0][e] = this.za;
        this.na[1][e] = this.va;
        this.na[2][e] = this.ka;
        for (e++; this.m < c; e++) bE(this,
            !0), cE(this, !1), this.na[0][e] = this.za, this.na[1][e] = this.va, this.na[2][e] = this.ka;
        return new Pc(b, e)
    };

    function bE(b, c) {
        b.m++;
        b.a = b.da[0][2][b.m];
        b.ia = b.a - b.La;
        b.La = b.a;
        b.a = b.da[0][3][b.m];
        b.$ = b.Ya - b.a;
        b.Ya = b.a;
        c && (b.R -= b.R / b.xm, b.U -= b.U / b.xm);
        0 < b.$ && b.ia < b.$ ? b.R += b.$ : 0 < b.ia && b.ia > b.$ && (b.U += b.ia);
        b.a = b.La - b.Ya;
        b.K = Math.abs(b.La - b.Ea);
        b.K > b.a && (b.a = b.K);
        b.K = Math.abs(b.Ya - b.Ea);
        b.K > b.a && (b.a = b.K)
    }

    function cE(b, c) {
        b.F = b.F - b.F / b.xm + b.a;
        b.Ea = b.da[0][1][b.m];
        -1E-8 < b.F && 1E-8 > b.F || (b.ka = b.R / b.F * 100, b.va = b.U / b.F * 100, b.a = b.ka + b.va, -1E-8 < b.a && 1E-8 > b.a || (c ? b.ob += Math.abs(b.ka - b.va) / b.a * 100 : (b.a = Math.abs(b.ka - b.va) / b.a * 100, b.za = (b.za * (b.xm - 1) + b.a) / b.xm)))
    }

    f.Eb = function (b, c) {
        this.da[0] = c
    };
    f.ja = function (b, c) {
        this.xm = c
    };
    f.ya = function () {
        return this.xm
    };
    f.ea = function () {
        return 2 * this.xm - 1
    };

    function dE(b) {
        ko.call(this, b)
    }

    B(dE, ko);
    dE.prototype.sa = new Oc({
        name: "FIBPIVOT",
        nb: "FIBPIVOT",
        title: H.G_,
        pb: H.Mx,
        Vb: !1,
        Ke: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 7
    });
    IC.tb(dE.prototype.sa.getName(), dE);
    f = dE.prototype;
    f.Hs = function (b, c, d, e) {
        return b + (d - e)
    };
    f.Gs = function (b, c, d, e) {
        return b + .618 * (d - e)
    };
    f.Fs = function (b, c, d, e) {
        return b + .382 * (d - e)
    };
    f.Es = function (b, c, d) {
        return (c + d + b) / 3
    };
    f.Is = function (b, c, d, e) {
        return b - .382 * (d - e)
    };
    f.Js = function (b, c, d, e) {
        return b - .618 * (d - e)
    };
    f.Ks = function (b, c, d, e) {
        return b - (d - e)
    };

    function eE(b) {
        M.call(this, b)
    }

    B(eE, M);
    eE.prototype.sa = new Oc({
        name: "ICHIMOKU",
        nb: "ICHIMOKU",
        title: H.V_,
        pb: H.Ig,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 6
    });
    IC.tb(eE.prototype.sa.getName(), eE);
    f = eE.prototype;
    f.ns = 9;
    f.Tg = 26;
    f.ds = 52;
    f.init = function () {
        this.R = this.w.kb("MAX");
        this.U = this.w.kb("MIN");
        this.a = this.w.kb("MAX");
        this.m = this.w.kb("MIN");
        this.F = this.w.kb("MAX");
        this.K = this.w.kb("MIN");
        this.R.ja(0, this.ns);
        this.U.ja(0, this.ns);
        this.a.ja(0, this.Tg);
        this.m.ja(0, this.Tg);
        this.F.ja(0, this.ds);
        this.K.ja(0, this.ds);
        this.F.cn(0, 3);
        this.a.cn(0, 3);
        this.R.cn(0, 3);
        this.K.cn(0, 4);
        this.m.cn(0, 4);
        this.U.cn(0, 4);
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.J1, new Og(this.ns, 2, 400, 1)), new Pg(H.$_, new Og(this.Tg, 2, 400, 1)), new Pg(H.g1, new Og(this.ds,
            2, 400, 1))];
        this.Ga = [new L(H.K1, 0, 1), new L(H.a0, 0, 1), new L(H.h_, 0, 1), new L(H.h1, 0, 1), new L(H.i1, 0, 1), new L(H.j_, 0, -1)];
        this.Ga[0].Ab("#B3882F");
        this.Ga[1].Ab(fc.blue);
        this.Ga[2].Ab(fc.magenta);
        this.Ga[2].xj(-this.Tg);
        this.Ga[3].Ab(fc.red);
        this.Ga[3].xj(this.Tg);
        this.Ga[4].Ab(fc.green);
        this.Ga[4].xj(this.Tg);
        this.Ga[5].wG(!1);
        this.Ga[5].xj(this.Tg)
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        c + 0 >= this.da[0][0].length && (c = this.da[0][0].length - 1 - 0);
        if (b > c) return new Pc(0, 0);
        var d = Array(c - b + 2 + this.ea()), e = Array(c - b + 2 + this.ea()), h = Array(c - b + 2 + this.ea()),
            k = Array(c - b + 2 + this.ea()), l = Array(c - b + 2 + this.ea()), p = Array(c - b + 2 + this.ea());
        this.R.Eb(0, this.da[0][2]);
        this.a.Eb(0, this.da[0][2]);
        this.F.Eb(0, this.da[0][2]);
        this.U.Eb(0, this.da[0][3]);
        this.m.Eb(0, this.da[0][3]);
        this.K.Eb(0, this.da[0][3]);
        eo(this.R, d);
        eo(this.U, e);
        eo(this.a, h);
        eo(this.m, k);
        eo(this.F, l);
        eo(this.K, p);
        var q = this.R.Oa(b - 1, c);
        this.U.Oa(b - 1, c);
        this.a.Oa(b - 1, c);
        this.m.Oa(b - 1, c);
        this.F.Oa(b - 1, c);
        this.K.Oa(b - 1, c);
        for (var r = 0, q = q.Kd - 1; r < q; r++) this.na[0][r] = (d[r + 1] + e[r + 1]) / 2, this.na[1][r] = (h[r + 1] + k[r + 1]) / 2, this.na[3][r] = (this.na[1][r] + this.na[0][r]) / 2, this.na[4][r] = (l[r + 1] + p[r + 1]) / 2;
        d = 0;
        for (e = b; e <= c; e++, d++) this.na[2][d] = this.da[0][1][e - 1];
        return new Pc(b, r - 1)
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ns = c;
                break;
            case 1:
                this.Tg = c;
                break;
            case 2:
                this.ds = c
        }
        this.Ga[2].xj(-this.Tg);
        this.Ga[3].xj(this.Tg);
        this.Ga[4].xj(this.Tg);
        this.Ga[5].xj(this.Tg);
        this.R.ja(0, this.ns);
        this.U.ja(0, this.ns);
        this.a.ja(0, this.Tg);
        this.m.ja(0, this.Tg);
        this.F.ja(0, this.ds);
        this.K.ja(0, this.ds)
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ns;
            case 1:
                return this.Tg;
            case 2:
                return this.ds
        }
    };
    f.ea = function () {
        return Math.max(2 * this.ns, Math.max(2 * this.Tg, 2 * this.ds)) + 1
    };
    f.T = function (b, c, d, e) {
        for (var h = this.na[3], k = this.na[4], l = "", p = {
            "rgba(0, 128, 0, 0.22)": [],
            "rgba(255, 0, 0, 0.22)": []
        }, q = this.ea() + this.Tg, r = d.yb, t = r.ue() - 1, r = r.W().Y(), u = 1, x = c.length + q; u < x; u++) {
            var l = c.Cc() + u, A = this.kf(d, l - 1, t, r), C = this.kf(d, l, t, r), I = e.y(h[l - 1 - q]),
                N = e.y(k[l - 1 - q]), S = e.y(h[l - q]), T = e.y(k[l - q]),
                l = S < T ? "rgba(0, 128, 0, 0.22)" : "rgba(255, 0, 0, 0.22)";
            p[l].push(A, I, C, S, C, T, A, N)
        }
        for (var U in p) {
            b.fillStyle = U;
            b.beginPath();
            c = p[U];
            d = 0;
            for (e = c.length; d < e; d += 8) b.moveTo(c[d], c[d + 1]), b.lineTo(c[d +
            2], c[d + 3]), b.lineTo(c[d + 4], c[d + 5]), b.lineTo(c[d + 6], c[d + 7]), b.lineTo(c[d], c[d + 1]);
            b.fill()
        }
    };
    f.kf = function (b, c, d, e) {
        return b.x(b.sE(c) + Math.max(c - d, 0) * e)
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        var p = NaN;
        h = 0;
        for (l = b.length; h < l; ++h) {
            a:switch (h) {
                case 0:
                case 1:
                    p = 0;
                    break a;
                case 2:
                    p = -this.Tg;
                    break a;
                default:
                    p = this.Tg
            }
            if ((p = b[h][c - p]) && Math.abs(k.y(p) - e) <= d) return !0
        }
        return !1
    };

    function fE(b) {
        M.call(this, b)
    }

    B(fE, M);
    fE.prototype.sa = new Oc({
        name: "MAX",
        nb: "MAX",
        title: H.O_,
        pb: H.kP,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(fE.prototype.sa.getName(), fE);
    f = fE.prototype;
    f.ha = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 1)];
        this.g = [new Pg(H.se, new Og(this.ha, 1, 2E3, 1))];
        this.Ga = [new L(H.XH, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e;
        if (1 == this.ha) {
            d = b;
            for (e = 0; d <= c; d++, e++) this.na[0][e] = this.da[0][d];
            return new Pc(b, e)
        }
        d = this.ea();
        var h, k, l, p, q;
        e = 0;
        k = b;
        h = b - d;
        l = -1;
        for (p = 0; k <= c;) {
            q = this.da[0][k];
            if (l < h) for (l = h, p = this.da[0][l], d = l; ++d <= k;) q = this.da[0][d], q > p && (l = d, p = q); else q >= p && (l = k, p = q);
            this.na[0][e++] = p;
            h++;
            k++
        }
        return new Pc(b, e)
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };

    function gE(b) {
        M.call(this, b)
    }

    B(gE, M);
    gE.prototype.sa = new Oc({
        name: "MIN",
        nb: "MIN",
        title: H.i0,
        pb: H.kP,
        Vb: !1,
        Qc: !0,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1
    });
    IC.tb(gE.prototype.sa.getName(), gE);
    f = gE.prototype;
    f.ha = 30;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 1)];
        this.g = [new Pg(H.se, new Og(this.ha, 1, 2E3, 1))];
        this.Ga = [new L(H.XH, 0, 1)]
    };
    f.Oa = function (b, c) {
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        var d, e;
        if (1 == this.ha) {
            d = b;
            for (e = 0; d <= c; d++, e++) this.na[0][e] = this.da[0][d];
            return new Pc(b, e)
        }
        var h, k;
        d = this.ea();
        var l, p, q;
        e = 0;
        q = b;
        l = b - d;
        p = -1;
        for (h = 0; q <= c;) {
            k = this.da[0][q];
            if (p < l) for (p = l, h = this.da[0][p], d = p; ++d <= q;) k = this.da[0][d], k < h && (p = d, h = k); else k <= h && (p = q, h = k);
            this.na[0][e++] = h;
            l++;
            q++
        }
        return new Pc(b, e)
    };
    f.ja = function (b, c) {
        this.ha = c
    };
    f.ya = function () {
        return this.ha
    };
    f.ea = function () {
        return this.ha - 1
    };

    function hE(b) {
        M.call(this, b)
    }

    B(hE, M);
    hE.prototype.sa = new Oc({
        name: "NR",
        nb: "NR",
        title: H.mP,
        pb: H.L1,
        numberOfInputs: 1,
        rb: 1,
        numberOfOutputs: 1,
        Ke: !0
    });
    IC.tb(hE.prototype.sa.getName(), hE);
    f = hE.prototype;
    f.ha = 4;
    f.init = function () {
        this.oG(new Qc("Candle", 0));
        this.zN(new Pg(H.se, new Og(this.ha, 4, 100, 1)));
        this.tG(new L(H.mP, 0, 14, !1))
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na[0], h = d[0][2], d = d[0][3], k = [];
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        for (var l = b - this.ea(); l < b; l++) k[l] = h[l] - d[l];
        for (var l = b, p = 0; l <= c; l++, p++) {
            k[l] = h[l] - d[l];
            for (var q = Infinity, r = l - this.ea(); r <= l; r++) q = k[r] < q ? k[r] : q;
            e[p] = k[l] == q ? h[l] : Number.NaN
        }
        return new Pc(b, c)
    };
    f.ea = function () {
        return this.ha - 1
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.ha = parseInt(c, 10)
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.ha
        }
    };
    f.Ph = function (b, c, d, e, h, k, l) {
        d = null != l ? l : this.Lf();
        h = NaN;
        l = 0;
        for (var p = b.length; l < p; ++l) if ((h = b[l][c]) && Math.abs(k.y(h) - e - 15) <= d) return !0;
        return !1
    };

    function iE(b) {
        ko.call(this, b)
    }

    B(iE, ko);
    iE.prototype.sa = new Oc({
        name: "PIVOTPOINT",
        nb: "PIVOTPOINT",
        title: H.J0,
        pb: H.Mx,
        Vb: !1,
        Ke: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 7
    });
    IC.tb(iE.prototype.sa.getName(), iE);
    f = iE.prototype;
    f.Hs = function (b, c, d, e) {
        return d + 2 * (b - e)
    };
    f.Gs = function (b, c, d, e) {
        return b + (d - e)
    };
    f.Fs = function (b, c, d, e) {
        return 2 * b - e
    };
    f.Es = function (b, c, d) {
        return (b + c + d) / 3
    };
    f.Is = function (b, c, d) {
        return 2 * b - d
    };
    f.Js = function (b, c, d, e) {
        return b - (d - e)
    };
    f.Ks = function (b, c, d, e) {
        return e - 2 * (d - b)
    };

    function jE(b) {
        M.call(this, b)
    }

    B(jE, M);
    jE.prototype.sa = new Oc({
        name: "REGR_CHANNEL",
        nb: "REGR_CHANNEL",
        title: H.R0,
        pb: H.rP,
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 3
    });
    IC.tb(jE.prototype.sa.getName(), jE);
    f = jE.prototype;
    f.Ye = 3;
    f.XE = 2;
    f.$f = 250;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 1, 5)];
        this.g = [new Pg(H.S0, new Og(this.Ye, 1, 10, 1)), new Pg(H.T0, new Og(this.XE, 0, 10, .1)), new Pg(H.V0, new Og(this.$f, 100, 1E3, 1))];
        this.Ga = [new L(H.W0, 0, 1, !0, fc.blue), new L(H.X0, 0, 1, !0, fc.red), new L(H.U0, 0, 1, !0, fc.green)]
    };
    f.Oa = function (b, c) {
        var d = this.da, e = this.na;
        0 > b - this.ea() && (b = this.ea());
        if (b > c) return new Pc(0, 0);
        for (var h = 0; h < e.length; h++) E(e[h], function (b, c) {
            e[h][c] = Number.NaN
        });
        if (c - b + 1 < this.$f + 1) return new Pc(b, c - b + 1);
        var k = Array(2 * this.Ye + 1);
        k[0] = this.$f + 1;
        for (var l = 1; l <= 2 * this.Ye; l++) {
            for (var p = 0, q = 0; q <= this.$f; q++) p += Math.pow(q, l);
            k[l] = p
        }
        for (var r = Array(this.Ye + 1), h = 0; h <= this.Ye; h++) r[h] = Array(this.Ye + 1);
        for (h = 0; h <= this.Ye; h++) for (q = 0; q <= this.Ye; q++) r[h][q] = k[h + q];
        k = Array(this.Ye + 1);
        for (l = 0; l <= this.Ye; l++) {
            for (q =
                     p = 0; q <= this.$f; q++) p = 0 == l ? p + d[0][c - this.$f + q] : p + d[0][c - this.$f + q] * Math.pow(q, l);
            k[l] = p
        }
        for (l = 0; l <= this.Ye - 1; l++) {
            q = p = 0;
            for (h = l; h <= this.Ye; h++) Math.abs(r[h][l]) > q && (q = Math.abs(r[h][l]), p = h);
            if (p != l) {
                for (var t = null, q = 0; q <= this.Ye; q++) t = r[l][q], r[l][q] = r[p][q], r[p][q] = t;
                t = k[l];
                k[l] = k[p];
                k[p] = t
            }
            for (h = l + 1; h <= this.Ye; h++) {
                p = r[h][l] / r[l][l];
                for (q = 0; q <= this.Ye; q++) r[h][q] = q == l ? 0 : r[h][q] - p * r[l][q];
                k[h] -= p * k[l]
            }
        }
        var u = Array(this.Ye + 1);
        u[this.Ye] = k[this.Ye] / r[this.Ye][this.Ye];
        for (h = this.Ye - 1; 0 <= h; h--) for (q =
                                                    t = 0; q <= this.Ye - 1 - h; q++) t += r[h][h + q + 1] * u[h + q + 1], u[h] = (k[h] - t) / r[h][h];
        for (q = 0; q <= this.$f; q++) {
            p = u[0];
            for (l = 1; l <= this.Ye; l++) p += u[l] * Math.pow(q, l);
            e[0][c - b - this.$f + q] = p
        }
        for (q = r = 0; q <= this.$f; q++) r += Math.pow(d[0][c - this.$f + q] - e[0][c - b - this.$f + q], 2);
        r = Math.sqrt(r / (this.$f + 1)) * this.XE;
        for (q = 0; q <= this.$f; q++) e[1][c - b - this.$f + q] = e[0][c - b - this.$f + q] + r, e[2][c - b - this.$f + q] = e[0][c - b - this.$f + q] - r;
        return new Pc(b, c - b + 1)
    };
    f.ea = function () {
        return 0
    };
    f.Bl = function () {
        return this.$f
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.Ye = c;
                break;
            case 1:
                this.XE = c;
                break;
            case 2:
                this.$f = c
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.Ye;
            case 1:
                return this.XE;
            case 2:
                return this.$f
        }
    };

    function kE(b) {
        M.call(this, b)
    }

    B(kE, M);
    kE.prototype.sa = new Oc({
        name: "SAR",
        nb: "SAR",
        title: H.H0,
        pb: H.Ig,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 1
    });
    IC.tb(kE.prototype.sa.getName(), kE);
    f = kE.prototype;
    f.Jq = .02;
    f.yy = .2;
    f.init = function () {
        this.Lb = [new Qc(H.zc, 0)];
        this.g = [new Pg(H.EZ, new Og(this.Jq, 0, 10, .01)), new Pg(H.o0, new Og(this.yy, 0, 10, .01))];
        this.Ga = [new L(H.f1, 0, 11, null, fc.blue)]
    };
    f.Oa = function (b, c) {
        var d = this.da, e = d[0][2], d = d[0][3], h = this.na[0];
        0 > b - this.ea() && (b -= b - this.ea());
        if (b > c) return new Pc(0, 0);
        for (var k = e[1] >= e[0] || d[1] >= d[0] ? 1 : -1, l = 0 < k ? d[0] : e[0], p = 0 < k ? e[0] : d[0], q = this.Jq, r, t = 1, u = e.length - 1; t < u; t++) 0 < k ? (e[t] > p && (p = e[t], q = Math.min(this.yy, q + this.Jq)), r = l + q * (p - l), r = Math.min(d[t], d[t - 1], r), r >= d[t + 1] && (k = -1, r = p, p = d[t + 1], q = this.Jq)) : (d[t] < p && (p = d[t], q = Math.min(this.yy, q + this.Jq)), r = l + q * (p - l), r = Math.max(e[t], e[t - 1], r), r <= e[t + 1] && (k = 1, r = p, p = e[t + 1], q = this.Jq)), h[t] = l, l = h[t +
        1] = r;
        return new Pc(b, c - b)
    };
    f.ea = function () {
        return 0
    };
    f.Bl = function () {
        return 0
    };
    f.ja = function (b, c) {
        switch (b) {
            case 0:
                this.Jq = c;
                break;
            case 1:
                this.yy = c
        }
    };
    f.ya = function (b) {
        switch (b) {
            case 0:
                return this.Jq;
            case 1:
                return this.yy
        }
    };

    function lE(b) {
        ko.call(this, b)
    }

    B(lE, ko);
    lE.prototype.sa = new Oc({
        name: "WOODPIVOT",
        nb: "WOODPIVOT",
        title: H.I2,
        pb: H.Mx,
        Vb: !1,
        Ke: !0,
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 7
    });
    IC.tb(lE.prototype.sa.getName(), lE);
    f = lE.prototype;
    f.Hs = function (b, c, d, e) {
        return d + 2 * (b - e)
    };
    f.Gs = function (b, c, d, e) {
        return b + (d - e)
    };
    f.Fs = function (b, c, d, e) {
        return 2 * b - e
    };
    f.Es = function (b, c, d) {
        return (c + d + 2 * b) / 4
    };
    f.Is = function (b, c, d) {
        return 2 * b - d
    };
    f.Js = function (b, c, d, e) {
        return b - (d - e)
    };
    f.Ks = function (b, c, d, e) {
        return e - 2 * (d - b)
    };

    function mE(b) {
        M.call(this, b)
    }

    B(mE, no);
    mE.prototype.sa = new Oc({
        name: "CHANNEL_DOWN",
        nb: "CHANNEL_DOWN",
        title: H.f_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(mE.prototype.sa.getName(), mE);
    f = mE.prototype;
    f.xC = !1;
    f.Ri = function (b, c, d, e) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[0] > b[2] && b[1] > b[3] && yo(this, b, c, d, e, [0, 2], [1, 3]) ? this.xC = !0 : b[0] < b[1] && b[1] > b[2] && b[2] < b[3] && b[0] > b[2] && b[1] > b[3] && yo(this, b, c, d, e, [0, 2], [1, 3]) ? (this.xC = !1, !0) : !1
    };
    f.Qj = function () {
        return 4
    };
    f.Lj = function (b, c, d, e) {
        return vo(this, b, c, d, e, this.xC ? [1, 3] : [0, 2])
    };
    f.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, this.xC ? [0, 2] : [1, 3])
    };

    function nE(b) {
        M.call(this, b)
    }

    B(nE, no);
    nE.prototype.sa = new Oc({
        name: "CHANNEL_UP",
        nb: "CHANNEL_UP",
        title: H.g_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(nE.prototype.sa.getName(), nE);
    f = nE.prototype;
    f.yC = !1;
    f.Ri = function (b, c, d, e) {
        return b[0] < b[1] && b[1] > b[2] && b[2] < b[3] && b[0] < b[2] && b[1] < b[3] && yo(this, b, c, d, e, [1, 3], [0, 2]) ? this.yC = !0 : b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[0] < b[2] && b[1] < b[3] && yo(this, b, c, d, e, [1, 3], [0, 2]) ? (this.yC = !1, !0) : !1
    };
    f.Qj = function () {
        return 4
    };
    f.Lj = function (b, c, d, e) {
        return vo(this, b, c, d, e, this.yC ? [0, 2] : [1, 3])
    };
    f.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, this.yC ? [1, 3] : [0, 2])
    };

    function oE(b) {
        M.call(this, b)
    }

    B(oE, no);
    oE.prototype.sa = new Oc({
        name: "DESC_TRIANGLE",
        nb: "DESC_TRIANGLE",
        title: H.o_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(oE.prototype.sa.getName(), oE);
    oE.prototype.Ri = function (b, c, d, e) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[0] > b[2] && b[0] > b[4] && b[2] > b[4] && b[5] < b[1] && b[5] < b[3] && this.Oi(b[1], b[3]) && zo(this, b, c, d, e, [2, 4], [1, 3], cn(b[1], b[3]))
    };
    oE.prototype.Qj = function () {
        return 6
    };
    oE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [1, 3])
    };
    oE.prototype.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [2, 4])
    };

    function pE(b) {
        M.call(this, b)
    }

    B(pE, no);
    pE.prototype.sa = new Oc({
        name: "DOUBLE_BOTTOM",
        nb: "DOUBLE_BOTTOM",
        title: H.l_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(pE.prototype.sa.getName(), pE);
    pE.prototype.Ri = function (b) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[2] < b[0] && b[2] < b[4] && this.Oi(b[1], b[3])
    };
    pE.prototype.Qj = function () {
        return 5
    };
    pE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [1, 3])
    };
    pE.prototype.Mj = function (b, c, d, e) {
        return to(b, d, e, [2])
    };

    function qE(b) {
        M.call(this, b)
    }

    B(qE, no);
    qE.prototype.sa = new Oc({
        name: "DOUBLE_TOP",
        nb: "DOUBLE_TOP",
        title: H.n_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(qE.prototype.sa.getName(), qE);
    qE.prototype.Ri = function (b) {
        return b[0] < b[1] && b[1] > b[2] && b[2] < b[3] && b[3] > b[4] && b[2] > b[4] && b[2] > b[0] && this.Oi(b[1], b[3])
    };
    qE.prototype.Qj = function () {
        return 5
    };
    qE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [2])
    };
    qE.prototype.Mj = function (b, c, d, e) {
        return to(b, d, e, [1, 3])
    };

    function rE(b) {
        M.call(this, b)
    }

    B(rE, no);
    rE.prototype.sa = new Oc({
        name: "FALLING_WEDGE",
        nb: "FALLING_WEDGE",
        title: H.y_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(rE.prototype.sa.getName(), rE);
    rE.prototype.Ri = function (b, c, d, e) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[5] < b[6] && b[0] > b[2] && b[0] > b[4] && b[2] > b[4] && b[4] <= b[6] && b[5] < b[3] && b[5] < b[1] && b[3] < b[1] && !zo(this, b, c, d, e, [2, 4], [1, 3, 5])
    };
    rE.prototype.Qj = function () {
        return 7
    };
    rE.prototype.Lj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [1, 3, 5])
    };
    rE.prototype.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [2, 4])
    };

    function sE(b) {
        M.call(this, b)
    }

    B(sE, no);
    f = sE.prototype;
    f.kt = 1;
    f.Lj = function () {
        return null
    };
    f.Mj = function (b, c, d, e) {
        return to(b, d, e, [2, 4])
    };
    f.HQ = function () {
        var b = [new L(H.nP, 0, -1, !1), new L(H.QZ, 0, -1)];
        b[0].Ab(fc.blue);
        b[1].Ab(fc.green);
        return b
    };
    f.Qj = function () {
        return 7
    };
    f.FQ = function () {
        return [po(this), new Pg(H.oP, new Og(this.Et, .1, 100, .1)), new Pg(H.J_, new Og(this.kt, .01, 100, .01))]
    };
    f.ja = function (b, c) {
        2 == b ? this.kt = parseFloat(c) : no.prototype.ja.call(this, b, c)
    };
    f.ya = function (b) {
        return 2 == b ? this.kt : no.prototype.ya.call(this, b)
    };

    function tE(b) {
        M.call(this, b)
    }

    B(tE, sE);
    tE.prototype.sa = new Oc({
        name: "HEAD&SHLDRS",
        nb: "HEAD&SHLDRS",
        title: H.K_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 2,
        Ke: !0
    });
    IC.tb(tE.prototype.sa.getName(), tE);
    tE.prototype.Ri = function (b) {
        return b[0] < b[1] && b[1] > b[2] && b[2] < b[3] && b[3] > b[4] && b[4] < b[5] && b[5] > b[6] && b[3] >= b[5] + (b[5] - b[4]) * this.kt && b[3] >= b[1] + (b[1] - b[2]) * this.kt && b[2] >= b[0] && b[4] >= b[6] && this.Oi(b[1], b[5]) && this.Oi(b[2], b[4])
    };

    function uE(b) {
        M.call(this, b)
    }

    B(uE, sE);
    uE.prototype.sa = new Oc({
        name: "INVERSE_HEAD&SHLDRS",
        nb: "INVERSE_HEAD&SHLDRS",
        title: H.W_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 3,
        numberOfOutputs: 2,
        Ke: !0
    });
    IC.tb(uE.prototype.sa.getName(), uE);
    uE.prototype.Ri = function (b) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[5] < b[6] && b[3] <= b[5] - (b[4] - b[5]) * this.kt && b[3] <= b[1] - (b[2] - b[1]) * this.kt && b[2] <= b[0] && b[4] <= b[6] && this.Oi(b[1], b[5]) && this.Oi(b[2], b[4])
    };

    function vE(b) {
        M.call(this, b)
    }

    B(vE, no);
    vE.prototype.sa = new Oc({
        name: "INVERSE_RECT",
        nb: "INVERSE_RECT",
        title: H.X_,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(vE.prototype.sa.getName(), vE);
    vE.prototype.Ri = function (b) {
        return b[0] > b[1] && b[1] > b[2] && b[2] < b[3] && b[3] > b[4] && b[4] < b[5] && b[0] < b[2] && b[0] < b[4] && b[5] > b[3] && b[5] > b[1] && b[1] > b[4] && this.Oi(b[1], b[3]) && this.Oi(b[2], b[4])
    };
    vE.prototype.Qj = function () {
        return 6
    };
    vE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [2, 4])
    };
    vE.prototype.Mj = function (b, c, d, e) {
        return to(b, d, e, [1, 3])
    };

    function wE(b) {
        M.call(this, b)
    }

    B(wE, no);
    wE.prototype.sa = new Oc({
        name: "PENNANT",
        nb: "PENNANT",
        title: H.I0,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(wE.prototype.sa.getName(), wE);
    wE.prototype.Ri = function (b, c, d, e) {
        return b[0] < b[1] && b[1] > b[2] && b[2] < b[3] && b[3] > b[4] && b[4] < b[5] && b[0] < b[2] && b[0] < b[4] && b[2] < b[4] && b[5] > b[3] && b[5] > b[1] && b[3] < b[1] && zo(this, b, c, d, e, [2, 4], [1, 3])
    };
    wE.prototype.Qj = function () {
        return 6
    };
    wE.prototype.Lj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [2, 4])
    };
    wE.prototype.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [1, 3])
    };

    function xE(b) {
        M.call(this, b)
    }

    B(xE, no);
    xE.prototype.sa = new Oc({
        name: "RECTANGLE",
        nb: "RECTANGLE",
        title: H.Q0,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(xE.prototype.sa.getName(), xE);
    xE.prototype.Ri = function (b) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[0] > b[2] && b[0] > b[4] && b[5] < b[3] && b[5] < b[1] && b[1] < b[4] && this.Oi(b[1], b[3]) && this.Oi(b[2], b[4])
    };
    xE.prototype.Qj = function () {
        return 6
    };
    xE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [1, 3])
    };
    xE.prototype.Mj = function (b, c, d, e) {
        return to(b, d, e, [2, 4])
    };

    function yE(b) {
        M.call(this, b)
    }

    B(yE, no);
    yE.prototype.sa = new Oc({
        name: "RISING_WEDGE",
        nb: "RISING_WEDGE",
        title: H.$0,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(yE.prototype.sa.getName(), yE);
    yE.prototype.Ri = function (b, c, d, e) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[0] > b[2] && b[0] > b[4] && b[2] < b[4] && b[1] < b[3] && b[5] < b[3] && !zo(this, b, c, d, e, [1, 3], [2, 4])
    };
    yE.prototype.Qj = function () {
        return 6
    };
    yE.prototype.Lj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [1, 3])
    };
    yE.prototype.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [2, 4])
    };

    function zE(b) {
        M.call(this, b)
    }

    B(zE, no);
    zE.prototype.sa = new Oc({
        name: "TRIANGLE",
        nb: "TRIANGLE",
        title: H.k2,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(zE.prototype.sa.getName(), zE);
    zE.prototype.Ri = function (b, c, d, e) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[0] > b[2] && b[0] > b[4] && b[2] > b[4] && b[5] < b[3] && b[5] < b[1] && b[3] > b[1] && zo(this, b, c, d, e, [2, 4], [1, 3])
    };
    zE.prototype.Qj = function () {
        return 6
    };
    zE.prototype.Lj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [1, 3])
    };
    zE.prototype.Mj = function (b, c, d, e) {
        return vo(this, b, c, d, e, [2, 4])
    };

    function AE(b) {
        M.call(this, b)
    }

    B(AE, no);
    AE.prototype.sa = new Oc({
        name: "TRIPLE_BOTTOM",
        nb: "TRIPLE_BOTTOM",
        title: H.h2,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(AE.prototype.sa.getName(), AE);
    AE.prototype.Ri = function (b) {
        return b[0] > b[1] && b[1] < b[2] && b[2] > b[3] && b[3] < b[4] && b[4] > b[5] && b[5] < b[6] && b[1] < b[6] && b[1] < b[4] && b[3] < b[6] && b[3] < b[0] && b[5] < b[2] && b[5] < b[0] && b[0] > b[2] && b[6] > b[4] && this.Oi(b[1], b[3], b[5]) && this.Oi(b[2], b[4])
    };
    AE.prototype.Qj = function () {
        return 7
    };
    AE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [1, 3, 5])
    };
    AE.prototype.Mj = function (b, c, d, e) {
        return to(b, d, e, [2, 4])
    };

    function BE(b) {
        M.call(this, b)
    }

    B(BE, no);
    BE.prototype.sa = new Oc({
        name: "TRIPLE_TOP",
        nb: "TRIPLE_TOP",
        title: H.l2,
        pb: oo(),
        numberOfInputs: 1,
        rb: 2,
        numberOfOutputs: 3,
        Ke: !0
    });
    IC.tb(BE.prototype.sa.getName(), BE);
    BE.prototype.Ri = function (b) {
        return b[0] < b[1] && b[1] > b[2] && b[2] < b[3] && b[3] > b[4] && b[4] < b[5] && b[5] > b[6] && b[1] > b[6] && b[1] > b[4] && b[3] > b[6] && b[3] > b[0] && b[5] > b[2] && b[5] > b[0] && b[0] < b[2] && b[6] < b[4] && this.Oi(b[1], b[3], b[5]) && this.Oi(b[2], b[4])
    };
    BE.prototype.Qj = function () {
        return 7
    };
    BE.prototype.Lj = function (b, c, d, e) {
        return to(b, d, e, [2, 4])
    };
    BE.prototype.Mj = function (b, c, d, e) {
        return to(b, d, e, [1, 3, 5])
    };

    function CE(b, c) {
        Q.call(this);
        this.ra = new fu(this);
        Id(this, this.ra);
        this.a = b;
        this.F = c;
        this.Mu = {};
        this.m = [];
        this.w = [];
        this.ra.C(this.a, "load", this.cj);
        this.ra.C(this.F, DE, this.w$)
    }

    B(CE, Q);
    var EE = [.05, .35, .65, .95];
    f = CE.prototype;
    f.reset = function () {
        this.Mu = {};
        this.m.length = 0;
        this.w.length = 0
    };
    f.init = function () {
        this.g && (this.a.xh(this.g), delete this.g);
        this.g = new UD(IC);
        this.g.ja(0, 1);
        this.a.Ni(this.g);
        this.R = this.a.Nf[this.g.Zb()]
    };
    f.cj = function () {
        var b = this.a.Th();
        b && (this.K = b.getTime() - 15 * this.a.W().Y())
    };
    f.w$ = function (b) {
        E(Ra(b.target.Kk, this.T5, this), this.K3, this)
    };
    f.T5 = function (b) {
        return !~ai(this.m, qa(b)) && b.time < this.K
    };
    f.K3 = function (b) {
        for (var c = this.a.indexOf(b.time), d = this.R.getData()[0], e, h, k = c, l = yb(c + 15, d.length); k < l; k++) if (d[k]) {
            e = k;
            break
        }
        k = e + 1;
        for (c = yb(c + 15, d.length); k < c; k++) if (d[k]) {
            h = k;
            break
        }
        if (ca(e) && ca(h) && !~ai(this.w, FE(e, h)) && (this.m.push(qa(b)), this.w.push(FE(e, h)), this.a.ta[e] && this.a.ta[h])) {
            var p = this.a.ta[e].time, q = this.a.ta[h].time, r = d[e], t = d[h], u = an(t - r);
            fj(p, q) && (d = this.a.W().Y(), p = ((b.time / d + 1 | 0) - 1) * d, d = this.a.bt(p)) && (r = 0 < u ? d.bb() : d.$a(), this.Mu[qa(b)] = {
                start: e, end: h, Mba: Sa(EE, function (b) {
                    return {
                        t: (q -
                            p) * b + p,
                        qc: ((t - r) * b + r) * (1 + 4E-4 * Math.pow(Math.sin(b * Math.PI), 2) * u) + 2E-4 * u
                    }
                })
            }, this.dispatchEvent("new"))
        }
    };

    function FE(b, c) {
        return b.toString(10) + ";" + c.toString(10)
    };

    function GE(b) {
        Q.call(this);
        this.a = b || window;
        this.g = Qt(this.a, "resize", this.m, !1, this);
        this.Xd = ws(this.a || window)
    }

    B(GE, Q);
    GE.prototype.ie = function () {
        return this.Xd ? this.Xd.clone() : null
    };
    GE.prototype.Ma = function () {
        GE.P.Ma.call(this);
        this.g && (Zt(this.g), this.g = null);
        this.Xd = this.a = null
    };
    GE.prototype.m = function () {
        var b = ws(this.a || window);
        Rg(b, this.Xd) || (this.Xd = b, this.dispatchEvent("resize"))
    };

    function HE(b) {
        Q.call(this);
        this.Da = b;
        b = Jr ? "focusout" : "blur";
        this.a = Qt(this.Da, Jr ? "focusin" : "focus", this, !Jr);
        this.g = Qt(this.Da, b, this, !Jr)
    }

    B(HE, Q);
    HE.prototype.handleEvent = function (b) {
        var c = new Kt(b.Pe());
        c.type = "focusin" == b.type || "focus" == b.type ? "focusin" : "focusout";
        this.dispatchEvent(c)
    };
    HE.prototype.Ma = function () {
        HE.P.Ma.call(this);
        Zt(this.a);
        Zt(this.g);
        delete this.Da
    };

    function IE(b) {
        if (b.altKey && !b.ctrlKey || b.metaKey || 112 <= b.keyCode && 123 >= b.keyCode) return !1;
        switch (b.keyCode) {
            case 18:
            case 20:
            case 93:
            case 17:
            case 40:
            case 35:
            case 27:
            case 36:
            case 45:
            case 37:
            case 224:
            case 91:
            case 144:
            case 12:
            case 34:
            case 33:
            case 19:
            case 255:
            case 44:
            case 39:
            case 145:
            case 16:
            case 38:
            case 252:
            case 224:
            case 92:
                return !1;
            case 0:
                return !Mr;
            default:
                return 166 > b.keyCode || 183 < b.keyCode
        }
    }

    function JE(b, c, d, e, h, k) {
        if (!(Jr || Kr || Nr && Wr("525"))) return !0;
        if (Or && h) return KE(b);
        if (h && !e) return !1;
        ma(c) && (c = LE(c));
        h = 17 == c || 18 == c || Or && 91 == c;
        if ((!d || Or) && h || Or && 16 == c && (e || k)) return !1;
        if ((Nr || Kr) && e && d) switch (b) {
            case 220:
            case 219:
            case 221:
            case 192:
            case 186:
            case 189:
            case 187:
            case 188:
            case 190:
            case 191:
            case 192:
            case 222:
                return !1
        }
        if (Jr && e && c == b) return !1;
        switch (b) {
            case 13:
                return !0;
            case 27:
                return !(Nr || Kr)
        }
        return KE(b)
    }

    function KE(b) {
        if (48 <= b && 57 >= b || 96 <= b && 106 >= b || 65 <= b && 90 >= b || (Nr || Kr) && 0 == b) return !0;
        switch (b) {
            case 32:
            case 43:
            case 63:
            case 64:
            case 107:
            case 109:
            case 110:
            case 111:
            case 186:
            case 59:
            case 189:
            case 187:
            case 61:
            case 188:
            case 190:
            case 191:
            case 192:
            case 222:
            case 219:
            case 220:
            case 221:
                return !0;
            default:
                return !1
        }
    }

    function LE(b) {
        if (Mr) b = ME(b); else if (Or && Nr) a:switch (b) {
            case 93:
                b = 91;
                break a
        }
        return b
    }

    function ME(b) {
        switch (b) {
            case 61:
                return 187;
            case 59:
                return 186;
            case 173:
                return 189;
            case 224:
                return 91;
            case 0:
                return 224;
            default:
                return b
        }
    };

    function NE(b, c) {
        Q.call(this);
        b && this.Hf(b, c)
    }

    B(NE, Q);
    f = NE.prototype;
    f.Da = null;
    f.UE = null;
    f.tL = null;
    f.WE = null;
    f.Hk = -1;
    f.Fr = -1;
    f.kI = !1;
    var OE = {
        3: 13,
        12: 144,
        63232: 38,
        63233: 40,
        63234: 37,
        63235: 39,
        63236: 112,
        63237: 113,
        63238: 114,
        63239: 115,
        63240: 116,
        63241: 117,
        63242: 118,
        63243: 119,
        63244: 120,
        63245: 121,
        63246: 122,
        63247: 123,
        63248: 44,
        63272: 46,
        63273: 36,
        63275: 35,
        63276: 33,
        63277: 34,
        63289: 144,
        63302: 45
    }, PE = {
        Up: 38,
        Down: 40,
        Left: 37,
        Right: 39,
        Enter: 13,
        F1: 112,
        F2: 113,
        F3: 114,
        F4: 115,
        F5: 116,
        F6: 117,
        F7: 118,
        F8: 119,
        F9: 120,
        F10: 121,
        F11: 122,
        F12: 123,
        "U+007F": 46,
        Home: 36,
        End: 35,
        PageUp: 33,
        PageDown: 34,
        Insert: 45
    }, QE = Jr || Kr || Nr && Wr("525"), RE = Or && Mr;
    f = NE.prototype;
    f.Km = function (b) {
        if (Nr || Kr) if (17 == this.Hk && !b.ctrlKey || 18 == this.Hk && !b.altKey || Or && 91 == this.Hk && !b.metaKey) this.Fr = this.Hk = -1;
        -1 == this.Hk && (b.ctrlKey && 17 != b.keyCode ? this.Hk = 17 : b.altKey && 18 != b.keyCode ? this.Hk = 18 : b.metaKey && 91 != b.keyCode && (this.Hk = 91));
        QE && !JE(b.keyCode, this.Hk, b.shiftKey, b.ctrlKey, b.altKey, b.metaKey) ? this.handleEvent(b) : (this.Fr = LE(b.keyCode), RE && (this.kI = b.altKey))
    };
    f.i$ = function (b) {
        this.Fr = this.Hk = -1;
        this.kI = b.altKey
    };
    f.handleEvent = function (b) {
        var c = b.Pe(), d, e, h = c.altKey;
        Jr && "keypress" == b.type ? (d = this.Fr, e = 13 != d && 27 != d ? c.keyCode : 0) : (Nr || Kr) && "keypress" == b.type ? (d = this.Fr, e = 0 <= c.charCode && 63232 > c.charCode && KE(d) ? c.charCode : 0) : Ir && !Nr ? (d = this.Fr, e = KE(d) ? c.keyCode : 0) : (d = c.keyCode || this.Fr, e = c.charCode || 0, RE && (h = this.kI), Or && 63 == e && 224 == d && (d = 191));
        var k = d = LE(d);
        d ? 63232 <= d && d in OE ? k = OE[d] : 25 == d && b.shiftKey && (k = 9) : c.keyIdentifier && c.keyIdentifier in PE && (k = PE[c.keyIdentifier]);
        b = k == this.Hk;
        this.Hk = k;
        c = new SE(k, e, b,
            c);
        c.altKey = h;
        this.dispatchEvent(c)
    };
    f.J = function () {
        return this.Da
    };
    f.Hf = function (b, c) {
        this.WE && this.detach();
        this.Da = b;
        this.UE = Qt(this.Da, "keypress", this, c);
        this.tL = Qt(this.Da, "keydown", this.Km, c, this);
        this.WE = Qt(this.Da, "keyup", this.i$, c, this)
    };
    f.detach = function () {
        this.UE && (Zt(this.UE), Zt(this.tL), Zt(this.WE), this.WE = this.tL = this.UE = null);
        this.Da = null;
        this.Fr = this.Hk = -1
    };
    f.Ma = function () {
        NE.P.Ma.call(this);
        this.detach()
    };

    function SE(b, c, d, e) {
        Kt.call(this, e);
        this.type = "key";
        this.keyCode = b;
        this.charCode = c;
        this.repeat = d
    }

    B(SE, Kt);

    function TE(b, c, d) {
        P.call(this, c, d);
        this.FN(!0);
        this.Zw(b || "Label " + UE++);
        this.kG(this.ar, this.ir)
    }

    B(TE, P);
    TE.prototype.ee = function () {
        TE.P.ee.call(this);
        this.on()
    };
    var UE = 0;
    f = TE.prototype;
    f.type = "Text";
    f.zf = 1;
    f.ar = 12;
    f.ir = "Arial, Verdana, sans-serif";
    f.kG = function (b, c) {
        this.ar = b;
        this.ir = c || this.ir;
        this.g = this.ar.toString(10) + "px " + this.ir;
        this.on()
    };
    f.Tx = "top";
    f.tX = function (b) {
        this.Tx = b
    };
    f.Sx = "left";
    f.sX = function (b) {
        this.Sx = b
    };
    f.$B = !1;
    f.Hca = function (b) {
        this.$B = b
    };
    f.Zw = function (b) {
        this.a = Bh(b);
        this.w = this.a.split("\n");
        this.on()
    };
    f.be = function () {
        return this.m
    };
    f.gn = function (b) {
        this.m = b
    };
    f.wg = function () {
        return this.jf
    };
    f.zo = function (b) {
        this.jf = b
    };
    f.sd = 0;
    f.Pj = function () {
        return this.sd
    };
    f.Uw = function (b) {
        this.sd = b
    };
    f.on = function () {
        if (this.ga()) {
            var b = this.ga().X().getContext();
            b && (b.save(), b.font = this.g, this.m = ud(this.w, function (c, d) {
                return xb(b.measureText(d).width, c)
            }, 0), b.restore(), this.jf = this.w.length * this.ar, this.ga().X().Ia())
        }
    };
    f.Tc = 0;
    f.Uc = 1;
    f.T = function (b, c, d, e) {
        c = G(c.x(this.getTime(0)));
        d = G(d.y(this.G(0)));
        e = "right" === this.Sx || this.$B && c + this.be() > e.left + e.width ? c - this.be() - this.Pj() : c + this.sd;
        d = "top" === this.Tx ? d + this.wg() + this.sd : d - this.sd;
        b.save();
        b.font = this.g;
        b.fillText(this.a, e, d);
        b.restore();
        return !0
    };
    f.ec = function (b, c, d, e, h, k) {
        k = k || 5;
        d = G(d.x(this.getTime(0)));
        e = G(e.y(this.G(0)));
        h = "right" === this.Sx || this.$B && d + this.be() > h.left + h.width ? d - this.be() : d;
        h -= k;
        d = h + this.be() + 2 * this.Pj() + 2 * k;
        e = "top" === this.Tx ? e : e - this.wg();
        e -= k;
        k = e + this.wg() + 2 * this.Pj() + 2 * k;
        return b >= h && b <= d && c >= e && c <= k
    };
    f.lb = function () {
        var b = Gg(TE.P.lb.call(this));
        b.text = this.a;
        b.fontSize = this.ar;
        b.fontFamily = this.ir;
        b.alignX = this.Sx;
        b.alignY = this.Tx;
        return Ig(b)
    };
    f.cb = function (b) {
        TE.P.cb.call(this, b);
        b = Gg(b);
        this.sX(b.alignX);
        this.tX(b.alignY);
        this.vh ? (this.Ws.V(b.fontSize), this.kD.V(b.fontFamily), this.hH.V(b.text)) : (this.ar = b.fontSize, this.Zw(b.text));
        this.ir = b.fontFamily;
        this.g = this.ar.toString(10) + "px " + this.ir
    };
    f.getTypeName = function () {
        return "Text"
    };
    f.Sg = function () {
        TE.P.Sg.call(this);
        var b = ai(this.kd.vk, this.nu);
        ~b && nv(this.kd, b);
        b = ai(this.kd.vk, this.os);
        ~b && nv(this.kd, b);
        this instanceof VE || (b = ai(this.kd.vk, this.px), ~b && nv(this.kd, b), b = ai(this.kd.vk, this.ox), ~b && nv(this.kd, b));
        this.Ws = new Kv("", "Font size", null, this.ar);
        this.Ws.ah(6);
        this.Ws.Ah(72);
        this.kd.Xa(this.Ws);
        this.kD = new yv("", "Font family", null, this.ir);
        this.kd.Xa(this.kD);
        this.hH = new Lv("", "Text", null, this.a);
        this.kd.Xa(this.hH);
        this.S().C(this.Ws, "change", function () {
            this.kG(parseInt(this.Ws.G()));
            this.on()
        }).C(this.kD, "change", function () {
            this.kG(parseInt(this.Ws.G()), this.kD.G().font);
            this.on()
        }).C(this.hH, "change", function () {
            this.Zw(this.hH.G())
        })
    };
    f.toString = function () {
        return this.getTypeName() + " " + this.aa() + " (" + this.a + ")"
    };

    function VE(b, c, d) {
        TE.call(this, b, c, d)
    }

    B(VE, TE);
    f = VE.prototype;
    f.type = "TextBox";
    f.sd = 10;
    f.Uw = function (b) {
        this.sd = b;
        this.on()
    };
    f.Pj = function () {
        return this.sd
    };
    f.Cy = "#ffffff";
    f.m5 = function () {
        return this.Cy
    };
    f.Iw = function (b) {
        this.Cy = b;
        this.ga() && this.ga().X().Ia()
    };
    f.Wy = "#000000";
    f.y6 = function () {
        return this.Wy
    };
    f.tN = function (b) {
        this.Wy = b;
        this.ga() && this.ga().X().Ia()
    };
    f.T = function (b, c, d, e) {
        c = G(c.x(this.getTime(0)));
        d = G(d.y(this.G(0)));
        e = "right" === this.Sx || this.$B && c + this.be() > e.left + e.width ? c - this.be() - this.Pj() : c + this.Pj();
        var h = "top" === this.Tx ? d + this.wg() + this.Pj() : d - this.Pj();
        b.save();
        b.beginPath();
        b.rect(c, d, this.m + 2 * this.Pj(), this.jf + 2 * this.Pj());
        b.strokeStyle = this.Wy;
        b.lineWidth = this.hg();
        b.stroke();
        b.fillStyle = this.Cy;
        b.fill();
        b.closePath();
        b.font = this.g;
        b.fillStyle = rA(this);
        b.fillText(this.a, e, h);
        b.restore();
        return !0
    };
    f.Sg = function () {
        VE.P.Sg.call(this);
        this.eH = new vv("", "Stroke color", null, this.Wy);
        mv(this.kd, this.eH);
        this.Pq = new vv("", "Background color", null, this.Cy);
        mv(this.kd, this.Pq);
        this.mw = new Kv("", "Padding", null, this.sd);
        this.mw.ah(0);
        this.mw.Ah(100);
        this.kd.Xa(this.mw);
        this.S().C(this.eH, "change", function () {
            this.tN(this.eH.G())
        }).C(this.Pq, "change", function () {
            this.Iw(this.Pq.G())
        }).C(this.mw, "change", function () {
            this.Uw(parseInt(this.mw.G()))
        })
    };
    f.lb = function () {
        var b = Gg(VE.P.lb.call(this));
        jh(b, {strokeColor: this.Wy, backgroundColor: this.Cy, padding: this.Pj()});
        return Ig(b)
    };
    f.cb = function (b) {
        VE.P.cb.call(this, b);
        b = Gg(b);
        this.vh ? (this.eH.V(b.strokeColor), this.Pq.V(b.backgroundColor), this.mw.V(b.padding)) : (this.tN(b.strokeColor), this.Iw(b.backgroundColor), this.Uw(b.padding))
    };

    function WE() {
        Q.call(this);
        this.Ta = XE;
        this.endTime = this.startTime = null
    }

    B(WE, Q);
    var XE = 0;
    WE.prototype.lw = function () {
        this.Ui("begin")
    };
    WE.prototype.Nr = function () {
        this.Ui("end")
    };
    WE.prototype.Ui = function (b) {
        this.dispatchEvent(b)
    };

    function YE() {
        WE.call(this);
        this.a = []
    }

    B(YE, WE);
    YE.prototype.add = function (b) {
        ji(this.a, b) || (this.a.push(b), Qt(b, "finish", this.m, !1, this))
    };
    YE.prototype.remove = function (b) {
        mi(this.a, b) && Yt(b, "finish", this.m, !1, this)
    };
    YE.prototype.Ma = function () {
        E(this.a, function (b) {
            b.Ra()
        });
        this.a.length = 0;
        YE.P.Ma.call(this)
    };

    function ZE() {
        YE.call(this);
        this.g = 0
    }

    B(ZE, YE);
    ZE.prototype.play = function (b) {
        if (0 == this.a.length) return !1;
        if (b || this.Ta == XE) this.g = 0, this.lw(); else if (1 == this.Ta) return !1;
        this.Ui("play");
        -1 == this.Ta && this.Ui("resume");
        var c = -1 == this.Ta && !b;
        this.startTime = wa();
        this.endTime = null;
        this.Ta = 1;
        E(this.a, function (d) {
            c && -1 != d.Ta || d.play(b)
        });
        return !0
    };
    ZE.prototype.pause = function () {
        1 == this.Ta && (E(this.a, function (b) {
            1 == b.Ta && b.pause()
        }), this.Ta = -1, this.Ui("pause"))
    };
    ZE.prototype.stop = function (b) {
        E(this.a, function (c) {
            c.Ta == XE || c.stop(b)
        });
        this.Ta = XE;
        this.endTime = wa();
        this.Ui("stop");
        this.Nr()
    };
    ZE.prototype.m = function () {
        this.g++;
        this.g == this.a.length && (this.endTime = wa(), this.Ta = XE, this.Ui("finish"), this.Nr())
    };

    function $E(b, c) {
        b && b.log(es, c, void 0)
    };

    function aF() {
        Q.call(this)
    }

    B(aF, Q);
    if (window.location && (1 == window.location.hash.indexOf("xdrp") || 1 == window.location.search.indexOf("xdrp"))) if (Lr) document.execCommand("Stop"); else if (Mr) window.stop(); else throw Error("stopped");
    var bF = is("goog.net.CrossDomainRpc");

    function cF(b, c) {
        return Iq("textarea", {name: b}, String(c))
    }

    function dF() {
        if (Mr) for (var b = document.getElementsByTagName(String(we)), c = 0; c < b.length; c++) {
            var d = b[c];
            if ("stylesheet" == d.rel && Ar(d.href) && 0 > d.href.indexOf("?")) return d.href.split("#")[0]
        }
        b = document.getElementsByTagName(String(pe));
        for (c = 0; c < b.length; c++) if (d = b[c], Ar(d.src) && 0 > d.src.indexOf("?")) return d.src.split("#")[0];
        if (Lr) return window.location.href.split("#")[0];
        c = window.location.href;
        b = c.indexOf("/", c.indexOf("//") + 2);
        return c.substring(0, b) + "/robots.txt"
    }

    var eF = 0;
    f = aF.prototype;
    f.cs = function (b, c, d, e) {
        var h = this.Dw = document.createElement(String(oe)), k = eF++;
        h.id = "xdrq-" + k;
        h.style.position = "absolute";
        h.style.top = "-5000px";
        h.style.left = "-5000px";
        document.body.appendChild(h);
        var l = [];
        l.push(cF("xdpe:request-id", k));
        k = dF();
        $E(bF, "dummyUri: " + k);
        l.push(cF("xdpe:dummy-uri", k));
        if (d) for (var p in d) k = d[p], l.push(cF("xdp:" + p, k));
        if (e) for (p in e) k = e[p], l.push(cF("xdh:" + p, k));
        b = Iq("body", {}, Iq("form", {method: "GET" == c ? "GET" : "POST", action: b}, l));
        c = h.contentDocument || h.contentWindow.document;
        c.open();
        c.write(Cq(b));
        c.close();
        c.forms[0].submit();
        c = null;
        this.a = Qt(h, "load", function () {
            $E(bF, "response ready");
            this.XW = !0
        }, !1, this);
        fF(this)
    };

    function fF(b) {
        b.ux = 0;
        var c = window.setInterval(v(function () {
            this.yR(c)
        }, b), 50)
    }

    f.yR = function (b) {
        var c = this.Dw.contentWindow, d = c.frames.length, e = null, h;
        if (h = 0 < d) {
            d = e = c.frames[d - 1];
            try {
                h = 1 == gF(d).indexOf(hF)
            } catch (k) {
                h = !1
            }
        }
        if (h) {
            $E(bF, "xd response ready");
            e = gF(e).substring(1);
            e = new or(e);
            h = [];
            d = Number(e.get("n"));
            $E(bF, "xd response number of chunks: " + d);
            for (var l = 0; l < d; l++) {
                var p = c.frames[l];
                if (!p || !p.location || !p.location.href) {
                    $E(bF, "xd response iframe not ready");
                    return
                }
                var p = gF(p), q = p.indexOf(iF) + iF.length + 1;
                h.push(p.substring(q))
            }
            window.clearInterval(b);
            b = h.join("");
            Lr ||
            (b = decodeURIComponent(b));
            this.status = Number(e.get("status"));
            this.responseText = b;
            this.YW = "true" == e.get("isDataJson");
            this.Ym = Hg(e.get("headers"));
            this.dispatchEvent("ready");
            this.dispatchEvent("complete")
        } else this.XW && (this.ux += 50, 500 < this.ux && ($E(bF, "xd response timed out"), window.clearInterval(b), this.status = 500, this.responseText = "response timed out", this.dispatchEvent("ready"), this.dispatchEvent("error"), this.dispatchEvent("complete")))
    };

    function gF(b) {
        b = b.location.href;
        var c = b.indexOf("?"), d = b.indexOf("#"), c = 0 > c ? d : 0 > d ? c : Math.min(c, d);
        return b.substring(c)
    }

    f.Cl = function () {
        return this.YW ? Hg(this.responseText) : void 0
    };
    f.co = function () {
        switch (this.status) {
            case 200:
            case 304:
                return !0;
            default:
                return !1
        }
    };
    f.reset = function () {
        $E(bF, "request frame removed: " + this.Dw.id);
        Zt(this.a);
        this.Dw.parentNode.removeChild(this.Dw);
        delete this.Dw
    };
    var hF = "xdrp-info", iF = "chunk", jF = document.referrer, kF = jF.indexOf("?");
    0 < kF && (jF = jF.substring(0, kF));
    var lF = jF.indexOf("#");
    0 < lF && (jF = jF.substring(0, lF));
    aF.g = function (b) {
        try {
            return 1 == aF.a(b).indexOf(hF)
        } catch (c) {
            return !1
        }
    };
    aF.a = function (b) {
        b = b.src;
        var c = b.indexOf("?"), d = b.indexOf("#"), c = 0 > c ? d : 0 > d ? c : Math.max(c, d);
        return b.substring(c)
    };
    aF.prototype.yR = function (b) {
        var c = this.Dw.contentWindow, d = c.document.getElementsByTagName(oe).length, e = null;
        if (0 < d && aF.g(e = c.document.getElementsByTagName(oe)[d - 1])) {
            $E(bF, "xd response ready");
            var d = aF.a(e).substring(1), d = new or(d), e = [], h = Number(d.get("n"));
            $E(bF, "xd response number of chunks: " + h);
            for (var k = 0; k < h; k++) {
                var l = c.document.getElementsByTagName(oe)[k];
                if (!l || !l.src) {
                    $E(bF, "xd response iframe not ready");
                    return
                }
                var l = aF.a(l), p = l.indexOf(iF) + iF.length + 1;
                e.push(l.substring(p))
            }
            window.clearInterval(b);
            b = e.join("");
            Lr || (b = decodeURIComponent(b));
            this.status = Number(d.get("status"));
            this.responseText = b;
            this.YW = "true" == d.get("isDataJson");
            this.Ym = Hg(d.get("headers"));
            this.dispatchEvent("ready");
            this.dispatchEvent("complete")
        } else this.XW && (this.ux += 50, 500 < this.ux && ($E(bF, "xd response timed out"), window.clearInterval(b), this.status = 500, this.responseText = "response timed out", this.dispatchEvent("ready"), this.dispatchEvent("error"), this.dispatchEvent("complete")))
    };

    function mF(b, c) {
        this.g = b;
        this.a = null;
        if (Jr && !Xr(9)) {
            nF || (nF = new Rq);
            this.a = nF.get(b);
            this.a || (c ? this.a = document.getElementById(c) : (this.a = document.createElement("userdata"), this.a.addBehavior("#default#userData"), document.body.appendChild(this.a)), nF.set(b, this.a));
            try {
                this.a.load(this.g)
            } catch (d) {
                this.a = null
            }
        }
    }

    B(mF, eq);
    var oF = {".": ".2E", "!": ".21", "~": ".7E", "*": ".2A", "'": ".27", "(": ".28", ")": ".29", "%": "."}, nF = null;

    function pF(b) {
        return "_" + encodeURIComponent(b).replace(/[.!~*'()%]/g, function (b) {
            return oF[b]
        })
    }

    f = mF.prototype;
    f.set = function (b, c) {
        this.a.setAttribute(pF(b), c);
        qF(this)
    };
    f.get = function (b) {
        b = this.a.getAttribute(pF(b));
        if (!ka(b) && null !== b) throw"Storage mechanism: Invalid value was encountered";
        return b
    };
    f.remove = function (b) {
        this.a.removeAttribute(pF(b));
        qF(this)
    };
    f.zk = function () {
        return rF(this).attributes.length
    };
    f.Fj = function (b) {
        var c = 0, d = rF(this).attributes, e = new cp;
        e.next = function () {
            if (c >= d.length) throw bp;
            var e = d[c++];
            if (b) return decodeURIComponent(e.nodeName.replace(/\./g, "%")).substr(1);
            e = e.nodeValue;
            if (!ka(e)) throw"Storage mechanism: Invalid value was encountered";
            return e
        };
        return e
    };
    f.clear = function () {
        for (var b = rF(this), c = b.attributes.length; 0 < c; c--) b.removeAttribute(b.attributes[c - 1].nodeName);
        qF(this)
    };

    function qF(b) {
        try {
            b.a.save(b.g)
        } catch (c) {
            throw"Storage mechanism: Quota exceeded";
        }
    }

    function rF(b) {
        return b.a.XMLDocument.documentElement
    };

    function sF(b) {
        var c = new gq, d;
        if (c.yc) try {
            c.yc.setItem("__sak", "1"), c.yc.removeItem("__sak"), d = !0
        } catch (e) {
            d = !1
        } else d = !1;
        (c = d ? b ? new hq(c, b) : c : null) || (b = new mF(b || "UserDataSharedStore"), c = b.a ? b : null);
        return c
    };

    function tF(b) {
        Q.call(this);
        this.yc = sF("advanced.ohlc.window");
        this.K = new Ip(5, NaN, this.Vc.width, this.Vc.height);
        this.Jl = this.Vg = !1;
        b && this.If(b);
        uF(this);
        this.Ee = this.Ge = !1
    }

    B(tF, Q);
    f = tF.prototype;
    f.Vc = {width: 370, height: 200, yF: "#3be", title: "Advanced OHLC", Pu: !1, fy: 4, Ls: !0, ut: 2};

    function vF(b, c) {
        return b.o.Ec() ? c : Il(c)
    }

    f.If = function (b) {
        this.o = b;
        this.bf();
        this.ta = {}
    };
    f.bf = function () {
        var b = this;
        this.Ee || (this.o.S().C(this.o, [wF, qu, xF, px, yF], function () {
            b.ta = {};
            b.K.width = b.Vc.width;
            vF(b, b.o.W()) === bl && (b.yc && (b.yc.set("presentation", "line"), b.Ub = b.yc.get("presentation") || "line"), zF(b), b.$ && (gx(b.$, b.ka), fx(b.$, b.Ea) || ex(b.$, b.Ea)));
            b.Yd && O(b.Yd, vF(b, b.o.W()) !== bl);
            b.R && b.R.setData([]);
            b.U && O(b.U, !1)
        }), this.Ee = !0)
    };
    f.Jk = function (b) {
        this.ib || (this.ib = new AF(this.o.Ld, Cl(vF(this, this.o.W()), bl) ? 1 : 2, this.o.ma(), vF(this, this.o.W()), this.o.Db()));
        this.ib.wj(vF(this, this.o.W()));
        this.ib.Ie(this.o.ma());
        this.ib.Gi(this.o.Db());
        this.ib.zh(Cl(vF(this, this.o.W()), bl) ? 1 : 2);
        var c = 200 < this.o.Af() ? 200 : this.o.Af();
        this.w = [];
        this.w[0] = Pl(this.o.W(), b, c);
        this.w[1] = Ql(this.o.W(), b, c);
        this.Ya && xi(this.w, this.Ya) ? (this.Jl = !0, this.ZQ()) : (this.Vg = !0, this.Ya = [], this.Ya[0] = this.w[0], this.Ya[1] = this.w[1], BF(this.ib.rt(this.w[0], this.w[1]),
            this.R4, this.ZQ, this))
    };
    f.R4 = function (b) {
        this.ta = {};
        E(b, function (b) {
            this.ta[b[0]] = b
        }, this);
        this.Jl = this.Vg = !1;
        this.T(this.va, this.za);
        this.dispatchEvent("loaded")
    };
    f.ZQ = function () {
        this.Vg = !1;
        this.Jl = !0;
        this.o.Ia();
        this.dispatchEvent("loaded_error")
    };
    f.mG = function (b) {
        this.Re = b
    };
    f.nG = function (b) {
        this.ff = b
    };
    f.iG = function (b) {
        this.ia = b;
        this.dd && O(this.dd, this.ia)
    };
    f.T = function (b, c) {
        this.m = b;
        this.F = c;
        var d = this.o.Qa(), e = this.o.vb(), h = d.t(this.m), k = this.o.Ea,
            h = k.isEnabled() ? k.th : this.o.eb().indexOf(h);
        0 > h && (h = ~h - 1);
        var l = this.o.eb().ta[h];
        if (l) {
            var p = d.x(l.getTime()), q = this.o.fb.Mg, r = G(e.y(this.Re.call(l))), t = G(e.y(this.ff.call(l))) - r,
                u = this.o.ga().ri();
            if (!k.isEnabled() && (this.F <= r - 5 || this.F >= r + t + 5)) {
                if (!this.ia) {
                    this.U && O(this.U, !1);
                    return
                }
                this.jd && (l = this.o.eb().ta[this.jd]) && (p = d.x(l.getTime()), q = this.o.fb.Mg, r = G(e.y(this.Re.call(l))), t = G(e.y(this.ff.call(l))) -
                    r, CF(this, l, p, q, r, t))
            }
            for (var x in u) if (u.hasOwnProperty(x)) {
                var A = u[x], d = A.Zs(), e = this.o.ga().Qa(A), k = this.o.ga().vb(A), A = vA(A);
                if (!(this.m + 5 < e.x(A[0]) || this.m - 5 > e.x(A[2]) || this.F + 5 < k.y(A[3]) || this.F - 5 > k.y(A[1]))) for (var C in d) if (d.hasOwnProperty(C)) {
                    var I = d[C], A = e.x(I.time), I = k.y(I.value);
                    if (5 >= Math.abs(this.F - I) && 5 >= Math.abs(this.m - A)) {
                        this.U && O(this.U, !1);
                        return
                    }
                }
            }
            l ? (x = q, C = r, this.ia || (this.K.left = Math.round(p - this.o.pa + x / 1.5) + 1.5, this.K.top = C - .5, this.K.left + this.K.width > xu(this.o).width && (this.K.left -=
                4 * x / 3 + this.K.width, this.K.left = Math.round(this.K.left) - 6.5), this.K.top + this.K.height > xu(this.o).height && (this.K.top = xu(this.o).height - this.K.height - 1, this.K.top = Math.round(this.K.top) - 2.5)), DF(this), EF(this), x = l, e = p, k = r, A = y("MSG_NA", {}, "n/a"), C = FF(this, x), d = this.o.ma().Sb, u = GF(this.o), HF(this, C, e, k), e = Cm(A), DD(this.o.Fd(), this.o.ma()) ? (k = " mio units", A = 1) : CD(this.o.Fd(), this.o.ma()) ? (k = " thou ounces", A = 1E3) : (k = GD(this.o.Fd(), this.o.ma()) ? " coins" : this.o.ma().gB || this.o.ma().xc() ? this.o.ma().xc() ||
                " DUK+" : " contracts", A = 1E6), d = {
                    "O:": C ? Eb(parseFloat(x.zb()), d).join("") : e,
                    "H:": C ? Eb(parseFloat(x.bb()), d).join("") : e,
                    "L:": C ? Eb(parseFloat(x.$a()), d).join("") : e,
                    "C:": C ? Eb(parseFloat(x.jb()), d).join("") : e
                }, u || (d["V:"] = C ? (parseFloat(x.Hd()) * A).toFixed(2) + k : e), x instanceof Uk && (d["FEC:"] = C ? x.xl() : e), IF(this, d), x = 5 * ((C ? u ? "" : (parseFloat(x.Hd()) * A).toFixed(2) + k : e).length - 10), 0 > x || this.Vc.width + x <= this.K.width || (this.K.width = this.Vc.width + x, this.U && JF(this.U, this.K.width, this.K.height)), CF(this, l, p, q, r, t)) :
                EF(this);
            this.jd = h;
            this.va = b;
            this.za = c
        }
    };

    function CF(b, c, d, e, h, k) {
        var l = b.o.getContext(), p = b.o.vb();
        l.save();
        l.translate(-b.o.pa, 0);
        l.globalCompositeOperation = "destination-over";
        l.beginPath();
        7 === b.o.Fa() ? (e = c.EB, c = c.DB, e && c ? (h = G(p.y(c[1])), k = G(p.y(e[0])) - h) : c ? (h = G(p.y(c[1])), k = G(p.y(c[0])) - h) : e && (h = G(p.y(e[1])), k = G(p.y(e[0])) - h), l.rect(G(d) - 1, h, 3, k)) : 4 === b.o.Fa() ? (h = G(p.y(c.bb())) + 1, k = G(p.y(c.$a())) + 1 - h, l.rect(d - (e / 2 | 0), h, e, k)) : 8 === b.o.Fa() ? (l.rect(d - (e / 2 | 0), h, e, k), "wickscandlebar" === b.o.Te() && (l.moveTo(d, G(p.y(hj(c))) - 1), l.lineTo(d, G(p.y(ij(c))) +
            1))) : 1 !== b.o.Fa() ? (l.rect(d - (e / 2 | 0), h, e, k), l.moveTo(d, G(p.y(c.bb())) - 1), l.lineTo(d, G(p.y(c.$a())) + 1)) : (l.moveTo(d, G(p.y(b.Re.call(c))) - 1), l.lineTo(d, G(p.y(b.ff.call(c))) + 1));
        l.shadowOffsetX = 0;
        l.shadowOffsetY = 0;
        l.shadowBlur = 3;
        l.strokeStyle = b.Rb;
        l.shadowColor = b.Rb;
        l.stroke();
        l.restore();
        l.restore()
    }

    function FF(b, c) {
        if (!c) return {};
        var d = c instanceof Uk ? c.Bf() - c.$i() : b.o.W().Y(), e = Ug(b.ta, function (b, e) {
            return e >= c.getTime() && e <= c.getTime() + d
        }, b);
        return ch(e) ? (b.Vg || b.Jk(c.getTime()), !1) : e
    }

    function KF(b, c) {
        var d = b.g, e = y("MSG_LOADING", {}, "Loading..."), h = y("MSG_NO_DATA", {}, "No data"), e = Cm(e), h = Cm(h);
        d.save();
        d.beginPath();
        d.textAlign = "center";
        d.fillStyle = b.o.fa().j.Yc;
        d.fontSize = G(2 * b.o.fa().j.hd);
        d.font = d.fontSize + "px " + b.o.fa().j.mf;
        d.fillText(c ? h : e, b.a.width / 2, b.a.height / 2);
        d.closePath();
        d.restore()
    }

    function HF(b, c, d, e) {
        var h = b.g, k = y("MSG_PERIOD", {}, "Period");
        d = y("MSG_ADVANCED_OHLC_INSUFFICIENT_DATA", {}, "Insufficient data to display");
        d = Cm(d);
        if (!c || ch(c)) EF(b), KF(b, b.Jl); else {
            c = vF(b, b.o.W()) === bl ? Vg(c, gm(1)) : Vg(c, gm(2));
            var l = [];
            vF(b, b.o.W()) === bl ? La(c, function (b, c) {
                var d = "bid" == this.o.Db().toLowerCase() ? b.fd() : b.ed();
                l.push([parseInt(c, 10), d])
            }, b) : La(c, function (b, c) {
                var d = this.Vc.Pu ? (b.zb() + b.bb() + b.$a() + b.jb()) / 4 : b.jb();
                l.push([parseInt(c, 10), d, b.zb(), b.bb(), b.$a(), b.jb()])
            }, b);
            O(b.Yd, vF(b,
                b.o.W()) !== bl);
            if (1 >= Ua(c).length) h.save(), h.beginPath(), h.textAlign = "center", h.fillStyle = b.o.fa().j.Yc, h.fontSize = G(2 * b.o.fa().j.hd), h.font = h.fontSize + "px " + b.o.fa().j.mf, h.fillText(d, b.a.width / 2, b.a.height / 2), h.closePath(), h.restore(); else {
                h.save();
                h.beginPath();
                h.strokeStyle = b.o.fa().j.Yc;
                h.textAlign = "center";
                c = vF(b, b.o.W()).lg + " " + vF(b, b.o.W()).xc().getName();
                1 < vF(b, b.o.W()).lg && (c += "s");
                h.fontSize = 9 > c.length ? "50" : 12 < c.length ? "25" : "40";
                h.font = "bold " + h.fontSize + "px " + b.o.fa().j.mf;
                h.globalAlpha =
                    .2;
                h.strokeText(c, b.a.width / 2, b.a.height / 2 + h.fontSize / 4);
                h.globalAlpha = .35;
                h.fillStyle = b.o.fa().j.le;
                h.fillText(c, b.a.width / 2, b.a.height / 2 + h.fontSize / 4);
                h.closePath();
                h.restore();
                b.a.setAttribute("title", c + " " + k);
                h.save();
                for (c = 1; 10 > c; ++c) h.beginPath(), h.strokeStyle = b.o.fa().j.le, h.moveTo(0, Math.round(b.a.height / 10 * c) + .5), h.lineTo(b.a.width, Math.round(b.a.height / 10 * c) + .5), 4 > c && (h.moveTo(Math.round(b.a.width / 4 * c) + .5, 0), h.lineTo(Math.round(b.a.width / 4 * c) + .5, b.a.height)), h.stroke(), h.closePath();
                h.beginPath();
                h.fillStyle = b.o.fa().j.Yc;
                h.textAlign = "left";
                h.fillText(LF(l[0][0])[0], 3, 10);
                h.fillText(LF(l[0][0])[1], 3, b.a.height - 3);
                h.textAlign = "right";
                h.fillText(LF(l[l.length - 1][0])[0], b.a.width - 3, 10);
                h.fillText(LF(l[l.length - 1][0])[1], b.a.width - 3, b.a.height - 3);
                h.closePath();
                h.restore();
                l.push(l[l.length - 1]);
                b.R.setData(l);
                c = b.$.a.Bk();
                c.Ce = !0;
                c.Fi(l[0][0] - vF(b, b.o.W()).Y());
                c.Hg(l[l.length - 1][0] + vF(b, b.o.W()).Y());
                c.Nj(c.Od());
                c.ni(c.Gd());
                c.Ce = !1;
                c.dispatchEvent(lu);
                ax(b.$.a.sb(), l.length);
                h.save();
                h.beginPath();
                h.translate(0, 5);
                b.$.T(h);
                h.closePath();
                h.restore();
                if (MF(b)) {
                    d = b.$.a.mo;
                    e = b.gc.mo;
                    c = MF(b) ? b.Ea : b.ka;
                    var p = c.qa(), q = Mb(c), r;
                    Nb(q);
                    if (!(0 >= q.length)) {
                        k = [];
                        c = q.start;
                        for (r = q.end; c <= r; c++) {
                            var t = q.kc(c);
                            k.push(d.map(p.Rj(t)), e.map(p.ce(t)))
                        }
                        h.save();
                        h.globalCompositeOperation = "source-over";
                        h.beginPath();
                        h.translate(0, 5);
                        h.fillStyle = b.Vc.yF;
                        h.strokeStyle = b.Vc.yF;
                        h.lineWidth = 1.2;
                        for (c = 0; c < k.length;) d = k[c++], e = k[c++], h.moveTo(d, e), h.arc(d, e, .9, 0, 2 * Math.PI);
                        h.stroke();
                        h.fill();
                        h.closePath();
                        h.restore()
                    }
                }
            }
        }
    }

    function uF(b) {
        b.Fc = {};
        b.Fc.Rj = function (b) {
            return b[0]
        };
        b.Fc.ce = function (b) {
            return b[1]
        };
        b.Fc.zb = function (b) {
            return b[2]
        };
        b.Fc.bb = function (b) {
            return b[3]
        };
        b.Fc.$a = function (b) {
            return b[4]
        };
        b.Fc.jb = function (b) {
            return b[5]
        };
        zF(b);
        b.$ = new cx(new bx(null, ou, null, !1));
        b.gc = new bx(null, ou);
        b.gc.Bk().qg(.5);
        dx(b.$, b.gc);
        b.R = new dw([]);
        b.Qt = new Yw(b.Fc, b.R);
        b.Ea = new hx(b.Qt, b.$.a, b.gc, new Ob({color: b.Vc.yF}));
        b.ka = new hx(b.Qt, b.$.a, b.gc, b.sc = new Kb({padding: b.o.Ec() ? b.Vc.fy : 2, Ls: b.Vc.Ls, ut: b.Vc.ut}));
        MF(b) ?
            fx(b.$, b.Ea) || ex(b.$, b.Ea) : fx(b.$, b.ka) || ex(b.$, b.ka)
    }

    function zF(b) {
        MF(b) ? b.Fc.ld = b.Fc.pd = function (b) {
            return b[1]
        } : (b.Fc.ld = function (b) {
            return yb(yb(b[2], b[3]), yb(b[4], b[5]))
        }, b.Fc.pd = function (b) {
            return xb(xb(b[2], b[3]), xb(b[4], b[5]))
        })
    }

    function DF(b) {
        var c = b.o.M(), d = NF, e = y(b.Vc.title), h = y("MSG_LINE", {}, "Line"), k = y("MSG_CANDLE", {}, "Candles");
        b.Ub = b.yc.get("presentation") || "line";
        b.U || (c.append(b.o.Fb, b.U = c.u(D, d + "-in-W", b.lf = c.u(D, d + "-in-W-B", c.u(Le, null, e), b.dd = c.u(Le, "a-ib a-ib-Tj " + (d + "-in-W-B-Yg"))), c.u(D, d + "-in-W-X", b.Sd = c.u(D, d + "-in-W-b-Y", b.a = c.u(ae, null)), b.Ve = c.u(D, d + "-in-W-g-Y", b.Yd = c.u(D, d + "-in-W-g-Zg", c.u(D, d + "-in-W-g-vg-X", b.La = c.u(D, null, h)), c.u(D, [d + "-in-W-g-vg-X", d + "-in-W-jn"], b.Hb = c.u(D, null, k))), b.De = c.u(D, d + "-in-W-g"))))),
            tu(b.U, Math.round(xu(b.o).width - b.K.width) - 4.5, 1.5), JF(b.U, b.K.width, b.K.height), b.g = b.a.getContext("2d"), window.G_vmlCanvasManager && window.G_vmlCanvasManager.initElement(b.a), window.DC_nativeCanvasManager && window.DC_nativeCanvasManager.initElement(b.a), b.g.font = OF(b.o.fa()), b.ob = b.o.ob, 1 !== b.ob && b.g.scale(b.ob, b.ob), b.a.width = PF(b.Sd).width - 12, b.a.height = PF(b.Sd).height - 12, $t(b.La, "click"), $t(b.Hb, "click"), b.o.S().C(b.La, "click", function (c) {
            QF(b, c)
        }).C(b.Hb, "click", function (c) {
            QF(b, c)
        }).C(b.a, "click",
            function () {
                if (!b.o.Ec()) {
                    b.ta = {};
                    b.K.width = b.Vc.width;
                    if (b.jd) var c = b.o.eb().ta[b.jd];
                    var d = [];
                    d[0] = c ? c.getTime() : null;
                    d[1] = (c ? c.getTime() : null) + b.o.W().Y();
                    b.o.wj(vF(b, b.o.W()));
                    !1 === vF(b, b.o.W()) && (b.o.yN("simple"), b.o.zh(1), b.o.wj(bl));
                    b.o.mq(d[0], b.Ih || d[1]);
                    b.R && b.R.setData([]);
                    b.U && O(b.U, !1)
                }
            }).C(b.dd, "click", v(function () {
            this.o.dispatchEvent(RF)
        }, b)), O(b.dd, b.ia));
        SF(b);
        b.ia ? b.Ge || (b.Ge = !0, tu(b.U, Math.round(xu(b.o).width - b.K.width) - 4.5, 1.5)) : tu(b.U, b.K.left, b.K.top);
        b.Hh || (b.Hh = new TF(b.U,
            b.lf));
        UF(b.Hh, new Ip(0, 0, xu(b.o).width - PF(b.U).width, PF(b.o.Fb).height - PF(b.U).height))
    }

    function SF(b) {
        var c = NF;
        K.enable(b.La, c + "-in-W-hb", "line" == b.Ub);
        K.enable(b.Hb, c + "-in-W-hb", "candle" == b.Ub);
        ht(b.La, "border-color", b.o.fa().j.le);
        ht(b.Hb, "border-color", b.o.fa().j.le);
        ht(b.La, "background", b.o.fa().j.wd);
        ht(b.Hb, "background", b.o.fa().j.wd);
        "line" == b.Ub ? ht(b.La, "background", b.o.fa().j.ke) : (ht(b.Hb, "background", b.o.fa().j.ke), b.sc && b.sc.Wf({
            VR: b.o.fa().j.Pi,
            vJ: b.o.fa().j.tm,
            sI: b.o.fa().j.ii,
            rI: b.o.fa().j.hi,
            yI: b.o.fa().j.ki,
            xI: b.o.fa().j.ji,
            padding: b.o.Ec() ? b.Vc.fy : 2,
            Ls: b.Vc.Ls,
            ut: b.Vc.ut
        }));
        ht(b.U, "background", b.o.fa().j.wd);
        ht(b.a, "background", b.o.fa().j.ke);
        ht(b.a, "border-color", b.o.fa().j.le);
        ht(b.Ve, "color", b.o.fa().j.Yc);
        O(b.U, !0)
    }

    function IF(b, c) {
        var d = b.o.M(), e = NF;
        Js(b.De);
        La(c, function (b, c) {
            d.append(this.De, d.u(D, e + "-in-W-g-X", d.u(D, e + "-in-W-g-ej", c), d.u(D, e + "-in-W-g-pj", VF(b))))
        }, b)
    }

    function QF(b, c) {
        c.target == b.La ? b.yc.set("presentation", "line") : b.yc.set("presentation", "candle");
        b.yc.get("presentation") != b.Ub && (b.Ub = b.yc.get("presentation") || "line", SF(b), zF(b), MF(b) ? (gx(b.$, b.ka), fx(b.$, b.Ea) || ex(b.$, b.Ea)) : (gx(b.$, b.Ea), fx(b.$, b.ka) || ex(b.$, b.ka)), b.va && b.za && b.T(b.va, b.za))
    }

    function EF(b) {
        b.a.getContext("2d").clearRect(0, 0, b.a.width, b.a.height);
        b.$ && b.$.bi(b.a.width, b.a.height - 10)
    }

    function LF(b) {
        var c = new Date;
        c.setTime(b);
        b = String("0" + c.getUTCHours()).slice(-2) + ":" + String("0" + c.getUTCMinutes()).slice(-2) + ":" + String("0" + c.getUTCSeconds()).slice(-2) + " GMT";
        return [c.toLocaleDateString(), b]
    }

    function VF(b) {
        b = b.toString().split(".");
        b[0] = b[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        return b.join(".")
    }

    function MF(b) {
        return !b.yc.get("presentation") || "line" == b.yc.get("presentation")
    };

    function ht(b, c, d) {
        if (ka(c)) (c = WF(b, c)) && (b.style[c] = d); else for (var e in c) {
            d = b;
            var h = c[e], k = WF(d, e);
            k && (d.style[k] = h)
        }
    }

    var XF = {};

    function WF(b, c) {
        var d = XF[c];
        if (!d) {
            var e = Rh(c), d = e;
            void 0 === b.style[e] && (e = (Nr ? "Webkit" : Mr ? "Moz" : Jr ? "ms" : Ir ? "O" : null) + Th(e), void 0 !== b.style[e] && (d = e));
            XF[c] = d
        }
        return d
    }

    function YF(b, c) {
        var d = ps(b);
        return d.defaultView && d.defaultView.getComputedStyle && (d = d.defaultView.getComputedStyle(b, null)) ? d[c] || d.getPropertyValue(c) || "" : ""
    }

    function ZF(b, c) {
        return YF(b, c) || (b.currentStyle ? b.currentStyle[c] : null) || b.style && b.style[c]
    }

    function $F(b) {
        return ZF(b, "position")
    }

    function tu(b, c, d) {
        var e;
        c instanceof op ? (e = c.x, c = c.y) : (e = c, c = d);
        b.style.left = su(e, !1);
        b.style.top = su(c, !1)
    }

    function aG(b) {
        return new op(b.offsetLeft, b.offsetTop)
    }

    function bG(b) {
        b = b ? ps(b) : document;
        return !Jr || Xr(9) || et(ns(b)) ? b.documentElement : b.body
    }

    function cG(b) {
        var c;
        try {
            c = b.getBoundingClientRect()
        } catch (d) {
            return {left: 0, top: 0, right: 0, bottom: 0}
        }
        Jr && b.ownerDocument.body && (b = b.ownerDocument, c.left -= b.documentElement.clientLeft + b.body.clientLeft, c.top -= b.documentElement.clientTop + b.body.clientTop);
        return c
    }

    function dG(b) {
        if (Jr && !Xr(8)) return b.offsetParent;
        var c = ps(b), d = ZF(b, "position"), e = "fixed" == d || "absolute" == d;
        for (b = b.parentNode; b && b != c; b = b.parentNode) if (11 == b.nodeType && b.host && (b = b.host), d = ZF(b, "position"), e = e && "static" == d && b != c.documentElement && b != c.body, !e && (b.scrollWidth > b.clientWidth || b.scrollHeight > b.clientHeight || "fixed" == d || "absolute" == d || "relative" == d)) return b;
        return null
    }

    function eG(b) {
        for (var c = new xp(0, Infinity, Infinity, 0), d = ns(b), e = d.Wb.body, h = d.Wb.documentElement, k = xs(d.Wb); b = dG(b);) if (!(Jr && 0 == b.clientWidth || Nr && 0 == b.clientHeight && b == e) && b != e && b != h && "visible" != ZF(b, "overflow")) {
            var l = fG(b), p = new op(b.clientLeft, b.clientTop);
            l.x += p.x;
            l.y += p.y;
            c.top = Math.max(c.top, l.y);
            c.right = Math.min(c.right, l.x + b.clientWidth);
            c.bottom = Math.min(c.bottom, l.y + b.clientHeight);
            c.left = Math.max(c.left, l.x)
        }
        e = k.scrollLeft;
        k = k.scrollTop;
        c.left = Math.max(c.left, e);
        c.top = Math.max(c.top,
            k);
        d = d.je();
        c.right = Math.min(c.right, e + d.width);
        c.bottom = Math.min(c.bottom, k + d.height);
        return 0 <= c.top && 0 <= c.left && c.bottom > c.top && c.right > c.left ? c : null
    }

    function gG(b, c, d) {
        var e = (c = c || xs(document)) || xs(document), h = fG(b), k = fG(e), l = hG(e);
        if (e == xs(document)) {
            var p = h.x - e.scrollLeft, h = h.y - e.scrollTop;
            Jr && !Xr(10) && (p += l.left, h += l.top)
        } else p = h.x - k.x - l.left, h = h.y - k.y - l.top;
        l = iG(b);
        b = e.clientWidth - l.width;
        l = e.clientHeight - l.height;
        k = e.scrollLeft;
        e = e.scrollTop;
        d ? (k += p - b / 2, e += h - l / 2) : (k += Math.min(p, Math.max(p - b, 0)), e += Math.min(h, Math.max(h - l, 0)));
        d = new op(k, e);
        c.scrollLeft = d.x;
        c.scrollTop = d.y
    }

    function fG(b) {
        var c = ps(b), d = new op(0, 0), e = bG(c);
        if (b == e) return d;
        b = cG(b);
        c = ft(ns(c));
        d.x = b.left + c.x;
        d.y = b.top + c.y;
        return d
    }

    function jG(b, c) {
        var d = kG(b), e = kG(c);
        return new op(d.x - e.x, d.y - e.y)
    }

    function lG(b) {
        b = cG(b);
        return new op(b.left, b.top)
    }

    function kG(b) {
        if (1 == b.nodeType) return lG(b);
        b = b.changedTouches ? b.changedTouches[0] : b;
        return new op(b.clientX, b.clientY)
    }

    function JF(b, c, d) {
        if (c instanceof Qg) d = c.height, c = c.width; else if (void 0 == d) throw Error("missing height argument");
        mG(b, c);
        b.style.height = su(d, !0)
    }

    function su(b, c) {
        "number" == typeof b && (b = (c ? Math.round(b) : b) + "px");
        return b
    }

    function mG(b, c) {
        b.style.width = su(c, !0)
    }

    function nG(b) {
        return PF(b)
    }

    function PF(b) {
        var c = iG;
        if ("none" != ZF(b, "display")) return c(b);
        var d = b.style, e = d.display, h = d.visibility, k = d.position;
        d.visibility = "hidden";
        d.position = "absolute";
        d.display = "inline";
        b = c(b);
        d.display = e;
        d.position = k;
        d.visibility = h;
        return b
    }

    function iG(b) {
        var c = b.offsetWidth, d = b.offsetHeight, e = Nr && !c && !d;
        return ca(c) && !e || !b.getBoundingClientRect ? new Qg(c, d) : (b = cG(b), new Qg(b.right - b.left, b.bottom - b.top))
    }

    function oG(b) {
        var c = fG(b);
        b = PF(b);
        return new Ip(c.x, c.y, b.width, b.height)
    }

    function pG(b, c) {
        var d = b.style;
        "opacity" in d ? d.opacity = c : "MozOpacity" in d ? d.MozOpacity = c : "filter" in d && (d.filter = "" === c ? "" : "alpha(opacity=" + 100 * Number(c) + ")")
    }

    function O(b, c) {
        b.style.display = c ? "" : "none"
    }

    function qG(b) {
        return "none" != b.style.display
    }

    function rG(b, c) {
        var d;
        c instanceof qq && c.constructor === qq && c.g === rq ? d = c.a : (Zh("expected object of type SafeStyleSheet, got '" + c + "' of type " + ga(c)), d = "type_error:SafeStyleSheet");
        Jr && ca(b.cssText) ? b.cssText = d : b.innerHTML = d
    }

    function sG(b) {
        return "rtl" == ZF(b, "direction")
    }

    var tG = Mr ? "MozUserSelect" : Nr || Kr ? "WebkitUserSelect" : null;

    function uG(b, c, d) {
        d = d ? null : b.getElementsByTagName("*");
        if (tG) {
            if (c = c ? "none" : "", b.style && (b.style[tG] = c), d) {
                b = 0;
                for (var e; e = d[b]; b++) e.style && (e.style[tG] = c)
            }
        } else if (Jr || Ir) if (c = c ? "on" : "", b.setAttribute("unselectable", c), d) for (b = 0; e = d[b]; b++) e.setAttribute("unselectable", c)
    }

    function vG(b) {
        return new Qg(b.offsetWidth, b.offsetHeight)
    }

    function wG(b, c) {
        var d = et(ns(ps(b)));
        if (!Jr || Wr("10") || d && Wr("8")) {
            var e = b.style;
            Mr ? e.MozBoxSizing = "border-box" : Nr ? e.WebkitBoxSizing = "border-box" : e.boxSizing = "border-box";
            e.width = Math.max(c.width, 0) + "px";
            e.height = Math.max(c.height, 0) + "px"
        } else if (e = b.style, d) {
            var d = xG(b, "padding"), h = hG(b);
            e.pixelWidth = c.width - h.left - d.left - d.right - h.right;
            e.pixelHeight = c.height - h.top - d.top - d.bottom - h.bottom
        } else e.pixelWidth = c.width, e.pixelHeight = c.height
    }

    function yG(b) {
        var c = ps(b), d = Jr && b.currentStyle;
        if (d && et(ns(c)) && "auto" != d.width && "auto" != d.height && !d.boxSizing) return c = zG(b, d.width, "width", "pixelWidth"), b = zG(b, d.height, "height", "pixelHeight"), new Qg(c, b);
        d = vG(b);
        c = xG(b, "padding");
        b = hG(b);
        return new Qg(d.width - b.left - c.left - c.right - b.right, d.height - b.top - c.top - c.bottom - b.bottom)
    }

    function zG(b, c, d, e) {
        if (/^\d+px?$/.test(c)) return parseInt(c, 10);
        var h = b.style[d], k = b.runtimeStyle[d];
        b.runtimeStyle[d] = b.currentStyle[d];
        b.style[d] = c;
        c = b.style[e];
        b.style[d] = h;
        b.runtimeStyle[d] = k;
        return +c
    }

    function AG(b, c) {
        var d = b.currentStyle ? b.currentStyle[c] : null;
        return d ? zG(b, d, "left", "pixelLeft") : 0
    }

    function xG(b, c) {
        if (Jr) {
            var d = AG(b, c + "Left"), e = AG(b, c + "Right"), h = AG(b, c + "Top"), k = AG(b, c + "Bottom");
            return new xp(h, e, k, d)
        }
        d = YF(b, c + "Left");
        e = YF(b, c + "Right");
        h = YF(b, c + "Top");
        k = YF(b, c + "Bottom");
        return new xp(parseFloat(h), parseFloat(e), parseFloat(k), parseFloat(d))
    }

    var BG = {thin: 2, medium: 4, thick: 6};

    function CG(b, c) {
        if ("none" == (b.currentStyle ? b.currentStyle[c + "Style"] : null)) return 0;
        var d = b.currentStyle ? b.currentStyle[c + "Width"] : null;
        return d in BG ? BG[d] : zG(b, d, "left", "pixelLeft")
    }

    function hG(b) {
        if (Jr && !Xr(9)) {
            var c = CG(b, "borderLeft"), d = CG(b, "borderRight"), e = CG(b, "borderTop");
            b = CG(b, "borderBottom");
            return new xp(e, d, b, c)
        }
        c = YF(b, "borderLeftWidth");
        d = YF(b, "borderRightWidth");
        e = YF(b, "borderTopWidth");
        b = YF(b, "borderBottomWidth");
        return new xp(parseFloat(e), parseFloat(d), parseFloat(b), parseFloat(c))
    };

    function W(b, c) {
        Q.call(this);
        this.Rf = b;
        var d = c instanceof W ? c.j : c;
        this.j = {
            ik: "green",
            Yk: "red",
            oq: "blue",
            jO: !1,
            io: "green",
            ho: "red",
            Ql: "black",
            lineWidth: 1,
            rn: "green",
            sn: "red",
            ep: "black",
            Pi: !0,
            tm: "#000000",
            ii: "red",
            hi: "black",
            ki: "green",
            ji: "black",
            gq: "#ffffff",
            eo: "green",
            fo: "red",
            le: "#cccccc",
            ke: "#ffffff",
            Xp: !0,
            Rm: "#000000",
            Aq: "green",
            Cq: "#cccccc",
            Bq: "red",
            Yc: "#000000",
            wd: "#ffffff",
            lm: "#666666",
            hj: "#000000",
            IY: 50,
            ps: 20,
            Mk: "#000000",
            hd: 10,
            mf: "Arial, sans-serif",
            borderWidth: 0,
            borderColor: "#000000",
            Lo: 40,
            rq: "#aaccff",
            qq: "rgba(170, 204, 255, 0.35)",
            sq: "#bbbbbb",
            tq: "#bbbbbb",
            uq: "#bbbbbb",
            ln: "#bbbbbb",
            Mo: "#bbbbbb",
            mn: .5,
            vx: "#000000",
            oB: .5,
            pB: .2,
            nB: "#000000",
            J5: 2.5
        };
        La(d || {}, function (b, c) {
            var d = "set" + c.substring(0, 1).toUpperCase() + c.substring(1);
            if (oa(this[d])) this[d](b); else this.j[c] = b
        }, this);
        this.sl = !1
    }

    B(W, Q);
    var DG = {
        iha: "Dark",
        jha: "DarkBlue",
        kha: "DarkDroid",
        lha: "DarkIOs",
        DEFAULT: "Default",
        Qja: "Pastelle",
        Tka: "TierOne"
    };
    f = W.prototype;
    f.N = function () {
        var b = {};
        E("tickBidColor tickAskColor tickAvgColor tickAvgSolid lineUpColor lineDownColor lineFlatColor lineWidth barAscColor barDescColor barFlatColor candleDrawBorders candleDojiColor candleBearColor candleBearBorder candleBullColor candleBullBorder renkoPhantomColor kagiYangColor kagiYinColor gridLineColor gridBackgroundColor lastValueTrackingLine lastValueTrackingLineColor valueLabelBackground valueLabelBackgroundSame valueLabelBackgroundDown axisLabelColor chartBackgroundColor viewportBorderColor legendColor valueAxisWidth timeAxisHeight ohlcLabelColor labelFontSize labelFontFamily borderWidth borderColor timelineHeight timelineStrokeColor timelineFillColor timelineThumbColor timelineThumbHighlightColor timelineThumbShadowColor timelineOverlayColor timelineOverlayBorderColor timelineOverlayOpacity timelineScaleDivisionColor timelineScalePrimaryDivisionHeight timelineScaleSecondaryDivisionHeight timelineScaleLabelColor drawingControlPointRadius".split(" "), function (c) {
            b[c] =
                this["get" + c.substring(0, 1).toUpperCase() + c.substring(1)]()
        }, this);
        return b
    };
    f.init = function (b) {
        var c = b ? "#N-unique-gd-" + b : "";
        b = b ? b : "common";
        this.em = this.em || {};
        if (this.em[b]) {
            var d = this.em[b];
            Ls(d.ownerNode || d.owningElement || d)
        }
        d = [];
        d.push(c + " ." + NF + " .chartContainer {background-color: " + this.j.wd + ";}");
        d.push(c + " ." + NF + " .chartContainer .p {background-color: " + this.j.wd + "}");
        d.push(c + " ." + NF + " .c {border-color: " + this.sv() + ";border-width: " + this.Ln() + "px;}");
        d.push(c + " ." + NF + " .d {background-color: " + this.j.wd + ";}");
        d.push(c + " ." + NF + " .e div {border-color: " + this.j.le + ";}");
        d.push(c + " ." + NF + " .e {border-color: " + this.j.lm + ";background-color: " + this.j.ke + ";}");
        d.push(c + " ." + NF + " .chartContainer .q .s {border-color: " + this.j.lm + "}");
        d.push(c + " ." + NF + " .f {color: " + this.j.hj + ";}");
        d.push(c + " ." + NF + " .chartContainer .p span {margin-top:-" + this.j.hd / 2 + "px;color:" + this.j.Yc + ";font-size:" + this.j.hd + "px;font-family:" + this.j.mf + ";}");
        d.push(c + " ." + NF + " .f div .o strong {text-shadow: 1px 1px " + this.j.ke + ", 1px -1px " + this.j.ke + ", -1px -1px " + this.j.ke + ", -1px 1px " + this.j.ke +
            "}");
        d.push(c + " ." + NF + " .f div .o span {text-shadow: 1px 1px " + this.j.ke + ", 1px -1px " + this.j.ke + ", -1px -1px " + this.j.ke + ", -1px 1px " + this.j.ke + "}");
        d.push(c + " ." + NF + " .t span {text-shadow: 1px 1px " + this.j.ke + ", 1px -1px " + this.j.ke + ", -1px -1px " + this.j.ke + ", -1px 1px " + this.j.ke + "}");
        d.push(c + " .a-b-N-Y {border: solid " + this.Ln() + "px " + this.sv() + "!important;}");
        var c = this.em, d = sq(d.join("")), e = ns(void 0), h = null, k = e.Wb;
        Jr && k.createStyleSheet ? (h = k.createStyleSheet(), rG(h, d)) : (k = rs(e.Wb, ke, void 0,
            void 0)[0], k || (h = rs(e.Wb, Yd, void 0, void 0)[0], k = e.u(ke), h.parentNode.insertBefore(k, h)), h = e.u(Ne), rG(h, d), e.appendChild(k, h));
        c[b] = h
    };
    f.U7 = function () {
        return this.j.ik
    };
    f.Oea = function (b) {
        this.j.ik = b;
        EG(this)
    };
    f.Q7 = function () {
        return this.j.Yk
    };
    f.Kea = function (b) {
        this.j.Yk = b;
        EG(this)
    };
    f.R7 = function () {
        return this.j.oq
    };
    f.Lea = function (b) {
        this.j.oq = b;
        EG(this)
    };
    f.S7 = function () {
        return this.j.jO
    };
    f.Mea = function (b) {
        this.j.jO = b;
        EG(this)
    };
    f.a7 = function () {
        return this.j.io
    };
    f.Wda = function (b) {
        this.j.io = b;
        EG(this)
    };
    f.V6 = function () {
        return this.j.ho
    };
    f.Sda = function (b) {
        this.j.ho = b;
        EG(this)
    };
    f.W6 = function () {
        return this.j.Ql
    };
    f.Tda = function (b) {
        this.j.Ql = b;
        EG(this)
    };
    f.Pg = function () {
        return this.j.lineWidth
    };
    f.jq = function (b) {
        this.j.lineWidth = b;
        EG(this)
    };
    f.i6 = function () {
        return this.j.rn
    };
    f.Kca = function (b) {
        this.j.rn = b;
        EG(this)
    };
    f.j6 = function () {
        return this.j.sn
    };
    f.Lca = function (b) {
        this.j.sn = b;
        EG(this)
    };
    f.k6 = function () {
        return this.j.ep
    };
    f.Mca = function (b) {
        this.j.ep = b;
        EG(this)
    };
    f.q6 = function () {
        return this.j.Pi
    };
    f.Tca = function (b) {
        this.j.Pi = b;
        EG(this)
    };
    f.p6 = function () {
        return this.j.tm
    };
    f.Sca = function (b) {
        this.j.tm = b;
        EG(this)
    };
    f.o6 = function () {
        return this.j.ki
    };
    f.Rca = function (b) {
        this.j.ki = b;
        EG(this)
    };
    f.n6 = function () {
        return this.j.ji
    };
    f.Qca = function (b) {
        this.j.ji = b;
        EG(this)
    };
    f.m6 = function () {
        return this.j.ii
    };
    f.Pca = function (b) {
        this.j.ii = b;
        EG(this)
    };
    f.l6 = function () {
        return this.j.hi
    };
    f.Oca = function (b) {
        this.j.hi = b;
        EG(this)
    };
    f.E7 = function () {
        return this.j.gq
    };
    f.wea = function (b) {
        this.j.gq = b;
        EG(this)
    };
    f.L6 = function () {
        return this.j.eo
    };
    f.Kda = function (b) {
        this.j.eo = b;
        EG(this)
    };
    f.M6 = function () {
        return this.j.fo
    };
    f.Lda = function (b) {
        this.j.fo = b;
        EG(this)
    };
    f.B6 = function () {
        return this.j.le
    };
    f.Bda = function (b) {
        this.j.le = b;
        EG(this)
    };
    f.A6 = function () {
        return this.j.ke
    };
    f.Ada = function (b) {
        this.j.ke = b;
        EG(this)
    };
    f.R6 = function () {
        return this.j.Xp
    };
    f.Pda = function (b) {
        this.j.Xp = b;
        EG(this)
    };
    f.S6 = function () {
        return this.j.Rm
    };
    f.Qda = function (b) {
        this.j.Rm = b;
        EG(this)
    };
    f.q8 = function () {
        return this.j.Aq
    };
    f.mfa = function (b) {
        this.j.Aq = b;
        EG(this)
    };
    f.s8 = function () {
        return this.j.Cq
    };
    f.ofa = function (b) {
        this.j.Cq = b;
        EG(this)
    };
    f.r8 = function () {
        return this.j.Bq
    };
    f.nfa = function (b) {
        this.j.Bq = b;
        EG(this)
    };
    f.f6 = function () {
        return this.j.Yc
    };
    f.Jca = function (b) {
        this.j.Yc = b;
        EG(this)
    };
    f.r6 = function () {
        return this.j.wd
    };
    f.Uca = function (b) {
        this.j.wd = b;
        EG(this)
    };
    f.t8 = function () {
        return this.j.lm
    };
    f.pfa = function (b) {
        this.j.lm = b;
        EG(this)
    };
    f.T6 = function () {
        return this.j.hj
    };
    f.Rda = function (b) {
        this.j.hj = b;
        EG(this)
    };
    f.El = function () {
        return this.j.IY
    };
    f.lfa = function (b) {
        this.j.IY = b;
        EG(this)
    };
    f.W7 = function () {
        return this.j.ps
    };
    f.Pea = function (b) {
        this.j.ps = b;
        EG(this)
    };
    f.n7 = function () {
        return this.j.Mk
    };
    f.gea = function (b) {
        this.j.Mk = b;
        EG(this)
    };
    f.P6 = function () {
        return this.j.hd
    };
    f.Oda = function (b) {
        this.j.hd = b;
        EG(this)
    };
    f.O6 = function () {
        return this.j.mf
    };
    f.Nda = function (b) {
        this.j.mf = b;
        EG(this)
    };

    function OF(b) {
        return b.j.hd + "px " + b.j.mf
    }

    f.kN = function (b) {
        this.j.borderWidth = b;
        EG(this)
    };
    f.Ln = function () {
        return this.j.borderWidth
    };
    f.jN = function (b) {
        this.j.borderColor = b;
        EG(this)
    };
    f.sv = function () {
        return this.j.borderColor
    };
    f.Rea = function (b) {
        this.j.Lo = b;
        EG(this)
    };
    f.b8 = function () {
        return this.j.Lo
    };
    f.Zea = function (b) {
        this.j.rq = b;
        EG(this)
    };
    f.j8 = function () {
        return this.j.rq
    };
    f.Qea = function (b) {
        this.j.qq = b;
        EG(this)
    };
    f.a8 = function () {
        return this.j.qq
    };
    f.$ea = function (b) {
        this.j.sq = b;
        EG(this)
    };
    f.k8 = function () {
        return this.j.sq
    };
    f.afa = function (b) {
        this.j.tq = b;
        EG(this)
    };
    f.l8 = function () {
        return this.j.tq
    };
    f.bfa = function (b) {
        this.j.uq = b;
        EG(this)
    };
    f.m8 = function () {
        return this.j.uq
    };
    f.Tea = function (b) {
        this.j.ln = b;
        EG(this)
    };
    f.d8 = function () {
        return this.j.ln
    };
    f.Sea = function (b) {
        this.j.Mo = b;
        EG(this)
    };
    f.c8 = function () {
        return this.j.Mo
    };
    f.Uea = function (b) {
        this.j.mn = b;
        EG(this)
    };
    f.e8 = function () {
        return this.j.mn
    };
    f.Vea = function (b) {
        this.j.vx = b;
        EG(this)
    };
    f.f8 = function () {
        return this.j.vx
    };
    f.Xea = function (b) {
        this.j.oB = b;
        EG(this)
    };
    f.h8 = function () {
        return this.j.oB
    };
    f.Yea = function (b) {
        this.j.pB = b;
        EG(this)
    };
    f.i8 = function () {
        return this.j.pB
    };
    f.Wea = function (b) {
        this.j.nB = b;
        EG(this)
    };
    f.g8 = function () {
        return this.j.nB
    };
    f.$y = function () {
        return 1 * this.j.J5
    };
    f.sl = !1;

    function EG(b) {
        b.sl = !0;
        b.dispatchEvent("change")
    }

    f.lb = function () {
        return Ig(this.sl || null === this.Rf ? this.j : this.Rf)
    };
    f.cb = function (b) {
        b = Gg(b);
        jh(this.j, ka(b) ? FG[b].j : b)
    };
    f.Co = function (b) {
        this.Rf = b
    };
    f.getName = function () {
        return this.Rf
    };
    var FG = {};
    FG.Default = new W("Default");
    FG.Dark = new W("Dark", {
        ik: "#2C7A97",
        Yk: "#C0C0C0",
        oq: "#2C7A97",
        io: "#2C7A97",
        ho: "#C0C0C0",
        Ql: "#C0C0C0",
        lineWidth: 1,
        rn: "#2C7A97",
        sn: "#C0C0C0",
        ep: "#C0C0C0",
        Pi: !1,
        tm: "#C0C0C0",
        ii: "#C0C0C0",
        hi: "#C0C0C0",
        ki: "#2C7A97",
        ji: "#2C7A97",
        gq: "#181818",
        eo: "#2C7A97",
        fo: "#C0C0C0",
        le: "#333333",
        ke: "#181818",
        Xp: !0,
        Rm: "#000000",
        Aq: "#2C7A97",
        Cq: "#888888",
        Bq: "#C0C0C0",
        Yc: "#999999",
        wd: "#181818",
        lm: "#000000",
        hj: "#ffffff",
        Mk: "#999999",
        Lo: 40,
        rq: "#3798BC",
        qq: "rgba(55, 152, 189, 0.5)",
        sq: "#333333",
        tq: "#333333",
        uq: "#222222",
        ln: "#181818",
        Mo: "#333333",
        mn: .65
    });
    FG.DarkBlue = new W("DarkBlue", {
        ik: "#2A7BA9",
        Yk: "#9D222E",
        oq: "#2A7BA9",
        io: "#2A7BA9",
        ho: "#9D222E",
        Ql: "#9D222E",
        lineWidth: 1,
        rn: "#2A7BA9",
        sn: "#9D222E",
        ep: "#9D222E",
        Pi: !1,
        tm: "#9D222E",
        ii: "#9D222E",
        hi: "#9D222E",
        ki: "#2A7BA9",
        ji: "#2A7BA9",
        gq: "#091842",
        eo: "#2A7BA9",
        fo: "#9D222E",
        le: "#243364",
        ke: "#091842",
        Xp: !0,
        Rm: "#000000",
        Aq: "#2A7BA9",
        Cq: "#515766",
        Bq: "#9D222E",
        Yc: "#989898",
        wd: "#091842",
        lm: "#3c4975",
        hj: "#ffffff",
        Mk: "#e0e2e7",
        Lo: 40,
        rq: "#3798BC",
        qq: "rgba(26, 74, 124, 1)",
        sq: "#293661",
        tq: "#293661",
        uq: "#222222",
        ln: "#091842",
        Mo: "#535f89",
        mn: .65
    });
    FG.Pastelle = new W("Pastelle", {
        ik: "#6BA583",
        Yk: "#D75442",
        oq: "#2A68AE",
        io: "#6BA583",
        ho: "#D75442",
        Ql: "#737375",
        lineWidth: 1,
        rn: "#6BA583",
        sn: "#D75442",
        ep: "#737375",
        Pi: !0,
        tm: "#737375",
        ii: "#D75442",
        hi: "#5B1A13",
        ki: "#6BA583",
        ji: "#225437",
        gq: "#FFFFFF",
        eo: "#6BA583",
        fo: "#D75442",
        le: "#E6E6E6",
        ke: "#FFFFFF",
        Xp: !0,
        Rm: "#222222",
        Aq: "#6BA583",
        Cq: "#cccccc",
        Bq: "#D75442",
        Yc: "#555555",
        wd: "#FFFFFF",
        lm: "#555555",
        hj: "#000000",
        Mk: "#000000",
        Lo: 40,
        sq: "#f0f0f0",
        tq: "#dddddd",
        uq: "#bbbbbb",
        ln: "#ffffff",
        Mo: "#f0f0f0",
        mn: .5,
        vx: "#cccccc",
        oB: .5,
        pB: .2,
        nB: "#555555"
    });
    FG.DarkDroid = new W("DarkDroid", {
        ik: "#C0C0C0",
        Yk: "#bb1224",
        oq: "#bb1224",
        io: "#C0C0C0",
        ho: "#bb1224",
        Ql: "#C0C0C0",
        lineWidth: 1,
        rn: "#C0C0C0",
        sn: "#bb1224",
        ep: "#C0C0C0",
        Pi: !1,
        tm: "#C0C0C0",
        ii: "#bb1224",
        hi: "#bb1224",
        ki: "#C0C0C0",
        ji: "#C0C0C0",
        gq: "#232323",
        eo: "#C0C0C0",
        fo: "#bb1224",
        le: "#333333",
        ke: "#232323",
        Xp: !0,
        Rm: "#000000",
        Aq: "#C0C0C0",
        Cq: "#888888",
        Bq: "#bb1224",
        Yc: "#999999",
        wd: "#181818",
        lm: "#000000",
        hj: "#ffffff",
        Mk: "#999999",
        Lo: 40,
        rq: "#bb1224",
        qq: "rgba(187, 18, 36, 0.5)",
        sq: "#333333",
        tq: "#333333",
        uq: "#222222",
        ln: "#181818",
        Mo: "#333333",
        mn: .65
    });
    FG.DarkIOs = new W("DarkIOs", {
        ik: "#57ab71",
        Yk: "#c86455",
        oq: "#c86455",
        io: "#57ab71",
        ho: "#c86455",
        Ql: "#57ab71",
        lineWidth: 1,
        rn: "#57ab71",
        sn: "#c86455",
        ep: "#57ab71",
        Pi: !1,
        tm: "#57ab71",
        ii: "#c86455",
        hi: "#c86455",
        ki: "#57ab71",
        ji: "#57ab71",
        gq: "#181818",
        eo: "#57ab71",
        fo: "#c86455",
        le: "#333333",
        ke: "#181818",
        Xp: !0,
        Rm: "#000000",
        Aq: "#57ab71",
        Cq: "#cccccc",
        Bq: "#c86455",
        Yc: "#999999",
        wd: "#181818",
        lm: "#000000",
        hj: "#ffffff",
        Mk: "#999999",
        Lo: 40,
        rq: "#3798BC",
        qq: "rgba(55, 152, 189, 0.5)",
        sq: "#333333",
        tq: "#333333",
        uq: "#222222",
        ln: "#181818",
        Mo: "#333333",
        mn: .65
    });
    FG.TierOne = new W("TierOne", {
        ik: "#97A331",
        Yk: "#1A4886",
        oq: "#2A68AE",
        io: "#97A331",
        ho: "#1A4886",
        Ql: "#737375",
        lineWidth: 1,
        rn: "#97A331",
        sn: "#1A4886",
        ep: "#737375",
        Pi: !0,
        tm: "#737375",
        ii: "#1A4886",
        hi: "#1A4886",
        ki: "#97A331",
        ji: "#97A331",
        gq: "#FFFFFF",
        eo: "#97A331",
        fo: "#1A4886",
        le: "#E6E6E6",
        ke: "#FFFFFF",
        Xp: !0,
        Rm: "#222222",
        Aq: "#97A331",
        Cq: "#cccccc",
        Bq: "#1A4886",
        Yc: "#555555",
        wd: "#FFFFFF",
        lm: "#555555",
        hj: "#000000",
        Mk: "#555555",
        Lo: 40,
        sq: "#f0f0f0",
        tq: "#dddddd",
        uq: "#bbbbbb",
        ln: "#ffffff",
        Mo: "#f0f0f0",
        mn: .5,
        vx: "#cccccc",
        oB: .5,
        pB: .2,
        nB: "#555555"
    });

    function vw(b, c) {
        Q.call(this);
        this.Da = b;
        var d = Qs(this.Da) ? this.Da : this.Da ? this.Da.body : null;
        this.w = !!d && sG(d);
        this.a = Qt(this.Da, Mr ? "DOMMouseScroll" : "mousewheel", this, c)
    }

    B(vw, Q);
    vw.prototype.handleEvent = function (b) {
        var c = 0, d = 0, e = 0;
        b = b.Pe();
        "mousewheel" == b.type ? (e = GG(-b.wheelDelta), ca(b.wheelDeltaX) ? (c = GG(-b.wheelDeltaX), d = GG(-b.wheelDeltaY)) : d = e) : (e = b.detail, 100 < e ? e = 3 : -100 > e && (e = -3), ca(b.axis) && b.axis === b.HORIZONTAL_AXIS ? c = e : d = e);
        ma(this.g) && (c = sd(c, -this.g, this.g));
        ma(this.m) && (d = sd(d, -this.m, this.m));
        this.w && (c = -c);
        c = new HG(e, b, c, d);
        this.dispatchEvent(c)
    };

    function GG(b) {
        return Nr && (Or || Pr) && 0 != b % 40 ? b : b / 40
    }

    vw.prototype.Ma = function () {
        vw.P.Ma.call(this);
        Zt(this.a);
        this.a = null
    };

    function HG(b, c, d, e) {
        Kt.call(this, c);
        this.type = "mousewheel";
        this.detail = b;
        this.deltaX = d;
        this.deltaY = e
    }

    B(HG, Kt);
    var tw = "resize", uw = "reflow", rw = "addchild", sw = "removechild", ww = "touchstart", xw = "touchmove",
        yw = "touchend", Cw = "mousedown", Dw = "mouseup", Fw = "mousemove", Hw = "mouseover", Gw = "mouseout",
        Ew = "mousewheel", zw = "gesturestart", Aw = "gesturechange", Bw = "gestureend";

    function IG() {
        Q.call(this)
    }

    B(IG, Q);
    sb(IG.prototype);
    var JG = {};
    IG.prototype.Tk = function (b) {
        if (this == b) throw Error("Unable to set parent.");
        var c;
        if (c = b && this.pc && this.Ib) c = this.pc, c = !!c.cg && this.aa() in c.cg;
        if (c && this.pc != b) throw Error("Unable to set parent.");
        this.pc = b;
        IG.P.Je.call(this, b)
    };
    IG.prototype.getParent = function () {
        return this.pc
    };
    IG.prototype.Je = function (b) {
        if (this.pc && this.pc != b) throw Error(JG.Gja);
        IG.P.Je.call(this, b)
    };
    IG.prototype.T = function () {
    };

    function KG() {
        Q.call(this);
        this.Rz = new Ip(0, 0, -1, -1);
        this.kj = new xp(0, 0, 0, 0);
        this.hp = new xp(0, 0, 0, 0);
        this.gp = {top: null, right: null, bottom: null, left: null};
        this.sd = new xp(0, 0, 0, 0);
        this.Qq = document.createElement(String(ae));
        this.gC = this.Qq.getContext("2d")
    }

    B(KG, IG);
    f = KG.prototype;
    f.S = function () {
        this.ic || (this.ic = new fu(this), Id(this, this.ic));
        return this.ic
    };
    f.left = 0;
    f.top = 0;
    f.VX = function (b) {
        this.top !== b && (this.top = b, this.dispatchEvent("move"))
    };
    f.setPosition = function (b, c) {
        if (this.left !== b || this.top !== c) this.left = b, this.top = c, this.dispatchEvent("move")
    };
    f.be = function () {
        return this.width
    };
    f.gn = function (b) {
        this.width !== b && (this.width = b, this.dispatchEvent(tw))
    };
    f.wg = function () {
        return this.height
    };
    f.zo = function (b) {
        this.height !== b && (this.height = b, this.dispatchEvent(tw))
    };
    f.bi = function (b, c) {
        if (this.width !== b || this.height !== c) this.width = b, this.height = c, this.dispatchEvent(tw)
    };
    f.Cc = function () {
        return this.Rz
    };
    f.vj = function (b, c, d, e) {
        this.Rz.left = G(b);
        this.Rz.top = G(c);
        this.Rz.width = G(d);
        this.Rz.height = G(e);
        this.dispatchEvent(uw)
    };

    function Kw(b) {
        return b.Nla || (b.getParent() ? Kw(b.getParent()) + 1 : 0)
    }

    f.Rw = function (b, c, d, e) {
        var h, k, l;
        switch (arguments.length) {
            case 1:
                h = k = l = b;
                break;
            case 2:
                h = c;
                k = b;
                l = c;
                break;
            case 3:
                h = c;
                k = d;
                l = c;
                break;
            case 4:
                h = c;
                k = d;
                l = e;
                break;
            default:
                throw Error("Invalid number of margin arguments!");
        }
        if (isNaN(b) || isNaN(h) || isNaN(k) || isNaN(l)) throw Error("Non numeric margin values!");
        if (this.kj.top !== b || this.kj.right !== h || this.kj.bottom !== k || this.kj.left !== l) this.kj.top = b, this.kj.right = h, this.kj.bottom = k, this.kj.left = l, this.dispatchEvent(tw)
    };
    f.JD = function () {
        return this.kj
    };
    f.Uw = function (b, c, d, e) {
        var h, k, l;
        switch (arguments.length) {
            case 1:
                h = k = l = b;
                break;
            case 2:
                h = c;
                k = b;
                l = c;
                break;
            case 3:
                h = c;
                k = d;
                l = c;
                break;
            case 4:
                h = c;
                k = d;
                l = e;
                break;
            default:
                throw Error("Invalid number of padding arguments!");
        }
        if (isNaN(b) || isNaN(h) || isNaN(k) || isNaN(l)) throw Error("Non numeric padding values!");
        if (this.sd.top !== b || this.sd.right !== h || this.sd.bottom !== k || this.sd.left !== l) this.sd.top = b, this.sd.right = h, this.sd.bottom = k, this.sd.left = l, this.dispatchEvent(tw)
    };
    f.Pj = function () {
        return this.sd
    };
    f.kN = function (b, c, d, e) {
        var h, k, l;
        switch (arguments.length) {
            case 1:
                h = k = l = b;
                break;
            case 2:
                h = c;
                k = b;
                l = c;
                break;
            case 3:
                h = c;
                k = d;
                l = c;
                break;
            case 4:
                h = c;
                k = d;
                l = e;
                break;
            default:
                throw Error("Invalid number of border width arguments!");
        }
        if (isNaN(b) || isNaN(h) || isNaN(k) || isNaN(l)) throw Error("Non numeric margin values!");
        if (this.hp.top !== b || this.hp.right !== h || this.hp.bottom !== k || this.hp.left !== l) this.hp.top = b, this.hp.right = h, this.hp.bottom = k, this.hp.left = l, this.dispatchEvent(tw)
    };
    f.Ln = function () {
        return this.hp
    };
    f.jN = function (b, c, d, e) {
        var h, k, l;
        switch (arguments.length) {
            case 1:
                h = k = l = b;
                break;
            case 2:
                h = c;
                k = b;
                l = c;
                break;
            case 3:
                h = c;
                k = d;
                l = c;
                break;
            case 4:
                h = c;
                k = d;
                l = e;
                break;
            default:
                throw Error("Invalid number of border color arguments!");
        }
        if (!(ka(b) && ka(h) && ka(k) && ka(l))) throw Error("Non string border color values!");
        if (this.gp.top !== b || this.gp.right !== h || this.gp.bottom !== k || this.gp.left !== l) this.gp.top = b, this.gp.right = h, this.gp.bottom = k, this.gp.left = l, this.dispatchEvent(tw)
    };
    f.sv = function () {
        return this.gp
    };
    f.lM = !1;
    f.T = function (b) {
        var c = b.getContext();
        c.save();
        var d = this.Cc();
        c.translate(d.left, d.top);
        var e = this.Ln();
        if (0 < e.top || 0 < e.right || 0 < e.bottom || 0 < e.left) {
            var e = b.getContext(), h = this.Cc(), k = this.Ln(), l = this.sv(), p = k.left + k.right,
                q = k.top + k.bottom, r = -k.top, t = h.width, u = h.height, x = -k.left;
            e.save();
            0 < k.top && (e.fillStyle = l.top, e.fillRect(x, r, h.width + p, k.top));
            0 < k.right && (e.fillStyle = l.right, e.fillRect(t, r, k.right, h.height + q));
            0 < k.bottom && (e.fillStyle = l.bottom, e.fillRect(x, u, h.width + p, k.bottom));
            0 < k.left && (e.fillStyle =
                l.left, e.fillRect(x, r, k.left, h.height + q));
            e.restore()
        }
        this.lM || (c.beginPath(), c.rect(0, 0, d.width, d.height), c.clip());
        this.uJ(b);
        c.restore()
    };
    f.uJ = function () {
    };

    function Nw() {
        KG.call(this);
        this.S().C(this, [tw, "move", rw, sw], va(this.pG, !0))
    }

    B(Nw, KG);
    f = Nw.prototype;
    f.vc = null;
    f.cg = null;
    f.Va = function (b, c) {
        this.el(b, this.eg(), c)
    };
    f.el = function (b, c, d) {
        if (0 > c || c > this.eg()) throw Error("Child index out of bounds.");
        this.cg && this.vc || (this.cg = {}, this.vc = []);
        if (b.getParent() === this) {
            var e = b.aa();
            this.cg[e] = b;
            mi(this.vc, b)
        } else fh(this.cg, b.aa(), b);
        b.Tk(this);
        b.Taa = d;
        ri(this.vc, c, 0, b);
        this.dispatchEvent(new cf(rw, b))
    };
    f.eg = function () {
        return this.vc ? this.vc.length : 0
    };
    f.Cm = function (b) {
        return this.cg && b ? gh(this.cg, b) || null : null
    };
    f.nd = function (b) {
        return this.vc ? this.vc[b] || null : null
    };
    f.vr = function () {
        return !!this.vc && 0 != this.vc.length
    };
    f.Fp = function () {
        return this.vc
    };
    f.removeChild = function (b) {
        if (b) {
            var c = ka(b) ? b : b.aa();
            b = this.Cm(c);
            c && b && (eh(this.cg, c), mi(this.vc, b), b.Tk(null))
        }
        if (!b) throw Error("Not a child of this container.");
        this.dispatchEvent(new cf(sw, b));
        return b
    };
    f.RM = function (b) {
        return this.removeChild(this.nd(b))
    };
    f.me = function () {
        for (var b = []; this.vr();) b.push(this.RM(0));
        return b
    };
    f.Tk = function (b) {
        Nw.P.Tk.call(this, b);
        this.pG(!0)
    };
    f.uJ = function (b) {
        this.Ol();
        if (this.vc) for (var c = b.getContext(), d = 0, e = this.vc.length; d < e; d++) c.save(), this.vc[d].T(b), c.restore()
    };
    f.uV = !0;
    f.pG = function (b) {
        this.uV = b;
        this.getParent() && b && this.getParent().pG(!0)
    };
    f.Ol = function (b) {
        b = b || !1;
        if (!this.U) throw Error("No layout attached.");
        if (b || this.uV) {
            this.dispatchEvent("beforelayout");
            this.pG(!1);
            this.U.Ol();
            for (var c = 0, d = this.eg(); c < d; c++) {
                var e = this.nd(c);
                e instanceof Nw && e.Ol(b)
            }
            this.dispatchEvent("afterlayout")
        }
    };

    function LG(b) {
        KG.call(this);
        this.S().C(this, [tw, "afterlayout", uw], this.g);
        this.a = b
    }

    B(LG, KG);
    LG.prototype.uJ = function (b) {
        this.a.T(b.getContext())
    };
    LG.prototype.g = function () {
        this.a.bi(this.Cc().width, this.Cc().height)
    };

    function MG(b, c) {
        Q.call(this);
        this.a = b;
        this.Oc = c || 1;
        this.hF = v(this.hF, this);
        this.gF = v(this.gF, this);
        this.ra = new fu(this);
        Id(this, this.ra);
        this.m = !1
    }

    B(MG, Q);
    f = MG.prototype;
    f.Ma = function () {
        MG.P.Ma.call(this);
        this.a = null
    };
    f.qg = function (b) {
        this.Oc = b
    };
    f.setActive = function (b) {
        this.Dd(b);
        NG(this, b)
    };
    f.Dd = function (b) {
        this.$ !== b && ((this.$ = b) ? (this.ra.C(this.a, "touchstart", this.UC), this.ra.C(this.a, "touchmove", this.RC), this.ra.C(this.a, "touchend", this.ev), this.ra.C(this.a, "mousedown", this.UC), this.ra.C(this.a, "mouseup", this.ev), this.ra.C(this.a, "mousemove", this.RC), this.ra.C(this.a, "mouseout", this.ev), this.ra.C(ps(this.a.Fb), "mouseup", this.sQ), this.ra.C(this.a.Fb, "mousemove", this.UR)) : (this.ra.wa(this.a, "touchstart", this.Yd), this.ra.wa(this.a, "touchmove", this.jd), this.ra.wa(this.a, "touchend", this.dd),
            this.ra.wa(this.a, "mousedown", this.Mm), this.ra.wa(this.a, "mouseup", this.Il), this.ra.wa(this.a, "mousemove", this.jg), this.ra.wa(this.a, "mouseout", this.Il), this.ra.wa(this.a, "touchstart", this.UC), this.ra.wa(this.a, "touchmove", this.RC), this.ra.wa(this.a, "touchend", this.ev), this.ra.wa(this.a, "mousedown", this.UC), this.ra.wa(this.a, "mouseup", this.ev), this.ra.wa(this.a, "mousemove", this.RC), this.ra.wa(this.a, "mouseout", this.ev), this.ra.wa(ps(this.a.Fb), "mouseup", this.sQ), this.ra.wa(this.a.Fb, "mousemove", this.UR)))
    };
    f.Ok = function (b) {
        this.ia !== b && ((this.ia = b) ? (this.ra.C(this.a, "touchstart", this.XC), this.ra.C(this.a, "touchmove", this.WC), this.ra.C(this.a, "touchend", this.fv), this.ra.C(this.a, "mousedown", this.XC), this.ra.C(this.a, "mouseup", this.fv), this.ra.C(this.a, "mousemove", this.WC), this.ra.C(this.a, "mouseout", this.fv)) : (this.ra.wa(this.a, "touchstart", this.XC), this.ra.wa(this.a, "touchmove", this.WC), this.ra.wa(this.a, "touchend", this.fv), this.ra.wa(this.a, "mousedown", this.XC), this.ra.wa(this.a, "mouseup", this.fv),
            this.ra.wa(this.a, "mousemove", this.WC), this.ra.wa(this.a, "mouseout", this.fv)), this.m = !1)
    };

    function NG(b, c) {
        b.ka !== c && (b.ka = c, b.ka ? (b.ra.C(b.a, "gesturestart", b.XY), b.ra.C(b.a, "gesturechange", b.VY), b.ra.C(b.a, "gestureend", b.WY), b.ra.C(b.a, "mousewheel", b.H4)) : (b.ra.wa(b.a, "gesturestart", b.XY), b.ra.wa(b.a, "gesturechange", b.VY), b.ra.wa(b.a, "gestureend", b.WY), b.ra.wa(b.a, "mousewheel")))
    }

    f.H4 = function (b) {
        b.preventDefault();
        b = b.Ak();
        var c = b.Pe();
        b = 80 * (c.wheelDelta ? c.wheelDelta / 120 : b.detail / -3) / this.a.Af();
        b = +b.toFixed(3);
        this.a.vy(this.a.Ca() + b, this.a.sb().wy);
        this.dispatchEvent("zoomend")
    };
    f.UC = function (b) {
        b.preventDefault();
        delete this.ob;
        this.a.za.contains(new op(b.offsetX, b.offsetY)) ? (this.va = !0, this.R = null) : OG(this, b.offsetX, b.offsetY) ? (this.za = !0, this.g = null) : this.K || (b = b.offsetX, this.F = !0, this.Ub = wa(), this.Ea = b, this.KC = 0, this.dispatchEvent("panstart"))
    };
    f.XC = function (b) {
        b.preventDefault();
        var c = b.offsetX, d = b.offsetY;
        this.a.za.contains(new op(c, d)) || OG(this, c, d) || this.K || (b = b.offsetY, this.w = !0, this.sc = wa(), this.La = b, this.U = 0, this.dispatchEvent("panystart"))
    };
    f.RC = function (b) {
        var c = b.offsetX, d = b.offsetY;
        this.a.za.contains(new op(c, d)) || OG(this, c, d) || ((c = b && b.Ak && b.Ak().Pe && b.Ak().Pe()) && window.TouchEvent && c instanceof TouchEvent && c.touches && 2 == c.touches.length ? (b = b.Ak().Pe(), !1 !== b.cancelable && (b.preventDefault(), b.stopPropagation(), b = b.touches, c = Math.sqrt(Math.pow(b[1].screenX - b[0].screenX, 2) + Math.pow(b[1].screenY - b[0].screenY, 2)), b = this.ob - c, this.ob = c, !isNaN(b) && 1 < Math.abs(b) && (c = 0 < b ? -1 : 1, b = 4 * Math.abs(b) / this.a.Af(), b = b.toFixed(3), this.a.vy(this.a.Ca() +
            c * b, this.a.sb().wy), this.dispatchEvent("zoomend")))) : this.F && (b = b.offsetX, c = this.Ea - b, Math.abs(c) > this.Oc && (this.Gh = c - c % this.Oc, this.KC += this.Gh, this.dispatchEvent("panmove"), this.Ea = b)))
    };
    f.UR = function (b) {
        var c = b.clientX;
        if (this.va) {
            var d = null == this.R ? 0 : this.R - c;
            if (1 < Math.abs(d) || null == this.R) {
                var e = 0 < d ? 1 : -1, d = 4 * Math.abs(d) / this.a.Af(), d = d.toFixed(3);
                this.a.vy(this.a.Ca() + e * d, this.a.sb().wy);
                this.dispatchEvent("zoomend");
                this.R = c
            }
        }
        c = b.clientY;
        if (this.za) {
            e = null == this.g ? 0 : this.g - c;
            if (1 < Math.abs(e) || null == this.g) {
                var d = this.a.vb(), h = d.g / d.jf;
                d.a += e * h;
                1E7 < d.a ? d.a = 1E7 : -1E7 > d.a && (d.a = -1E7);
                d.oc += e * h;
                d.nc -= e * h;
                d.Pc();
                this.a.Ia();
                this.g = c
            }
            !this.a.j.Yi && bc(this.a.vb()) ? (this.a.Ok(!0), this.m =
                !0) : this.a.j.Yi && !bc(this.a.vb()) && this.m && (this.a.Ok(!1), this.m = !0)
        }
        K.enable(this.a.a, "w-x", this.a.za.contains(new op(b.offsetX, b.offsetY)));
        K.enable(this.a.a, "y-x", OG(this, b.offsetX, b.offsetY))
    };
    f.WC = function (b) {
        if (this.w) {
            b = b.offsetY;
            var c = this.La - b;
            Math.abs(c) > this.Oc && (this.deltaY = c - c % this.Oc, this.U += this.deltaY, this.dispatchEvent("panymove"), this.La = b)
        }
    };
    f.ev = function () {
        if (this.F) {
            this.F = !1;
            this.dispatchEvent("panend");
            var b = wa() - this.Ub;
            this.Sd = this.KC / b * 50;
            this.Rb = wa();
            requestAnimationFrame(this.hF, this.a.a)
        }
    };
    f.fv = function () {
        if (this.w) {
            this.w = !1;
            this.dispatchEvent("panyend");
            var b = wa() - this.sc;
            this.gc = this.U / b * 50;
            this.Hb = wa();
            requestAnimationFrame(this.gF, this.a.a)
        }
    };
    f.hF = function () {
        var b = wa() - this.Rb, b = this.Sd * Math.pow(.7, b / 25) | 0;
        1 < Math.abs(b) && requestAnimationFrame(this.hF, this.a.a);
        this.Gh = b - b % this.Oc;
        this.dispatchEvent("panmomentum")
    };
    f.gF = function () {
        var b = wa() - this.Hb, b = this.gc * Math.pow(.7, b / 25) | 0;
        1 < Math.abs(b) && requestAnimationFrame(this.gF, this.a.a);
        this.deltaY = b - b % this.Oc;
        this.dispatchEvent("panymomentum")
    };
    f.XY = function (b) {
        b.preventDefault();
        this.K = !0;
        this.w = this.F = !1;
        this.dispatchEvent("zoomstart")
    };
    f.VY = function (b) {
        b.preventDefault();
        this.K && (this.scale = b.scale, this.dispatchEvent("zoomchange"))
    };
    f.WY = function (b) {
        b.preventDefault();
        this.K = !1;
        this.dispatchEvent("zoomend")
    };
    f.sQ = function () {
        this.za = this.va = !1;
        this.g = null
    };

    function OG(b, c, d) {
        b.Ya || (b.Ya = b.a.qd("D".toString()).mk);
        return b.Ya.rm.contains(new op(c, d))
    };

    function PG(b) {
        Q.call(this);
        this.ra = new fu(this);
        Id(this, this.ra);
        b && QG(this, b)
    }

    B(PG, Q);
    var sp = "touchstart", tp = "touchmove", Nx = "mousedown", Mx = "dblclick", rx = "mouseout", lx = "mousemove",
        RG = {
            i3: sp,
            h3: tp,
            g3: "touchend",
            wZ: Nx,
            KB: Mx,
            zZ: "mouseup",
            yZ: rx,
            xZ: lx,
            gja: "mousewheel",
            Via: "middlemousedown",
            gia: "gesturestart",
            eia: "gesturechange",
            fia: "gestureend"
        };

    function QG(b, c) {
        b.g && b.ra.ud();
        b.g = c;
        b.a && b.a.Ra();
        b.a = new vw(b.g);
        b.ra.C(b.g, [sp, tp, "touchend", Nx, Mx, "mouseup", lx, rx, "gesturestart", "gesturechange", "gestureend"], b.Vy);
        b.ra.C(b.a, "mousewheel", function (b) {
            b.stopPropagation();
            b.preventDefault();
            this.Vy(b)
        })
    }

    PG.prototype.Vy = function (b) {
        if (b.type == Nx && 1 == b.button) return b = new Kt(b.Pe()), b.type = "middlemousedown", this.dispatchEvent(new SG(b));
        this.dispatchEvent(new SG(b))
    };

    function SG(b, c) {
        b && this.init(b, c)
    }

    B(SG, cf);
    SG.prototype.init = function (b, c) {
        this.type = b.type;
        cf.call(this, this.type);
        this.target = b.target;
        this.currentTarget = c;
        var d = b.Pe().touches;
        ja(d) ? 1 == d.length && (this.offsetX = d[0].pageX, this.offsetY = d[0].pageY) : (this.offsetX = b.offsetX, this.offsetY = b.offsetY);
        this.scale = b.Pe().scale;
        this.detail = b.detail;
        this.yf = b;
        b.defaultPrevented && this.preventDefault();
        delete this.fq
    };
    SG.prototype.Ak = function () {
        return this.yf
    };

    function TF(b, c, d) {
        Q.call(this);
        this.target = b;
        this.handle = c || b;
        this.w = d || new Ip(NaN, NaN, NaN, NaN);
        this.Wb = ps(b);
        this.a = new fu(this);
        Id(this, this.a);
        this.deltaY = this.deltaX = this.R = this.K = this.screenY = this.screenX = this.clientY = this.clientX = 0;
        this.Za = !0;
        this.m = this.g = !1;
        Qt(this.handle, ["touchstart", "mousedown"], this.gY, !1, this)
    }

    B(TF, Q);
    var TG = ba.document && ba.document.documentElement && !!ba.document.documentElement.setCapture && !!ba.document.releaseCapture;
    f = TF.prototype;
    f.S = function () {
        return this.a
    };

    function UF(b, c) {
        b.w = c || new Ip(NaN, NaN, NaN, NaN)
    }

    f.lr = function () {
        return this.Za
    };
    f.Ba = function (b) {
        this.Za = b
    };
    f.Ma = function () {
        TF.P.Ma.call(this);
        Yt(this.handle, ["touchstart", "mousedown"], this.gY, !1, this);
        this.a.ud();
        TG && this.Wb.releaseCapture();
        this.handle = this.target = null
    };

    function UG(b) {
        ca(b.wo) || (b.wo = sG(b.target));
        return b.wo
    }

    f.gY = function (b) {
        var c = "mousedown" == b.type;
        if (!this.Za || this.g || c && !Mt(b)) this.dispatchEvent("earlycancel"); else if (this.dispatchEvent(new VG("start", this, b.clientX, b.clientY))) {
            this.g = !0;
            c && b.preventDefault();
            var c = this.Wb, d = c.documentElement, e = !TG;
            this.a.C(c, ["touchmove", "mousemove"], this.u$, e);
            this.a.C(c, ["touchend", "mouseup"], this.aD, e);
            TG ? (d.setCapture(!1), this.a.C(d, "losecapture", this.aD)) : this.a.C(ys(c), "blur", this.aD);
            this.U && this.a.C(this.U, "scroll", this.Bba, e);
            this.clientX = this.K = b.clientX;
            this.clientY = this.R = b.clientY;
            this.screenX = b.screenX;
            this.screenY = b.screenY;
            this.m ? (b = this.target, c = b.offsetLeft, d = b.offsetParent, d || "fixed" != $F(b) || (d = ps(b).documentElement), d ? (Mr ? (e = hG(d), c += e.left) : Xr(8) && !Xr(9) && (e = hG(d), c -= e.left), b = sG(d) ? d.clientWidth - (c + b.offsetWidth) : c) : b = c) : b = this.target.offsetLeft;
            this.deltaX = b;
            this.deltaY = this.target.offsetTop;
            this.F = ft(ns(this.Wb))
        }
    };
    f.aD = function (b) {
        this.a.ud();
        TG && this.Wb.releaseCapture();
        if (this.g) {
            this.g = !1;
            var c = WG(this, this.deltaX), d = XG(this, this.deltaY);
            this.dispatchEvent(new VG("end", this, b.clientX, b.clientY, 0, c, d))
        } else this.dispatchEvent("earlycancel")
    };
    f.u$ = function (b) {
        if (this.Za) {
            var c = (this.m && UG(this) ? -1 : 1) * (b.clientX - this.clientX), d = b.clientY - this.clientY;
            this.clientX = b.clientX;
            this.clientY = b.clientY;
            this.screenX = b.screenX;
            this.screenY = b.screenY;
            if (!this.g) {
                var e = this.K - this.clientX, h = this.R - this.clientY;
                if (0 < e * e + h * h) if (this.dispatchEvent(new VG("start", this, b.clientX, b.clientY))) this.g = !0; else {
                    this.Ap || this.aD(b);
                    return
                }
            }
            d = YG(this, c, d);
            c = d.x;
            d = d.y;
            this.g && this.dispatchEvent(new VG("beforedrag", this, b.clientX, b.clientY, 0, c, d)) && (this.dv(b, c,
                d, !1), b.preventDefault())
        }
    };

    function YG(b, c, d) {
        var e = ft(ns(b.Wb));
        c += e.x - b.F.x;
        d += e.y - b.F.y;
        b.F = e;
        b.deltaX += c;
        b.deltaY += d;
        c = WG(b, b.deltaX);
        b = XG(b, b.deltaY);
        return new op(c, b)
    }

    f.Bba = function (b) {
        var c = YG(this, 0, 0);
        b.clientX = this.clientX;
        b.clientY = this.clientY;
        this.dv(b, c.x, c.y, !0)
    };
    f.dv = function (b, c, d) {
        this.oJ(c, d);
        this.dispatchEvent(new VG("drag", this, b.clientX, b.clientY, 0, c, d))
    };

    function WG(b, c) {
        var d = b.w, e = isNaN(d.left) ? null : d.left, d = isNaN(d.width) ? 0 : d.width;
        return Math.min(null != e ? e + d : Infinity, Math.max(null != e ? e : -Infinity, c))
    }

    function XG(b, c) {
        var d = b.w, e = isNaN(d.top) ? null : d.top, d = isNaN(d.height) ? 0 : d.height;
        return Math.min(null != e ? e + d : Infinity, Math.max(null != e ? e : -Infinity, c))
    }

    f.oJ = function (b, c) {
        this.m && UG(this) ? this.target.style.right = b + "px" : this.target.style.left = b + "px";
        this.target.style.top = c + "px"
    };

    function VG(b, c, d, e, h, k, l) {
        cf.call(this, b);
        this.clientX = d;
        this.clientY = e;
        this.left = ca(k) ? k : c.deltaX;
        this.top = ca(l) ? l : c.deltaY;
        this.a = c
    }

    B(VG, cf);

    function ZG(b, c, d, e, h, k, l, p, q) {
        var r = $G(d), t = oG(b), u = eG(b);
        u && t.oL(new Ip(u.left, u.top, u.right - u.left, u.bottom - u.top));
        var u = ns(b), x = ns(d);
        if (u.Wb != x.Wb) {
            var A = u.Wb.body;
            var x = dt(x), C = new op(0, 0), I = ys(ps(A));
            if (th(I, "parent")) {
                var N = A;
                do {
                    var S = I == x ? fG(N) : lG(N);
                    C.x += S.x;
                    C.y += S.y
                } while (I && I != x && I != I.parent && (N = I.frameElement) && (I = I.parent))
            }
            A = qp(C, fG(A));
            !Jr || Xr(9) || et(u) || (A = qp(A, ft(u)));
            t.left += A.x;
            t.top += A.y
        }
        b = aH(b, c);
        c = t.left;
        b & 4 ? c += t.width : b & 2 && (c += t.width / 2);
        t = new op(c, t.top + (b & 1 ? t.height : 0));
        t = qp(t, r);
        h && (t.x += (b & 4 ? -1 : 1) * h.x, t.y += (b & 1 ? -1 : 1) * h.y);
        var T;
        if (l) if (q) T = q; else if (T = eG(d)) T.top -= r.y, T.right -= r.x, T.bottom -= r.y, T.left -= r.x;
        return bH(t, d, e, k, T, l, p)
    }

    function $G(b) {
        var c;
        if (b = b.offsetParent) {
            var d = b.tagName == me || b.tagName == Yd;
            d && "static" == $F(b) || (c = fG(b), d || (d = (d = sG(b)) && Mr ? -b.scrollLeft : !d || Lr && Wr("8") || "visible" == ZF(b, "overflowX") ? b.scrollLeft : b.scrollWidth - b.clientWidth - b.scrollLeft, c = qp(c, new op(d, b.scrollTop))))
        }
        return c || new op
    }

    function bH(b, c, d, e, h, k, l) {
        b = b.clone();
        var p = aH(c, d);
        d = PF(c);
        l = l ? l.clone() : d.clone();
        b = b.clone();
        l = l.clone();
        var q = 0;
        if (e || 0 != p) p & 4 ? b.x -= l.width + (e ? e.right : 0) : p & 2 ? b.x -= l.width / 2 : e && (b.x += e.left), p & 1 ? b.y -= l.height + (e ? e.bottom : 0) : e && (b.y += e.top);
        if (k) {
            if (h) {
                e = b;
                p = l;
                q = 0;
                65 == (k & 65) && (e.x < h.left || e.x >= h.right) && (k &= -2);
                132 == (k & 132) && (e.y < h.top || e.y >= h.bottom) && (k &= -5);
                e.x < h.left && k & 1 && (e.x = h.left, q |= 1);
                if (k & 16) {
                    var r = e.x;
                    e.x < h.left && (e.x = h.left, q |= 4);
                    e.x + p.width > h.right && (p.width = Math.min(h.right - e.x,
                        r + p.width - h.left), p.width = Math.max(p.width, 0), q |= 4)
                }
                e.x + p.width > h.right && k & 1 && (e.x = Math.max(h.right - p.width, h.left), q |= 1);
                k & 2 && (q = q | (e.x < h.left ? 16 : 0) | (e.x + p.width > h.right ? 32 : 0));
                e.y < h.top && k & 4 && (e.y = h.top, q |= 2);
                k & 32 && (r = e.y, e.y < h.top && (e.y = h.top, q |= 8), e.y + p.height > h.bottom && (p.height = Math.min(h.bottom - e.y, r + p.height - h.top), p.height = Math.max(p.height, 0), q |= 8));
                e.y + p.height > h.bottom && k & 4 && (e.y = Math.max(h.bottom - p.height, h.top), q |= 2);
                k & 8 && (q = q | (e.y < h.top ? 64 : 0) | (e.y + p.height > h.bottom ? 128 : 0));
                h = q
            } else h =
                256;
            q = h
        }
        h = new Ip(0, 0, 0, 0);
        h.left = b.x;
        h.top = b.y;
        h.width = l.width;
        h.height = l.height;
        b = q;
        if (b & 496) return b;
        tu(c, new op(h.left, h.top));
        l = h.ie();
        Rg(d, l) || wG(c, l);
        return b
    }

    function aH(b, c) {
        return (c & 8 && sG(b) ? c ^ 4 : c) & -9
    };

    function cH(b, c, d) {
        this.element = b;
        this.a = c;
        this.lM = d
    }

    B(cH, ph);
    cH.prototype.xe = function (b, c, d) {
        ZG(this.element, this.a, b, c, void 0, d, this.lM)
    };

    function dH(b, c, d, e) {
        cH.call(this, b, c);
        this.m = d ? 5 : 0;
        this.w = e || void 0
    }

    B(dH, cH);
    dH.prototype.F = function () {
        return this.m
    };
    dH.prototype.g = function (b) {
        this.m = b
    };
    dH.prototype.xe = function (b, c, d, e) {
        var h = ZG(this.element, this.a, b, c, null, d, 10, e, this.w);
        if (h & 496) {
            var k = eH(h, this.a);
            c = eH(h, c);
            h = ZG(this.element, k, b, c, null, d, 10, e, this.w);
            h & 496 && (k = eH(h, k), c = eH(h, c), ZG(this.element, k, b, c, null, d, this.m, e, this.w))
        }
    };

    function eH(b, c) {
        b & 48 && (c ^= 4);
        b & 192 && (c ^= 1);
        return c
    };

    function fH(b, c) {
        this.a = b instanceof op ? b : new op(b, c)
    }

    B(fH, ph);
    fH.prototype.xe = function (b, c, d, e) {
        var h;
        h = ps(b);
        var k = h.body;
        h = h.documentElement;
        h = new op(k.scrollLeft || h.scrollLeft, k.scrollTop || h.scrollTop);
        k = this.a.x + h.x;
        h = this.a.y + h.y;
        var l = $G(b), k = k - l.x;
        h -= l.y;
        bH(new op(k, h), b, c, d, null, null, e)
    };

    function gH(b, c, d, e) {
        dH.call(this, b, c, d || e);
        (d || e) && this.g(65 | (e ? 32 : 132))
    }

    B(gH, dH);

    function hH(b, c) {
        fH.call(this, b, c)
    }

    B(hH, fH);
    hH.prototype.m = 0;
    hH.prototype.g = function (b) {
        this.m = b
    };
    hH.prototype.xe = function (b, c, d, e) {
        var h = bG(b), h = eG(h), k;
        k = ns(b);
        k = xs(k.Wb);
        k = new op(this.a.x + k.scrollLeft, this.a.y + k.scrollTop);
        var l = c, p = bH(k, b, l, d, h, 10, e);
        if (0 != (p & 496)) {
            if (p & 16 || p & 32) l ^= 4;
            if (p & 64 || p & 128) l ^= 1;
            p = bH(k, b, l, d, h, 10, e);
            0 != (p & 496) && bH(k, b, c, d, h, this.m, e)
        }
    };

    function iH(b, c) {
        this.a = b instanceof op ? b : new op(b, c)
    }

    B(iH, ph);
    iH.prototype.xe = function (b, c, d, e) {
        ZG(bG(b), 0, b, c, this.a, d, null, e)
    };

    function jH(b, c) {
        Q.call(this);
        this.Er = b || 1;
        this.a = c || ba;
        this.g = v(this.Ffa, this);
        this.m = wa()
    }

    B(jH, Q);
    f = jH.prototype;
    f.enabled = !1;
    f.Vn = null;
    f.Y = function () {
        return this.Er
    };
    f.Ffa = function () {
        if (this.enabled) {
            var b = wa() - this.m;
            0 < b && b < .8 * this.Er ? this.Vn = this.a.setTimeout(this.g, this.Er - b) : (this.Vn && (this.a.clearTimeout(this.Vn), this.Vn = null), this.dispatchEvent("tick"), this.enabled && (this.Vn = this.a.setTimeout(this.g, this.Er), this.m = wa()))
        }
    };
    f.start = function () {
        this.enabled = !0;
        this.Vn || (this.Vn = this.a.setTimeout(this.g, this.Er), this.m = wa())
    };
    f.stop = function () {
        this.enabled = !1;
        this.Vn && (this.a.clearTimeout(this.Vn), this.Vn = null)
    };
    f.Ma = function () {
        jH.P.Ma.call(this);
        this.stop();
        delete this.a
    };

    function kH(b, c, d) {
        if (oa(b)) d && (b = v(b, d)); else if (b && "function" == typeof b.handleEvent) b = v(b.handleEvent, b); else throw Error("Invalid listener argument");
        return 2147483647 < Number(c) ? -1 : ba.setTimeout(b, c || 0)
    }

    function lH(b) {
        ba.clearTimeout(b)
    };

    function wu(b, c, d) {
        Fd.call(this);
        this.a = b;
        this.Er = c || 0;
        this.ic = d;
        this.Jj = v(this.v8, this)
    }

    B(wu, Fd);
    f = wu.prototype;
    f.Ib = 0;
    f.Ma = function () {
        wu.P.Ma.call(this);
        this.stop();
        delete this.a;
        delete this.ic
    };
    f.start = function (b) {
        this.stop();
        this.Ib = kH(this.Jj, ca(b) ? b : this.Er)
    };
    f.stop = function () {
        this.Id() && lH(this.Ib);
        this.Ib = 0
    };
    f.Id = function () {
        return 0 != this.Ib
    };
    f.v8 = function () {
        this.Ib = 0;
        this.a && this.a.call(this.ic)
    };

    function mH(b) {
        Q.call(this);
        this.a = null;
        this.Da = b;
        b = Jr || Kr || Nr && !Wr("531") && b.tagName == Te;
        this.g = new fu(this);
        this.g.C(this.Da, b ? ["keydown", "paste", "cut", "drop", "input"] : "input", this)
    }

    B(mH, Q);
    mH.prototype.handleEvent = function (b) {
        if ("input" == b.type) Jr && Wr(10) && 0 == b.keyCode && 0 == b.charCode || (nH(this), this.dispatchEvent(oH(b))); else if ("keydown" != b.type || IE(b)) {
            var c = "keydown" == b.type ? this.Da.value : null;
            Jr && 229 == b.keyCode && (c = null);
            var d = oH(b);
            nH(this);
            this.a = kH(function () {
                this.a = null;
                this.Da.value != c && this.dispatchEvent(d)
            }, 0, this)
        }
    };

    function nH(b) {
        null != b.a && (lH(b.a), b.a = null)
    }

    function oH(b) {
        b = new Kt(b.Pe());
        b.type = "input";
        return b
    }

    mH.prototype.Ma = function () {
        mH.P.Ma.call(this);
        this.g.Ra();
        nH(this);
        delete this.Da
    };
    var pH = {}, qH = null;

    function rH(b) {
        b = qa(b);
        delete pH[b];
        ch(pH) && qH && qH.stop()
    }

    function sH() {
        qH || (qH = new wu(function () {
            tH()
        }, 20));
        var b = qH;
        b.Id() || b.start()
    }

    function tH() {
        var b = wa();
        La(pH, function (c) {
            uH(c, b)
        });
        ch(pH) || sH()
    };

    function vH(b, c, d, e) {
        WE.call(this);
        if (!ia(b) || !ia(c)) throw Error("Start and end parameters must be arrays");
        if (b.length != c.length) throw Error("Start and end points must be the same length");
        this.g = b;
        this.R = c;
        this.K = d;
        this.F = e;
        this.a = [];
        this.m = !1;
        this.Fg = 0
    }

    B(vH, WE);
    f = vH.prototype;
    f.play = function (b) {
        if (b || this.Ta == XE) this.Fg = 0, this.a = this.g; else if (1 == this.Ta) return !1;
        rH(this);
        this.startTime = b = wa();
        -1 == this.Ta && (this.startTime -= this.K * this.Fg);
        this.endTime = this.startTime + this.K;
        this.Fg || this.lw();
        this.Ui("play");
        -1 == this.Ta && this.Ui("resume");
        this.Ta = 1;
        var c = qa(this);
        c in pH || (pH[c] = this);
        sH();
        uH(this, b);
        return !0
    };
    f.stop = function (b) {
        rH(this);
        this.Ta = XE;
        b && (this.Fg = 1);
        wH(this, this.Fg);
        this.Ui("stop");
        this.Nr()
    };
    f.pause = function () {
        1 == this.Ta && (rH(this), this.Ta = -1, this.Ui("pause"))
    };
    f.Ma = function () {
        this.Ta == XE || this.stop(!1);
        this.Ui("destroy");
        vH.P.Ma.call(this)
    };
    f.IC = function () {
        this.Ra()
    };

    function uH(b, c) {
        c < b.startTime && (b.endTime = c + b.endTime - b.startTime, b.startTime = c);
        b.Fg = (c - b.startTime) / (b.endTime - b.startTime);
        1 < b.Fg && (b.Fg = 1);
        wH(b, b.Fg);
        1 == b.Fg ? (b.Ta = XE, rH(b), b.Ui("finish"), b.Nr()) : 1 == b.Ta && b.bM()
    }

    function wH(b, c) {
        oa(b.F) && (c = b.F(c));
        b.a = Array(b.g.length);
        for (var d = 0; d < b.g.length; d++) b.a[d] = (b.R[d] - b.g[d]) * c + b.g[d]
    }

    f.bM = function () {
        this.Ui("animate")
    };
    f.Ui = function (b) {
        this.dispatchEvent(new xH(b, this))
    };

    function xH(b, c) {
        cf.call(this, b);
        this.x = c.a[0];
        this.y = c.a[1];
        this.Fg = c.Fg;
        this.state = c.Ta
    }

    B(xH, cf);

    function yH(b, c, d, e, h) {
        vH.call(this, c, d, e, h);
        this.element = b
    }

    B(yH, vH);
    f = yH.prototype;
    f.Bx = da;
    f.Pm = function () {
        ca(this.wo) || (this.wo = sG(this.element));
        return this.wo
    };
    f.bM = function () {
        this.Bx();
        yH.P.bM.call(this)
    };
    f.Nr = function () {
        this.Bx();
        yH.P.Nr.call(this)
    };
    f.lw = function () {
        this.Bx();
        yH.P.lw.call(this)
    };

    function zH(b, c, d, e, h) {
        if (2 != c.length || 2 != d.length) throw Error("Start and end points must be 2D");
        yH.apply(this, arguments)
    }

    B(zH, yH);
    zH.prototype.Bx = function () {
        var b = this.m && this.Pm() ? "right" : "left";
        this.element.style[b] = Math.round(this.a[0]) + "px";
        this.element.style.top = Math.round(this.a[1]) + "px"
    };

    function AH(b, c, d, e, h) {
        yH.call(this, b, [c], [d], e, h)
    }

    B(AH, yH);
    AH.prototype.Bx = function () {
        this.element.style.width = Math.round(this.a[0]) + "px"
    };

    function BH(b, c, d, e, h) {
        ma(c) && (c = [c]);
        ma(d) && (d = [d]);
        yH.call(this, b, c, d, e, h);
        if (1 != c.length || 1 != d.length) throw Error("Start and end points must be 1D");
        this.w = CH
    }

    B(BH, yH);
    var DH = 1 / 1024, CH = -1;
    f = BH.prototype;
    f.Bx = function () {
        var b = this.a[0];
        Math.abs(b - this.w) >= DH && (pG(this.element, b), this.w = b)
    };
    f.lw = function () {
        this.w = CH;
        BH.P.lw.call(this)
    };
    f.Nr = function () {
        this.w = CH;
        BH.P.Nr.call(this)
    };
    f.show = function () {
        this.element.style.display = ""
    };
    f.wr = function () {
        this.element.style.display = "none"
    };

    function EH(b, c, d) {
        BH.call(this, b, 1, 0, c, d)
    }

    B(EH, BH);

    function FH(b, c, d) {
        BH.call(this, b, 0, 1, c, d)
    }

    B(FH, BH);

    function GH(b) {
        Q.call(this);
        this.ra = new fu(this);
        this.a = new Ip(0, 0, 330, 45);
        b && this.If(b)
    }

    B(GH, Q);
    f = GH.prototype;
    f.N = function () {
        this.j || (this.j = {
            position: "righttop",
            bY: 3E3,
            message: "",
            background: this.o.fa().j.ke,
            color: this.o.fa().j.Yc,
            borderColor: this.o.fa().sv(),
            borderRadius: 0,
            margin: 5
        });
        return this.j
    };
    f.If = function (b) {
        this.o = b
    };
    f.setPosition = function (b) {
        this.N().position = b
    };
    f.Rk = function (b) {
        this.N().message = b
    };

    function HH(b, c) {
        b.N().bY = c
    }

    f.gn = function (b) {
        this.a.width = b
    };
    f.zo = function (b) {
        this.a.height = b
    };
    f.Nk = function (b) {
        this.N().background = b
    };
    f.Ab = function (b) {
        this.N().color = b
    };
    f.jN = function (b) {
        this.N().borderColor = b
    };
    f.Rw = function (b) {
        this.N().margin = b
    };

    function IH(b) {
        switch (b.N().position) {
            case "lefttop":
                b.a.left = b.N().margin;
                b.a.top = b.N().margin;
                break;
            case "leftbottom":
                b.a.left = b.N().margin;
                b.a.top = xu(b.o).height - b.a.height - b.N().margin;
                break;
            case "righttop":
                b.a.left = xu(b.o).width - b.a.width - b.N().margin;
                b.a.top = b.N().margin;
                break;
            case "rightbottom":
                b.a.left = xu(b.o).width - b.a.width - b.N().margin;
                b.a.top = xu(b.o).height - b.a.height - b.N().margin;
                break;
            case "center":
                b.a.left = (xu(b.o).width - b.a.width) / 2;
                b.a.top = (xu(b.o).height - b.a.height) / 2;
                break;
            case "centertop":
                b.a.left =
                    (xu(b.o).width - b.a.width) / 2;
                b.a.top = b.N().margin;
                break;
            case "centerbottom":
                b.a.left = (xu(b.o).width - b.a.width) / 2;
                b.a.top = xu(b.o).height - b.a.height - b.N().margin;
                break;
            case "leftmiddle":
                b.a.left = b.N().margin;
                b.a.top = (xu(b.o).height - b.a.height) / 2;
                break;
            case "rightmiddle":
                b.a.left = xu(b.o).width - b.a.width - b.N().margin;
                b.a.top = (xu(b.o).height - b.a.height) / 2;
                break;
            default:
                console && console.warn("Unknown position specified. Can not prepare tooltip position.")
        }
    }

    function JH(b) {
        var c = b.o.M(), d = NF;
        c.append(b.o.Fb, b.g = c.u(D, d + "-R", b.N().message));
        IH(b);
        K.enable(b.g, d + "-R-S", !0);
        tu(b.g, b.a.left, b.a.top);
        JF(b.g, b.a.width, b.a.height);
        ht(b.g, "background", b.N().background);
        ht(b.g, "color", b.N().color);
        ht(b.g, "border-color", b.N().borderColor);
        ht(b.g, "border-radius", b.N().borderRadius + "px");
        ht(b.g, "line-height", b.a.height + "px");
        b.ra.ud();
        b.ra.Qf(b.g, "click", b.aS);
        b.m = setTimeout(function () {
            b.aS()
        }, b.N().bY)
    }

    f.aS = function () {
        var b = this.o.M(), c = NF, d = this;
        this.m && clearTimeout(this.m);
        this.g && (K.enable(this.g, c + "-R-S", !1), c = new EH(this.g, 200), Qt(c, "end", function () {
            b.removeNode(d.g);
            delete d.g
        }), c.play())
    };
    f.J = function () {
        return this.g
    };
    f.clear = function () {
        this.m && clearTimeout(this.m);
        this.g && (Ls(this.g), delete this.g)
    };

    function KH(b) {
        Q.call(this);
        this.ob = new Rq;
        this.ka = b || null;
        this.g = !1;
        this.ia = this.Lc = null;
        this.w = this.La = this.U = "";
        this.F = this.za = this.R = this.va = !1;
        this.K = 0;
        this.m = null;
        this.Ya = LH;
        this.$ = this.Ea = !1
    }

    B(KH, Q);
    var LH = "";
    KH.prototype.a = is("goog.net.XhrIo");
    var MH = /^https?$/i, NH = ["POST", "PUT"], OH = [];

    function PH(b, c, d, e, h, k) {
        var l = new KH;
        OH.push(l);
        c && l.C("complete", c);
        l.Qf("ready", l.h4);
        h && (l.K = Math.max(0, h));
        k && (l.Ea = k);
        l.send(b, "POST", d, e);
        return l
    }

    f = KH.prototype;
    f.h4 = function () {
        this.Ra();
        mi(OH, this)
    };
    f.send = function (b, c, d, e) {
        if (this.Lc) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.U + "; newUri=" + b);
        c = c ? c.toUpperCase() : "GET";
        this.U = b;
        this.w = "";
        this.La = c;
        this.va = !1;
        this.g = !0;
        this.Lc = this.ka ? this.ka.a() : Kp.a();
        this.ia = this.ka ? this.ka.N() : Kp.N();
        this.Lc.onreadystatechange = v(this.bW, this);
        try {
            $E(this.a, QH(this, "Opening Xhr")), this.za = !0, this.Lc.open(c, String(b), !0), this.za = !1
        } catch (h) {
            $E(this.a, QH(this, "Error opening Xhr: " + h.message));
            RH(this, h);
            return
        }
        b = d || "";
        var k = this.ob.clone();
        e && Zq(e, function (b, c) {
            k.set(c, b)
        });
        e = fi(k.zl());
        d = ba.FormData && b instanceof ba.FormData;
        !ji(NH, c) || e || d || k.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
        k.forEach(function (b, c) {
            this.Lc.setRequestHeader(c, b)
        }, this);
        this.Ya && (this.Lc.responseType = this.Ya);
        "withCredentials" in this.Lc && this.Lc.withCredentials !== this.Ea && (this.Lc.withCredentials = this.Ea);
        try {
            SH(this), 0 < this.K && (this.$ = TH(this.Lc), $E(this.a, QH(this, "Will abort after " + this.K + "ms if incomplete, xhr2 " + this.$)), this.$ ?
                (this.Lc.timeout = this.K, this.Lc.ontimeout = v(this.Zk, this)) : this.m = kH(this.Zk, this.K, this)), $E(this.a, QH(this, "Sending request")), this.R = !0, this.Lc.send(b), this.R = !1
        } catch (l) {
            $E(this.a, QH(this, "Send error: " + l.message)), RH(this, l)
        }
    };

    function TH(b) {
        return Jr && Wr(9) && ma(b.timeout) && ca(b.ontimeout)
    }

    function hi(b) {
        return "content-type" == b.toLowerCase()
    }

    f.Zk = function () {
        "undefined" != typeof aa && this.Lc && (this.w = "Timed out after " + this.K + "ms, aborting", $E(this.a, QH(this, this.w)), this.dispatchEvent("timeout"), this.abort(8))
    };

    function RH(b, c) {
        b.g = !1;
        b.Lc && (b.F = !0, b.Lc.abort(), b.F = !1);
        b.w = c;
        UH(b);
        VH(b)
    }

    function UH(b) {
        b.va || (b.va = !0, b.dispatchEvent("complete"), b.dispatchEvent("error"))
    }

    f.abort = function () {
        this.Lc && this.g && ($E(this.a, QH(this, "Aborting")), this.g = !1, this.F = !0, this.Lc.abort(), this.F = !1, this.dispatchEvent("complete"), this.dispatchEvent("abort"), VH(this))
    };
    f.Ma = function () {
        this.Lc && (this.g && (this.g = !1, this.F = !0, this.Lc.abort(), this.F = !1), VH(this, !0));
        KH.P.Ma.call(this)
    };
    f.bW = function () {
        this.Ap || (this.za || this.R || this.F ? WH(this) : this.Aba())
    };
    f.Aba = function () {
        WH(this)
    };

    function WH(b) {
        if (b.g && "undefined" != typeof aa) if (b.ia[1] && 4 == XH(b) && 2 == b.Dl()) $E(b.a, QH(b, "Local request error detected and ignored")); else if (b.R && 4 == XH(b)) kH(b.bW, 0, b); else if (b.dispatchEvent("readystatechange"), b.HE()) {
            $E(b.a, QH(b, "Request complete"));
            b.g = !1;
            try {
                if (b.co()) b.dispatchEvent("complete"), b.dispatchEvent("success"); else {
                    var c;
                    try {
                        c = 2 < XH(b) ? b.Lc.statusText : ""
                    } catch (d) {
                        $E(b.a, "Can not get status: " + d.message), c = ""
                    }
                    b.w = c + " [" + b.Dl() + "]";
                    UH(b)
                }
            } finally {
                VH(b)
            }
        }
    }

    function VH(b, c) {
        if (b.Lc) {
            SH(b);
            var d = b.Lc, e = b.ia[0] ? da : null;
            b.Lc = null;
            b.ia = null;
            c || b.dispatchEvent("ready");
            try {
                d.onreadystatechange = e
            } catch (h) {
                (d = b.a) && d.log(bs, "Problem encountered resetting onreadystatechange: " + h.message, void 0)
            }
        }
    }

    function SH(b) {
        b.Lc && b.$ && (b.Lc.ontimeout = null);
        ma(b.m) && (lH(b.m), b.m = null)
    }

    f.Id = function () {
        return !!this.Lc
    };
    f.HE = function () {
        return 4 == XH(this)
    };
    f.co = function () {
        var b = this.Dl(), c;
        a:switch (b) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
                c = !0;
                break a;
            default:
                c = !1
        }
        if (!c) {
            if (b = 0 === b) b = String(this.U).match(jr)[1] || null, !b && ba.self && ba.self.location && (b = ba.self.location.protocol, b = b.substr(0, b.length - 1)), b = !MH.test(b ? b.toLowerCase() : "");
            c = b
        }
        return c
    };

    function XH(b) {
        return b.Lc ? b.Lc.readyState : 0
    }

    f.Dl = function () {
        try {
            return 2 < XH(this) ? this.Lc.status : -1
        } catch (b) {
            return -1
        }
    };
    f.Cl = function (b) {
        if (this.Lc) {
            var c = this.Lc.responseText;
            b && 0 == c.indexOf(b) && (c = c.substring(b.length));
            return Gg(c)
        }
    };

    function QH(b, c) {
        return c + " [" + b.La + " " + b.U + " " + b.Dl() + "]"
    };

    function YH(b) {
        Q.call(this);
        this.Bc = b || ns();
        this.wo = ZH;
        this.Ib = null;
        this.la = !1;
        this.Da = null;
        this.qr = void 0;
        this.cg = this.vc = this.pc = this.Fc = null;
        this.NY = !1
    }

    B(YH, Q);
    YH.prototype.fL = er.Ka();
    var ZH = null, $H = {};

    function aI(b, c) {
        switch (b) {
            case 1:
                return c ? "disable" : "enable";
            case 2:
                return c ? "highlight" : "unhighlight";
            case 4:
                return c ? "activate" : "deactivate";
            case 8:
                return c ? "select" : "unselect";
            case 16:
                return c ? "check" : "uncheck";
            case 32:
                return c ? "focus" : "blur";
            case 64:
                return c ? "open" : "close"
        }
        throw Error("Invalid component state");
    }

    f = YH.prototype;
    f.aa = function () {
        return this.Ib || (this.Ib = fr(this.fL))
    };
    f.$h = function (b) {
        this.pc && this.pc.cg && (eh(this.pc.cg, this.Ib), fh(this.pc.cg, b, this));
        this.Ib = b
    };
    f.J = function () {
        return this.Da
    };
    f.QJ = function (b) {
        return this.Da ? this.Bc.QJ(b, this.Da) : []
    };
    f.zD = function (b) {
        return this.Da ? this.Bc.zD(b, this.Da) : null
    };
    f.S = function () {
        this.qr || (this.qr = new fu(this));
        return this.qr
    };
    f.Tk = function (b) {
        if (this == b) throw Error("Unable to set parent component");
        if (b && this.pc && this.Ib && this.pc.Cm(this.Ib) && this.pc != b) throw Error("Unable to set parent component");
        this.pc = b;
        YH.P.Je.call(this, b)
    };
    f.getParent = function () {
        return this.pc
    };
    f.Je = function (b) {
        if (this.pc && this.pc != b) throw Error("Method not supported");
        YH.P.Je.call(this, b)
    };
    f.M = function () {
        return this.Bc
    };

    function bI(b) {
        return b.la
    }

    f.u = function () {
        this.Da = this.Bc.createElement(D)
    };
    f.T = function (b) {
        this.$g(b)
    };
    f.$g = function (b, c) {
        if (this.la) throw Error("Component already rendered");
        this.Da || this.u();
        b ? b.insertBefore(this.Da, c || null) : this.Bc.Wb.body.appendChild(this.Da);
        this.pc && !this.pc.la || this.oa()
    };
    f.Gc = function (b) {
        if (this.la) throw Error("Component already rendered");
        if (b && this.te(b)) {
            this.NY = !0;
            var c = ps(b);
            this.Bc && this.Bc.Wb == c || (this.Bc = ns(b));
            this.ua(b);
            this.oa()
        } else throw Error("Invalid element to decorate");
    };
    f.te = function () {
        return !0
    };
    f.ua = function (b) {
        this.Da = b
    };
    f.oa = function () {
        this.la = !0;
        cI(this, function (b) {
            !b.la && b.J() && b.oa()
        })
    };
    f.Oe = function () {
        cI(this, function (b) {
            b.la && b.Oe()
        });
        this.qr && this.qr.ud();
        this.la = !1
    };
    f.Ma = function () {
        this.la && this.Oe();
        this.qr && (this.qr.Ra(), delete this.qr);
        cI(this, function (b) {
            b.Ra()
        });
        !this.NY && this.Da && Ls(this.Da);
        this.pc = this.Fc = this.Da = this.cg = this.vc = null;
        YH.P.Ma.call(this)
    };
    f.qa = function () {
        return this.Fc
    };
    f.fe = function (b) {
        this.Fc = b
    };
    f.Va = function (b, c) {
        this.el(b, this.eg(), c)
    };
    f.el = function (b, c, d) {
        if (b.la && (d || !this.la)) throw Error("Component already rendered");
        if (0 > c || c > this.eg()) throw Error("Child component index out of bounds");
        this.cg && this.vc || (this.cg = {}, this.vc = []);
        if (b.getParent() == this) {
            var e = b.aa();
            this.cg[e] = b;
            mi(this.vc, b)
        } else fh(this.cg, b.aa(), b);
        b.Tk(this);
        ri(this.vc, c, 0, b);
        b.la && this.la && b.getParent() == this ? (d = this.Aa(), c = d.childNodes[c] || null, c != b.J() && d.insertBefore(b.J(), c)) : d ? (this.Da || this.u(), c = this.nd(c + 1), b.$g(this.Aa(), c ? c.Da : null)) : this.la && !b.la &&
            b.Da && b.Da.parentNode && 1 == b.Da.parentNode.nodeType && b.oa()
    };
    f.Aa = function () {
        return this.Da
    };
    f.Pm = function () {
        null == this.wo && (this.wo = sG(this.la ? this.Da : this.Bc.Wb.body));
        return this.wo
    };
    f.Ww = function (b) {
        if (this.la) throw Error("Component already rendered");
        this.wo = b
    };
    f.vr = function () {
        return !!this.vc && 0 != this.vc.length
    };
    f.eg = function () {
        return this.vc ? this.vc.length : 0
    };
    f.Cm = function (b) {
        return this.cg && b ? gh(this.cg, b) || null : null
    };
    f.nd = function (b) {
        return this.vc ? this.vc[b] || null : null
    };

    function cI(b, c, d) {
        b.vc && E(b.vc, c, d)
    }

    function dI(b, c) {
        return b.vc && c ? ai(b.vc, c) : -1
    }

    f.removeChild = function (b, c) {
        if (b) {
            var d = ka(b) ? b : b.aa();
            b = this.Cm(d);
            d && b && (eh(this.cg, d), mi(this.vc, b), c && (b.Oe(), b.Da && Ls(b.Da)), b.Tk(null))
        }
        if (!b) throw Error("Child is not in parent component");
        return b
    };
    f.RM = function (b, c) {
        return this.removeChild(this.nd(b), c)
    };
    f.me = function (b) {
        for (var c = []; this.vr();) c.push(this.RM(0, b));
        return c
    };

    function eI(b) {
        Fd.call(this);
        this.Bc = b || new os;
        this.ra = new fu(this);
        Id(this, this.ra);
        this.a = []
    }

    B(eI, Fd);
    f = eI.prototype;
    f.la = !1;
    f.M = function () {
        return this.Bc
    };
    f.S = function () {
        return this.ra
    };
    f.T = function () {
        if (this.la) throw Error("Stylesheet already rendered.");
        var b = this.M();
        b.append(rs(b.Wb, ke, void 0, void 0)[0], this.g = b.createElement(Ne));
        window.createPopup || this.g.appendChild(b.createTextNode(""));
        b = b.Wb.styleSheets;
        this.em = b[b.length - 1];
        this.la = !0
    };
    f.Ma = function () {
        this.S().ud();
        Ls(this.g);
        this.em = this.g = null;
        eI.P.Ma.call(this)
    };
    f.d5 = function (b) {
        b = b.target;
        var c = ai(this.a, b);
        if (-1 != c) {
            b = b.wv();
            var d = this.em || pt();
            if (d) {
                if (0 <= Number(c)) c = Number(c); else a:if (null.style && null.style["-closure-rule-index"]) c = null.style["-closure-rule-index"]; else {
                    c = d || pt();
                    if (!c) throw Error("Cannot find a parentStyleSheet.");
                    if ((c = ot(c)) && c.length) for (var e = 0, h = c.length, k; e < h; e++) if (k = c[e], null == k) {
                        c = e;
                        break a
                    }
                    c = -1
                }
                if (0 <= c) d.deleteRule ? d.deleteRule(c) : d.removeRule(c), qt(d, b, c); else throw Error("Cannot proceed without the index of the cssRule.");
            } else throw Error("Cannot proceed without the parentStyleSheet.");
        }
    };

    function fI(b, c) {
        if (!ji(b.a, c)) {
            var d = b.a.push(c) - 1;
            c.update();
            qt(b.em, c.wv(), d);
            b.S().C(c, "update", b.d5)
        }
    };

    function gI(b) {
        YH.call(this, b);
        b = this.g = new Nw;
        var c = new Pw;
        b.U = c;
        Mw(b.U, b);
        Id(this, this.g);
        this.w = new ow(this.g);
        Id(this, this.w);
        this.F = new GE;
        Id(this, this.F)
    }

    B(gI, YH);
    f = gI.prototype;
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        this.Da = b;
        K.add(b, "a-Z");
        var c = this.M();
        c.append(b, this.a = c.u(ae))
    };
    f.oa = function () {
        window.G_vmlCanvasManager && window.G_vmlCanvasManager.initElement(this.a);
        window.DC_nativeCanvasManager && window.DC_nativeCanvasManager.initElement(this.a);
        this.m = this.a.getContext("2d");
        qw(this.w, this.Aa());
        this.S().C(this.F, "resize", this.resize).C(this.g, ["move", "redraw", tw], this.Yl);
        this.Xd = nG(this.Aa());
        this.M().PX(this.a, {
            width: this.Xd.width * (window.devicePixelRatio || 1),
            height: this.Xd.height * (window.devicePixelRatio || 1)
        });
        JF(this.a, this.Xd);
        this.m.scale(window.devicePixelRatio ||
            1, window.devicePixelRatio || 1);
        this.g.vj(0, 0, this.Xd.width, this.Xd.height);
        this.g.bi(1, 1);
        this.g.Ol(!0);
        this.nD = v(this.nD, this);
        this.nD()
    };
    f.hS = null;
    f.nD = function () {
        this.Ia();
        this.hS = window.requestAnimationFrame(this.nD)
    };
    f.cancelAnimationFrame = function () {
        window.cancelAnimationFrame(this.hS)
    };
    f.resize = function () {
        var b = nG(this.Aa());
        if (b.width !== this.Xd.width || b.height !== this.Xd.height) this.Yl(), this.Xd.width = b.width, this.Xd.height = b.height, this.M().PX(this.a, {
            width: this.Xd.width * (window.devicePixelRatio || 1),
            height: this.Xd.height * (window.devicePixelRatio || 1)
        }), JF(this.a, this.Xd), this.m.scale(window.devicePixelRatio || 1, window.devicePixelRatio || 1), this.g.vj(0, 0, this.Xd.width, this.Xd.height), this.g.Ol(!0)
    };
    f.getContext = function () {
        return this.m
    };
    f.addElement = function (b) {
        this.g.Va(b);
        this.Yl()
    };
    f.Yl = function () {
        this.sl = !0
    };
    f.Ia = function () {
        this.sl && (this.m.clearRect(0, 0, this.Xd.width, this.Xd.height), this.g.Ol(), this.g.T(this), this.sl = !1)
    };

    function hI(b) {
        YH.call(this, b)
    }

    B(hI, YH);
    hI.prototype.l4 = "#ffffff";
    hI.prototype.QY = !0;

    function iI(b, c) {
        c = c || "1.0";
        b = b.replace("#", "");
        return "rgba(" + parseInt(b.substring(0, 2), 16) + "," + parseInt(b.substring(2, 4), 16) + "," + parseInt(b.substring(4, 6), 16) + "," + c + ")"
    };

    function jI(b, c) {
        YH.call(this, c);
        b && (this.w && this.S().wa(this.w), this.w = b, this.S().C(this.w, "change", this.zw));
        this.g = {};
        this.a = [];
        this.K = []
    }

    B(jI, YH);
    f = jI.prototype;
    f.u = function () {
        this.ua(this.Bc.createElement(D))
    };
    f.ua = function (b) {
        this.Da = b;
        K.add(b, "a-N-Rh-Y");
        var c = this.M();
        c.append(b, this.Fb = c.u(D, "a-N-Rh", this.$ = c.u(D, "a-N-Rh-B", c.u(Pe, null, this.R = c.u(Qe))), this.m = c.u(D, "a-N-Rh-Sh", c.u(Pe, null, this.F = c.u(Qe)))));
        this.Vr();
        this.zw();
        kI(this)
    };
    f.PV = !1;
    f.Vr = function () {
        var b = this.M();
        b.me(this.R);
        b.append(this.R, this.U = b.u(Ze));
        for (var c = 0, d = this.a.length; c < d; c++) b.append(this.U, this.a[c].Vr(b));
        b.append(this.U, b.u(Ve, "a-N-Rh-Vh-Cm"))
    };
    f.zw = function () {
        this.M().me(this.F);
        this.m.scrollTop = 0;
        var b = this.w;
        b.eB = this.ia;
        b.eB && Ec(b.ta, b.eB);
        b = this.w.filter(this.yk);
        lI(this, pi(b));
        kI(this)
    };

    function lI(b, c) {
        var d = b.M();
        b.PV = !0;
        d.append(b.F, ud(Sa(c, b.mca, b), function (b, c) {
            b.appendChild(c);
            return b
        }, document.createDocumentFragment(), b));
        b.PV = !1
    }

    f.mca = function (b) {
        for (var c = this.M(), d = c.u(Ze, "a-N-Rh-Th"), e = 0, h = this.K.length; e < h; e++) this.K[e](d, b);
        e = 0;
        for (h = this.a.length; e < h; e++) c.append(d, this.a[e].VM(c, b));
        c.append(d, c.u(Re, "a-N-Rh-Vh-Cm"));
        return d
    };
    f.y3 = function (b) {
        for (var c = 0, d = arguments.length; c < d; c++) {
            var e = arguments[c];
            this.g[e.getName()] = e;
            this.a.push(e)
        }
    };
    f.yk = rf;
    f.Zh = function (b) {
        this.yk = b;
        this.la && this.zw()
    };

    function mI(b, c) {
        b.ia = c;
        b.la && b.zw()
    }

    function kI(b) {
        ht(b.$, "padding-right", (b.m.offsetWidth - b.m.scrollWidth).toString() + "px")
    };

    function nI(b, c, d) {
        YH.call(this, b);
        this.mN(c || "#f00");
        this.Bb = d || "a-hsv-eh";
        this.Wb = ct(this.M())
    }

    B(nI, YH);
    f = nI.prototype;
    f.Jb = function () {
        return this.a
    };
    f.sR = function () {
        return 1
    };
    f.yY = function () {
        var b;
        try {
            b = hn(this.m.value).dj
        } catch (c) {
        }
        this.a != b && (this.m.value = this.a)
    };
    f.Ab = function (b) {
        b != this.a && (this.mN(b), this.Cx(), this.dispatchEvent("action"))
    };
    f.mN = function (b) {
        b = hn(b).dj;
        var c = pn(b), d = c[0], e = c[1], h = c[2], c = Math.max(Math.max(d, e), h), k = Math.min(Math.min(d, e), h);
        if (k == c) k = d = 0; else {
            var l = c - k, k = l / c, d = 60 * (d == c ? (e - h) / l : e == c ? 2 + (h - d) / l : 4 + (d - e) / l);
            0 > d && (d += 360);
            360 < d && (d -= 360)
        }
        this.g = [d, k, c];
        this.g[0] /= 360;
        this.a = b
    };

    function oI(b, c, d, e) {
        if (null != c || null != d || null != e) b.g[0] = null != c ? c : b.g[0], b.g[1] = null != d ? d : b.g[1], b.g[2] = null != e ? e : b.g[2], c = [360 * b.g[0], b.g[1], b.g[2]], c = nn(un(c[0], c[1], c[2])), b.a = c, b.Cx(), b.dispatchEvent("action")
    }

    f.te = function () {
        return !1
    };
    f.u = function () {
        var b = this.M(), c = Jr && !Wr("7") ? " " + (this.Bb + "-noalpha") : "";
        this.Da = b.u(D, this.Bb + c, b.u(D, this.Bb + "-fh-gh"), this.w = b.u(D, this.Bb + "-fh-hh", this.$ = b.u(D, this.Bb + "-fh-ih")), this.F = b.u(D, this.Bb + "-jh-hh"), this.za = b.u(D, this.Bb + "-jh-ih"), this.va = b.u(D, this.Bb + "-lh"), b.u("label", null, this.m = b.u("input", {
            "class": this.Bb + "-mh",
            type: "text",
            dir: "ltr"
        })))
    };
    f.oa = function () {
        nI.P.oa.call(this);
        this.Cx();
        var b = this.S();
        b.C(this.J(), "mousedown", this.Ck, !1, this);
        this.Sp || (this.Sp = new mH(this.m));
        b.C(this.Sp, "input", this.fU, !1, this)
    };
    f.Ma = function () {
        nI.P.Ma.call(this);
        delete this.w;
        delete this.$;
        delete this.F;
        delete this.za;
        delete this.va;
        delete this.m;
        this.Sp && (this.Sp.Ra(), delete this.Sp);
        Zt(this.ia);
        Zt(this.ka)
    };
    f.Cx = function () {
        if (this.la) {
            var b = this.g[1], c = this.g[2], d = this.w.offsetWidth * this.g[0];
            this.Pm() && (d = this.w.offsetWidth - d);
            var e = Math.ceil(this.$.offsetWidth / 2), d = d - e, b = this.w.offsetHeight * (1 - b),
                b = b - Math.ceil(this.$.offsetHeight / 2), e = this.$, h = this.Pm();
            null !== b && (e.style.top = b + "px");
            h ? (e.style.right = d + "px", e.style.left = "") : (e.style.left = d + "px", e.style.right = "");
            b = this.F.offsetTop - Math.floor(this.za.offsetHeight / 2) + (255 - c) / 255 * this.F.offsetHeight;
            this.za.style.top = b + "px";
            pG(this.w, c / 255);
            ht(this.F,
                "background-color", nn(un(360 * this.g[0], this.g[1], 255)));
            ht(this.va, "background-color", this.a);
            ht(this.va, "color", 127.5 < this.g[2] ? "#000" : "#fff");
            this.yY()
        }
    };
    f.Ck = function (b) {
        if (b.target == this.F || b.target == this.za) {
            var c = oG(this.F);
            this.rU(c, b);
            this.ia = Qt(this.Wb, "mousemove", v(this.rU, this, c));
            this.ka = Qt(this.Wb, "mouseup", this.Il, !1, this)
        } else if (b.target == this.w || b.target == this.$) c = oG(this.w), this.qU(c, b), this.ia = Qt(this.Wb, "mousemove", v(this.qU, this, c)), this.ka = Qt(this.Wb, "mouseup", this.Il, !1, this)
    };
    f.rU = function (b, c) {
        c.preventDefault();
        var d = ft(this.M()),
            d = Math.round(255 * (b.top + b.height - Math.min(Math.max(d.y + c.clientY, b.top), b.top + b.height)) / b.height);
        oI(this, null, null, d)
    };
    f.qU = function (b, c) {
        c.preventDefault();
        var d = ft(this.M()), e = (Math.min(Math.max(d.x + c.clientX, b.left), b.left + b.width) - b.left) / b.width,
            d = (-Math.min(Math.max(d.y + c.clientY, b.top), b.top + b.height) + b.top + b.height) / b.height;
        oI(this, e, d, null)
    };
    f.Il = function () {
        Zt(this.ia);
        Zt(this.ka)
    };
    f.fU = function () {
        /^#[0-9a-f]{6}$/i.test(this.m.value) && this.Ab(this.m.value)
    };
    yn = /^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d+)\)$/i;

    function pI(b, c, d, e) {
        nI.call(this, b, c, e);
        this.R = ca(d) ? d : 1;
        this.Bb = e || "a-dh-eh";
        this.Wb = b ? b.Wb : ct(ns())
    }

    B(pI, nI);
    f = pI.prototype;
    f.sR = function () {
        return this.R
    };

    function qI(b, c) {
        rI(b, b.a, c)
    }

    f.Ab = function (b) {
        var c, d, e;
        try {
            c = vn(b), d = Dn(c.dj, 0, 7), e = (parseInt(Dn(c.dj, 7, 9), 16) / 255).toFixed(2)
        } catch (h) {
            c = hn(b), d = c.dj, e = 1
        }
        rI(this, d, e)
    };

    function sI(b) {
        var c = Math.floor(255 * b.R).toString(16);
        return b.a + (1 == c.length ? "0" + c : c)
    }

    function rI(b, c, d) {
        var e = b.a != c, h = b.R != d;
        b.R = d;
        b.a = c;
        e && pI.P.mN.call(b, c);
        if (e || h) b.Cx(), b.dispatchEvent("action")
    }

    f.u = function () {
        pI.P.u.call(this);
        var b = this.M();
        this.K = b.u(D, this.Bb + "-kh-hh");
        this.U = b.u(D, this.Bb + "-kh-ih");
        this.Ea = b.u(D, this.Bb + "-lh-gh");
        b.appendChild(this.Da, this.K);
        b.appendChild(this.Da, this.U);
        b.appendChild(this.Da, this.Ea)
    };
    f.Ma = function () {
        pI.P.Ma.call(this);
        delete this.K;
        delete this.U;
        delete this.Ea
    };
    f.Cx = function () {
        pI.P.Cx.call(this);
        if (this.la) {
            var b = 255 * this.R;
            this.U.style.top = this.K.offsetTop - Math.floor(this.U.offsetHeight / 2) + (255 - b) / 255 * this.K.offsetHeight + "px";
            this.K.style.backgroundColor = this.a;
            pG(this.va, b / 255)
        }
    };
    f.yY = function () {
        xi([this.a, this.R], tI(this.m.value)) || (this.m.value = sI(this))
    };
    f.Ck = function (b) {
        pI.P.Ck.call(this, b);
        if (b.target == this.K || b.target == this.U) {
            var c = oG(this.F);
            this.pU(c, b);
            this.ia = Qt(this.Wb, "mousemove", v(this.pU, this, c));
            this.ka = Qt(this.Wb, "mouseup", this.Il, !1, this)
        }
    };
    f.pU = function (b, c) {
        c.preventDefault();
        var d = ft(this.M()),
            d = (b.top + b.height - Math.min(Math.max(d.y + c.clientY, b.top), b.top + b.height)) / b.height;
        qI(this, d)
    };
    f.fU = function () {
        var b = tI(this.m.value);
        b && rI(this, b[0], b[1])
    };

    function tI(b) {
        /^#[0-9a-f]{8}$/i.test(b) ? (b = vn(b).dj, b = [Dn(b, 0, 7), parseInt(Dn(b, 7, 9), 16) / 255]) : b = /^#[0-9a-f]{6}$/i.test(b) ? [b, 1] : null;
        return b
    };

    function uI(b, c, d, e, h) {
        YH.call(this, h);
        this.bp = {};
        this.oc = c || null;
        this.nc = d || null;
        this.aG = null;
        this.IV = !1;
        this.Oc = e || 1;
        this.V(b)
    }

    B(uI, YH);
    f = uI.prototype;
    f.ah = function (b) {
        this.oc = b
    };
    f.Ah = function (b) {
        this.nc = b
    };
    f.qg = function (b) {
        this.Oc = b
    };
    f.setAttribute = function (b, c) {
        this.bp[b] = c;
        "undefined" !== typeof this.Ja && this.Ja.setAttribute(b, c)
    };
    f.Xy = function () {
        return this.bp
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.Hq = "a-N-mh-nh";
    f.G = function () {
        return "undefined" !== typeof this.Ja ? this.Ja.value : null
    };
    f.ua = function (b) {
        var c = this.M(), d = uI.prototype.Hq;
        this.Da = b;
        K.add(b, d + "-Hg");
        var e = {"class": d, type: "text", value: this.aG ? vI(this.aG) : ""};
        jh(e, this.bp);
        c.append(b, this.Ja = c.u(qe, e), this.aga = c.u(D, d + "-X-ph", this.xaa = c.u($d, d + "-oh-ph", "\u25b2"), this.z5 = c.u($d, d + "-qh-ph", "\u25bc")))
    };

    function vI(b) {
        if (null != b) {
            var c = /-/.test(b), d = b.toString();
            /\./.test(b) && (b = d.split("."), d = b[0] + "." + b.slice(1).join(""));
            b = d.replace(/[^\.0-9]+/g, "");
            c && (b = "-" + b);
            return b
        }
    }

    f.V = function (b) {
        if (null != b) if (b = vI(b), "undefined" !== typeof this.Ja) {
            var c = parseFloat(b);
            this.oc && c < this.oc ? this.Ja.value = this.oc : this.nc && c > this.nc ? this.Ja.value = this.nc : (this.Ja.value = b, this.dispatchEvent("change"), this.aG = null)
        } else this.aG = b
    };

    function wI(b) {
        b = b.Ja.value.split(".");
        var c = 0;
        b[1] && (c = b[1].length);
        return c
    }

    f.waa = function () {
        this.V(((parseFloat(this.Ja.value) || 0) + this.Oc).toFixed(wI(this)))
    };
    f.y5 = function () {
        this.V(((parseFloat(this.Ja.value) || 0) - this.Oc).toFixed(wI(this)))
    };
    f.oa = function () {
        this.S().C(this.Ja, "input", function (b) {
            this.V(b.target.value)
        }).C(this.aga, ["click", "mouseup", "mousedown", "mouseleave"], function (b) {
            clearInterval(this.IV);
            if ("mouseup" != b.type && "mouseleave " != b.type) {
                var c = null;
                b.target === this.xaa ? c = this.waa.bind(this) : b.target === this.z5 && (c = this.y5.bind(this));
                "click" == b.type && c ? c() : this.IV = setInterval(c, 120)
            }
        })
    };

    function xI(b) {
        YH.call(this, b)
    }

    B(xI, YH);
    var yI = y("MSG_LOADING_OVERLAY_LOADING", {}, "Loading");
    xI.prototype.u = function () {
        this.ua(this.M().createElement(D))
    };
    xI.prototype.ua = function (b) {
        xI.P.ua.call(this, b);
        var c = this.M(), d = !1, e = ["Webkit", "Moz", "O", "ms", "Khtml"], h = document.createElement("div");
        void 0 !== h.style.animationName && (d = !0);
        if (!1 === d) for (var k = 0; k < e.length; k++) if (void 0 !== h.style[e[k] + "AnimationName"]) {
            d = !0;
            break
        }
        if (!1 === d) c.append(b, c.u(Fe, "a-N-Ph-bj-Qh", yI + "...")); else for (c.append(b, b = c.u(D, "a-N-Ph-Qh")), d = 0; 4 > d; d++) c.append(b, c.createElement(D))
    };
    xI.prototype.oa = function () {
        xI.P.oa.call(this);
        K.add(this.J(), "a-N-Ph-v-ab")
    };

    function zI() {
        YH.call(this, null)
    }

    B(zI, YH);
    zI.prototype.u = function () {
        this.ua(this.M().createElement(D))
    };
    zI.prototype.ua = function (b) {
        zI.P.ua.call(this, b);
        K.add(b, "a-N-oi-Hg")
    };
    zI.prototype.oa = function () {
        zI.P.oa.call(this)
    };
    zI.prototype.setActive = function (b) {
        K.enable(this.Aa(), "a-N-oi-Hg-hb", b)
    };

    function AI(b, c) {
        YH.call(this, null);
        this.Le = b;
        this.Rf = c
    }

    B(AI, YH);
    AI.prototype.u = function () {
        this.ua(this.M().createElement(D))
    };
    AI.prototype.ua = function (b) {
        var c = this.M();
        AI.P.ua.call(this, b);
        K.add(b, "a-N-oi-pi");
        c.append(b, c.u(Le, null, za(this.Le)))
    };
    AI.prototype.oa = function () {
        AI.P.oa.call(this)
    };
    AI.prototype.setActive = function (b) {
        K.enable(this.Aa(), "a-N-oi-pi-hb", b)
    };

    function BI(b, c) {
        this.Le = b;
        this.Rf = c;
        this.gm = new AI(b, c);
        this.a = new zI
    }

    BI.prototype.getName = function () {
        return this.Rf
    };
    BI.prototype.Ob = function () {
        return this.a
    };
    BI.prototype.setActive = function (b) {
        this.gm.setActive(b);
        this.Ob().setActive(b)
    };

    function CI() {
        YH.call(this, null);
        this.re = {};
        this.ZI = Sb.FLOAT;
        this.YI = Tb.fI
    }

    B(CI, YH);
    f = CI.prototype;
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        var c = this.M();
        CI.P.ua.call(this, b);
        K.add(b, "a-N-oi");
        c.append(b, this.cO = c.u(D, "a-N-oi-pi-Y"), this.dO = c.u(D, "a-N-oi-pi-qi"), this.bO = c.u(D, "a-N-oi-Hg-Y"))
    };
    f.oa = function () {
        CI.P.oa.call(this);
        DI(this);
        EI(this);
        FI(this);
        this.Gj ? this.$m(this.Gj) : this.$m(this.re[Ua(this.re)[0]])
    };
    f.As = function (b, c) {
        if (this.re[c]) throw Error('Tab decorator already contains tab with name "' + c + '"');
        this.re[c] = new BI(b, c);
        this.la && (DI(this), EI(this), FI(this));
        this.dispatchEvent("add");
        return this.re[c]
    };
    f.$m = function (b) {
        this.Gt = this.Gj;
        this.Gj = b;
        this.la && (La(this.re, function (b) {
            b.setActive(b === this.Gj);
            ht(b.Ob().J(), {"z-index": 0})
        }, this), this.Gt && bI(this.Gt.Ob()) && ht(this.Gt.Ob().J(), {"z-index": 1}), ht(this.Gj.Ob().J(), {"z-index": 2}), this.Gt && bI(this.Gt.Ob()) && (GI(this, this.Gt, this.Gj), HI(this, this.Gt, this.Gj)));
        this.dispatchEvent("change")
    };
    f.zS = function () {
        return this.Gj
    };

    function DI(b) {
        La(b.re, function (b) {
            b.gm.la && b.gm.Oe();
            b.Ob().la && b.Ob().Oe()
        }, b)
    }

    function EI(b) {
        La(b.re, function (b) {
            b.gm.T(this.cO);
            $t(b.gm.J(), "click");
            this.S().C(b.gm.J(), "click", function () {
                K.contains(b.gm.J(), "a-N-oi-pi-hb") || this.$m(b)
            })
        }, b)
    }

    function FI(b) {
        La(b.re, function (b) {
            b.Ob().T(this.bO)
        }, b)
    }

    function II(b, c) {
        if (!Zg(Sb, c)) throw Error('Unknown control slide type "' + c + '"');
        b.ZI = c
    }

    function JI(b, c) {
        if (!Zg(Tb, c)) throw Error('Unknown content slide type "' + c + '"');
        b.YI = c
    }

    function GI(b, c, d) {
        var e = b.dO, h = c.gm.J(), k = d.gm.J(), l = PF(h).width, h = aG(h).x, p = PF(k).width, q = aG(k).x;
        K.enable(e, "a-N-oi-ri", b.ZI === Sb.FLOAT);
        switch (b.ZI) {
            case Sb.FLOAT:
                c === d ? (mG(e, p), tu(e, q, 0)) : (mG(e, l + p), h >= q && tu(e, h - p, 0), setTimeout(function () {
                    mG(e, p);
                    tu(e, q, 0)
                }, 150));
                break;
            case Sb.VO:
                (new EH(e, 150)).play();
                setTimeout(function () {
                    mG(e, p);
                    tu(e, q, 0);
                    (new FH(e, 250)).play()
                }, 200);
                break;
            default:
                mG(e, p), tu(e, q, 0)
        }
    }

    function HI(b, c, d) {
        var e = d.Ob().J(), h = aG(c.gm.J()).x, k = aG(d.gm.J()).x;
        if (b.YI != Tb.HB && c !== d) switch (K.enable(e, "a-N-oi-ri-gi", !1), K.enable(e, "a-N-oi-ri-si", !1), b.YI) {
            case Tb.fI:
                ht(e, {top: "-100%", bottom: "100%"});
                setTimeout(function () {
                    K.enable(e, "a-N-oi-ri-gi", !0);
                    ht(e, {top: 0, bottom: 0})
                }, 1);
                break;
            case Tb.lZ:
                ht(e, {left: h < k ? "-100%" : "100%", right: h < k ? "100%" : "-100%"});
                setTimeout(function () {
                    K.enable(e, "a-N-oi-ri-si", !0);
                    ht(e, {left: 0, right: 0})
                }, 1);
                break;
            default:
                (new FH(e, 300)).play()
        }
    };

    function KI(b) {
        Q.call(this);
        this.ra = new fu(this);
        this.ia = new Ip(5, NaN, this.g.width, this.g.height);
        this.Jl = this.Vg = this.Sd = !1;
        b && this.If(b);
        this.ob = LI;
        this.a = new cx(new bx(null, ou, null, !1));
        this.gc = new bx(null, ou);
        this.gc.Bk().qg(.5);
        dx(this.a, this.gc);
        this.R = new dw([]);
        this.zi = new Yw(this.Efa, this.R);
        this.uh = new Yw(this.c4, this.R);
        this.La = new hx(this.zi, this.a.a, this.gc, this.lf = new Qb({nI: "#F00", tI: "#0F0"}));
        this.ka = new hx(this.uh, this.a.a, this.gc, this.sc = new Kb({padding: this.g.fy}));
        Cl(this.qb, bl) ?
            fx(this.a, this.La) || ex(this.a, this.La) : fx(this.a, this.ka) || ex(this.a, this.ka);
        this.K = new gI;
        b = this.U = new Nw;
        var c = new Qw;
        b.U = c;
        Mw(b.U, b);
        this.U.Rw(0, 0, 0, 0);
        this.U.setPosition(0, 0);
        this.U.bi(1, 1);
        this.jd = new LG(this.a);
        this.jd.bi(1, 1);
        this.jd.kN(0);
        this.jd.Rw(0, 0, 0, 0);
        this.U.Va(this.jd, new Rw(4));
        this.K.addElement(this.U);
        this.Ee = !1
    }

    B(KI, Q);
    var MI = y("MSG_INFO", {}, "Use Ctrl + Mouse Scroll to change lens zoom");
    KI.prototype.g = {width: 240, height: 240, Pu: !1, yF: "#3be", fy: 2, sk: 10};
    var LI = "less";
    f = KI.prototype;
    f.c4 = {
        Rj: function (b) {
            return b[0]
        }, ce: function (b) {
            return b[1]
        }, zb: function (b) {
            return b[2]
        }, bb: function (b) {
            return b[3]
        }, $a: function (b) {
            return b[4]
        }, jb: function (b) {
            return b[5]
        }, ld: function (b) {
            return yb(yb(b[2], b[3]), yb(b[4], b[5]))
        }, pd: function (b) {
            return xb(xb(b[2], b[3]), xb(b[4], b[5]))
        }
    };
    f.Efa = {
        Rj: function (b) {
            return b[0]
        }, ce: function (b) {
            return b[1]
        }, ed: function (b) {
            return b[2]
        }, fd: function (b) {
            return b[3]
        }, ld: function (b) {
            return yb(b[2], b[3])
        }, pd: function (b) {
            return xb(b[2], b[3])
        }
    };
    f.If = function (b) {
        this.o = b;
        this.ta = {};
        this.qb = this.o.W();
        this.g.sk = 10;
        NI(this);
        this.bf();
        this.Ua = new GH(this.o);
        this.Ua.Nk("rgba(97,97,97,.9)");
        this.Ua.Rk(MI);
        this.Ua.setPosition("righttop")
    };
    f.Jk = function (b, c) {
        if ("larger" == this.ob && this.qb == this.o.W()) this.Jl = this.Vg = !1, this.qb = this.o.W(), O(this.Rb, !1), O(this.dd, !1), this.o.Ia(); else {
            if (c) {
                this.Ve = !0;
                var d = this.qb
            } else this.Ve = !1, this.ob == LI ? d = Il(this.qb) : d = this.o.W();
            24 >= this.o.Ca() && (d = this.o.W());
            Jl(this.o.W(), d) && (this.ib || (this.ib = new AF(this.o.Ld, this.o.Fa(), this.o.ma(), d, this.o.Db())), this.ib.wj(d), this.ib.Ie(this.o.ma()), this.ib.Gi(this.o.Db()), this.ib.zh(this.o.Fa()), this.qb = d, NI(this), this.qb == this.o.W() ? "larger" == this.ob && this.bR([]) :
                (d = 60 < this.o.Af() ? 60 : this.o.Af(), this.w = [], this.w[0] = Pl(this.o.W(), b, d), this.w[1] = Ql(this.o.W(), b, d), this.Vg = !0, this.Ya = [], this.Ya[0] = this.w[0], this.Ya[1] = this.w[1], O(this.dd, !1), O(this.Rb, !0), BF(this.ib.rt(this.w[0], this.w[1]), this.bR, this.U4, this)))
        }
    };
    f.bR = function (b) {
        this.ta = {};
        this.va = {};
        E(b, function (b) {
            this.va[b[0]] = b
        }, this);
        O(this.Rb, !1);
        this.Ve || (this.g.sk = this.ob == LI ? 30 : 2);
        this.ta = Cl(this.qb, bl) ? Vg(b, gm(1)) : Vg(b, gm(2));
        this.Jl = this.Vg = !1;
        this.o.Ia()
    };
    f.U4 = function () {
        this.Vg = !1;
        this.Jl = !0;
        O(this.Rb, !1);
        O(this.dd, !0)
    };
    f.bf = function () {
        var b = this;
        this.Ee || ($t(this.o, wF), $t(this.o, qu), $t(this.o, xF), $t(this.o, px), $t(this.o, yF), this.o.S().C(this.o, [wF, qu, xF, px, yF], function () {
            b.qb = b.o.W();
            b.g.sk = 10;
            NI(b)
        }), this.ra.C(this.o, "mousewheel", function (c) {
            if (window.event ? window.event.ctrlKey : c.ctrlKey) {
                c.stopPropagation();
                c.preventDefault();
                c = c.Ak();
                var d = c.Pe();
                (c = d.wheelDelta ? d.wheelDelta / 120 : c.detail / -3) || (c = 0);
                b.g.sk -= OI(b, 2 * c);
                2 > b.g.sk && (b.g.sk = 2, b.Vg || (b.ob = LI, b.o.Ec() || b.Jk(b.o.Qa().t(b.m))));
                30 < b.g.sk && (b.g.sk = 30, b.Vg ||
                (b.ob = "larger", b.o.Ec() || b.Jk(b.o.Qa().t(b.m))));
                b.o.Ia()
            }
        }, !0), this.Ee = !0)
    };

    function NI(b) {
        b.a && (fx(b.a, b.La) && gx(b.a, b.La), fx(b.a, b.ka) && gx(b.a, b.ka), Cl(b.qb, bl) ? fx(b.a, b.La) || ex(b.a, b.La) : fx(b.a, b.ka) || ex(b.a, b.ka))
    }

    f.mG = function (b) {
        this.Re = b
    };
    f.nG = function (b) {
        this.ff = b
    };
    f.T = function (b, c) {
        this.m = b;
        this.F = c;
        var d = this.o.Qa();
        this.o.vb();
        var e = d.t(this.m), h = this.o.Ea;
        this.th = h.isEnabled() ? h.th : this.o.eb().indexOf(e);
        0 > this.th && (this.th = ~this.th - 1);
        if (this.za = this.o.eb().ta[this.th]) if (d = d.x(this.za.getTime()), this.F) {
            this.$ = d - this.m;
            this.yi = Math.round(this.o.W().Y() * this.$ / (this.qb.Y() * this.o.Ca()));
            var d = this.o.M(), e = NF, h = y("MSG_LOADING", {}, "Loading..."), k = y("MSG_NO_DATA", {}, "No Data");
            this.Ea || (d.append(this.o.Fb, this.Ub = d.u(D, e + "-V-W-X", this.Ge = d.u(D, e + "-V-W-b-Y",
                this.Rb = d.u(D, e + "-V-W-ab-Y", h), this.dd = d.u(D, [e + "-V-W-ab-Y", e + "-V-bb"], k))), this.Ea = d.u(D, e + "-V-W")), JF(this.Ea, this.ia.width, this.ia.height), JF(this.Ub, this.ia.width, this.ia.height), O(this.Rb, !1), O(this.dd, !1), JH(this.Ua));
            d = this.m - this.o.pa - this.ia.width / 2;
            e = this.F - this.ia.height / 2;
            tu(this.Ea, d, e);
            tu(this.Ub, d, e);
            this.sc && this.sc.Wf({
                VR: this.o.fa().j.Pi,
                vJ: this.o.fa().j.tm,
                sI: this.o.fa().j.ii,
                rI: this.o.fa().j.hi,
                yI: this.o.fa().j.ki,
                xI: this.o.fa().j.ji,
                padding: this.g.fy
            });
            this.lf && this.lf.Wf({
                nI: this.o.fa().j.Yk,
                tI: this.o.fa().j.ik
            });
            this.K.a && (ht(this.K.a, "background", this.o.fa().j.ke), ht(this.K.a, "border-color", this.o.fa().j.le));
            if (!this.Vg) {
                if (this.qb === this.o.W()) {
                    var d = [], k = this.g.sk, l = this.o.vb(), p, e = 0,
                        q = 6 === this.o.Fa() && "wicksbrick" === this.o.Te();
                    this.Yd = this.Hb = null;
                    h = this.th - k;
                    for (k = this.th + k; h <= k; h++) if (p = this.o.eb().ta[h]) {
                        var r = Cl(this.qb, bl) ? this.g.Pu ? (p.ed() + p.fd()) / 2 : "ASK" == this.o.Db() ? p.ed() : p.fd() : this.g.Pu ? (p.zb() + p.bb() + p.$a() + p.jb()) / 4 : p.jb(),
                            e = e + +G(l.y(this.Re.call(p)));
                        p = Cl(this.qb,
                            bl) ? [parseInt(p.getTime(), 10), r, p.ed(), p.fd(), null, null] : [parseInt(p.getTime(), 10), r, p.zb(), q && nj(p) ? nj(p) : p.bb(), q && mj(p) ? mj(p) : p.$a(), p.jb(), this.o.Ec() ? parseInt(p.Bf(), 10) : parseInt(p.getTime(), 10)];
                        d.push(p)
                    }
                    if (!Cl(this.qb, bl)) for (l = d[0][0], q = this.qb.Y(), h = 0, k = d.length; h < k; h++) d[h][0] = l, l += q;
                    this.De = e / d.length
                } else d = PI(this);
                if ((k = d) && !ki(k)) {
                    d = new Date;
                    e = new Date;
                    h = Math.round(this.De - this.F);
                    this.R.setData(k);
                    this.Wc = QI(this);
                    this.yd = RI(this);
                    l = this.a.a.Bk();
                    l.Ce = !0;
                    l.Fi(k[0][0]);
                    l.Hg(k[k.length -
                    1][0]);
                    this.Wc || (this.Wc = l.Od());
                    l.Nj(this.Wc);
                    this.yd || (this.yd = l.Gd());
                    l.ni(this.yd);
                    l.Ce = !1;
                    l.dispatchEvent(lu);
                    d.setTime(l.Wc);
                    e.setTime(k[k.length - 1][6] || l.yd);
                    if (!Cl(this.qb, bl)) var t = SI(this, k, l.Wc, l.yd),
                        t = "O: " + t.open + " * H: " + t.Mc + " * L: " + t.Bd + " * C: " + t.close;
                    k = Math.round((this.yd - this.Wc) / this.qb.Y());
                    ax(this.a.a.sb(), k);
                    this.$ = 1 == this.$ ? 0 : this.$;
                    this.$ = Math.round(this.a.a.sb().a * this.$ / this.o.Ca());
                    this.qb == this.o.W() ? this.U.Rw(+h, -this.$, -h, +this.$) : this.U.Rw(+h, 0, -h, 0);
                    ax(this.a.a.sb(),
                        k);
                    this.Ge && this.K && !this.Sd && (this.K.T(this.Ge), this.Sd = !0);
                    this.K.Yl();
                    this.K.Ia();
                    h = this.K.getContext();
                    k = this.K.a;
                    h.save();
                    h.globalCompositeOperation = "destination-over";
                    var r = this.m - this.o.pa, u = this.F, l = Cl(this.qb, bl) ? 4 : 8,
                        q = Math.floor(r / Math.round(k.width / 2));
                    p = Math.floor(u / Math.round(k.height / l));
                    q = Math.round(r - q * Math.round(k.width / 2));
                    q = 0 <= q ? q + .5 : q - .5;
                    p = Math.round(u - p * Math.round(k.height / l));
                    p = 0 <= p ? p + .5 : p - .5;
                    for (r = 0; r <= l; ++r) h.beginPath(), h.strokeStyle = this.o.fa().j.le, h.moveTo(0, Math.round(k.height /
                        l * r) - p), h.lineTo(k.width, Math.round(k.height / l * r) - p), 2 >= r && (h.moveTo(Math.round(k.width / 2 * r) - q, 0), h.lineTo(Math.round(k.width / 2 * r) - q, k.height)), h.stroke(), h.closePath();
                    h.restore();
                    h = this.K.getContext();
                    l = this.K.a;
                    k = l.width / 2;
                    l = l.height / 2;
                    q = this.ia.width / 2;
                    h.beginPath();
                    p = h.createRadialGradient(k, l, q - 80, k, l, q);
                    r = this.o.fa().j.ke;
                    r = kn.test(jn(r)) || mn(r).length || fc && fc[r.toLowerCase()] ? pn(hn(r).dj).join(",") : "255,255,255";
                    p.addColorStop(0, "rgba(" + r + ",0)");
                    p.addColorStop(1, "rgba(" + r + ",0.7)");
                    h.fillStyle =
                        p;
                    h.arc(k, l, q, 0, 2 * Math.PI, !1);
                    h.fill();
                    TI(this, d.toUTCString(), 105, 2.4, 2.4);
                    TI(this, e.toUTCString(), 113, 2.4, 8.7, !0);
                    Cl(this.qb, bl) || TI(this, t, 90, 4, 4)
                }
            }
        }
    };
    f.clear = function () {
        this.Ea && Ls(this.Ea);
        this.Ub && Ls(this.Ub);
        this.Ua && this.Ua.clear();
        this.Sd = !1;
        delete this.Ea;
        delete this.Ub
    };

    function QI(b) {
        if (!b.Hb) return !1;
        var c = +b.Hb[0] - b.qb.Y() * b.yi, c = c - +b.qb.Y() * b.g.sk;
        if (Yg(b.va, c)) return c;
        b = Ua(b.va);
        for (var d = 0, e = b.length; d < e; ++d) if (+b[d] >= +c) return +b[d];
        return b[b.length - 1]
    }

    function RI(b) {
        if (!b.Hb) return !1;
        var c = b.Wc + 2 * b.qb.Y() * b.g.sk;
        if (Yg(b.va, c)) return c;
        b = Ua(b.va);
        for (var d = b.length - 1; 0 <= d; --d) if (+b[d] <= +c) return +b[d];
        return b[b.length - 1]
    }

    function PI(b) {
        var c = [], d = b.o.vb(), e;
        La(b.ta, function (b) {
            var d = Cl(this.qb, bl) ? this.g.Pu ? (b.ed() + b.fd()) / 2 : "ASK" == this.o.Db() ? b.ed() : b.fd() : this.g.Pu ? (b.zb() + b.bb() + b.$a() + b.jb()) / 4 : b.jb();
            e = Cl(this.qb, bl) ? [parseInt(b.getTime(), 10), d, b.ed(), b.fd(), null, null] : [parseInt(b.getTime(), 10), d, b.zb(), b.bb(), b.$a(), b.jb()];
            c.push(e)
        }, b);
        var h = b.o.W().Y();
        b.Yd = Ug(b.va, function (b, c) {
            return c >= this.za.getTime() && c <= this.za.getTime() + h
        }, b);
        if (ch(b.Yd)) return b.Vg || b.Jk(b.za.getTime(), !0), !1;
        b.Hb = Ua(b.Yd);
        Ec(Ua(b.Hb),
            function (b, c) {
                return b - c
            });
        b.De = +G(d.y(b.Re.call(b.za)));
        return c
    }

    function SI(b, c, d, e) {
        var h = 0, k = 0, l = 0, p = 0, l = [], q = b.o.ma().Sb;
        b.qb != b.o.W() ? (b = Ra(c, function (b) {
            return b[0] >= d && b[0] <= e
        }, b), Ec(b, function (b, c) {
            return b[0] - c[0]
        })) : b = c;
        c = 0;
        for (k = b.length; c < k; ++c) 0 == c && (h = b[c][2]), c == k - 1 && (p = b[c][5]), l.push(b[c][2]), l.push(b[c][3]), l.push(b[c][4]), l.push(b[c][5]);
        k = Math.max.apply(Math, l);
        l = Math.min.apply(Math, l);
        return {open: Eb(h, q).join(""), Mc: Eb(k, q).join(""), Bd: Eb(l, q).join(""), close: Eb(p, q).join("")}
    }

    function TI(b, c, d, e, h, k) {
        var l = b.K.getContext(), p = b.K.a;
        l.save();
        l.fillStyle = b.o.fa().j.Yc;
        l.fontSize = G(b.o.fa().j.hd);
        l.font = l.fontSize + "px " + b.o.fa().j.mf;
        l.textAlign = "center";
        l.translate(p.width / 2, p.height / 2);
        l.rotate(-1 * h / 2);
        l.rotate(e / c.length * -1 / 2);
        if (k) for (h = c.length - 1; 0 <= h; h--) l.rotate(e / c.length), l.save(), l.translate(0, -1 * d), k = c[h], l.rotate(Math.PI), l.lineWidth = 1.5, l.strokeStyle = b.o.fa().j.wd, l.strokeText(k, 0, 0), l.fillText(k, 0, 0), l.restore(); else for (h = 0; h < c.length; h++) l.rotate(e / c.length),
            l.save(), l.translate(0, -1 * d), k = c[h], l.lineWidth = 3, l.strokeStyle = b.o.fa().j.wd, l.strokeText(k, 0, 0), l.fillText(k, 0, 0), l.restore();
        l.restore()
    }

    function OI(b, c) {
        switch (b.g.sk) {
            case 30:
                return 0 < c ? 6 : -2;
            case 28:
                return 0 < c ? 4 : -2;
            case 26:
                return 0 < c ? 2 : -4;
            case 24:
                return 0 < c ? 4 : -6;
            case 22:
                return 0 < c ? 2 : -2;
            case 20:
                return 0 < c ? 8 : -4;
            case 18:
                return 0 < c ? 6 : -2;
            case 16:
                return 0 < c ? 4 : -4;
            case 14:
                return 0 < c ? 2 : -6;
            case 12:
                return 0 < c ? 2 : -8;
            case 10:
            case 8:
            case 6:
            case 4:
            case 2:
                return 0 < c ? 2 : -2;
            default:
                return c
        }
    };

    function UI(b) {
        Q.call(this);
        this.ra = new fu(this);
        this.Ea = new fu(this);
        this.a = new Ip(5, NaN, 200, 300);
        b && this.If(b);
        this.za = this.va = this.F = this.m = -1;
        this.Rb = "#FFD600"
    }

    B(UI, Q);
    var VI = new Do(1);
    f = UI.prototype;
    f.If = function (b) {
        this.o = b;
        this.bf();
        WI(this);
        this.K && this.K.If(this.o);
        this.w && this.w.If(this.o)
    };
    f.bf = function () {
        this.ra.C(this.o, [lx, mx, nx], this.jg).C(this.o, rx, this.W4).C(this.o, [wF, px], this.V4).C(this.o, "renderforeground", this.$g).C(this.o, XI, function () {
            YI(this, !0)
        })
    };

    function WI(b) {
        switch (b.o.Fa()) {
            case 1:
                b.ff = ZI;
                b.Re = $I;
                b.Ya = $I;
                break;
            case 2:
            case 5:
            case 6:
            case 7:
            case 8:
                b.ff = aJ;
                b.Re = bJ;
                b.Ya = cJ;
                break;
            case 4:
                b.ff = dJ, b.Re = eJ, b.Ya = fJ
        }
        b.w && (b.w.mG(b.Re), b.w.nG(b.ff))
    }

    function ZI() {
        return yb(this.fd(), this.ed())
    }

    function $I() {
        return xb(this.fd(), this.ed())
    }

    function aJ() {
        return yb(this.zb(), this.jb())
    }

    function bJ() {
        return xb(this.zb(), this.jb())
    }

    function cJ() {
        return this.bb()
    }

    function dJ() {
        return this.$a()
    }

    function eJ() {
        return this.bb()
    }

    function fJ() {
        return this.bb()
    }

    f.Ba = function (b) {
        YI(this, !1);
        (this.Za = b) ? (this.bf(), WI(this)) : this.ra.ud();
        this.g && O(this.g, this.ia && this.isEnabled() && !this.R);
        this.o.Ia()
    };
    f.isEnabled = function () {
        return this.Za
    };
    f.JX = function (b) {
        (this.U = b) ? ht(this.o.ia, "cursor", "crosshair") : (this.w && (this.w.clear(), this.w.Ra()), ht(this.o.ia, "cursor", "auto"));
        this.g && O(this.g, this.ia && this.isEnabled() && !this.U && !this.R);
        this.o.Ia()
    };
    f.Maa = function () {
        return this.U
    };
    f.rX = function (b) {
        this.R = b;
        this.K && (b = this.K, b.U && (Ls(b.U), delete b.U, b.Hh.Ra(), delete b.Hh));
        this.g && O(this.g, this.ia && this.isEnabled() && !this.U && !this.R);
        this.o.Ia()
    };
    f.Faa = function () {
        return this.R
    };
    f.ek = function (b) {
        this.Qh = b;
        Gx(this.o) && (b = Gx(this.o), b.Nx = "", b.uo())
    };
    f.uo = function () {
        var b = this.o.Qa(), c = this.o.eb().Th(), c = 0 > this.m && c ? c.getTime() : b.t(this.m), d = this.o.Ea,
            b = this.o.ma().Sb, c = d.isEnabled() ? d.th : this.o.eb().indexOf(c);
        0 > c && (c = ~c - 1);
        if (c = this.o.eb().ta[c]) {
            d = "";
            if (1 !== this.o.Fa()) var d = Eb(c.zb(), b).join(""), e = Eb(c.bb(), b).join(""),
                h = Eb(c.$a(), b).join(""), b = Eb(c.jb(), b).join(""),
                d = " O. " + d + " H. " + e + " L. " + h + " C. " + b; else d = Eb(c.ed(), b).join(""), d = " B. " + Eb(c.fd(), b).join("") + " A. " + d;
            jm(this.o.Fa()) && (d += " F. " + c.xl());
            Gx(this.o) && (b = Gx(this.o), b.Nx = d,
                b.uo())
        }
    };
    f.Laa = function () {
        return this.Qh
    };
    f.iG = function (b) {
        YI(this, !1);
        (this.ia = b) ? (this.a.left = xu(this.o).width, this.a.top = 5, this.Ea.C(this.o, Nx, this.UT).C(this.o, sp, this.UT).C(this.o, "mouseup", this.VT).C(this.o, "touchend", this.VT)) : this.Ea.ud();
        this.ia && gJ(this);
        this.g && O(this.g, this.ia && this.isEnabled() && !this.R);
        this.o.Ia()
    };
    f.X4 = function () {
        return this.ia
    };

    function hJ(b, c) {
        b.Qi = c;
        b.o.Ia()
    }

    function iJ(b, c) {
        return c.offsetX >= b.a.left && c.offsetX <= b.a.left + b.a.width && c.offsetY >= b.a.top && c.offsetY <= b.a.top + 25
    }

    f.jg = function (b) {
        if (b.offsetX || b.offsetY) this.m = this.o.pa, this.m += b.offsetX ? b.offsetX : this.va, this.F = b.offsetY ? b.offsetY : this.za;
        this.o.Ia();
        this.ia && iJ(this, b) && ht(this.o.Fb, "cursor", "move");
        b.offsetX && (this.va = b.offsetX);
        b.offsetY && (this.za = b.offsetY)
    };
    f.W4 = function () {
        if (!0 === this.Qi || !0 === this.R || !0 === this.U || !0 === this.Qh || !1 === this.ia) this.za = this.va = this.F = this.m = -1;
        this.ia && this.o.j.Hj && (this.za = this.va = this.F = this.m = -1);
        if (Gx(this.o)) {
            var b = Gx(this.o);
            b.Nx = "";
            b.uo()
        }
        this.o.Ia()
    };
    f.UT = function (b) {
        iJ(this, b) && (this.dd = b.offsetX - this.a.left, this.jd = b.offsetY - this.a.top, this.Ea.C(this.o, lx, this.sK).C(this.o, tp, this.sK))
    };
    f.VT = function () {
        this.Ea.wa(this.o, lx, this.sK)
    };
    f.sK = function (b) {
        this.a.left = b.offsetX - this.dd;
        this.a.top = b.offsetY - this.jd
    };
    f.V4 = function () {
        WI(this)
    };
    f.$g = function (b) {
        if (this.isEnabled() && this.m && this.F) switch (!0) {
            case this.Qi:
                var c = this.o.Qa(), d = this.o.vb(), e = b.target.getContext(), h = this.o.eb().Th(),
                    h = 0 > this.m && h ? h.getTime() : c.t(this.m), k = this.o.Ea,
                    k = k.isEnabled() ? k.th : this.o.eb().indexOf(h);
                this.ka = [];
                0 > k && (k = ~k - 1);
                var l = this.o.eb().ta[k];
                if (l) {
                    b = c.x(l.getTime());
                    var c = this.o.fb.Mg, p = G(d.y(this.Re.call(l))), d = G(d.y(this.ff.call(l))) - p;
                    this.ka[0] = jJ(this, l);
                    this.ka[1] = kJ(this, k, h);
                    lJ(this, e, l, b, p, c, d);
                    e.restore();
                    this.o.dispatchEvent("capturedata")
                }
                break;
            case this.R:
                this.K ||
                (this.K = new tF(this.o), this.K.mG(this.Re), this.K.nG(this.ff), this.K.Rb = this.Rb);
                this.K.iG(this.ia);
                this.K.T(this.m, this.F);
                break;
            case this.U:
                this.w || (this.w = new KI(this.o), this.w.mG(this.Re), this.w.nG(this.ff));
                this.w.T(this.m, this.F);
                break;
            case this.Qh:
                this.uo(b);
                break;
            default:
                if (this.ia) mJ(this, b); else a:{
                    var e = this.o.Qa(), q = this.o.vb(), d = this.o.eb().Th(),
                        c = 0 > this.m && d ? d.getTime() : e.t(this.m), r = this.o.Ea,
                        p = r.isEnabled() ? r.th : this.o.eb().indexOf(c);
                    0 > p && (p = ~p - 1);
                    if (d = this.o.eb().ta[p]) {
                        var e = e.x(d.getTime()),
                            h = this.o.fb.Mg, k = G(q.y(this.Re.call(d))), l = G(q.y(this.ff.call(d))) - k,
                            t = this.o.ga().ri();
                        if (r.isEnabled() || !(this.F <= k - 5 || this.F >= k + l + 5)) {
                            for (var u in t) if (t.hasOwnProperty(u)) {
                                var x = t[u], r = x.Zs(), A = this.o.ga().Qa(x), C = this.o.ga().vb(x), x = vA(x);
                                if (!(this.m + 5 < A.x(x[0]) || this.m - 5 > A.x(x[2]) || this.F + 5 < C.y(x[3]) || this.F - 5 > C.y(x[1]))) for (var I in r) if (r.hasOwnProperty(I)) {
                                    var N = r[I], x = A.x(N.time), N = C.y(N.value);
                                    if (5 >= Math.abs(this.F - N) && 5 >= Math.abs(this.m - x)) break a
                                }
                            }
                            this.a.left = e + h - this.o.pa;
                            this.a.top =
                                G(q.y(this.Ya.call(d)));
                            b = b.target.getContext();
                            q = jJ(this, d);
                            q = oi(q, kJ(this, p, c));
                            b.save();
                            b.textBaseline = "top";
                            b.fontSize = G(1.2 * this.o.fa().j.hd);
                            b.font = b.fontSize + "px " + this.o.fa().j.mf;
                            nJ(this, q, b);
                            this.a.left + this.a.width + 5 > xu(this.o).width && (this.a.left = e - h - this.o.pa - this.a.width);
                            this.a.top + this.a.height + 10 > xu(this.o).height && (this.a.top = xu(this.o).height - this.a.height - 10);
                            b.save();
                            b.fillStyle = this.o.fa().j.wd;
                            b.strokeStyle = this.o.fa().j.Yc;
                            b.beginPath();
                            b.rect(this.a.left - 2.5, this.a.top - 2.5,
                                this.a.width + 5, this.a.height + 5);
                            b.save();
                            b.shadowOffsetX = 2;
                            b.shadowOffsetY = 2;
                            b.shadowBlur = 2;
                            b.shadowColor = "rgba(0, 0, 0, 0.05)";
                            b.fill();
                            b.restore();
                            c = q;
                            q = p = 0;
                            for (u = c.length; q < u; q++) switch (t = c[q], !0) {
                                case oa(t):
                                    t(b);
                                    break;
                                case ia(t):
                                    I = b, C = p++, r = this.a.left, A = this.a.left + this.a.width, C = I.fontSize / 4 + this.a.top + C * I.fontSize * 1.5, I.textAlign = "left", I.fillText(t[0], r, C), I.textAlign = "right", I.fillText(t[1], A, C)
                            }
                            b.stroke();
                            b.restore();
                            lJ(this, b, d, e, k, h, l);
                            b.restore()
                        }
                    }
                }
        }
    };

    function mJ(b, c) {
        var d = b.o.Qa(), e = b.o.vb(), h = b.o.eb().Th(), h = 0 > b.m && h ? h.getTime() : d.t(b.m), k = b.o.Ea,
            k = k.isEnabled() ? k.th : b.o.eb().indexOf(h);
        ht(b.La, "background", b.o.fa().j.wd);
        ht(b.La, "color", b.o.fa().j.Mk);
        0 > k && (k = ~k - 1);
        var l = b.o.eb().ta[k];
        if (l) {
            var p = b.o.M(), q = NF, r = c.target.getContext(), t = jJ(b, l), d = d.x(l.getTime()), u = b.o.fb.Mg,
                x = G(e.y(b.Re.call(l))), e = G(e.y(b.ff.call(l))) - x, A = Xg(b.o.Md), C, I;
            void 0 === b.ob && (b.ob = Xg(b.o.Md));
            b.ob != A && (b.ob = A, b.$ = 0);
            void 0 === b.$ && (b.$ = 0);
            Js(b.Hb);
            for (var A = 0, N = t.length; A <
            N; A++) ia(t[A]) && p.append(b.Hb, p.u(D, q + "-W-oj-Th", p.u(D, q + "-W-oj-tj", t[A][0], p.u(D, q + "-W-oj-pj", t[A][1]))));
            b.Of = {};
            b.Nm = {};
            E(kJ(b, k, h), function (b) {
                oa(b) ? I = b() : b[1] ? C && (this.Nm[C] = this.Nm[C] || [], this.Nm[C].push(I), this.Of[C] = this.Of[C] || [], this.Of[C].push(b)) : C = b[0]
            }, b);
            Js(b.Ub);
            La(b.Of, function (b, c) {
                var d = zs(D, null);
                p.append(d, p.u(D, q + "-W-j-L", c));
                E(b, function (b, e) {
                    var h;
                    p.append(d, h = p.u(D, q + "-W-j-Th", p.u(D, q + "-W-j-tj", b[0], p.u(D, q + "-W-j-pj", b[1]))));
                    this.Nm[c][e] && ht(h, "color", this.Nm[c][e])
                }, this);
                p.append(this.Ub, d)
            }, b);
            t = oi(t, kJ(b, k, h));
            r.save();
            r.textBaseline = "top";
            r.fontSize = G(1.2 * b.o.fa().j.hd);
            r.font = r.fontSize + "px " + b.o.fa().j.mf;
            nJ(b, t, r);
            b.a.width < b.$ ? b.a.width = b.$ : b.$ = b.a.width;
            ht(b.g, "width", b.a.width + "px");
            r.restore();
            UF(b.Hh, new Ip(0, 0, xu(b.o).width - PF(b.g).width, PF(b.o.Fb).height - PF(b.g).height));
            xu(b.o).width - PF(b.g).width < aG(b.g).x && ht(b.g, "left", xu(b.o).width - PF(b.g).width + "px");
            lJ(b, r, l, d, x, u, e);
            r.restore()
        }
    }

    function gJ(b) {
        var c = b.o.M(), d = NF, e = y("MSG_OHLC_INDEX", {}, "OHLC Index");
        b.g || (c.append(b.o.Fb, b.g = c.u(D, d + "-W", b.gc = c.u(D, d + "-W-B", c.u(Le, null, e), b.sc = c.u(Le, "a-ib a-ib-Tj " + (d + "-W-B-Yg"))), b.La = c.u(D, d + "-W-X", b.Hb = c.u(D, d + "-W-Y"), b.Ub = c.u(D, d + "-W-Yj-Y")))), tu(b.g, xu(b.o).width - PF(b.g).width - 2, 2), b.o.S().C(b.sc, "click", v(function () {
            this.o.dispatchEvent(RF)
        }, b)));
        b.Hh || (b.Hh = new TF(b.g, b.gc));
        ht(b.La, "max-height", PF(b.o.Fb).height - aG(b.g).y - 27 + "px");
        UF(b.Hh, new Ip(0, 0, xu(b.o).width - PF(b.g).width, PF(b.o.Fb).height -
            PF(b.g).height))
    }

    function kJ(b, c, d) {
        var e = b.o.ma().Sb, h = [];
        La(b.o.Md, function (k) {
            if (!(k instanceof ko && this.o.Ec())) {
                var l = k.lc(), p = this.o.eb().Nf[k.Zb()], q = this.o.eb().od().getData(), p = p.getData();
                this.o.eb().od() instanceof qc && q.length != p[0].length && (c = ui(this.o.eb().od().a, 1E3 * Math.floor(d / 1E3), Dk), 0 > c && (c = ~c - 1));
                h.push(function (c) {
                    if (!c) return b.o.fa().j.Mk;
                    c.save();
                    c.font = "bold " + c.font;
                    c.fillStyle = b.o.fa().j.Mk
                });
                h.push([k.toString(), ""]);
                h.push(function (b) {
                    if (!b) return "";
                    b.restore()
                });
                for (var r = q = 0, t = l.numberOfOutputs; r <
                t; r++) k.Se(r).Yn && q++;
                r = 0;
                for (t = l.numberOfOutputs; r < t; r++) {
                    var u = k.Se(r);
                    if (u.Yn && (h.push(va(function (b, c) {
                        if (!c) return b;
                        c.fillStyle = b
                    }, u.Jb())), !k.TU || p[r][c])) {
                        if (k.bS) if (p[r][c]) A = k.toFixed(k.Nn()(p[r][c], e, 1E-4 >= Math.abs(p[r][c]))); else for (var x = c; 0 <= x; x--) {
                            if (p[r][x]) {
                                A = k.toFixed(k.Nn()(p[r][x], e, 1E-4 >= Math.abs(p[r][x])));
                                break
                            }
                            A = "N/A"
                        } else var A = p[r][c] ? k.toFixed(k.Nn()(p[r][c], e, 1E-4 >= Math.abs(p[r][c]))) : "N/A";
                        h.push([(1 < q ? u.getName() : l.Nb()) + ":", A])
                    }
                }
            }
        }, b);
        return h
    }

    function jJ(b, c) {
        var d = b.o.W().Y(), e = b.o.ma(), h = GF(b.o), k = e.Sb, l = new Date(c.getTime()), p = [function (c) {
            if (!c) return b.o.fa().j.Mk;
            c.fillStyle = b.o.fa().j.Mk
        }, ["Date:", oJ.format(l, b.o.Ic(l))]];
        if (!b.o.Ec()) {
            a:switch (!0) {
                case 6E4 >= d:
                    d = pJ;
                    break a;
                default:
                    d = qJ
            }
            p.push(["Time:", d.format(l, b.o.Ic(l))])
        }
        DD(b.o.Fd(), e) ? (e = "mio units", l = 1) : CD(b.o.Fd(), e) ? (e = "thou ounces", l = 1E3) : (e = GD(b.o.Fd(), e) ? "coins" : b.o.ma().gB || b.o.ma().xc() ? b.o.ma().xc() || " DUK+" : "contracts", l = 1E6);
        switch (b.o.Fa()) {
            case 1:
                p.push(["Ask:",
                    Eb(c.ed(), k).join("")]);
                p.push(["Bid:", Eb(c.fd(), k).join("")]);
                h || (p.push(["Ask vol, " + e + ":", VI.format(c.Cs * l)]), p.push(["Bid vol, " + e + ":", VI.format(c.Ds * l)]));
                p.push(["Spread:", ((c.ed() - c.fd()) / k).toFixed(1)]);
                break;
            case 6:
            case 7:
            case 4:
            case 8:
                d = (new Date(c.$i())).getUTCDate() === (new Date(c.Bf())).getUTCDate();
                p.push(["Start :", rJ(c.$i())]);
                p.push(["End :", rJ(c.Bf(), !d)]);
                p.push(["Open:", Eb(c.zb(), k).join("")]);
                p.push(["High:", Eb(c.bb(), k).join("")]);
                p.push(["Low:", Eb(c.$a(), k).join("")]);
                p.push(["Close:",
                    Eb(c.jb(), k).join("")]);
                h || p.push(["Volume, " + e + ":", VI.format(c.Hd() * l)]);
                p.push(["Formed elements count :", "" + c.xl()]);
                break;
            default:
                p.push(["Open:", Eb(c.zb(), k).join("")]), p.push(["High:", Eb(c.bb(), k).join("")]), p.push(["Low:", Eb(c.$a(), k).join("")]), p.push(["Close:", Eb(c.jb(), k).join("")]), h || p.push(["Volume, " + e + ":", VI.format(c.Hd() * l)]), (h = sJ(b)) && p.push(h)
        }
        return p
    }

    f.jH = null;
    f.Wp = Infinity;
    f.KV = Infinity;
    f.fj = -1;

    function YI(b, c) {
        var d;
        (d = 1 == c) || (d = (d = b.o.eb()) ? (d = d.Th()) ? (d = d.getTime()) && isFinite(b.Wp) && d == b.Wp : !1 : !1, d = !d);
        d && (clearInterval(b.jH), b.jH = null)
    }

    function sJ(b) {
        var c, d, e, h, k, l, p, q, r;
        r = b.o.W();
        if (!r) return null;
        q = r.Y();
        c = b.o.eb();
        if (!c) return null;
        c = c.Th();
        if (!c || !(k = c.cca) || q <= cl.Y() || (e = c.getTime()) == k) return null;
        b.Wp = b.Wp || Infinity;
        b.Wp = b.Wp || Infinity;
        b.NV = !isNaN(c.Gm());
        if (e != b.Wp || null == b.jH) YI(b, !0), b.Wp = e, b.KV = b.Wp + q, b.fj = b.KV - k, b.fj -= b.fj % 1E3, b.fj += 1E3, b.NV && b.o.j.Rl && r.Vd(fl) && (b.fj = q), h = 0, b.jH = setInterval(function (b) {
            b.NV = !0;
            b.fj -= 1E3;
            0 < b.fj ? (b.o.Ia(), !b.o.Cg && 9 <= ++h && (YI(b, !1), h = 0)) : (b.fj = -1, b.o.Ia(), YI(b, !1))
        }, 1E3, b);
        if (0 > b.fj) return YI(b,
            !1), null;
        d = b.fj / 1E3;
        e = !!(0 <= b.fj && 1E3 > b.fj);
        p = [];
        La({day: 86400, hour: 3600, minute: 60, second: 1}, function (b, c) {
            l = Math.floor(d / b);
            d -= l * b;
            (0 < l || 0 == l && 0 < p.length) && p.push("day" != c && 9 >= l ? "0" + l : l)
        }, b);
        1 == p.length && p.unshift("00");
        e && (p = ["00", "00"]);
        return ki(p) ? null : ["Time till close*:", 4 == p.length ? p.shift() + "d " + p.join(":") : p.join(":")]
    }

    function nJ(b, c, d) {
        c = Ra(c, wf(oa));
        var e = Sa(c, function (b) {
            return b[0].length + b[1].length + 1
        });
        Ec(e);
        e = Nh("X", $h(e));
        b.a.width = d.measureText(e).width;
        b.a.height = c.length * d.fontSize * 1.5
    }

    function lJ(b, c, d, e, h, k, l) {
        b.o.Qa();
        var p = b.o.vb();
        c.save();
        c.translate(-b.o.pa, 0);
        c.globalCompositeOperation = "destination-over";
        c.beginPath();
        7 === b.o.Fa() ? (k = d.EB, d = d.DB, k && d ? (h = G(p.y(d[1])), l = G(p.y(k[0])) - h) : d ? (h = G(p.y(d[1])), l = G(p.y(d[0])) - h) : k && (h = G(p.y(k[1])), l = G(p.y(k[0])) - h), c.rect(G(e) - 1, h, 3, l)) : 4 === b.o.Fa() ? (l += "box" === b.o.Te() ? 3 : 0, c.rect(G(e) - (k / 2 | 0), h, k, l)) : 8 === b.o.Fa() ? (c.rect(e - (k / 2 | 0), h, k, l), "wickscandlebar" === b.o.Te() && (c.moveTo(e, G(p.y(hj(d))) - 1), c.lineTo(e, G(p.y(ij(d))) + 1))) : 1 !==
        b.o.Fa() ? (c.rect(e - (k / 2 | 0), h, k, l), c.moveTo(e, G(p.y(d.bb())) - 1), c.lineTo(e, G(p.y(d.$a())) + 1)) : (c.moveTo(e, G(p.y(b.Re.call(d))) - 1), c.lineTo(e, G(p.y(b.ff.call(d))) + 1));
        c.shadowOffsetX = 0;
        c.shadowOffsetY = 0;
        c.shadowBlur = 3;
        c.strokeStyle = b.Rb;
        c.shadowColor = b.Rb;
        c.stroke();
        c.restore()
    }

    var oJ = new sk("yyyy-MM-dd");

    function rJ(b, c) {
        for (var d = c ? new sk(" yyyy-MM-dd") : null, e = new sk("UTC HH:mm:ss"), h = new Date(b), k = h.getMilliseconds().toString(), l = 0, p = 3 - k.length; l < p; ++l) k = "0" + k;
        return e.format(h, ok(0)) + "." + k + (d ? d.format(h, ok(0)) : "")
    }

    var pJ = new sk("HH:mm:ss.S"), qJ = new sk("HH:mm");

    function tJ(b, c) {
        P.call(this, b, c);
        this.a = new hI;
        this.a.QY = !1
    }

    B(tJ, P);
    f = tJ.prototype;
    f.type = "Pencil";
    f.Tc = P.prototype.Tc ^ 2;
    f.Uc = 1;
    f.oD = !0;
    f.Gf = function (b) {
        tJ.P.Gf.call(this, b);
        uA(this)
    };
    f.ee = function (b, c, d) {
        var e = this.ba[this.ba.length - 2];
        if (!this.oh && d) {
            var h = c.qc(5) - c.qc(10);
            $m(b.x(d.time), b.x(e.time), 7) && $m(d.value, e.value, h) || (this.ba.pop(), this.Gf(Lc(d)), this.Gf(d), tJ.P.ee.call(this, b, c, d))
        }
    };
    f.Yj = function (b, c) {
        tJ.P.Yj.call(this, b, c);
        this.oh = !0
    };
    f.Im = function () {
        return this.gb.X().Ca() / 2
    };
    f.oh = !1;
    f.zg = function () {
        return this.oh
    };
    f.Ez = function () {
        return this.ba.length >= this.Uc
    };
    f.Ii = 2;
    f.T = function (b, c, d) {
        for (var e = [], h = 0, k = this.ba.length; h < k; h++) e.push(c.x(this.ba[h].time)), e.push(d.y(this.G(h)));
        c = this.a;
        k = this.rd();
        b.lineWidth = this.hg() || 3;
        b.lineCap = "round";
        b.save();
        var l = [];
        d = e.length;
        for (h = 0; h < d - 4; h += 2) var p = e[h], q = e[h + 1], r = e[h + 2], t = e[h + 3], u = e[h + 4], x = e[h + 5], A = Math.sqrt(Math.pow(r - p, 2) + Math.pow(t - q, 2)), A = .5 * A / (A + Math.sqrt(Math.pow(u - r, 2) + Math.pow(x - t, 2))), C = .5 - A, l = l.concat([r + A * (p - u), t + A * (q - x), r - C * (p - u), t - C * (q - x)]);
        b.strokeStyle = iI(k, .75);
        b.beginPath();
        for (h = 2; h < e.length - 5; h +=
            2) b.moveTo(e[h], e[h + 1]), b.bezierCurveTo(l[2 * h - 2], l[2 * h - 1], l[2 * h], l[2 * h + 1], e[h + 2], e[h + 3]);
        b.stroke();
        b.closePath();
        b.strokeStyle = iI(k, .75);
        b.beginPath();
        b.moveTo(e[0], e[1]);
        b.quadraticCurveTo(l[0], l[1], e[2], e[3]);
        b.stroke();
        b.closePath();
        b.strokeStyle = iI(k, .75);
        b.beginPath();
        b.moveTo(e[d - 2], e[d - 1]);
        b.quadraticCurveTo(l[2 * d - 10], l[2 * d - 9], e[d - 4], e[d - 3]);
        b.stroke();
        b.restore();
        if (c.QY) for (h = 0; h < d; h += 2) k = b, l = e[h], p = e[h + 1], q = c.l4, k.save(), k.beginPath(), k.lineWidth = 1, k.fillStyle = 7 == q.length ? iI(q, 1) : q, k.arc(l,
            p, 2.5, 0, 2 * Math.PI, !1), k.closePath(), k.stroke(), k.fill(), k.restore()
    };
    f.Aw = function (b, c, d) {
        for (var e = [this.ba[0], this.ba[this.ba.length - 1]], h = e.length; 0 < h--;) {
            var k = e[h], l = c.x(k.time), k = d.y(k.value);
            b(l, k)
        }
    };
    f.Jt = function (b, c, d) {
        b.moveTo(c, d);
        b.fillStyle = "white";
        b.lineWidth = 2;
        b.arc(c, d, 3, 0, 2 * Math.PI, !1);
        b.stroke()
    };
    f.Io = function (b, c) {
        return +c
    };
    f.hz = function () {
        return this.ba
    };
    f.jr = function () {
        return []
    };
    f.ec = function (b, c, d, e, h, k) {
        h = k || 5;
        var l;
        k = this.hz();
        for (var p = k.length - 1; 0 < p--;) {
            var q = d.x(k[p].time), r = e.y(k[p].value), t = d.x(k[p + 1].time), u = e.y(k[p + 1].value), x = t - q,
                A = u - r, C = x * x + A * A, I = ((b - q) * x + (c - r) * A) / C;
            switch (!0) {
                case 0 <= I && 1 >= I:
                    l = Math.abs((b - q) * A - (c - r) * x) / Math.sqrt(C);
                    break;
                case 0 > I:
                    l = Co(b, c, q, r);
                    break;
                case 1 < I:
                    l = Co(b, c, t, u)
            }
            if (l <= h) return !0
        }
        return !1
    };
    f.getTypeName = function () {
        return "Pencil"
    };
    var Fu = {};
    Fu.Candle = fC;
    Fu.Callout = cC;
    Fu.Channel = RA;
    Fu.Ellipse = AA;
    Fu.FiboArc = UA;
    Fu.FiboExpansion = VA;
    Fu.FiboFan = YA;
    Fu.FiboRetracements = ZA;
    Fu.FiboTimeZones = aB;
    Fu.GannAngle = jC;
    Fu.GannGrid = mC;
    Fu.GhostFeed = xA;
    Fu.HorizontalLine = MA;
    Fu.Image = uC;
    Fu.Line = cB;
    Fu.Pencil = tJ;
    Fu.LinearChannel = dB;
    Fu.Order = vC;
    Fu.Pattern = DC;
    Fu.Polygon = pB;
    Fu.Polyline = mB;
    Fu.PriceLabel = NA;
    Fu.PriceLevel = OA;
    Fu.Ray = fB;
    Fu.Rectangle = tB;
    Fu.Triangle = qB;
    Fu.Segment = gB;
    Fu.StdDevChannel = SA;
    Fu.Text = TE;
    Fu.TextBox = VE;
    Fu.TimeLabel = RB;
    Fu.TimeMarker = SB;
    Fu.VerticalLine = QB;
    Fu.PitchFork = hB;
    Fu.Divider = vB;
    Fu.HistoricalOrder = Fx;
    Fu.SignalUp = PB;
    Fu.SignalDown = OB;
    Fu.Order = V;
    Fu.VolumeProfile = WB;
    Fu.PriceAlert = rB;

    function uJ(b) {
        Q.call(this);
        this.o = b;
        this.ka = new vu;
        this.o.Rx(this.ka);
        this.Da = this.o.Fb;
        this.aR = v(this.aR, this);
        this.g = [];
        this.F = [];
        this.K = {};
        this.U = {};
        this.ra = new fu(this);
        this.R = this.w = !1
    }

    B(uJ, Q);
    var Au = "objectadd", Bu = "objectremove", Eu = "objectedit", Cu = "objectcomplete", Du = "objectchange";
    f = uJ.prototype;
    f.Ta = 1;
    f.RV = !1;
    f.Tw = function (b) {
        this.RV = b
    };
    f.bj = function () {
        return this.RV
    };
    f.X = function () {
        return this.o
    };
    f.fa = function () {
        return this.o.fa()
    };
    f.Ba = function (b) {
        this.Za !== !!b && ((this.Za = b) ? this.ra.C(this.o, [Nx, sp], this.Mm).C(this.o, Mx, this.$Q).C(this.o, [lx, tp], this.jg, !0).C(ps(this.o.Fb), ["mouseup", "touchend"], this.Il).C(ps(this.o.Fb), "keydown", this.Km).C(ps(this.o.Fb), "keyup", this.hE, !0) : this.ra.ud())
    };
    f.handleEvent = function (b) {
        switch (b.type) {
            case Nx:
            case sp:
                return this.Mm(b);
            case Mx:
                return this.$Q();
            case lx:
            case tp:
                return this.jg(b);
            case "mouseup":
            case "touchend":
                return this.Il(b)
        }
    };
    f.Mm = function (b) {
        var c = rp(b), d = c.x, e = c.y,
            h = (this.a ? this.o.qd(WA(this, this.a).aa()) : this.o.Hm(d, e)) || Gx(this.o);
        if (!(this.a && this.a.eh && this.a.dw)) {
            this.w = 3 == this.Ta || 4 == this.Ta;
            var k = this.a, c = h.Qa(), l = h.vb(), p = h.Ha, d = this.o.pa - vJ(this) + d, e = e - p.top,
                q = this.jx(c.t(d)), r = wJ(this, q, l.qc(e));
            switch (this.Ta) {
                case 5:
                    if (b.type == sp) return;
                    this.R || (this.m.time = q, this.m.value = r);
                    this.a.zg() ? (xJ(this, b), this.dispatchEvent(new cf(Cu, k))) : (this.m = {
                        time: q,
                        value: r
                    }, this.a.Gf(this.m), b.stopPropagation(), b.preventDefault(),
                        this.dispatchEvent(new cf(Eu, this.a)), this.a.zg() && this.a.Zs().length > this.a.Uc + 1 && (xJ(this, b), this.dispatchEvent(new cf(Cu, k))));
                    break;
                case 2:
                    if (this.a.ec(d + vJ(this), e, c, l, p)) {
                        (k = this.a.Dm(d, e, c, l)) && !this.a.oD ? (this.m = k, this.Ta = 3) : this.Ta = 4;
                        this.$ = this.jx(c.t(d));
                        this.ia = wJ(this, this.$, l.qc(e));
                        b.stopPropagation();
                        b.preventDefault();
                        if (this.a.JK(b)) {
                            this.nn(this.a);
                            return
                        }
                        this.dispatchEvent("dragstart");
                        this.bj() && this.a.ck()
                    } else this.nn(), this.Ta = 1, this.Mm(b);
                    break;
                default:
                    a:{
                        for (var k = h.Qa(),
                                 t = h.vb(), u = h.Ha, x = yJ(this, h), A = x.length; 0 < A--;) if (x[A].Wm && x[A].ec(d, e, k, t, u)) {
                            k = x[A];
                            break a
                        }
                        k = null
                    }
                    k && k.Vp(c, l, p) && (b.stopPropagation(), b.preventDefault(), this.jJ(k), k.yB && (this.Ta = 2, this.Mm(b)), zJ(this, h, d, e))
            }
            h = yJ(this, h);
            for (k = h.length; 0 < k--;) h[k].Wm && h[k].ec(d, e, c, l, p) && h[k].dispatchEvent(new hf("mousedown", q, r, b))
        }
    };
    f.$Q = function () {
        this.a && this.a.HE() && !this.a.eh && this.dispatchEvent(new cf("callchartobjectdialog", this.a))
    };

    function xJ(b, c) {
        b.Ta = 1;
        var d = b.a ? b.o.qd(WA(b, b.a).aa()) : c ? b.o.Hm(c.offsetX, c.offsetY) : Gx(b.o), e = d.Qa(), d = d.vb();
        b.a.Yj(e, d);
        b.a.ck();
        e = b.a;
        e.Tc &= -5;
        e = b.a;
        b.a = null;
        b.m = null;
        b.dispatchEvent(new cf(Au, e))
    }

    f.jg = function (b) {
        var c = rp(b), d = c.x, e = c.y,
            h = (this.a ? this.o.qd(WA(this, this.a).aa()) : this.o.Hm(d, e)) || Gx(this.o);
        if (!(this.a && this.a.eh && this.a.dw)) {
            var c = h.Qa(), k = h.vb(), l = h.Ha, d = this.o.pa - vJ(this) + d, e = e - l.top, p = c.t(d),
                q = this.jx(p), r = k.qc(e), t = wJ(this, q, r);
            zJ(this, h, d, e);
            switch (this.Ta) {
                case 5:
                case 3:
                    b.stopPropagation();
                    b.preventDefault();
                    this.a.Us(this.m, q, t, this.R);
                    this.a.ee(c, k, this.m);
                    this.dispatchEvent(new cf(Eu, this.a));
                    this.w = !0;
                    break;
                case 4:
                    if (b.stopPropagation(), b.preventDefault(), this.a.dv(q,
                        t, this.$, this.ia), this.a.ee(c, k), this.dispatchEvent(new cf(Eu, this.a)), q != this.$ || t != this.ia) this.w = !0
            }
            for (var u = [], x = this.F.length; 0 < x--;) this.F[x].ec(d, e, c, k, l) || (this.F[x].dispatchEvent(new hf("mouseout", p, r, b)), u.push(x));
            for (; u.length;) ni(this.F, u.pop());
            h = yJ(this, h);
            for (u = h.length; 0 < u--;) h[u].zg() && h[u].ec(d, e, c, k, l) && (x = h[u], ji(this.F, x) || (this.F.push(x), x.dispatchEvent(new hf("mouseover", p, r, b))), x.dispatchEvent(new hf("mousemove", p, r, b)), x.dispatchEvent(new hf("touchmove", p, r, b)));
            this.$ =
                q;
            this.ia = t
        }
    };
    f.Il = function (b) {
        var c = (this.a ? this.o.qd(WA(this, this.a).aa()) : this.o.Hm(b.offsetX, b.offsetY)) || Gx(this.o);
        if (!(this.a && this.a.eh && this.a.dw)) if (this.a && this.a.oD && !this.a.zg()) 2 >= this.a.Zs().length ? this.Me(this.a, !0) : (this.a.oh = !0, xJ(this, b), this.dispatchEvent(new cf(Cu, this.a))); else if (c) {
            var d = c.Qa(), e = c.vb(), h = c.Ha, k = this.o.pa - vJ(this) + b.offsetX, l = b.offsetY - h.top,
                p = this.jx(d.t(k)), q = wJ(this, p, e.qc(l));
            zJ(this, c, k, l);
            switch (this.Ta) {
                case 3:
                case 4:
                case 2:
                    this.Ta = 2, this.dispatchEvent("dragend"), this.w &&
                    this.dispatchEvent(new cf(Cu, this.a)), this.bj() && this.w && (this.a.Vm(oA.QB), this.w = !1)
            }
            for (var c = yJ(this, c), r = c.length; 0 < r--;) c[r].Wm && c[r].zg() && c[r].ec(k, l, d, e, h) && c[r].dispatchEvent(new hf("mouseup", p, q, b))
        }
    };
    f.Km = function (b) {
        if (b.target === qs(Yd)[0] && this.a && !this.a.eh) {
            16 === b.keyCode && (this.R = !0, this.a && this.m && (this.a.Us(this.m, this.m.time, this.m.value, this.R), this.o.Ia()));
            var c = this.o.qd(WA(this, this.a).aa()).vb(), d, e;
            if (37 === b.keyCode || 39 === b.keyCode) d = 37 === b.keyCode ? -1 : 1, e = this.o.W().Y(), !this.w && this.bj() && this.a.ck(), this.a.offset(d * e, 0), this.o.Ia(), this.w = !0;
            if (40 === b.keyCode || 38 === b.keyCode) d = 40 === b.keyCode ? -1 : 1, e = xb(c.g / c.jf * this.o.je().height * .002, this.o.ma().Sb / 10), !this.w && this.bj() && this.a.ck(),
                this.a.offset(0, d * e), this.o.Ia(), this.w = !0
        }
    };
    f.hE = function (b) {
        if (!this.a || !this.a.eh) if (16 === b.keyCode) this.R = !1; else switch (this.a && this.w && this.bj() && 27 !== b.keyCode && (this.w = !1, this.a.Vm(oA.QB)), this.Ta) {
            case 2:
            case 3:
            case 4:
                46 === b.keyCode && this.zy();
                27 === b.keyCode && this.nn();
                break;
            case 5:
                46 === b.keyCode && this.zy(), 27 === b.keyCode && (this.a.Ez() ? xJ(this, b) : this.zy())
        }
    };

    function zJ(b, c, d, e) {
        var h = c.Qa(), k = c.vb(), l = c.Ha, p = "auto";
        switch (b.Ta) {
            case 5:
                p = "crosshair";
                break;
            case 2:
                b.a.ec(d, e, h, k, l) && (p = "crosshair");
                break;
            case 3:
            case 4:
                p = "move";
                break;
            case 1:
                c = yJ(b, c);
                for (var q = c.length; 0 < q--;) if (c[q].Wm && c[q].ec(d, e, h, k, l)) {
                    p = "pointer";
                    break
                }
        }
        ht(b.Da, "cursor", p)
    }

    f.jx = function (b) {
        if (this.a && this.a.oD) return b;
        if (this.o.Ec()) {
            var c = Zi(this.o.eb(), b);
            if (c) return c.getTime()
        }
        return vj(this.o.W(), b, this.o.ul)
    };

    function wJ(b, c, d) {
        if (b.a && !b.a.gw) return d;
        c = b.o.m.bt(c);
        if (!c) return d;
        var e = b.o.vb(), h = e.y(d);
        switch (b.o.Fa()) {
            case 2:
            case 3:
            case 5:
            case 6:
            case 4:
            case 7:
            case 8:
                b = e.y(c.bb());
                if (5 >= Math.abs(h - b)) return c.bb();
                if (h < b) break;
                b = e.y(c.$a());
                if (5 >= Math.abs(h - b)) return c.$a();
                if (h > b) break;
                if (5 >= Math.abs(h - e.y(c.zb()))) return c.zb();
                if (5 >= Math.abs(h - e.y(c.jb()))) return c.jb()
        }
        return d
    }

    f.uW = [];
    f.xT = function (b) {
        var c = this.uW[b.target.aa()];
        this.Ms = b.target;
        c && c !== this.Ms.Jb() && (this.g = Ra(this.g, function (b) {
            return b !== this.Ms
        }, this), this.g.push(this.Ms));
        this.Ms.eh || this.dispatchEvent(Du);
        this.uW[this.Ms.aa()] = this.Ms.Jb()
    };
    f.jJ = function (b) {
        b.Wm && (b.Tc |= 4, this.a = this.he = b, this.Ta = 2, b.fM(), this.a.eh || this.dispatchEvent(new cf("objectpick", b)))
    };
    f.nn = function () {
        if (this.a) {
            var b = this.a, c = this.a;
            c.Tc &= -5;
            this.m = this.a = null;
            c = this.Ta;
            this.Ta = 1;
            this.dispatchEvent(new cf("objectunpick", b));
            b.zg() && 5 !== c || this.Me(b);
            b.hM()
        }
    };
    f.tC = function (b, c) {
        var d = AJ(this, b);
        GF(this.o) && b instanceof WB || (d && b.Ab(d), this.a && this.nn(), this.Za && this.bj() && this.ra.C(b, "chartobjectchange", this.xT), this.he = this.a = b, this.a.Yr = c || Gx(this.o), b.Xh(this), b.Tc |= 4, this.Ta = 5, this.m = {
            time: NaN,
            value: NaN
        }, this.a.Gf(this.m), this.g.push(this.a), BJ(this, this.a, c || Gx(this.o)))
    };

    function WA(b, c) {
        var d = b.U[c.aa()];
        d || (d = b.U[c.aa()] = Gx(b.o).aa());
        return b.o.qd(d)
    }

    function yJ(b, c) {
        var d = c ? c.aa() : "D".toString();
        b.K[d] = b.K[d] || [];
        return b.K[d]
    }

    function BJ(b, c, d) {
        GF(b.o) && c instanceof WB || (yJ(b, d).push(c), b.U[c.aa()] = d ? d.aa() : "D".toString(), b.dispatchEvent(new cf(Au, c)))
    }

    f.Jg = function (b, c) {
        if (!(GF(this.o) && b instanceof WB)) {
            b.Xh(this);
            this.Za && this.bj() && this.ra.C(b, "chartobjectchange", this.xT);
            this.g.push(b);
            var d = c || b.qd() || Gx(this.o);
            BJ(this, b, d);
            b.Yj(d ? d.Qa() : null, d ? d.vb() : null);
            d = this.ka;
            d.m.push(b);
            d.ra.C(b, "mouseover", d.h5).C(b, "mouseout", d.g5).C(b, "mousemove", d.jg)
        }
    };
    f.Me = function (b, c) {
        var d = null != c ? c : !1, e = !1;
        this.a === b && (e = !0, !d && this.a.Vz(), this.a = null, this.dispatchEvent("objectunpick", b));
        if (mi(this.g, b)) {
            for (var h in this.K) this.K.hasOwnProperty(h) && (mi(this.K[h], b), delete this.U[b.aa()]);
            !d && b.Vz();
            b instanceof tA || d || b.Vm(oA.NH);
            this.Ta = e ? 1 : this.Ta;
            b instanceof tA || b instanceof xA || this.dispatchEvent(new cf(Bu, b))
        }
    };

    function CJ(b, c) {
        var d = Ra(b.g, function (b) {
            return (b = b.qd()) ? b.aa() == c : !1
        });
        E(d, function (b) {
            this.Me(b)
        }, b);
        d = null
    }

    f.zy = function () {
        this.bj() && this.a.ck();
        this.Me(this.a)
    };
    f.reset = function () {
        for (var b = this.g.length; 0 < b--;) {
            var c = this.g.length - b - 1;
            this.g[c] && !this.g[c].eh && this.Me(this.g[c])
        }
        pA = 0;
        nA.dN("drawings");
        this.o.yH()
    };
    f.ri = function () {
        return this.g
    };
    f.Qa = function (b) {
        return WA(this, b).Qa()
    };
    f.vb = function (b) {
        return WA(this, b).vb()
    };
    f.T = function (b, c) {
        var d, e, h = b.Qa(), k = b.vb(), l = yJ(this, b), p = null, q = this.o.getContext();
        q.save();
        q.translate(-1 * this.o.pa, c.top);
        for (var r = 0, t = l.length; r < t; r++) {
            var u = l[r];
            if (u === this.a) p = u; else {
                if (u instanceof Fx) {
                    d = u;
                    var x = k;
                    e = c;
                    var A = h.x(d.ba[0].time) - d.Im() + 2.5, x = x.y(d.ba[0].value);
                    d.R = A >= e.left && A <= e.left + e.width && x >= e.top && x <= e.top + e.height;
                    d.a && O(d.a, d.R);
                    e = this.o.$S();
                    d = e.QL;
                    e = e.LL;
                    A = DJ(this.o);
                    x = this.o.W().Y() / 3 * 2;
                    if (d > A.fh || e < A.vg - x) continue
                }
                EJ(this, u, q, h, k, c)
            }
        }
        p && EJ(this, p, q, h, k, c);
        r = 0;
        for (t =
                 l.length; r < t; r++) l[r].QW(q, h, k, c);
        q.restore()
    };

    function EJ(b, c, d, e, h, k) {
        if (c.Vp(e, h, k) && yA(c, b.X().ma())) {
            d.fillStyle = rA(c);
            d.strokeStyle = c.rd();
            d.lineWidth = c.hg();
            d.setLineDash(c.pr());
            c.Vu && (d.save(), d.beginPath(), d.moveTo(k.left, 0), d.lineTo(k.left + k.width, 0), d.lineTo(k.left + k.width, k.height), d.lineTo(k.left, k.height), d.closePath(), d.clip());
            d.beginPath();
            c.T(d, e, h, k) || (c.Tc & 2 && d.fill(), c.Tc & 1 && d.stroke());
            if (c.hk) {
                var l = c.Fl(d, e, h, k), p = l[0], l = l[1];
                d.save();
                d.fillStyle = Mn(c.color, 1);
                d.shadowOffsetX = 1;
                d.shadowOffsetY = 1;
                d.shadowBlur = 0;
                d.shadowColor =
                    c.ga().X().fa().j.wd;
                d.font = "10px Arial, sans-serif";
                d.fillText(c.hk, p, l);
                d.restore()
            }
            c == b.a && (d.save(), c.Bw(d, e, h, k), d.restore());
            c.Vu && d.restore()
        }
    }

    f.aR = function (b, c) {
        var d = this.o.getContext();
        d.moveTo(b, c);
        d.arc(b, c, this.o.fa().$y(), 0, 2 * Math.PI, !1)
    };
    f.lb = function () {
        return Ig(Sa(Ra(this.g, function (b) {
            return !(b instanceof tA)
        }), function (b) {
            return b.lb()
        }))
    };

    function Gu(b) {
        var c = {};
        E(Ra(b.g, function (b) {
            return !(b instanceof tA)
        }), function (b) {
            c[b.aa()] = JSON.parse(b.lb())
        });
        return c
    }

    function Hu(b, c) {
        b.o.lk = !0;
        E(c, function (b) {
            var c = new Fu[b.type];
            c.Xh(this);
            c.cb(JSON.stringify(b));
            c.$h(b.id);
            this.o.gd ? this.Jg(c) : this.o.S().Qf(this.o, FJ, v(this.Jg, this, c, null))
        }, b);
        b.o.lk = !1
    }

    f.cb = function (b) {
        this.o.lk = !0;
        E(Gg(b), function (b) {
            var d = new (Fu[Gg(b).type]);
            d.Xh(this);
            d.cb(b);
            this.Jg(d)
        }, this);
        this.o.lk = !1
    };

    function vJ(b) {
        return b.a ? b.a.Im() : 0
    }

    function AJ(b, c) {
        if (b.o.gA) return null;
        var d = ii(b.g, function (b) {
            return b.Kb() === c.Kb()
        });
        return b.g[d] ? b.g[d].Jb() : "#5F5F5F"
    };

    function GJ(b, c, d) {
        YH.call(this, d);
        this.o = b;
        this.m = c;
        this.w = [];
        this.va = {};
        this.u()
    }

    B(GJ, YH);
    var HJ = {"-1": "A-I-J", 0: "A-I-eq", 1: "A-I-K"}, IJ = {low: "A-D-E", medium: "A-D-F", high: "A-D-G"};
    GJ.prototype.u = function () {
        var b = this.M(),
            b = b.u(D, "A", this.g = b.u(D, "A-B", this.Ya = b.u(Le, "A-C"), this.vq = b.u(Le, "A-L")), b.u(D, "A-H", this.za = b.u(Le, "A-actual", "Actual:", this.R = b.createElement(Le)), this.Ea = b.u(Le, "A-forecast", "Forecast:", this.U = b.createElement(Le)), this.La = b.u(Le, "A-Mm", "Previous:", this.ka = b.createElement(Le))));
        O(b, !1);
        this.Da = b
    };
    var JJ = {low: "rgb(21, 147, 26)", medium: "rgb(255, 216, 0)", high: "rgb(218, 37, 29)"};
    f = GJ.prototype;
    f.Ba = function (b) {
        this.S().ud();
        b && this.S().C(this.m, [DE, KJ], this.hC).C(this.o, [LJ, FJ], this.s5).C(this.o, [LJ, mx, nx], this.hC).C(this.o, "mousemove", this.jg).C(this.o, "mouseout", this.qR).C(this.o, "renderforeground", this.jca, !0).C(this.o.wb, "renderforeground", this.nca, !0)
    };
    f.hC = function () {
        this.K = zi(this.m.nr(), v(this.tT, this));
        this.F = Vg(zi(this.m.nr(), v(this.tT, this)), this.Yaa)
    };
    f.tT = function (b) {
        return b.time - b.time % this.o.W().Y()
    };
    f.Yaa = function (b) {
        for (var c = b[0].lt, d = b.length; 0 < d--;) c = 0 > Yc(c, b[d].lt) ? b[d].lt : c;
        return c
    };
    f.jca = function (b) {
        if (Bl(this.o.W(), ml)) {
            this.K || this.hC();
            this.Ha || (this.Ha = xu(this.o));
            var c = this.o.Qa(), d = this.o.vb(), e = this.Ha, h = this.o.pa;
            this.w.length = 0;
            b = b.target.getContext();
            b.save();
            b.beginPath();
            b.rect(0, e.top, e.width, e.height);
            b.closePath();
            b.clip();
            var k = yb(xb(this.o.Ca() / 4 | 0, 2), 5), l = 2 * k, p = xb(1.75 * l + .5 | 0, 10),
                q = this.o.Qa().t(this.o.pa - this.o.je().width / 4), r = this.o.Qa().t(this.o.pa + this.o.je().width),
                t;
            for (t in this.K) if (this.K.hasOwnProperty(t) && !(t < q || t > r)) {
                var u = this.K[t], x = this.o.eb().indexOf(t);
                0 > x && (x = ~x);
                for (var x = this.o.eb().ta[x], A = Math.max(e.top + e.height - u.length * p + p / 2 | 0, e.top), C = 0, I = u.length; C < I; C++) {
                    var N = u[C], S = x ? x.getTime() : vj(this.o.W(), N.time), S = c.x(S) - h + .5, T = A + p * C;
                    b.fillStyle = b.strokeStyle = JJ[N.lt];
                    var U = {top: T - k, left: S - l, right: S + l, bottom: T + k, Kk: N};
                    this.w.push(U);
                    this.va[qa(N)] = U;
                    b.beginPath();
                    b.moveTo(S + k, T);
                    b.arc(S, T, k, 0, 2 * Math.PI, !1);
                    b.closePath();
                    b.globalAlpha = N === this.a ? .65 : .35;
                    b.fill();
                    b.globalAlpha = N === this.a ? 1 : .65;
                    b.stroke();
                    S = this.m;
                    if (U = S.Mu ? S.Mu[qa(N)] : null) {
                        b.translate(-h,
                            0);
                        var N = b, T = c, S = d, U = U.Mba, Y = this.o.fa();
                        N.save();
                        N.globalAlpha = 1;
                        N.lineWidth = .5;
                        N.fillStyle = N.strokeStyle = Y.j.Yc;
                        N.beginPath();
                        N.moveTo(T.x(U[0].t), S.y(U[0].qc));
                        N.bezierCurveTo(T.x(U[1].t), S.y(U[1].qc), T.x(U[2].t), S.y(U[2].qc), T.x(U[3].t), S.y(U[3].qc));
                        N.stroke();
                        var Y = new up(U[0].t, U[0].qc, U[1].t, U[1].qc, U[2].t, U[2].qc, U[3].t, U[3].qc), fa;
                        fa = wp(Y, U[3].t - this.o.W().Y() / 2);
                        var na;
                        if (0 == fa) na = Y.Xc; else if (1 == fa) na = Y.g; else {
                            na = Gc(Y.Xc, Y.af, fa);
                            var xa = Gc(Y.af, Y.dl, fa), vb = Gc(Y.dl, Y.g, fa);
                            na = Gc(na, xa,
                                fa);
                            xa = Gc(xa, vb, fa);
                            na = Gc(na, xa, fa)
                        }
                        fa = new op(vp(Y, fa), na);
                        Y = T.x(U[3].t);
                        U = S.y(U[3].qc);
                        T = T.x(fa.x);
                        S = S.y(fa.y) - U;
                        S = Math.atan(S / (T - Y));
                        N.translate(Y, U);
                        N.rotate(S - Math.PI / 2);
                        N.beginPath();
                        N.moveTo(0, 0);
                        T = this.o.Ca();
                        S = yb(xb(T / 6, 1.5), 3);
                        T = yb(xb(T / 2, 4), 10);
                        N.lineTo(-S, -T);
                        N.lineTo(S, -T);
                        N.closePath();
                        N.fill();
                        N.restore();
                        b.translate(h, 0)
                    }
                }
            }
            b.restore()
        }
    };
    f.nca = function (b) {
        if (Bl(this.o.W(), ml)) {
            this.F || this.hC();
            var c = this.o.Qa();
            c.Jf = b.target.Gq;
            b = b.target.Yb * b.target.Gq;
            var d = this.o.getContext();
            d.save();
            d.globalAlpha = .15;
            var e = this.o.su.height, h;
            for (h in this.F) if (this.F.hasOwnProperty(h)) {
                var k = c.x(+h) - b;
                d.fillStyle = JJ[this.F[h]];
                d.fillRect(k - 1, 0, 3, e)
            }
            d.restore();
            c.Jf = this.o.Ca()
        }
    };
    f.jg = function (b) {
        var c = b.offsetX;
        b = b.offsetY;
        for (var d = null, e = this.w.length; 0 < e--;) {
            var h = this.w[e];
            h.left <= c && c <= h.right && h.top <= b && b <= h.bottom && (d = h.Kk)
        }
        this.a != d && (null === d ? this.qR() : (this.a = d, this.fu(!1), lH(this.$), lH(this.ia), this.ia = kH(this.QR, 50, this), this.QR(), this.o.Ia()))
    };
    f.s5 = function () {
        this.Ha = xu(this.o);
        this.su = this.o.su
    };
    f.qR = function () {
        lH(this.$);
        lH(this.ia);
        this.$ = kH(this.H5, 50, this)
    };
    f.H5 = function () {
        this.fu(!1);
        this.a = null;
        this.o.Ia()
    };
    f.QR = function () {
        this.fu(!0)
    };
    f.fu = function (b) {
        O(this.J(), b);
        if (b && this.a) {
            var c = this.M();
            b = this.o.fa();
            this.g.className = [IJ[this.a.lt], "A-B"].join(" ");
            c.ci(this.Ya, MJ.format(this.a.Cb, this.o.Ic(this.a.Cb)));
            c.me(this.vq);
            c.append(this.vq, c.u(Le, null, c.u(Le, ["A-M", Pa[this.a.Bn]]), c.u(Le, "A-Q", this.a.currency), this.a.title + (this.a.kW ? " (" + this.a.kW + ")" : "")));
            c.ci(this.R, this.a.hI);
            O(this.za, !!this.a.hI);
            this.R.className = HJ[NJ(this.a.hI, this.a.lD)];
            c.ci(this.U, this.a.lD);
            O(this.Ea, !!this.a.lD);
            this.U.className = HJ[NJ(this.a.lD,
                this.a.dA)];
            c.ci(this.ka, this.a.dA);
            O(this.La, !!this.a.dA);
            var c = this.va[qa(this.a)], d = c.top, e = c.right, h = this.Ha.left + this.Ha.width,
                k = PF(this.J()).width, l = PF(this.J()).height, d = d - l + 5;
            k + e + 5 > h && (e = c.left - k);
            tu(this.J(), e, 0 > d ? 0 : d);
            ht(this.J(), {background: b.j.wd, color: b.j.Yc, "border-color": b.j.le});
            ht(this.R, {color: b.j.Yc});
            ht(this.U, {color: b.j.Yc});
            ht(this.ka, {color: b.j.Yc})
        }
    };
    var MJ = new sk("dd.MM.yyyy, HH:mm");

    function NJ(b, c) {
        var d = /(-?([1-9][0-9]+|[0-9])(\.[0-9]+)?)/ig.exec(b), e = /(-?([1-9][0-9]+|[0-9])(\.[0-9]+)?)/ig.exec(c);
        return d && e ? wi(parseFloat(d[0]), parseFloat(e[0])) : 0
    };

    function OJ(b) {
        this.a = b
    }

    ea(OJ);

    function PJ(b, c) {
        var d = new b;
        d.xa = function () {
            return c
        };
        return d
    }

    f = OJ.prototype;
    f.wl = function () {
        return this.a
    };

    function QJ(b, c) {
        b && (b.tabIndex = c ? 0 : -1)
    }

    f.u = function (b) {
        return b.M().u(D, this.fg(b).join(" "))
    };
    f.Aa = function (b) {
        return b
    };
    f.te = function (b) {
        return "DIV" == b.tagName
    };
    f.Gc = function (b, c) {
        c.id && b.$h(c.id);
        var d = this.xa(), e = !1, h = K.get(c);
        h && E(h, function (c) {
            c == d ? e = !0 : c && this.JN(b, c, d)
        }, this);
        e || K.add(c, d);
        RJ(this, b, this.Aa(c));
        return c
    };
    f.JN = function (b, c, d) {
        c == d + "-tg" ? b.Ba(!1) : c == d + "-si" ? SJ(b, TJ) : c == d + "-gi" && SJ(b, UJ)
    };

    function RJ(b, c, d) {
        if (d) for (var e = d.firstChild, h; e && e.parentNode == d;) {
            h = e.nextSibling;
            if (1 == e.nodeType) {
                var k = b.Zy(e);
                k && (k.Da = e, c.isEnabled() || k.Ba(!1), c.Va(k), k.Gc(e))
            } else e.nodeValue && "" != Dh(e.nodeValue) || d.removeChild(e);
            e = h
        }
    }

    f.Zy = function (b) {
        a:{
            var c;
            b = K.get(b);
            for (var d = 0, e = b.length; d < e; d++) if (c = b[d], c = c in hr ? hr[c]() : null) {
                b = c;
                break a
            }
            b = null
        }
        return b
    };
    f.Cr = function (b) {
        b = b.J();
        uG(b, !0, Mr);
        Jr && (b.hideFocus = !0);
        var c = this.wl();
        c && kt(b, c)
    };
    f.xg = function (b) {
        return b.J()
    };
    f.xa = function () {
        return "mg-Y"
    };
    f.fg = function (b) {
        var c = this.xa(), d = [c, b.rr == TJ ? c + "-si" : c + "-gi"];
        b.isEnabled() || d.push(c + "-tg");
        return d
    };
    f.KS = function () {
        return UJ
    };

    function VJ() {
    }

    var WJ;
    ea(VJ);

    function XJ(b, c) {
        var d = new b;
        d.xa = function () {
            return c
        };
        return d
    }

    var YJ = {
        button: "pressed",
        checkbox: "checked",
        menuitem: "selected",
        menuitemcheckbox: "checked",
        menuitemradio: "checked",
        radio: "checked",
        tab: "selected",
        treeitem: "selected"
    };
    f = VJ.prototype;
    f.wl = function () {
    };
    f.u = function (b) {
        return b.M().u(D, this.fg(b).join(" "), b.Ob())
    };
    f.Aa = function (b) {
        return b
    };
    f.fr = function (b, c, d) {
        if (b = b.J ? b.J() : b) {
            var e = [c];
            Jr && !Wr("7") && (e = ZJ(K.get(b), c), e.push(c));
            K.M5(b, e, d)
        }
    };
    f.te = function () {
        return !0
    };
    f.Gc = function (b, c) {
        c.id && b.$h(c.id);
        var d = this.Aa(c);
        d && d.firstChild ? $J(b, d.firstChild.nextSibling ? pi(d.childNodes) : d.firstChild) : b.Kg = null;
        var e = 0, h = this.xa(), k = this.xa(), l = !1, p = !1, q = !1, r = pi(K.get(c));
        E(r, function (b) {
            l || b != h ? p || b != k ? e |= this.Fv(b) : p = !0 : (l = !0, k == h && (p = !0));
            1 == this.Fv(b) && Ws(d) && Zs(d, !1)
        }, this);
        b.Ta = e;
        l || (r.push(h), k == h && (p = !0));
        p || r.push(k);
        var t = b.oi;
        t && r.push.apply(r, t);
        if (Jr && !Wr("7")) {
            var u = ZJ(r);
            0 < u.length && (r.push.apply(r, u), q = !0)
        }
        l && p && !t && !q || K.set(c, r.join(" "));
        return c
    };
    f.Cr = function (b) {
        b.Pm() && this.Ww(b.J(), !0);
        b.isEnabled() && this.Ei(b, b.Wa())
    };

    function aK(b, c, d) {
        if (b = d || b.wl()) d = c.getAttribute("role") || null, b != d && kt(c, b)
    }

    function bK(b, c, d) {
        var e = c.pQ;
        null != e && b.gN(d, e);
        c.Wa() || lt(d, "hidden", !c.Wa());
        c.isEnabled() || b.Oo(d, 1, !c.isEnabled());
        cK(c, 8) && b.Oo(d, 8, c.QE());
        cK(c, 16) && b.Oo(d, 16, c.Cf());
        cK(c, 64) && b.Oo(d, 64, dK(c, 64))
    }

    f.gN = function (b, c) {
        lt(b, "label", c)
    };
    f.an = function (b, c) {
        uG(b, !c, !Jr && !Ir)
    };
    f.Ww = function (b, c) {
        this.fr(b, this.xa() + "-Dg", c)
    };
    f.Tp = function (b) {
        var c;
        return cK(b, 32) && (c = b.xg()) ? Ws(c) : !1
    };
    f.Ei = function (b, c) {
        var d;
        if (cK(b, 32) && (d = b.xg())) {
            if (!c && dK(b, 32)) {
                try {
                    d.blur()
                } catch (e) {
                }
                dK(b, 32) && b.Op(null)
            }
            Ws(d) != c && Zs(d, c)
        }
    };
    f.Z = function (b, c) {
        O(b, c);
        b && lt(b, "hidden", !c)
    };
    f.pg = function (b, c, d) {
        var e = b.J();
        if (e) {
            var h = this.Ys(c);
            h && this.fr(b, h, d);
            this.Oo(e, c, d)
        }
    };
    f.Oo = function (b, c, d) {
        WJ || (WJ = {1: "disabled", 8: "selected", 16: "checked", 64: "expanded"});
        c = WJ[c];
        var e = b.getAttribute("role") || null;
        e && (e = YJ[e] || c, c = "checked" == c || "selected" == c ? e : c);
        c && lt(b, c, d)
    };
    f.Kc = function (b, c) {
        var d = this.Aa(b);
        if (d && (Js(d), c)) if (ka(c)) Ts(d, c); else {
            var e = function (b) {
                if (b) {
                    var c = ps(d);
                    d.appendChild(ka(b) ? c.createTextNode(b) : b)
                }
            };
            ia(c) ? E(c, e) : !ja(c) || "nodeType" in c ? e(c) : E(pi(c), e)
        }
    };
    f.xg = function (b) {
        return b.J()
    };
    f.xa = function () {
        return "mg-pi"
    };
    f.fg = function (b) {
        var c = this.xa(), d = [c], e = this.xa();
        e != c && d.push(e);
        c = b.VD();
        for (e = []; c;) {
            var h = c & -c;
            e.push(this.Ys(h));
            c &= ~h
        }
        d.push.apply(d, e);
        (b = b.oi) && d.push.apply(d, b);
        Jr && !Wr("7") && d.push.apply(d, ZJ(d));
        return d
    };

    function ZJ(b, c) {
        var d = [];
        c && (b = oi(b, [c]));
        E([], function (e) {
            !di(e, va(ji, b)) || c && !ji(e, c) || d.push(e.join("_"))
        });
        return d
    }

    f.Ys = function (b) {
        this.mC || eK(this);
        return this.mC[b]
    };
    f.Fv = function (b) {
        this.hY || (this.mC || eK(this), this.hY = hh(this.mC));
        b = parseInt(this.hY[b], 10);
        return isNaN(b) ? 0 : b
    };

    function eK(b) {
        var c = b.xa();
        Mh(c.replace(/\xa0|\s/g, " "), " ");
        b.mC = {1: c + "-tg", 2: c + "-gb", 4: c + "-hb", 8: c + "-wg", 16: c + "-qg", 32: c + "-xg", 64: c + "-Ug"}
    };

    function fK() {
    }

    B(fK, VJ);
    ea(fK);
    fK.prototype.xa = function () {
        return "a-N-O-Ih"
    };
    fK.prototype.u = function (b) {
        return b.M().u(D, this.xa() + " mg-ng-og")
    };
    fK.prototype.Kc = function () {
    };

    function gK() {
    }

    B(gK, VJ);
    ea(gK);
    f = gK.prototype;
    f.wl = function () {
        return "button"
    };
    f.Oo = function (b, c, d) {
        switch (c) {
            case 8:
            case 16:
                lt(b, "pressed", d);
                break;
            default:
            case 64:
            case 1:
                gK.P.Oo.call(this, b, c, d)
        }
    };
    f.u = function (b) {
        var c = gK.P.u.call(this, b);
        this.Gb(c, b.rh());
        var d = b.G();
        d && this.V(c, d);
        cK(b, 16) && this.Oo(c, 16, b.Cf());
        return c
    };
    f.Gc = function (b, c) {
        c = gK.P.Gc.call(this, b, c);
        var d = this.G(c);
        b.rc = d;
        b.GG(this.rh(c));
        cK(b, 16) && this.Oo(c, 16, b.Cf());
        return c
    };
    f.G = da;
    f.V = da;
    f.rh = function (b) {
        return b.title
    };
    f.Gb = function (b, c) {
        b && (c ? b.title = c : b.removeAttribute("title"))
    };
    f.Kw = function (b, c) {
        var d = b.Pm(), e = this.xa() + "-yg-db", h = this.xa() + "-yg-eb";
        b.fr(d ? h : e, !!(c & 1));
        b.fr(d ? e : h, !!(c & 2))
    };
    f.xa = function () {
        return "mg-vg"
    };

    function hK() {
    }

    B(hK, VJ);
    ea(hK);
    hK.prototype.u = function (b) {
        var c = b.M().u(Le, this.fg(b).join(" "));
        iK(this, c, b.yn);
        return c
    };
    hK.prototype.Gc = function (b, c) {
        c = hK.P.Gc.call(this, b, c);
        var d = K.get(c), e = jK;
        ji(d, kK(this, lK)) ? e = lK : ji(d, kK(this, mK)) ? e = mK : ji(d, kK(this, jK)) && (e = jK);
        b.yn = e;
        lt(c, "checked", e == lK ? "mixed" : e == mK ? "true" : "false");
        return c
    };
    hK.prototype.wl = function () {
        return "checkbox"
    };

    function iK(b, c, d) {
        if (c) {
            var e = kK(b, d);
            K.contains(c, e) || (La(nK, function (b) {
                b = kK(this, b);
                K.enable(c, b, b == e)
            }, b), lt(c, "checked", d == lK ? "mixed" : d == mK ? "true" : "false"))
        }
    }

    hK.prototype.xa = function () {
        return "mg-pg"
    };

    function kK(b, c) {
        var d = b.xa();
        if (c == mK) return d + "-qg";
        if (c == jK) return d + "-sg";
        if (c == lK) return d + "-rg";
        throw Error("Invalid checkbox state: " + c);
    };

    function oK(b, c, d) {
        YH.call(this, d);
        if (!c) {
            c = this.constructor;
            for (var e; c;) {
                e = qa(c);
                if (e = ir[e]) break;
                c = c.P ? c.P.constructor : null
            }
            c = e ? oa(e.Ka) ? e.Ka() : new e : null
        }
        this.ac = c;
        this.Kg = ca(b) ? b : null;
        this.pQ = null
    }

    B(oK, YH);
    f = oK.prototype;
    f.Kg = null;
    f.Ta = 0;
    f.kB = 39;
    f.oI = 255;
    f.XN = 0;
    f.md = !0;
    f.oi = null;
    f.jt = !0;
    f.YB = !1;
    f.bA = null;
    f.pL = function () {
        return this.jt
    };
    f.wA = function (b) {
        this.la && b != this.jt && pK(this, b);
        this.jt = b
    };
    f.xg = function () {
        return this.ac.xg(this)
    };
    f.Hp = function () {
        return this.Df || (this.Df = new NE)
    };
    f.fc = function () {
        return this.ac
    };
    f.tc = function (b) {
        b && (this.oi ? ji(this.oi, b) || this.oi.push(b) : this.oi = [b], this.ac.fr(this, b, !0))
    };
    f.jA = function (b) {
        b && this.oi && mi(this.oi, b) && (0 == this.oi.length && (this.oi = null), this.ac.fr(this, b, !1))
    };
    f.fr = function (b, c) {
        c ? this.tc(b) : this.jA(b)
    };
    f.u = function () {
        var b = this.ac.u(this);
        this.Da = b;
        aK(this.ac, b, this.Jp());
        this.YB || this.ac.an(b, !1);
        this.Wa() || this.ac.Z(b, !1)
    };
    f.Jp = function () {
        return this.bA
    };
    f.DN = function (b) {
        this.bA = b
    };
    f.gN = function (b) {
        this.pQ = b;
        var c = this.J();
        c && this.ac.gN(c, b)
    };
    f.Aa = function () {
        return this.ac.Aa(this.J())
    };
    f.te = function (b) {
        return this.ac.te(b)
    };
    f.ua = function (b) {
        this.Da = b = this.ac.Gc(this, b);
        aK(this.ac, b, this.Jp());
        this.YB || this.ac.an(b, !1);
        this.md = "none" != b.style.display
    };
    f.oa = function () {
        oK.P.oa.call(this);
        bK(this.ac, this, this.Da);
        this.ac.Cr(this);
        if (this.kB & -2 && (this.pL() && pK(this, !0), cK(this, 32))) {
            var b = this.xg();
            if (b) {
                var c = this.Hp();
                c.Hf(b);
                this.S().C(c, "key", this.Rg).C(b, "focus", this.Wn).C(b, "blur", this.Op)
            }
        }
    };

    function pK(b, c) {
        var d = b.S(), e = b.J();
        c ? (d.C(e, "mouseover", b.Pp).C(e, "mousedown", b.Ck).C(e, "mouseup", b.Qp).C(e, "mouseout", b.kE), b.mz != da && d.C(e, "contextmenu", b.mz), Jr && (Wr(9) || d.C(e, "dblclick", b.QT), b.rz || (b.rz = new qK(b), Id(b, b.rz)))) : (d.wa(e, "mouseover", b.Pp).wa(e, "mousedown", b.Ck).wa(e, "mouseup", b.Qp).wa(e, "mouseout", b.kE), b.mz != da && d.wa(e, "contextmenu", b.mz), Jr && (Wr(9) || d.wa(e, "dblclick", b.QT), Jd(b.rz), b.rz = null))
    }

    f.Oe = function () {
        oK.P.Oe.call(this);
        this.Df && this.Df.detach();
        this.Wa() && this.isEnabled() && this.ac.Ei(this, !1)
    };
    f.Ma = function () {
        oK.P.Ma.call(this);
        this.Df && (this.Df.Ra(), delete this.Df);
        delete this.ac;
        this.rz = this.oi = this.Kg = null
    };
    f.Ob = function () {
        return this.Kg
    };
    f.Kc = function (b) {
        this.ac.Kc(this.J(), b);
        this.Kg = b
    };

    function $J(b, c) {
        b.Kg = c
    }

    f.Dp = function () {
        var b = this.Ob();
        if (!b) return "";
        b = ka(b) ? b : ia(b) ? Sa(b, bt).join("") : $s(b);
        return Ch(b)
    };
    f.es = function (b) {
        this.Kc(b)
    };
    f.Ww = function (b) {
        oK.P.Ww.call(this, b);
        var c = this.J();
        c && this.ac.Ww(c, b)
    };
    f.an = function (b) {
        this.YB = b;
        var c = this.J();
        c && this.ac.an(c, b)
    };
    f.Wa = function () {
        return this.md
    };
    f.Z = function (b, c) {
        if (c || this.md != b && this.dispatchEvent(b ? "show" : "hide")) {
            var d = this.J();
            d && this.ac.Z(d, b);
            this.isEnabled() && this.ac.Ei(this, b);
            this.md = b;
            return !0
        }
        return !1
    };
    f.isEnabled = function () {
        return !dK(this, 1)
    };
    f.Ba = function (b) {
        var c = this.getParent();
        c && "function" == typeof c.isEnabled && !c.isEnabled() || !rK(this, 1, !b) || (b || (this.setActive(!1), this.sf(!1)), this.Wa() && this.ac.Ei(this, b), this.pg(1, !b, !0))
    };
    f.sf = function (b) {
        rK(this, 2, b) && this.pg(2, b)
    };
    f.Id = function () {
        return dK(this, 4)
    };
    f.setActive = function (b) {
        rK(this, 4, b) && this.pg(4, b)
    };
    f.QE = function () {
        return dK(this, 8)
    };
    f.Hi = function (b) {
        rK(this, 8, b) && this.pg(8, b)
    };
    f.Cf = function () {
        return dK(this, 16)
    };
    f.Tb = function (b) {
        rK(this, 16, b) && this.pg(16, b)
    };
    f.ge = function (b) {
        rK(this, 64, b) && this.pg(64, b)
    };
    f.VD = function () {
        return this.Ta
    };

    function dK(b, c) {
        return !!(b.Ta & c)
    }

    f.pg = function (b, c, d) {
        d || 1 != b ? cK(this, b) && c != dK(this, b) && (this.ac.pg(this, b, c), this.Ta = c ? this.Ta | b : this.Ta & ~b) : this.Ba(!c)
    };

    function cK(b, c) {
        return !!(b.kB & c)
    }

    f.vd = function (b, c) {
        if (this.la && dK(this, b) && !c) throw Error("Component already rendered");
        !c && dK(this, b) && this.pg(b, !1);
        this.kB = c ? this.kB | b : this.kB & ~b
    };

    function sK(b, c) {
        return !!(b.oI & c) && cK(b, c)
    }

    function tK(b, c) {
        b.oI &= ~c
    }

    function uK(b, c) {
        b.XN |= c
    }

    function rK(b, c, d) {
        return cK(b, c) && dK(b, c) != d && (!(b.XN & c) || b.dispatchEvent(aI(c, d))) && !b.Ap
    }

    f.Pp = function (b) {
        (!b.relatedTarget || !Ss(this.J(), b.relatedTarget)) && this.dispatchEvent("enter") && this.isEnabled() && sK(this, 2) && this.sf(!0)
    };
    f.kE = function (b) {
        b.relatedTarget && Ss(this.J(), b.relatedTarget) || !this.dispatchEvent("leave") || (sK(this, 4) && this.setActive(!1), sK(this, 2) && this.sf(!1))
    };
    f.mz = da;
    f.Ck = function (b) {
        this.isEnabled() && (sK(this, 2) && this.sf(!0), Mt(b) && (sK(this, 4) && this.setActive(!0), this.ac && this.ac.Tp(this) && this.xg().focus()));
        !this.YB && Mt(b) && b.preventDefault()
    };
    f.Qp = function (b) {
        this.isEnabled() && (sK(this, 2) && this.sf(!0), this.Id() && this.Zj(b) && sK(this, 4) && this.setActive(!1))
    };
    f.QT = function (b) {
        this.isEnabled() && this.Zj(b)
    };
    f.Zj = function (b) {
        sK(this, 16) && this.Tb(!this.Cf());
        sK(this, 8) && this.Hi(!0);
        sK(this, 64) && this.ge(!dK(this, 64));
        var c = new cf("action", this);
        b && (c.altKey = b.altKey, c.ctrlKey = b.ctrlKey, c.metaKey = b.metaKey, c.shiftKey = b.shiftKey, c.pM = b.pM);
        return this.dispatchEvent(c)
    };
    f.Wn = function () {
        sK(this, 32) && rK(this, 32, !0) && this.pg(32, !0)
    };
    f.Op = function () {
        sK(this, 4) && this.setActive(!1);
        sK(this, 32) && rK(this, 32, !1) && this.pg(32, !1)
    };
    f.Rg = function (b) {
        return this.Wa() && this.isEnabled() && this.Lm(b) ? (b.preventDefault(), b.stopPropagation(), !0) : !1
    };
    f.Lm = function (b) {
        return 13 == b.keyCode && this.Zj(b)
    };
    if (!oa(oK)) throw Error("Invalid component class " + oK);
    if (!oa(VJ)) throw Error("Invalid renderer class " + VJ);
    var vK = qa(oK);
    ir[vK] = VJ;
    gr("mg-pi", function () {
        return new oK(null)
    });

    function qK(b) {
        Fd.call(this);
        this.g = b;
        this.a = !1;
        this.ic = new fu(this);
        Id(this, this.ic);
        b = this.g.Da;
        this.ic.C(b, "mousedown", this.Mm).C(b, "mouseup", this.Il).C(b, "click", this.m)
    }

    B(qK, Fd);
    var wK = !Jr || Xr(9);
    qK.prototype.Mm = function () {
        this.a = !1
    };
    qK.prototype.Il = function () {
        this.a = !0
    };

    function xK(b, c) {
        if (!wK) return b.button = 0, b.type = c, b;
        var d = document.createEvent("MouseEvents");
        d.initMouseEvent(c, b.bubbles, b.cancelable, b.view || null, b.detail, b.screenX, b.screenY, b.clientX, b.clientY, b.ctrlKey, b.altKey, b.shiftKey, b.metaKey, 0, b.relatedTarget || null);
        return d
    }

    qK.prototype.m = function (b) {
        if (this.a) this.a = !1; else {
            var c = b.Pe(), d = c.button, e = c.type, h = xK(c, "mousedown");
            this.g.Ck(new Kt(h, b.currentTarget));
            h = xK(c, "mouseup");
            this.g.Qp(new Kt(h, b.currentTarget));
            wK || (c.button = d, c.type = e)
        }
    };
    qK.prototype.Ma = function () {
        this.g = null;
        qK.P.Ma.call(this)
    };

    function yK(b, c, d) {
        d = d || hK.Ka();
        oK.call(this, null, d, c);
        this.yn = ca(b) ? b : jK
    }

    B(yK, oK);
    var mK = !0, jK = !1, lK = null, nK = {a: mK, g: jK, m: lK};
    f = yK.prototype;
    f.Ad = null;
    f.Cf = function () {
        return this.yn == mK
    };
    f.Tb = function (b) {
        b != this.yn && (this.yn = b, iK(this.fc(), this.J(), this.yn))
    };
    f.yA = function (b) {
        if (this.la) {
            var c = dK(this, 32);
            this.Oe();
            this.Ad = b;
            this.oa();
            c && this.Da.focus()
        } else this.Ad = b
    };
    f.toggle = function () {
        this.Tb(this.yn ? jK : mK)
    };
    f.oa = function () {
        yK.P.oa.call(this);
        if (this.pL()) {
            var b = this.S();
            this.Ad && b.C(this.Ad, "click", this.pK).C(this.Ad, "mouseover", this.Pp).C(this.Ad, "mouseout", this.kE).C(this.Ad, "mousedown", this.Ck).C(this.Ad, "mouseup", this.Qp);
            b.C(this.J(), "click", this.pK)
        }
        b = this.Da;
        if (this.Ad && b != this.Ad && Ah(mt(b, "label"))) {
            if (!this.Ad.id) {
                var c = this.Ad, d;
                d = this.aa() + ".lbl";
                c.id = d
            }
            lt(b, "labelledby", this.Ad.id)
        }
    };
    f.Ba = function (b) {
        yK.P.Ba.call(this, b);
        if (b = this.J()) b.tabIndex = this.isEnabled() ? 0 : -1
    };
    f.pK = function (b) {
        b.stopPropagation();
        var c = this.yn ? "uncheck" : "check";
        this.isEnabled() && !b.target.href && this.dispatchEvent(c) && (b.preventDefault(), this.toggle(), this.dispatchEvent("change"))
    };
    f.Lm = function (b) {
        32 == b.keyCode && (this.Zj(b), this.pK(b));
        return !1
    };
    gr("mg-pg", function () {
        return new yK
    });

    function zK(b, c, d) {
        YH.call(this, d);
        this.ac = c || OJ.Ka();
        this.rr = b || this.ac.KS()
    }

    B(zK, YH);
    var TJ = "horizontal", UJ = "vertical";
    f = zK.prototype;
    f.uL = null;
    f.Df = null;
    f.ac = null;
    f.rr = null;
    f.md = !0;
    f.Za = !0;
    f.NJ = !0;
    f.Mf = -1;
    f.Xg = null;
    f.Um = !1;
    f.WB = !1;
    f.dW = !0;
    f.mp = null;
    f.xg = function () {
        return this.uL || this.ac.xg(this)
    };
    f.Hp = function () {
        return this.Df || (this.Df = new NE(this.xg()))
    };
    f.fc = function () {
        return this.ac
    };
    f.u = function () {
        this.Da = this.ac.u(this)
    };
    f.Aa = function () {
        return this.ac.Aa(this.J())
    };
    f.te = function (b) {
        return this.ac.te(b)
    };
    f.ua = function (b) {
        this.Da = this.ac.Gc(this, b);
        "none" == b.style.display && (this.md = !1)
    };
    f.oa = function () {
        zK.P.oa.call(this);
        cI(this, function (b) {
            b.la && AK(this, b)
        }, this);
        var b = this.J();
        this.ac.Cr(this);
        this.Z(this.md, !0);
        this.S().C(this, "enter", this.xK).C(this, "highlight", this.x8).C(this, "unhighlight", this.y8).C(this, "open", this.y$).C(this, "close", this.w8).C(b, "mousedown", this.Ck).C(ps(b), "mouseup", this.y9).C(b, ["mousedown", "mouseup", "mouseover", "mouseout", "contextmenu"], this.Z8);
        this.Tp() && BK(this, !0)
    };

    function BK(b, c) {
        var d = b.S(), e = b.xg();
        c ? d.C(e, "focus", b.Wn).C(e, "blur", b.Op).C(b.Hp(), "key", b.Rg) : d.wa(e, "focus", b.Wn).wa(e, "blur", b.Op).wa(b.Hp(), "key", b.Rg)
    }

    f.Oe = function () {
        this.Qk(-1);
        this.Xg && this.Xg.ge(!1);
        this.Um = !1;
        zK.P.Oe.call(this)
    };
    f.Ma = function () {
        zK.P.Ma.call(this);
        this.Df && (this.Df.Ra(), this.Df = null);
        this.ac = this.Xg = this.mp = this.uL = null
    };
    f.xK = function () {
        return !0
    };
    f.x8 = function (b) {
        var c = dI(this, b.target);
        if (-1 < c && c != this.Mf) {
            var d = this.ve();
            d && d.sf(!1);
            this.Mf = c;
            d = this.ve();
            this.Um && d.setActive(!0);
            this.dW && this.Xg && d != this.Xg && (cK(d, 64) ? d.ge(!0) : this.Xg.ge(!1))
        }
        c = this.J();
        null != b.target.J() && lt(c, "activedescendant", b.target.J().id)
    };
    f.y8 = function (b) {
        b.target == this.ve() && (this.Mf = -1);
        this.J().removeAttribute("aria-activedescendant")
    };
    f.y$ = function (b) {
        (b = b.target) && b != this.Xg && b.getParent() == this && (this.Xg && this.Xg.ge(!1), this.Xg = b)
    };
    f.w8 = function (b) {
        b.target == this.Xg && (this.Xg = null);
        var c = this.J(), d = b.target.J();
        c && dK(b.target, 2) && d && nt(c, d)
    };
    f.Ck = function (b) {
        this.Za && (this.Um = !0);
        var c = this.xg();
        c && Ws(c) ? c.focus() : b.preventDefault()
    };
    f.y9 = function () {
        this.Um = !1
    };
    f.Z8 = function (b) {
        var c;
        a:{
            c = b.target;
            if (this.mp) for (var d = this.J(); c && c !== d;) {
                var e = c.id;
                if (e in this.mp) {
                    c = this.mp[e];
                    break a
                }
                c = c.parentNode
            }
            c = null
        }
        if (c) switch (b.type) {
            case "mousedown":
                c.Ck(b);
                break;
            case "mouseup":
                c.Qp(b);
                break;
            case "mouseover":
                c.Pp(b);
                break;
            case "mouseout":
                c.kE(b);
                break;
            case "contextmenu":
                c.mz(b)
        }
    };
    f.Wn = function () {
    };
    f.Op = function () {
        this.Qk(-1);
        this.Um = !1;
        this.Xg && this.Xg.ge(!1)
    };
    f.Rg = function (b) {
        return this.isEnabled() && this.Wa() && (0 != this.eg() || this.uL) && this.Lm(b) ? (b.preventDefault(), b.stopPropagation(), !0) : !1
    };
    f.Lm = function (b) {
        var c = this.ve();
        if (c && "function" == typeof c.Rg && c.Rg(b) || this.Xg && this.Xg != c && "function" == typeof this.Xg.Rg && this.Xg.Rg(b)) return !0;
        if (b.shiftKey || b.ctrlKey || b.metaKey || b.altKey) return !1;
        switch (b.keyCode) {
            case 27:
                if (this.Tp()) this.xg().blur(); else return !1;
                break;
            case 36:
                this.Tj();
                break;
            case 35:
                CK(this);
                break;
            case 38:
                if (this.rr == UJ) DK(this); else return !1;
                break;
            case 37:
                if (this.rr == TJ) this.Pm() ? EK(this) : DK(this); else return !1;
                break;
            case 40:
                if (this.rr == UJ) EK(this); else return !1;
                break;
            case 39:
                if (this.rr == TJ) this.Pm() ? DK(this) : EK(this); else return !1;
                break;
            default:
                return !1
        }
        return !0
    };

    function AK(b, c) {
        var d = c.J(), d = d.id || (d.id = c.aa());
        b.mp || (b.mp = {});
        b.mp[d] = c
    }

    f.Va = function (b, c) {
        zK.P.Va.call(this, b, c)
    };
    f.el = function (b, c, d) {
        uK(b, 2);
        uK(b, 64);
        !this.Tp() && this.WB || b.vd(32, !1);
        b.wA(!1);
        var e = b.getParent() == this ? dI(this, b) : -1;
        zK.P.el.call(this, b, c, d);
        b.la && this.la && AK(this, b);
        b = e;
        -1 == b && (b = this.eg());
        b == this.Mf ? this.Mf = Math.min(this.eg() - 1, c) : b > this.Mf && c <= this.Mf ? this.Mf++ : b < this.Mf && c > this.Mf && this.Mf--
    };
    f.removeChild = function (b, c) {
        if (b = ka(b) ? this.Cm(b) : b) {
            var d = dI(this, b);
            -1 != d && (d == this.Mf ? (b.sf(!1), this.Mf = -1) : d < this.Mf && this.Mf--);
            (d = b.J()) && d.id && this.mp && eh(this.mp, d.id)
        }
        b = zK.P.removeChild.call(this, b, c);
        b.wA(!0);
        return b
    };

    function SJ(b, c) {
        if (b.J()) throw Error("Component already rendered");
        b.rr = c
    }

    f.Wa = function () {
        return this.md
    };
    f.Z = function (b, c) {
        if (c || this.md != b && this.dispatchEvent(b ? "show" : "hide")) {
            this.md = b;
            var d = this.J();
            d && (O(d, b), this.Tp() && QJ(this.xg(), this.Za && this.md), c || this.dispatchEvent(this.md ? "aftershow" : "afterhide"));
            return !0
        }
        return !1
    };
    f.isEnabled = function () {
        return this.Za
    };
    f.Ba = function (b) {
        this.Za != b && this.dispatchEvent(b ? "enable" : "disable") && (b ? (this.Za = !0, cI(this, function (b) {
            b.OY ? delete b.OY : b.Ba(!0)
        })) : (cI(this, function (b) {
            b.isEnabled() ? b.Ba(!1) : b.OY = !0
        }), this.Um = this.Za = !1), this.Tp() && QJ(this.xg(), b && this.md))
    };
    f.Tp = function () {
        return this.NJ
    };
    f.Ei = function (b) {
        b != this.NJ && this.la && BK(this, b);
        this.NJ = b;
        this.Za && this.md && QJ(this.xg(), b)
    };
    f.Qk = function (b) {
        (b = this.nd(b)) ? b.sf(!0) : -1 < this.Mf && this.ve().sf(!1)
    };
    f.sf = function (b) {
        this.Qk(dI(this, b))
    };
    f.ve = function () {
        return this.nd(this.Mf)
    };
    f.Tj = function () {
        FK(this, function (b, c) {
            return (b + 1) % c
        }, this.eg() - 1)
    };

    function CK(b) {
        FK(b, function (b, d) {
            b--;
            return 0 > b ? d - 1 : b
        }, 0)
    }

    function EK(b) {
        FK(b, function (b, d) {
            return (b + 1) % d
        }, b.Mf)
    }

    function DK(b) {
        FK(b, function (b, d) {
            b--;
            return 0 > b ? d - 1 : b
        }, b.Mf)
    }

    function FK(b, c, d) {
        d = 0 > d ? dI(b, b.Xg) : d;
        var e = b.eg();
        d = c.call(b, d, e);
        for (var h = 0; h <= e;) {
            var k = b.nd(d);
            if (k && b.vQ(k)) {
                b.uN(d);
                break
            }
            h++;
            d = c.call(b, d, e)
        }
    }

    f.vQ = function (b) {
        return b.Wa() && b.isEnabled() && cK(b, 2)
    };
    f.uN = function (b) {
        this.Qk(b)
    };

    function GK(b) {
        Fd.call(this);
        this.Fb = b;
        this.a = new fu(this);
        this.a.C(b, "highlight", this.yba);
        this.a.C(b, "enter", this.sba);
        this.a.C(b, "aftershow", this.pba);
        this.a.C(b, "hide", this.xba);
        this.Hy(!0)
    }

    B(GK, Fd);
    f = GK.prototype;
    f.pt = null;
    f.bN = null;
    f.sJ = !1;
    f.sba = function (b) {
        this.sJ ? b.preventDefault() : this.pt = b.target
    };
    f.yba = function () {
        this.Hy()
    };
    f.pba = function () {
        null != this.bN ? (this.Fb.J().scrollTop = this.bN, this.Hy(!1)) : this.Hy(!0)
    };
    f.xba = function (b) {
        b.target == this.Fb && (this.pt = null, this.bN = this.Fb.J().scrollTop)
    };
    f.Hy = function (b) {
        var c = this.Fb.ve();
        this.Fb.Wa() && c && c != this.pt && (gG(c.J(), this.Fb.J(), b), HK(this), this.pt = null)
    };

    function HK(b) {
        b.sJ = !0;
        kH(function () {
            this.sJ = !1
        }, 0, b)
    }

    f.Ma = function () {
        GK.P.Ma.call(this);
        this.a.Ra();
        this.pt = null
    };

    function IK(b, c) {
        GK.call(this, b);
        this.g = c
    }

    B(IK, GK);
    IK.prototype.Hy = function (b) {
        var c = this.Fb.ve();
        this.Fb.Wa() && c && c != this.pt && (gG(c.J(), this.g, b), HK(this), this.pt = null)
    };

    function JK() {
    }

    B(JK, gK);
    ea(JK);
    f = JK.prototype;
    f.u = function (b) {
        var c = {"class": "mg-ng-og " + this.fg(b).join(" ")}, c = b.M().u(D, c, this.Ns(b.Ob(), b.M()));
        this.Gb(c, b.rh());
        return c
    };
    f.wl = function () {
        return "button"
    };
    f.Aa = function (b) {
        return b && b.firstChild && b.firstChild.firstChild
    };
    f.Ns = function (b, c) {
        return c.u(D, "mg-ng-og " + (this.xa() + "-Sg-Tg"), c.u(D, "mg-ng-og " + (this.xa() + "-fb-Tg"), b))
    };
    f.te = function (b) {
        return b.tagName == D
    };
    f.Gc = function (b, c) {
        KK(c, !0);
        KK(c, !1);
        var d;
        a:{
            d = b.M().XS(c);
            var e = this.xa() + "-Sg-Tg";
            if (d && K.contains(d, e) && (d = b.M().XS(d), e = this.xa() + "-fb-Tg", d && K.contains(d, e))) {
                d = !0;
                break a
            }
            d = !1
        }
        d || c.appendChild(this.Ns(c.childNodes, b.M()));
        K.addAll(c, ["mg-ng-og", this.xa()]);
        return JK.P.Gc.call(this, b, c)
    };
    f.xa = function () {
        return "mg-Wg-vg"
    };

    function KK(b, c) {
        if (b) for (var d = c ? b.firstChild : b.lastChild, e; d && d.parentNode == b;) {
            e = c ? d.nextSibling : d.previousSibling;
            if (3 == d.nodeType) {
                var h = d.nodeValue;
                if ("" == Dh(h)) b.removeChild(d); else {
                    d.nodeValue = c ? h.replace(/^[\s\xa0]+/, "") : h.replace(/[\s\xa0]+$/, "");
                    break
                }
            } else break;
            d = e
        }
    };

    function LK() {
    }

    B(LK, JK);
    ea(LK);
    LK.prototype.xa = function () {
        return "a-N-bm"
    };
    LK.prototype.Aa = function (b) {
        return b && b.firstChild.firstChild.lastChild
    };
    LK.prototype.Ns = function (b, c) {
        return c.u(D, "mg-ng-og " + (this.xa() + "-Sg-Tg"), c.u(D, "mg-ng-og " + (this.xa() + "-fb-Tg"), c.u(D, "mg-ng-og " + (this.xa() + "-lh"), c.u(ne, this.xa() + "-lh-cm")), c.u(D, "mg-ng-og " + (this.xa() + "-Hg"), b)))
    };

    function MK(b, c) {
        this.a = b;
        this.Bc = c || ns()
    }

    MK.prototype.M = function () {
        return this.Bc
    };
    MK.prototype.Hc = function () {
        return this.a
    };

    function NK(b, c, d, e) {
        var h = [b.Hc() + "-ph"];
        e && h.push(e);
        e = b.M().createElement($d);
        e.className = h.join(" ");
        e.appendChild(b.M().createTextNode(d));
        c.appendChild(e)
    };

    function OK(b, c, d, e) {
        YH.call(this, d);
        this.w = c || Df;
        this.Ub = this.w.dI;
        this.ob = new sk("d", this.w);
        new sk("dd", this.w);
        this.Rb = new sk("w", this.w);
        this.va = new sk(Bf.l3 || "y", this.w);
        this.Hb = new sk(Bf.m3 || "MMMM y", this.w);
        this.ac = e || new MK(this.Hc(), this.M());
        this.a = new Vj(b);
        this.a.Sy = this.w.QH;
        this.a.Bp = this.w.OH;
        this.g = this.a.clone();
        this.g.setDate(1);
        this.ia = "      ".split(" ");
        this.ia[this.w.ZP[0]] = this.Hc() + "-Ch-Dh";
        this.ia[this.w.ZP[1]] = this.Hc() + "-Ch-Eh";
        this.R = {};
        this.m = []
    }

    B(OK, YH);
    f = OK.prototype;
    f.xO = new kp(lp, mp);
    f.jI = !0;
    f.ZC = null;
    f.zJ = null;
    f.YC = null;
    f.d4 = er.Ka();
    f.Hc = function () {
        return "mg-rh-sh"
    };

    function PK(b) {
        b.jI = !1;
        b.ka && QK(b)
    }

    function QK(b) {
        O(b.La, !0);
        O(b.ka, b.jI);
        O(b.Ya, !0)
    }

    f.Sba = function () {
        this.g.add(new Oj(Qj, -1));
        RK(this);
        SK(this)
    };
    f.kba = function () {
        this.g.add(new Oj(Qj, 1));
        RK(this);
        SK(this)
    };
    f.Tba = function () {
        this.g.add(new Oj(Pj, -1));
        RK(this);
        SK(this)
    };
    f.lba = function () {
        this.g.add(new Oj(Pj, 1));
        RK(this);
        SK(this)
    };
    f.oX = function () {
        this.setDate(new Vj)
    };
    f.nX = function () {
        this.jI && this.setDate(null)
    };
    f.getDate = function () {
        return this.a && this.a.clone()
    };
    f.setDate = function (b) {
        TK(this, b, !0)
    };

    function TK(b, c, d) {
        var e = c == b.a || c && b.a && c.getFullYear() == b.a.getFullYear() && c.getMonth() == b.a.getMonth(),
            h = c == b.a || e && c.getDate() == b.a.getDate();
        b.a = c && new Vj(c);
        c && (b.g.set(b.a), b.g.setFullYear(b.a.getFullYear()), b.g.setDate(1));
        RK(b);
        d && b.dispatchEvent(new UK("select", b, b.a));
        h || b.dispatchEvent(new UK("change", b, b.a));
        e || SK(b)
    }

    function VK(b, c, d, e) {
        c = ts(d, c);
        b.S().C(c, "click", function (b) {
            b.preventDefault();
            e.call(this, b)
        })
    }

    f.ua = function (b) {
        OK.P.ua.call(this, b);
        K.add(b, this.Hc());
        var c = this.Bc.createElement(Pe), d = this.Bc.createElement(Xe), e = this.Bc.createElement(Qe),
            h = this.Bc.createElement(Ue);
        kt(e, "grid");
        e.tabIndex = 0;
        this.Ea = e;
        this.Ya = h;
        var k = this.Bc.createElement(Ze);
        k.className = this.Hc() + "-vh";
        if (this.ZC = k) {
            for (var l = this.ZC; l.firstChild;) l.removeChild(l.firstChild);
            var p = this.ac, q = this.w.LH[0].toLowerCase(), r, t;
            r = p.M().createElement(Re);
            r.colSpan = 5;
            NK(p, r, "\u00ab", p.Hc() + "-previousMonth");
            NK(p, r, "", p.Hc() + "-zh");
            NK(p, r, "\u00bb", p.Hc() + "-nextMonth");
            t = p.M().createElement(Re);
            t.colSpan = 3;
            NK(p, t, "\u00ab", p.Hc() + "-previousYear");
            NK(p, t, "", p.Hc() + "-Ah");
            NK(p, t, "\u00bb", p.Hc() + "-nextYear");
            q.indexOf("y") < q.indexOf("m") ? (l.appendChild(t), l.appendChild(r)) : (l.appendChild(r), l.appendChild(t));
            VK(this, l, this.Hc() + "-previousMonth", this.Sba);
            VK(this, l, this.Hc() + "-nextMonth", this.kba);
            VK(this, l, this.Hc() + "-zh", this.wfa);
            VK(this, l, this.Hc() + "-previousYear", this.Tba);
            VK(this, l, this.Hc() + "-nextYear", this.lba);
            VK(this, l,
                this.Hc() + "-Ah", this.xfa);
            this.K = ts(this.Hc() + "-zh", l);
            this.$ = ns().zD(this.Hc() + "-Ah", l)
        }
        d.appendChild(k);
        this.F = [];
        for (p = 0; 7 > p; p++) {
            k = this.Bc.createElement(Ze);
            this.F[p] = [];
            for (q = 0; 8 > q; q++) l = this.Bc.createElement(0 == q || 0 == p ? "th" : "td"), 0 != q && 0 != p || q == p || (l.className = 0 == q ? this.Hc() + "-th" : this.Hc() + "-uh", kt(l, 0 == q ? "rowheader" : "columnheader")), k.appendChild(l), this.F[p][q] = l;
            e.appendChild(k)
        }
        k = this.Bc.createElement(Ze);
        k.className = this.Hc() + "-foot";
        if (this.YC = k) l = this.YC, Js(l), p = this.ac, q = p.M().createElement(Re),
            q.colSpan = 2, q.className = p.Hc() + "-wh-xh", r = y("MSG_DATEPICKER_TODAY_BUTTON_LABEL", {}, "Today"), NK(p, q, r, p.Hc() + "-wh-ph"), l.appendChild(q), q = p.M().createElement(Re), q.colSpan = 4, l.appendChild(q), q = p.M().createElement(Re), q.colSpan = 2, q.className = p.Hc() + "-yh-xh", r = y("MSG_DATEPICKER_NONE", {}, "None"), NK(p, q, r, p.Hc() + "-yh-ph"), l.appendChild(q), VK(this, l, this.Hc() + "-wh-ph", this.oX), VK(this, l, this.Hc() + "-yh-ph", this.nX), this.La = ts(this.Hc() + "-wh-ph", l), this.ka = ts(this.Hc() + "-yh-ph", l), QK(this);
        h.appendChild(k);
        c.cellSpacing = "0";
        c.cellPadding = "0";
        c.appendChild(d);
        c.appendChild(e);
        c.appendChild(h);
        b.appendChild(c);
        WK(this);
        RK(this);
        b.tabIndex = 0
    };
    f.u = function () {
        OK.P.u.call(this);
        this.ua(this.J())
    };
    f.oa = function () {
        OK.P.oa.call(this);
        var b = this.S();
        b.C(this.Ea, "click", this.R9);
        b.C(XK(this, this.J()), "key", this.S9)
    };
    f.Oe = function () {
        OK.P.Oe.call(this);
        this.bv();
        for (var b in this.R) this.R[b].Ra();
        this.R = {}
    };
    f.Ma = function () {
        OK.P.Ma.call(this);
        this.ka = this.La = this.$ = this.zJ = this.K = this.YC = this.ZC = this.Ya = this.Ea = this.F = null
    };
    f.R9 = function (b) {
        if (b.target.tagName == Re) {
            var c, d = -2, e = -2;
            for (c = b.target; c; c = c.previousSibling, d++) ;
            for (c = b.target.parentNode; c; c = c.previousSibling, e++) ;
            b = this.m[e][d];
            this.xO.contains(b) && this.setDate(b.clone())
        }
    };
    f.S9 = function (b) {
        var c, d;
        switch (b.keyCode) {
            case 33:
                b.preventDefault();
                c = -1;
                break;
            case 34:
                b.preventDefault();
                c = 1;
                break;
            case 37:
                b.preventDefault();
                d = -1;
                break;
            case 39:
                b.preventDefault();
                d = 1;
                break;
            case 38:
                b.preventDefault();
                d = -7;
                break;
            case 40:
                b.preventDefault();
                d = 7;
                break;
            case 36:
                b.preventDefault(), this.oX();
            case 46:
                b.preventDefault();
                this.nX();
                break;
            case 13:
            case 32:
                b.preventDefault(), TK(this, this.a, !0);
            default:
                return
        }
        this.a ? (b = this.a.clone(), b.add(new Oj(0, c, d))) : (b = this.g.clone(), b.setDate(1));
        this.xO.contains(b) &&
        TK(this, b, !1)
    };
    f.wfa = function (b) {
        b.stopPropagation();
        b = [];
        for (var c = 0; 12 > c; c++) b.push(this.w.Qx[c]);
        YK(this, this.K, b, this.t$, this.w.Qx[this.g.getMonth()])
    };
    f.xfa = function (b) {
        b.stopPropagation();
        b = [];
        for (var c = this.g.getFullYear(), d = this.g.clone(), e = -5; 5 >= e; e++) d.setFullYear(c + e), b.push(this.va.format(d));
        YK(this, this.$, b, this.maa, this.va.format(this.g))
    };
    f.t$ = function (b) {
        b = Number(b.getAttribute("itemIndex"));
        this.g.setMonth(b);
        RK(this);
        this.K.focus && this.K.focus()
    };
    f.maa = function (b) {
        if (3 == b.firstChild.nodeType) {
            b = Number(b.getAttribute("itemIndex"));
            var c = this.g.getFullYear();
            this.g.setFullYear(c + b - 5);
            RK(this)
        }
        this.$.focus()
    };

    function YK(b, c, d, e, h) {
        b.bv();
        var k = b.Bc.createElement(D);
        k.className = b.Hc() + "-zg";
        b.U = null;
        for (var l = b.Bc.createElement(af), p = 0; p < d.length; p++) {
            var q = b.Bc.u(ve, null, d[p]);
            q.setAttribute("itemIndex", p);
            d[p] == h && (b.U = q);
            l.appendChild(q)
        }
        k.appendChild(l);
        k.style.left = c.offsetLeft + c.parentNode.offsetLeft + "px";
        k.style.top = c.offsetTop + "px";
        k.style.width = c.clientWidth + "px";
        b.K.parentNode.appendChild(k);
        b.hb = k;
        b.U || (b.U = l.firstChild);
        b.U.className = b.Hc() + "-zg-wg";
        b.za = e;
        c = b.S();
        c.C(b.hb, "click", b.lU);
        c.C(XK(b,
            b.hb), "key", b.mU);
        c.C(b.Bc.Wb, "click", b.bv);
        k.tabIndex = 0;
        k.focus()
    }

    f.lU = function (b) {
        b.stopPropagation();
        this.bv();
        this.za && this.za(b.target)
    };
    f.mU = function (b) {
        b.stopPropagation();
        var c, d = this.U;
        switch (b.keyCode) {
            case 35:
                b.preventDefault();
                c = d.parentNode.lastChild;
                break;
            case 36:
                b.preventDefault();
                c = d.parentNode.firstChild;
                break;
            case 38:
                b.preventDefault();
                c = d.previousSibling;
                break;
            case 40:
                b.preventDefault();
                c = d.nextSibling;
                break;
            case 13:
            case 9:
            case 0:
                b.preventDefault(), this.bv(), this.za(d)
        }
        c && c != d && (d.className = "", c.className = this.Hc() + "-zg-wg", this.U = c)
    };
    f.bv = function () {
        if (this.hb) {
            var b = this.S();
            b.wa(this.hb, "click", this.lU);
            b.wa(XK(this, this.hb), "key", this.mU);
            b.wa(this.Bc.Wb, "click", this.bv);
            Ls(this.hb);
            delete this.hb
        }
    };

    function RK(b) {
        if (b.J()) {
            var c = b.g.clone();
            c.setDate(1);
            b.zJ && Ts(b.zJ, b.Hb.format(c));
            b.K && Ts(b.K, b.w.Qx[c.getMonth()]);
            b.$ && Ts(b.$, b.va.format(c));
            var d;
            d = ((c.getDay() + 6) % 7 - c.Bp + 7) % 7;
            Yj(c);
            c.add(new Oj(Qj, -1));
            c.setDate(Yj(c) - (d - 1));
            d = new Oj(Rj, 1);
            b.m = [];
            for (var e = 0; 6 > e; e++) {
                b.m[e] = [];
                for (var h = 0; 7 > h; h++) {
                    b.m[e][h] = c.clone();
                    var k = c.getFullYear();
                    c.add(d);
                    0 == c.getMonth() && 1 == c.getDate() && k++;
                    c.setFullYear(k)
                }
            }
            if (b.J()) for (c = b.g.getMonth(), h = new Vj, d = h.getFullYear(), e = h.getMonth(), h = h.getDate(), k =
                0; 6 > k; k++) {
                Ts(b.F[k + 1][0], b.Rb.format(b.m[k][0]));
                K.set(b.F[k + 1][0], b.Hc() + "-th");
                for (var l = 0; 7 > l; l++) {
                    var p = b.m[k][l], q = b.F[k + 1][l + 1];
                    q.id || (q.id = fr(b.d4));
                    kt(q, "gridcell");
                    var r = [b.Hc() + "-rh"];
                    b.xO.contains(p) || r.push(b.Hc() + "-unavailable-rh");
                    p.getMonth() != c && r.push(b.Hc() + "-Bh-zh");
                    var t = (l + b.g.Bp + 7) % 7;
                    b.ia[t] && r.push(b.ia[t]);
                    p.getDate() == h && p.getMonth() == e && p.getFullYear() == d && r.push(b.Hc() + "-wh");
                    b.a && p.getDate() == b.a.getDate() && p.getMonth() == b.a.getMonth() && p.getFullYear() == b.a.getFullYear() &&
                    (r.push(b.Hc() + "-wg"), lt(b.Ea, "activedescendant", q.id));
                    p = b.ob.format(p);
                    Ts(q, p);
                    K.set(q, r.join(" "))
                }
                4 <= k && O(b.F[k + 1][0].parentElement || b.F[k + 1][0].parentNode, b.m[k][0].getMonth() == c || !0)
            }
        }
    }

    function SK(b) {
        var c = new UK("changeActiveMonth", b, b.g.clone());
        b.dispatchEvent(c)
    }

    function WK(b) {
        if (b.J()) {
            for (var c = 0; 7 > c; c++) Ts(b.F[0][c + 1], b.Ub[((c + b.g.Bp + 7) % 7 + 1) % 7]);
            O(b.F[0][0].parentElement || b.F[0][0].parentNode, !0)
        }
    }

    function XK(b, c) {
        var d = qa(c);
        d in b.R || (b.R[d] = new NE(c));
        return b.R[d]
    }

    function UK(b, c, d) {
        cf.call(this, b, c);
        this.Cb = d
    }

    B(UK, cf);

    function ZK(b, c, d) {
        OK.call(this, b, c, d);
        this.g.Bp = 0;
        RK(this);
        WK(this)
    }

    B(ZK, OK);
    ZK.prototype.Hc = function () {
        return "a-rh-sh"
    };
    ZK.prototype.ua = function (b) {
        ZK.P.ua.call(this, b);
        K.add.apply(K, [b].concat([]))
    };

    function $K(b, c) {
        YH.call(this, c);
        this.w = b;
        this.g = new fu(this);
        this.a = new Rq
    }

    B($K, YH);
    f = $K.prototype;
    f.D8 = is("goog.ui.media.FlashObject");
    f.zB = "window";
    f.gK = "#000000";
    f.XB = "sameDomain";
    f.Iw = function (b) {
        this.gK = b;
        return this
    };
    f.bi = function (b, c) {
        this.m = ka(b) ? b : Math.round(b) + "px";
        this.jf = ka(c) ? c : Math.round(c) + "px";
        this.J() && JF(aL(this), this.m, this.jf);
        return this
    };
    f.oa = function () {
        $K.P.oa.call(this);
        for (var b = this.J(), c = this.a.zl(), d = this.a.mc(), e = [], h = 0; h < c.length; h++) e.push(encodeURIComponent(String(c[h])) + "=" + encodeURIComponent(String(d[h])));
        var c = e.join("&"), k;
        if (Jr && !Xr(11)) {
            e = this.w;
            d = {
                allowFullScreen: "true",
                AllowScriptAccess: this.XB,
                allowNetworking: "all",
                bgcolor: this.gK,
                FlashVars: c,
                quality: "high",
                SeamlessTabbing: "false",
                wmode: this.zB
            };
            c = {"class": "mg-N-Zj-flash-h", id: this.aa(), name: this.aa()};
            Qq(c, d);
            h = {
                allownetworking: "none", allowscriptaccess: "never",
                movie: e
            };
            e = {};
            for (k in h) e[k] = h[k];
            for (k in d) {
                var l = k.toLowerCase();
                l in h && delete e[l];
                e[k] = d[k]
            }
            d = [];
            for (k in e) d.push(Jq("param", {name: k, value: e[k]}));
            k = Lq({classid: "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"}, {}, c);
            k = Jq("object", k, d)
        } else k = {
            AllowScriptAccess: this.XB,
            allowFullScreen: "true",
            allowNetworking: "all",
            bgcolor: this.gK,
            "class": "mg-N-Zj-flash-h",
            FlashVars: c,
            id: this.aa(),
            name: this.aa(),
            quality: "high",
            SeamlessTabbing: "false",
            wmode: this.zB
        }, k = Lq({
            src: this.w, type: "application/x-shockwave-flash",
            pluginspage: "https://www.macromedia.com/go/getflashplayer"
        }, {allownetworking: "none", allowscriptaccess: "never"}, k), k = Jq("embed", k);
        Oq(b, k);
        this.m && this.jf && this.bi(this.m, this.jf);
        this.g.C(this.J(), Ta(Jt), df)
    };
    f.u = function () {
        if (null != this.F && !(0 <= Ph(Hr, this.F))) {
            var b = this.D8;
            b && b.log(cs, "Required flash version not found:" + this.F, void 0);
            throw Error("Method not supported");
        }
        b = this.M().createElement(D);
        b.className = "mg-N-Zj-flash";
        this.Da = b
    };

    function aL(b) {
        return b.J() ? b.J().firstChild : null
    }

    f.Ma = function () {
        $K.P.Ma.call(this);
        this.a = null;
        this.g.Ra();
        this.g = null
    };

    function bL() {
    }

    B(bL, VJ);
    ea(bL);
    bL.prototype.xa = function () {
        return "mg-menuheader"
    };

    function cL(b, c, d) {
        oK.call(this, b, d || bL.Ka(), c);
        this.vd(1, !1);
        this.vd(2, !1);
        this.vd(4, !1);
        this.vd(32, !1);
        this.Ta = 1
    }

    B(cL, oK);
    gr("mg-menuheader", function () {
        return new cL(null)
    });

    function dL() {
        this.a = []
    }

    B(dL, VJ);
    ea(dL);

    function eL(b, c) {
        var d = b.a[c];
        if (!d) {
            switch (c) {
                case 0:
                    d = b.xa() + "-Jg";
                    break;
                case 1:
                    d = b.xa() + "-pg";
                    break;
                case 2:
                    d = b.xa() + "-Hg"
            }
            b.a[c] = d
        }
        return d
    }

    f = dL.prototype;
    f.wl = function () {
        return "menuitem"
    };
    f.u = function (b) {
        var c = b.M().u(D, this.fg(b).join(" "), fL(this, b.Ob(), b.M()));
        this.jG(b, c, cK(b, 8) || cK(b, 16));
        return c
    };
    f.Aa = function (b) {
        return b && b.firstChild
    };
    f.Gc = function (b, c) {
        var d = Ns(c), e = eL(this, 2);
        d && K.contains(d, e) || c.appendChild(fL(this, c.childNodes, b.M()));
        K.contains(c, "mg-Kg") && (b.rA(!0), this.rA(b, c, !0));
        return dL.P.Gc.call(this, b, c)
    };
    f.Kc = function (b, c) {
        var d = this.Aa(b), e = gL(this, b) ? d.firstChild : null;
        dL.P.Kc.call(this, b, c);
        e && !gL(this, b) && d.insertBefore(e, d.firstChild || null)
    };

    function fL(b, c, d) {
        b = eL(b, 2);
        return d.u(D, b, c)
    }

    f.IA = function (b, c, d) {
        b && c && this.jG(b, c, d)
    };
    f.rA = function (b, c, d) {
        b && c && this.jG(b, c, d)
    };

    function gL(b, c) {
        var d = b.Aa(c);
        if (d) {
            var d = d.firstChild, e = eL(b, 1);
            return !!d && Qs(d) && K.contains(d, e)
        }
        return !1
    }

    f.jG = function (b, c, d) {
        aK(this, c, b.Jp());
        bK(this, b, c);
        d != gL(this, c) && (K.enable(c, "mg-Kg", d), c = this.Aa(c), d ? (d = eL(this, 1), c.insertBefore(b.M().u(D, d), c.firstChild || null)) : c.removeChild(c.firstChild))
    };
    f.Ys = function (b) {
        switch (b) {
            case 2:
                return eL(this, 0);
            case 16:
            case 8:
                return "mg-Kg-wg";
            default:
                return dL.P.Ys.call(this, b)
        }
    };
    f.Fv = function (b) {
        var c = eL(this, 0);
        switch (b) {
            case "mg-Kg-wg":
                return 16;
            case c:
                return 2;
            default:
                return dL.P.Fv.call(this, b)
        }
    };
    f.xa = function () {
        return "mg-Cg"
    };

    function hL() {
        this.a = [];
        this.a = []
    }

    B(hL, dL);
    ea(hL);
    hL.prototype.xa = function () {
        return "a-Cg"
    };
    hL.prototype.jG = function (b, c, d) {
        aK(this, c, b.Jp());
        bK(this, b, c);
        if (d != gL(this, c)) if (K.enable(c, "a-Kg", d), c = this.Aa(c), d) {
            b = b.M();
            d = iL;
            var e = this.a[d];
            if (!e) {
                switch (d) {
                    case 0:
                        e = this.xa() + "-Jg";
                        break;
                    case iL:
                        e = this.xa() + "-pg";
                        break;
                    case 2:
                        e = this.xa() + "-Hg"
                }
                this.a[d] = e
            }
            c.insertBefore(b.u(D, e, b.u(Le, "a-ib a-ib-Rj")), c.firstChild || null)
        } else c.removeChild(c.firstChild)
    };
    var iL = 1;
    hL.prototype.Ys = function (b) {
        switch (b) {
            case 2:
                return eL(this, 0);
            case 16:
            case 8:
                return "a-Kg-wg";
            default:
                return dL.P.Ys.call(this, b)
        }
    };
    dL.prototype.Fv = function (b) {
        var c = eL(this, 0);
        switch (b) {
            case "a-Kg-wg":
                return 16;
            case c:
                return 2;
            default:
                return dL.P.Fv.call(this, b)
        }
    };

    function jL(b, c, d, e) {
        oK.call(this, b, e || dL.Ka(), d);
        this.V(c)
    }

    B(jL, oK);
    f = jL.prototype;
    f.G = function () {
        var b = this.qa();
        return null != b ? b : this.Dp()
    };
    f.V = function (b) {
        this.fe(b)
    };
    f.vd = function (b, c) {
        jL.P.vd.call(this, b, c);
        switch (b) {
            case 8:
                this.Cf() && !c && this.Tb(!1);
                var d = this.J();
                d && this.fc().IA(this, d, c);
                break;
            case 16:
                (d = this.J()) && this.fc().rA(this, d, c)
        }
    };
    f.IA = function (b) {
        this.vd(8, b)
    };
    f.rA = function (b) {
        this.vd(16, b)
    };
    f.Dp = function () {
        var b = this.Ob();
        return ia(b) ? (b = Sa(b, function (b) {
            return Qs(b) && (K.contains(b, "mg-Cg-Ig") || K.contains(b, "mg-Cg-Lg-Ng")) ? "" : bt(b)
        }).join(""), Ch(b)) : jL.P.Dp.call(this)
    };
    f.Qp = function (b) {
        var c = this.getParent();
        if (c) {
            var d = c.iM;
            c.iM = null;
            if (d && ma(b.clientX) && pp(d, new op(b.clientX, b.clientY))) return
        }
        jL.P.Qp.call(this, b)
    };
    f.Lm = function (b) {
        return b.keyCode == this.RL && this.Zj(b) ? !0 : jL.P.Lm.call(this, b)
    };
    f.h7 = function () {
        return this.RL
    };
    gr("mg-Cg", function () {
        return new jL(null)
    });
    jL.prototype.Jp = function () {
        return cK(this, 16) ? "menuitemcheckbox" : cK(this, 8) ? "menuitemradio" : jL.P.Jp.call(this)
    };
    jL.prototype.getParent = function () {
        return oK.prototype.getParent.call(this)
    };
    jL.prototype.Cv = function () {
        return oK.prototype.Cv.call(this)
    };

    function kL(b, c, d, e) {
        jL.call(this, b, c, d, e || hL.Ka());
        this.V(c)
    }

    B(kL, jL);
    kL.prototype.Dp = function () {
        var b = this.Ob();
        return ia(b) ? (b = Sa(b, function (b) {
            return Qs(b) && (K.contains(b, "a-Cg-Ig") || K.contains(b, "a-Cg-Lg-Ng")) ? "" : bt(b)
        }).join(""), Ch(b)) : jL.P.Dp.call(this)
    };
    gr("a-Cg", function () {
        return new kL(null)
    });

    function lL(b, c, d) {
        kL.call(this, b, c, d);
        this.IA(!0)
    }

    B(lL, kL);
    lL.prototype.Zj = function () {
        return this.dispatchEvent("action")
    };
    gr("a-Kg", function () {
        return new lL(null)
    });

    function mL(b, c, d) {
        jL.call(this, b, c, d);
        this.rA(!0)
    }

    B(mL, jL);
    gr("mg-pg-Cg", function () {
        return new mL(null)
    });

    function nL() {
    }

    B(nL, VJ);
    ea(nL);
    nL.prototype.u = function (b) {
        return b.M().u(D, this.xa())
    };
    nL.prototype.Gc = function (b, c) {
        c.id && b.$h(c.id);
        if (c.tagName == le) {
            var d = c;
            c = this.u(b);
            d.parentNode && d.parentNode.insertBefore(c, d);
            Ls(d)
        } else K.add(c, this.xa());
        return c
    };
    nL.prototype.Kc = function () {
    };
    nL.prototype.xa = function () {
        return "mg-Og"
    };

    function oL(b, c) {
        this.Da = b;
        this.Bc = c
    };

    function pL() {
    }

    B(pL, gK);
    ea(pL);
    f = pL.prototype;
    f.wl = function () {
    };
    f.u = function (b) {
        b.wA(!1);
        tK(b, 255);
        b.vd(32, !1);
        return b.M().u($d, {
            "class": this.fg(b).join(" "),
            disabled: !b.isEnabled(),
            title: b.rh() || "",
            value: b.G() || ""
        }, b.Dp() || "")
    };
    f.te = function (b) {
        return b.tagName == $d || b.tagName == qe && ("button" == b.type || "submit" == b.type || "reset" == b.type)
    };
    f.Gc = function (b, c) {
        b.wA(!1);
        tK(b, 255);
        b.vd(32, !1);
        if (c.disabled) {
            var d = this.Ys(1);
            K.add(c, d)
        }
        return pL.P.Gc.call(this, b, c)
    };
    f.Cr = function (b) {
        b.S().C(b.J(), "click", b.Zj)
    };
    f.an = da;
    f.Ww = da;
    f.Tp = function (b) {
        return b.isEnabled()
    };
    f.Ei = da;
    f.pg = function (b, c, d) {
        pL.P.pg.call(this, b, c, d);
        (b = b.J()) && 1 == c && (b.disabled = d)
    };
    f.G = function (b) {
        return b.value
    };
    f.V = function (b, c) {
        b && (b.value = c)
    };
    f.Oo = da;

    function qL(b, c, d) {
        oK.call(this, b, c || pL.Ka(), d)
    }

    B(qL, oK);
    f = qL.prototype;
    f.G = function () {
        return this.rc
    };
    f.V = function (b) {
        this.rc = b;
        this.fc().V(this.J(), b)
    };
    f.rh = function () {
        return this.Ua
    };
    f.Gb = function (b) {
        this.Ua = b;
        this.fc().Gb(this.J(), b)
    };
    f.GG = function (b) {
        this.Ua = b
    };
    f.Kw = function (b) {
        this.fc().Kw(this, b)
    };
    f.Ma = function () {
        qL.P.Ma.call(this);
        delete this.rc;
        delete this.Ua
    };
    f.oa = function () {
        qL.P.oa.call(this);
        if (cK(this, 32)) {
            var b = this.xg();
            b && this.S().C(b, "keyup", this.Lm)
        }
    };
    f.Lm = function (b) {
        return 13 == b.keyCode && "key" == b.type || 32 == b.keyCode && "keyup" == b.type ? this.Zj(b) : 32 == b.keyCode
    };
    gr("mg-vg", function () {
        return new qL(null)
    });

    function rL() {
    }

    B(rL, gK);
    ea(rL);
    f = rL.prototype;
    f.Aa = function (b) {
        return b
    };
    f.u = function (b) {
        var c = {"class": "mg-ng-og " + this.fg(b).join(" "), title: b.rh() || ""};
        return b.M().u(D, c, b.Ob())
    };
    f.te = function (b) {
        return b.tagName == D
    };
    f.Gc = function (b, c) {
        K.addAll(c, ["mg-ng-og", this.xa()]);
        return rL.P.Gc.call(this, b, c)
    };
    f.xa = function () {
        return "mg-css3-vg"
    };
    gr("mg-css3-vg", function () {
        return new qL(null, rL.Ka())
    });
    gr("mg-css3-nl-vg", function () {
        var b = new qL(null, rL.Ka());
        b.vd(16, !0);
        return b
    });

    function sL() {
        return XJ(rL, tL)
    }

    B(sL, rL);
    ea(sL);
    var tL = "a-N-vg";

    function uL(b, c, d) {
        qL.call(this, b, c || sL.Ka(), d)
    }

    B(uL, qL);
    gr(tL, function () {
        return new uL(null)
    });

    function vL() {
        sL.call(this)
    }

    B(vL, sL);
    ea(vL);
    vL.prototype.xa = function () {
        return "a-N-Rg-vg"
    };

    function wL(b, c, d) {
        qL.call(this, b, c || vL.Ka(), d)
    }

    B(wL, qL);
    gr("a-N-Rg-vg", function () {
        return new wL(null)
    });

    function xL(b, c, d) {
        qL.call(this, b, c || JK.Ka(), d)
    }

    B(xL, qL);
    gr("mg-Wg-vg", function () {
        return new xL(null)
    });

    function yL() {
    }

    B(yL, gK);
    ea(yL);
    f = yL.prototype;
    f.u = function (b) {
        var c = {"class": "mg-ng-og " + this.fg(b).join(" ")}, c = b.M().u(D, c, b.Ob());
        this.Gb(c, b.rh());
        return c
    };
    f.wl = function () {
        return "button"
    };
    f.te = function (b) {
        return b.tagName == D
    };
    f.Gc = function (b, c) {
        K.add(c, "mg-ng-og");
        return yL.P.Gc.call(this, b, c)
    };
    f.G = function () {
        return ""
    };
    f.xa = function () {
        return "mg-ug-vg"
    };
    gr("mg-ug-vg", function () {
        return new qL(null, yL.Ka())
    });

    function zL(b, c, d) {
        jL.call(this, b, c, d);
        this.IA(!0)
    }

    B(zL, jL);
    zL.prototype.Zj = function () {
        return this.dispatchEvent("action")
    };
    gr("mg-Kg", function () {
        return new zL(null)
    });

    function AL(b, c) {
        Q.call(this);
        this.ic = new fu(this);
        this.sN(b || null);
        c && this.ax(c)
    }

    B(AL, Q);
    f = AL.prototype;
    f.Da = null;
    f.rQ = null;
    f.Gk = !1;
    f.wL = -1;
    f.vL = -1;
    f.Ff = "toggle_display";
    f.Kb = function () {
        return this.Ff
    };
    f.ax = function (b) {
        this.Ff = b
    };
    f.J = function () {
        return this.Da
    };
    f.sN = function (b) {
        if (this.Gk) throw Error("Can not change this state of the popup while showing.");
        this.Da = b
    };
    f.S = function () {
        return this.ic
    };
    f.Wa = function () {
        return this.Gk
    };
    f.Z = function (b) {
        this.K && this.K.stop();
        this.F && this.F.stop();
        if (b) {
            if (!this.Gk && this.cM()) {
                if (!this.Da) throw Error("Caller must call setElement before trying to show the popup");
                this.xe();
                b = ps(this.Da);
                this.ic.C(b, "mousedown", this.ZV, !0);
                if (Jr) {
                    var c;
                    try {
                        c = b.activeElement
                    } catch (d) {
                    }
                    for (; c && c.nodeName == oe;) {
                        try {
                            var e = c.contentDocument || c.contentWindow.document
                        } catch (h) {
                            break
                        }
                        b = e;
                        c = b.activeElement
                    }
                    this.ic.C(b, "mousedown", this.ZV, !0);
                    this.ic.C(b, "deactivate", this.YV)
                } else this.ic.C(b, "blur", this.YV);
                "toggle_display" == this.Ff ? (this.Da.style.visibility = "visible", O(this.Da, !0)) : "move_offscreen" == this.Ff && this.xe();
                this.Gk = !0;
                this.wL = wa();
                this.vL = -1;
                this.K ? (Xt(this.K, "end", this.aq, !1, this), this.K.play()) : this.aq()
            }
        } else BL(this)
    };
    f.xe = da;

    function BL(b, c) {
        b.Gk && b.dispatchEvent({
            type: "beforehide",
            target: c
        }) && (b.ic && b.ic.ud(), b.Gk = !1, b.vL = wa(), b.F ? (Xt(b.F, "end", va(b.BQ, c), !1, b), b.F.play()) : b.BQ(c))
    }

    f.BQ = function (b) {
        "toggle_display" == this.Ff ? this.raa() : "move_offscreen" == this.Ff && (this.Da.style.top = "-10000px");
        this.fK(b)
    };
    f.raa = function () {
        this.Da.style.visibility = "hidden";
        O(this.Da, !1)
    };
    f.cM = function () {
        return this.dispatchEvent("beforeshow")
    };
    f.aq = function () {
        this.dispatchEvent("show")
    };
    f.fK = function (b) {
        this.dispatchEvent({type: "hide", target: b})
    };
    f.ZV = function (b) {
        b = b.target;
        Ss(this.Da, b) || CL(this, b) || 150 > wa() - this.wL || BL(this, b)
    };
    f.YV = function (b) {
        var c = ps(this.Da);
        if ("undefined" != typeof document.activeElement) {
            if (b = c.activeElement, !b || Ss(this.Da, b) || b.tagName == Yd) return
        } else if (b.target != c) return;
        150 > wa() - this.wL || BL(this)
    };

    function CL(b, c) {
        return ci(b.rQ || [], function (b) {
            return c === b || Ss(b, c)
        })
    }

    f.Ma = function () {
        AL.P.Ma.call(this);
        this.ic.Ra();
        Jd(this.K);
        Jd(this.F);
        delete this.Da;
        delete this.ic;
        delete this.rQ
    };

    function DL(b, c) {
        YH.call(this, c);
        this.Yd = !!b;
        this.R = null;
        this.Ub = Rd({iba: this.YF}, this)
    }

    B(DL, YH);
    f = DL.prototype;
    f.MJ = null;
    f.md = !1;
    f.rk = null;
    f.gi = null;
    f.kn = null;
    f.qI = !1;
    f.xa = function () {
        return "mg-modalpopup"
    };
    f.Zi = function () {
        return this.rk
    };
    f.u = function () {
        DL.P.u.call(this);
        var b = this.J(), c = Dh(this.xa()).split(" ");
        K.addAll(b, c);
        Zs(b, !0);
        O(b, !1);
        EL(this);
        FL(this)
    };

    function EL(b) {
        if (b.Yd && !b.gi) {
            var c;
            c = b.M().u(oe, {frameborder: 0, style: "border:0;vertical-align:bottom;", src: rt});
            b.gi = c;
            b.gi.className = b.xa() + "-Eb";
            O(b.gi, !1);
            pG(b.gi, 0)
        }
        b.rk || (b.rk = b.M().u(D, b.xa() + "-Eb"), O(b.rk, !1))
    }

    function FL(b) {
        b.kn || (b.kn = b.M().createElement(Le), O(b.kn, !1), Zs(b.kn, !0), b.kn.style.position = "absolute")
    }

    f.WW = function () {
        this.qI = !1
    };
    f.te = function (b) {
        return !!b && b.tagName == D
    };
    f.ua = function (b) {
        DL.P.ua.call(this, b);
        b = Dh(this.xa()).split(" ");
        K.addAll(this.J(), b);
        EL(this);
        FL(this);
        Zs(this.J(), !0);
        O(this.J(), !1)
    };
    f.oa = function () {
        if (this.gi) {
            var b = this.J();
            b.parentNode && b.parentNode.insertBefore(this.gi, b)
        }
        b = this.J();
        b.parentNode && b.parentNode.insertBefore(this.rk, b);
        DL.P.oa.call(this);
        Ks(this.kn, this.J());
        this.MJ = new HE(ct(this.M()));
        this.S().C(this.MJ, "focusin", this.uba);
        GL(this, !1)
    };
    f.Oe = function () {
        this.Wa() && this.Z(!1);
        Jd(this.MJ);
        DL.P.Oe.call(this);
        Ls(this.gi);
        Ls(this.rk);
        Ls(this.kn)
    };
    f.Z = function (b) {
        if (b != this.md) if (this.$ && this.$.stop(), this.va && this.va.stop(), this.U && this.U.stop(), this.ia && this.ia.stop(), this.la && GL(this, b), b) {
            if (this.dispatchEvent("beforeshow")) {
                try {
                    this.R = ct(this.M()).activeElement
                } catch (c) {
                }
                this.YF();
                this.xe();
                this.S().C(dt(this.M()), "resize", this.YF).C(dt(this.M()), "orientationchange", this.Ub);
                HL(this, !0);
                this.focus();
                this.md = !0;
                this.$ && this.va ? (Xt(this.$, "end", this.aq, !1, this), this.va.play(), this.$.play()) : this.aq()
            }
        } else if (this.dispatchEvent("beforehide")) {
            this.S().wa(dt(this.M()),
                "resize", this.YF).wa(dt(this.M()), "orientationchange", this.Ub);
            this.md = !1;
            this.U && this.ia ? (Xt(this.U, "end", this.$D, !1, this), this.ia.play(), this.U.play()) : this.$D();
            a:{
                try {
                    var d = this.M(), e = d.Wb.body, h = d.Wb.activeElement || e;
                    if (!this.R || this.R == e) {
                        this.R = null;
                        break a
                    }
                    (h == e || d.contains(this.J(), h)) && this.R.focus()
                } catch (k) {
                }
                this.R = null
            }
        }
    };

    function GL(b, c) {
        b.Hb || (b.Hb = new oL(b.Da, b.Bc));
        var d = b.Hb;
        if (c) {
            d.a || (d.a = []);
            for (var e = d.Bc.Fp(d.Bc.Wb.body), h = 0; h < e.length; h++) {
                var k = e[h];
                k == d.Da || mt(k, "hidden") || (lt(k, "hidden", !0), d.a.push(k))
            }
        } else if (d.a) {
            for (h = 0; h < d.a.length; h++) d.a[h].removeAttribute("aria-hidden");
            d.a = null
        }
    }

    function HL(b, c) {
        b.gi && O(b.gi, c);
        b.rk && O(b.rk, c);
        O(b.J(), c);
        O(b.kn, c)
    }

    f.aq = function () {
        this.dispatchEvent("show")
    };
    f.$D = function () {
        HL(this, !1);
        this.dispatchEvent("hide")
    };
    f.Wa = function () {
        return this.md
    };
    f.focus = function () {
        this.fS()
    };
    f.YF = function () {
        this.gi && O(this.gi, !1);
        this.rk && O(this.rk, !1);
        var b = ct(this.M()), c = ws(ys(b) || window || window),
            d = Math.max(c.width, Math.max(b.body.scrollWidth, b.documentElement.scrollWidth)),
            b = Math.max(c.height, Math.max(b.body.scrollHeight, b.documentElement.scrollHeight));
        this.gi && (O(this.gi, !0), JF(this.gi, d, b));
        this.rk && (O(this.rk, !0), JF(this.rk, d, b))
    };
    f.xe = function () {
        var b = ct(this.M()), c = ys(b) || window;
        if ("fixed" == $F(this.J())) var d = b = 0; else d = ft(this.M()), b = d.x, d = d.y;
        var e = PF(this.J()), c = ws(c || window), b = Math.max(b + c.width / 2 - e.width / 2, 0),
            d = Math.max(d + c.height / 2 - e.height / 2, 0);
        tu(this.J(), b, d);
        tu(this.kn, b, d)
    };
    f.uba = function (b) {
        this.qI ? this.WW() : b.target == this.kn && kH(this.fS, 0, this)
    };
    f.fS = function () {
        try {
            Jr && ct(this.M()).body.focus(), this.J().focus()
        } catch (b) {
        }
    };
    f.Ma = function () {
        Jd(this.$);
        this.$ = null;
        Jd(this.U);
        this.U = null;
        Jd(this.va);
        this.va = null;
        Jd(this.ia);
        this.ia = null;
        DL.P.Ma.call(this)
    };

    function IL(b, c, d) {
        DL.call(this, c, d);
        this.Bb = b || "modal-Xg";
        this.xf = JL(JL(new KL, LL, !0), ML, !1, !0)
    }

    B(IL, DL);
    f = IL.prototype;
    f.GJ = !0;
    f.HV = !0;
    f.aC = .5;
    f.Le = "";
    f.Kg = null;
    f.Hh = null;
    f.kk = null;
    f.Aj = null;
    f.nH = null;
    f.zj = null;
    f.ll = null;
    f.lh = null;
    f.bA = "dialog";
    f.xa = function () {
        return this.Bb
    };
    f.tf = function (b) {
        this.Le = b;
        this.Aj && Ts(this.Aj, b)
    };
    f.Nb = function () {
        return this.Le
    };
    f.ci = function (b) {
        if (!(b instanceof Aq)) {
            b = Dq(b);
            var c;
            c = Cq(b).replace(/(\r\n|\r|\n)/g, "<br>");
            b = Eq(c, b.ef())
        }
        NL(this, b)
    };

    function NL(b, c) {
        b.Kg = c;
        b.ll && Oq(b.ll, c)
    }

    f.Ob = function () {
        return null != this.Kg ? Cq(this.Kg) : ""
    };
    f.Jp = function () {
        return this.bA
    };
    f.DN = function (b) {
        this.bA = b
    };

    function OL(b) {
        b.J() || b.T()
    }

    f.Aa = function () {
        OL(this);
        return this.ll
    };

    function PL(b) {
        OL(b);
        return b.zj
    }

    f.tD = function () {
        OL(this);
        return this.lh
    };

    function QL(b) {
        OL(b);
        return b.J()
    }

    f.Zi = function () {
        OL(this);
        return IL.P.Zi.call(this)
    };

    function RL(b, c) {
        b.aC = c;
        if (b.J()) {
            var d = b.Zi();
            d && pG(d, b.aC)
        }
    }

    function SL(b, c) {
        var d = Dh(b.Bb + "-L-draggable").split(" ");
        b.J() && (c ? K.addAll(b.kk, d) : K.ud(b.kk, d));
        c && !b.Hh ? (b.Hh = new TF(b.J(), b.kk), K.addAll(b.kk, d), Qt(b.Hh, "start", b.eda, !1, b)) : !c && b.Hh && (b.Hh.Ra(), b.Hh = null)
    }

    f.u = function () {
        IL.P.u.call(this);
        var b = this.J(), c = this.M();
        this.kk = c.u(D, this.Bb + "-L", this.Aj = c.u(Le, {
            className: this.Bb + "-L-mi",
            id: this.aa()
        }, this.Le), this.zj = c.u(Le, this.Bb + "-L-Yg"));
        Ds(b, this.kk, this.ll = c.u(D, this.Bb + "-Hg"), this.lh = c.u(D, this.Bb + "-Zg"));
        kt(this.Aj, "heading");
        kt(this.zj, "button");
        Zs(this.zj, !0);
        lt(this.zj, "label", TL);
        this.nH = this.Aj.id;
        kt(b, this.Jp());
        lt(b, "labelledby", this.nH || "");
        this.Kg && Oq(this.ll, this.Kg);
        O(this.zj, !0);
        this.xf && (b = this.xf, b.Da = this.lh, b.T());
        O(this.lh, !!this.xf);
        RL(this, this.aC)
    };
    f.ua = function (b) {
        IL.P.ua.call(this, b);
        b = this.J();
        var c = this.Bb + "-Hg";
        this.ll = qs(null, c, b)[0];
        this.ll || (this.ll = this.M().u(D, c), this.Kg && Oq(this.ll, this.Kg), b.appendChild(this.ll));
        var c = this.Bb + "-L", d = this.Bb + "-L-mi", e = this.Bb + "-L-Yg";
        (this.kk = qs(null, c, b)[0]) ? (this.Aj = qs(null, d, this.kk)[0], this.zj = qs(null, e, this.kk)[0]) : (this.kk = this.M().u(D, c), b.insertBefore(this.kk, this.ll));
        this.Aj ? (this.Le = $s(this.Aj), this.Aj.id || (this.Aj.id = this.aa())) : (this.Aj = zs(Le, {
            className: d,
            id: this.aa()
        }), this.kk.appendChild(this.Aj));
        this.nH = this.Aj.id;
        lt(b, "labelledby", this.nH || "");
        this.zj || (this.zj = this.M().u(Le, e), this.kk.appendChild(this.zj));
        O(this.zj, !0);
        c = this.Bb + "-Zg";
        (this.lh = qs(null, c, b)[0]) ? (this.xf = new KL(this.M()), this.xf.Gc(this.lh)) : (this.lh = this.M().u(D, c), b.appendChild(this.lh), this.xf && (b = this.xf, b.Da = this.lh, b.T()), O(this.lh, !!this.xf));
        RL(this, this.aC)
    };
    f.oa = function () {
        IL.P.oa.call(this);
        this.S().C(this.J(), "keydown", this.$V).C(this.J(), "keypress", this.$V);
        this.S().C(this.lh, "click", this.qba);
        SL(this, !0);
        this.S().C(this.zj, "click", this.Eba);
        var b = this.J();
        kt(b, this.Jp());
        "" !== this.Aj.id && lt(b, "labelledby", this.Aj.id);
        if (!this.HV) {
            this.HV = !1;
            if (this.la) {
                var b = this.M(), c = this.Zi();
                b.removeNode(this.gi);
                b.removeNode(c)
            }
            this.Wa() && GL(this, !1)
        }
    };
    f.Oe = function () {
        this.Wa() && this.Z(!1);
        SL(this, !1);
        IL.P.Oe.call(this)
    };
    f.Z = function (b) {
        b != this.Wa() && (this.la || this.T(), IL.P.Z.call(this, b))
    };
    f.aq = function () {
        IL.P.aq.call(this);
        this.dispatchEvent(UL)
    };
    f.$D = function () {
        IL.P.$D.call(this);
        this.dispatchEvent(VL)
    };
    f.eda = function () {
        var b = ct(this.M()), c = ws(ys(b) || window || window), d = Math.max(b.body.scrollWidth, c.width),
            b = Math.max(b.body.scrollHeight, c.height), e = PF(this.J());
        "fixed" == $F(this.J()) ? UF(this.Hh, new Ip(0, 0, Math.max(0, c.width - e.width), Math.max(0, c.height - e.height))) : UF(this.Hh, new Ip(0, 0, d - e.width, b - e.height))
    };
    f.Eba = function () {
        WL(this)
    };

    function WL(b) {
        var c = b.xf, d = c && c.ZD;
        d ? (c = c.get(d), b.dispatchEvent(new XL(d, c)) && b.Z(!1)) : b.Z(!1)
    }

    f.Ma = function () {
        this.lh = this.zj = null;
        IL.P.Ma.call(this)
    };

    function YL(b, c) {
        b.xf = c;
        if (b.lh) {
            if (b.xf) {
                var d = b.xf;
                d.Da = b.lh;
                d.T()
            } else Oq(b.lh, Mq);
            O(b.lh, !!b.xf)
        }
    }

    f.qba = function (b) {
        a:{
            for (b = b.target; null != b && b != this.lh;) {
                if (b.tagName == $d) break a;
                b = b.parentNode
            }
            b = null
        }
        if (b && !b.disabled) {
            b = b.name;
            var c = this.xf.get(b);
            this.dispatchEvent(new XL(b, c)) && this.Z(!1)
        }
    };
    f.$V = function (b) {
        var c = !1, d = !1, e = this.xf, h = b.target;
        if ("keydown" == b.type) if (this.GJ && 27 == b.keyCode) {
            var k = e && e.ZD, h = h.tagName == Je && !h.disabled;
            k && !h ? (d = !0, c = e.get(k), c = this.dispatchEvent(new XL(k, c))) : h || (c = !0)
        } else {
            if (9 == b.keyCode && b.shiftKey && h == this.J()) {
                this.qI = !0;
                try {
                    this.kn.focus()
                } catch (l) {
                }
                kH(this.WW, 0, this)
            }
        } else if (13 == b.keyCode) {
            if (h.tagName == $d && !h.disabled) k = h.name; else if (h == this.zj) WL(this); else if (e) {
                var p = e.Dy, q;
                if (q = p) a:{
                    q = (e.Da || document).getElementsByTagName(String($d));
                    for (var r =
                        0, t; t = q[r]; r++) if (t.name == p || t.id == p) {
                        q = t;
                        break a
                    }
                    q = null
                }
                h = (h.tagName == Te || h.tagName == Je || h.tagName == Ud) && !h.disabled;
                !q || q.disabled || h || (k = p)
            }
            k && e && (d = !0, c = this.dispatchEvent(new XL(k, String(e.get(k)))))
        } else h == this.zj && 32 == b.keyCode && WL(this);
        if (c || d) b.stopPropagation(), b.preventDefault();
        c && this.Z(!1)
    };

    function XL(b, c) {
        this.type = ZL;
        this.key = b;
        this.caption = c
    }

    B(XL, cf);
    var ZL = "dialogselect", VL = "afterhide", UL = "aftershow";

    function KL(b) {
        this.Bc = b || ns();
        Rq.call(this)
    }

    B(KL, Rq);
    f = KL.prototype;
    f.Bb = "mg-bh";
    f.Dy = null;
    f.Da = null;
    f.ZD = null;
    f.set = function (b, c, d, e) {
        Rq.prototype.set.call(this, b, c);
        d && (this.Dy = b);
        e && (this.ZD = b);
        return this
    };

    function JL(b, c, d, e) {
        return b.set(c.key, c.caption, d, e)
    }

    f.T = function () {
        if (this.Da) {
            Oq(this.Da, Mq);
            var b = ns(this.Da);
            this.forEach(function (c, d) {
                var e = b.u($d, {name: d}, c);
                d == this.Dy && (e.className = this.Bb + "-ch");
                this.Da.appendChild(e)
            }, this)
        }
    };
    f.Gc = function (b) {
        if (b && 1 == b.nodeType) {
            this.Da = b;
            b = (this.Da || document).getElementsByTagName(String($d));
            for (var c = 0, d, e, h; d = b[c]; c++) if (e = d.name || d.id, h = $s(d) || d.value, e) {
                var k = 0 == c;
                this.set(e, h, k, d.name == $L);
                k && K.add(d, this.Bb + "-ch")
            }
        }
    };
    f.J = function () {
        return this.Da
    };
    f.M = function () {
        return this.Bc
    };
    var $L = "cancel", aM = y("MSG_DIALOG_OK_", {}, "OK"), bM = y("MSG_DIALOG_CANCEL_", {}, "Cancel"),
        cM = y("MSG_DIALOG_YES_", {}, "Yes"), dM = y("MSG_DIALOG_NO_", {}, "No"),
        eM = y("MSG_DIALOG_SAVE_", {}, "Save"), fM = y("MSG_DIALOG_CONTINUE_", {}, "Continue"),
        TL = y("MSG_GOOG_UI_DIALOG_CLOSE_", {}, "Close"), LL = {key: "ok", caption: aM}, ML = {key: $L, caption: bM},
        gM = {key: "yes", caption: cM}, hM = {key: "no", caption: dM}, iM = {key: "save", caption: eM},
        jM = {key: "continue", caption: fM};

    function kM() {
        return JL(JL(new KL, gM, !0), hM, !1, !0)
    }

    "undefined" != typeof document && (JL(new KL, LL, !0, !0), JL(JL(new KL, LL, !0), ML, !1, !0), kM(), JL(JL(JL(new KL, gM), hM, !0), ML, !1, !0), JL(JL(JL(new KL, jM), iM), ML, !0, !0));

    function lM(b, c, d) {
        IL.call(this, this.xa(), c, d);
        this.lQ = b;
        YL(this, JL(JL(new mM, LL, !0), ML, !1, !0))
    }

    B(lM, IL);
    f = lM.prototype;
    f.xa = function () {
        return "a-Xg"
    };
    f.oa = function () {
        lM.P.oa.call(this);
        var b = this.M();
        b.append(PL(this), b.u(ne, ["a-ib", "a-ib-Tj"]));
        b.append(this.xf.J(), this.O5 = b.u(D, ["mg-ng-og", "selection-xl"], "Select at least 1 instrument"));
        O(this.O5, !1);
        this.S().C(this.tD(), "click", this.O8).C(this.J(), "keydown", this.Km);
        this.lQ && K.add(this.J(), this.lQ)
    };
    f.Km = function (b) {
        13 == b.keyCode ? this.$T() : 27 == b.keyCode && this.nz($L)
    };
    f.$T = function () {
        this.nz("ok")
    };
    f.nz = function (b) {
        if (this.Wa()) {
            var c = this.xf.get(b);
            this.dispatchEvent(new XL(b, c)) && this.Z(!1)
        }
    };
    f.tc = function (b) {
        K.add(this.J(), b)
    };
    f.jA = function (b) {
        K.remove(this.J(), b)
    };
    f.O8 = function (b) {
        a:{
            for (b = b.target; null != b && b != this.tD();) {
                if (K.contains(b, "a-Xg-vg-ah-vg")) break a;
                b = b.parentNode
            }
            b = null
        }
        if (b && !b.disabled) {
            b = b.name;
            var c = this.xf.get(b);
            if (this.dispatchEvent(new XL(b, c))) {
                var d = this.xf.F;
                d[b] && c === d[b] || this.Z(!1)
            }
        }
    };

    function mM(b) {
        KL.call(this, b)
    }

    B(mM, KL);
    mM.prototype.F = {};
    mM.prototype.set = function (b, c, d, e, h) {
        Rq.prototype.set.call(this, b, c);
        d && (this.Dy = b);
        e && (this.ZD = b);
        h && (this.F[b] = c);
        return this
    };
    mM.prototype.xa = function () {
        return "a-Xg-vg-ah"
    };
    mM.prototype.T = function () {
        var b = this.J(), c = this.M();
        b && (c.ci(b, ""), Zq(this, function (b, e) {
            var h = c.u(D, {"class": "mg-ng-og " + (this.xa() + "-vg"), name: e}, b);
            e == this.Dy && K.add(h, this.xa() + "-ch");
            this.J().appendChild(h)
        }, this))
    };

    function nM(b, c) {
        this.ia = 8;
        this.oj = c || void 0;
        AL.call(this, b)
    }

    B(nM, AL);
    nM.prototype.setPosition = function (b) {
        this.oj = b || void 0;
        this.Wa() && this.xe()
    };
    nM.prototype.JD = function () {
        return this.kj || null
    };
    nM.prototype.Rw = function (b, c, d, e) {
        null == b || b instanceof xp ? this.kj = b : this.kj = new xp(b, c, d, e);
        this.Wa() && this.xe()
    };
    nM.prototype.xe = function () {
        if (this.oj) {
            var b = !this.Wa() && "move_offscreen" != this.Kb(), c = this.J();
            b && (c.style.visibility = "hidden", O(c, !0));
            this.oj.xe(c, this.ia, this.kj);
            b && O(c, !1)
        }
    };

    function oM(b, c, d) {
        YH.call(this, b);
        b = d ? "a-dh-eh-df" : "a-dh-eh";
        this.Ue = c || new pI(this.M(), null, void 0, b);
        this.S().C(this.Ue, "action", this.dispatchEvent)
    }

    B(oM, YH);
    f = oM.prototype;
    f.nt = !1;
    f.Ue = null;
    f.td = null;
    f.Qm = null;
    f.u = function () {
        oM.P.u.call(this);
        var b = this.td = new nM(this.J());
        b.ia = 8;
        b.Wa() && b.xe();
        K.set(this.J(), "a-Kl-Ll");
        this.J().unselectable = "on"
    };
    f.Ma = function () {
        oM.P.Ma.call(this);
        this.Qm = this.Ue = null;
        this.nt = !1;
        this.td && (this.td.Ra(), this.td = null)
    };
    f.te = function () {
        return !1
    };
    f.dt = function () {
        return this.Ue
    };
    f.Hf = function (b) {
        this.S().C(b, "mousedown", this.tR)
    };
    f.detach = function (b) {
        this.S().wa(b, "mousedown", this.tR)
    };
    f.Jb = function () {
        return this.Ue.Jb()
    };
    f.Ab = function (b) {
        this.Ue.Ab(b)
    };
    f.tR = function (b) {
        b.preventDefault();
        b.stopPropagation();
        this.nt || (this.Va(this.Ue, !0), this.nt = !0);
        var c = this.td;
        (c.Gk || 150 > wa() - c.vL) && this.Qm == b.currentTarget ? this.td.Z(!1) : (this.Qm = b.currentTarget, this.td.setPosition(new cH(this.Qm, 9)), this.td.Z(!0))
    };

    function pM(b, c, d, e) {
        xL.call(this, b, d || LK.Ka(), e);
        this.Ue = c || new oM;
        this.Ue.Je(this)
    }

    B(pM, xL);
    pM.prototype.oa = function () {
        pM.P.oa.call(this);
        this.Ue.la || this.Ue.T();
        this.Ue.Hf(this.J());
        this.S().C(this.Ue, "action", uf(this.AY, this.vY));
        this.AY();
        this.vY()
    };
    pM.prototype.AY = function () {
        var b = this.M().zD(this.fc().xa() + "-lh-cm", this.J());
        ht(b, "background-color", this.Ue.Jb());
        pG(b, 0 + this.Ue.Ue.sR())
    };
    pM.prototype.vY = function () {
        this.es(this.Ue.Jb())
    };
    pM.prototype.dt = function () {
        return this.Ue
    };

    function qM(b, c) {
        YH.call(this, c);
        this.Ed = b || new OK
    }

    B(qM, YH);
    f = qM.prototype;
    f.Ed = null;
    f.td = null;
    f.Qm = null;
    f.ap = !0;
    f.u = function () {
        qM.P.u.call(this);
        this.J().className = "mg-popupdatepicker";
        this.td = new nM(this.J());
        this.td.Je(this)
    };
    f.Wa = function () {
        return this.td ? this.td.Wa() : !1
    };
    f.oa = function () {
        qM.P.oa.call(this);
        if (!this.Ed.la) {
            var b = this.J();
            b.style.visibility = "hidden";
            O(b, !1);
            this.Ed.Gc(b)
        }
        this.S().C(this.Ed, "change", this.Uz).C(this.Ed, "select", this.dM)
    };
    f.Ma = function () {
        qM.P.Ma.call(this);
        this.td && (this.td.Ra(), this.td = null);
        this.Ed.Ra();
        this.Qm = this.Ed = null
    };
    f.te = function () {
        return !1
    };
    f.getDate = function () {
        return this.Ed.getDate()
    };
    f.setDate = function (b) {
        this.Ed.setDate(b)
    };
    f.Hf = function (b) {
        this.S().C(b, "mousedown", this.fu)
    };
    f.detach = function (b) {
        this.S().wa(b, "mousedown", this.fu)
    };
    f.Rt = function (b) {
        this.ap = b
    };
    f.aB = function (b, c) {
        this.Qm = b;
        this.td.setPosition(new cH(b, 9, 197));
        this.S().wa(this.Ed, "change", this.Uz).wa(this.Ed, "select", this.dM);
        c || this.Ed.setDate(null);
        this.dispatchEvent("show");
        this.td.Z(!0);
        this.ap && this.J().focus();
        this.S().C(this.Ed, "change", this.Uz).C(this.Ed, "select", this.dM)
    };
    f.fu = function (b) {
        this.aB(b.currentTarget)
    };
    f.dM = function (b) {
        this.td.Z(!1);
        this.ap && this.Qm && this.Qm.focus();
        this.dispatchEvent(b)
    };
    f.Uz = function (b) {
        this.dispatchEvent(b)
    };

    function rM(b, c) {
        qM.call(this, b || new ZK, c)
    }

    B(rM, qM);
    rM.prototype.Hc = function () {
        return "a-rh-sh"
    };
    rM.prototype.aB = function (b) {
        this.Qm = b;
        this.td.setPosition(new cH(b, 9, 4));
        this.S().C(this.Ed, "change", this.Uz);
        this.td.Z(!0);
        this.ap && this.J().focus()
    };

    function sM(b, c, d, e) {
        oK.call(this, null, e || tM.Ka(), d);
        this.Ed = b || new rM(void 0, this.M());
        this.Ed.Je(this);
        this.m = c || new sk(3);
        this.setDate(this.Ed.getDate())
    }

    B(sM, oK);
    f = sM.prototype;
    f.oa = function () {
        sM.P.oa.call(this);
        var b = Rs(this.J());
        b ? this.Ed.T(b) : this.Ed.T();
        this.Ed.Hf(this.J());
        this.g = this.Ed.getDate();
        this.S().C(this.Ed, "change", this.n9)
    };
    f.n9 = function () {
        this.al || (!this.Ed.getDate() && this.g && this.Ed.setDate(this.g), this.setDate(this.Ed.getDate()))
    };
    f.setDate = function (b) {
        this.al = !0;
        this.a = b;
        this.Ed.setDate(this.a);
        this.g = this.Ed.getDate();
        this.Kc(this.m.format(this.getDate()));
        this.al = !1
    };
    f.getDate = function () {
        return this.a
    };
    f.G = function () {
        return new Date(this.Ed.getDate())
    };

    function tM() {
    }

    B(tM, VJ);
    ea(tM);
    tM.prototype.xa = function () {
        return "a-N-rh-mh"
    };
    tM.prototype.u = function (b) {
        var c = this.xa(), d = b.M();
        return d.u(D, this.fg(b).join(" "), d.u(D, c + "-vg mg-ng-og", d.u(ne, "mg-ng-og a-ib a-ib-Ck")), d.u(Le, c + "-pj mg-ng-og", b.Ob()))
    };
    tM.prototype.Aa = function (b) {
        if (b) return b.lastChild
    };
    tM.prototype.tD = function (b) {
        if (b) return b.firstChild
    };

    function uM() {
        Q.call(this)
    }

    B(uM, Q);
    f = uM.prototype;
    f.rc = 0;
    f.Wd = 0;
    f.Gl = 100;
    f.xk = 0;
    f.Oc = 1;
    f.Sj = !1;
    f.Jm = !1;
    f.V = function (b) {
        b = vM(this, b);
        this.rc != b && (this.rc = b + this.xk > this.Gl ? this.Gl - this.xk : b < this.Wd ? this.Wd : b, this.Sj || this.Jm || this.dispatchEvent("change"))
    };
    f.G = function () {
        return vM(this, this.rc)
    };

    function wM(b, c) {
        c = vM(b, c);
        b.xk != c && (b.xk = 0 > c ? 0 : b.rc + c > b.Gl ? b.Gl - b.rc : c, b.Sj || b.Jm || b.dispatchEvent("change"))
    }

    function xM(b) {
        var c = b.xk;
        return null == b.Oc ? c : Math.round(c / b.Oc) * b.Oc
    }

    f.Fi = function (b) {
        if (this.Wd != b) {
            var c = this.Sj;
            this.Sj = !0;
            this.Wd = b;
            b + this.xk > this.Gl && (this.xk = this.Gl - this.Wd);
            b > this.rc && this.V(b);
            b > this.Gl && (this.xk = 0, this.Hg(b), this.V(b));
            (this.Sj = c) || this.Jm || this.dispatchEvent("change")
        }
    };
    f.Od = function () {
        return vM(this, this.Wd)
    };
    f.Hg = function (b) {
        b = vM(this, b);
        if (this.Gl != b) {
            var c = this.Sj;
            this.Sj = !0;
            this.Gl = b;
            b < this.rc + this.xk && this.V(b - this.xk);
            b < this.Wd && (this.xk = 0, this.Fi(b), this.V(this.Gl));
            b < this.Wd + this.xk && (this.xk = this.Gl - this.Wd);
            (this.Sj = c) || this.Jm || this.dispatchEvent("change")
        }
    };
    f.Gd = function () {
        return vM(this, this.Gl)
    };
    f.pe = function () {
        return this.Oc
    };
    f.qg = function (b) {
        this.Oc != b && (this.Oc = b, b = this.Sj, this.Sj = !0, this.Hg(this.Gd()), wM(this, xM(this)), this.V(this.G()), (this.Sj = b) || this.Jm || this.dispatchEvent("change"))
    };

    function vM(b, c) {
        return null == b.Oc ? c : b.Wd + Math.round((c - b.Wd) / b.Oc) * b.Oc
    };

    function yM(b, c, d) {
        YH.call(this, d);
        this.o = b;
        this.w = b.fa();
        this.g = b.getContext();
        this.K = 100;
        this.m = (this.ob = this.o.j.tx) ? 16 : 0;
        this.a = new uM;
        Id(this, this.a);
        this.ka = new Ip;
        this.U = new Ip;
        this.S().C(this.a, "change", this.H$).C(this.o, [nx, mx], this.T8);
        this.Ba(!0);
        this.Yd = v(this.QU, this, this.jV, !0);
        this.jd = v(this.QU, this, this.iV, !0);
        this.dd = this.hV;
        this.Mm = v(this.GK, this, this.jV);
        this.jg = v(this.GK, this, this.iV);
        this.Il = v(this.GK, this, this.hV);
        this.Za = !0;
        zM(this)
    }

    B(yM, YH);
    f = yM.prototype;
    f.Ta = null;
    f.fl = 15;

    function AM(b, c, d) {
        b.fl = c ? b.fl | d : b.fl & ~d
    }

    f.J3 = function (b) {
        AM(this, b, 8)
    };
    f.Ju = function (b) {
        AM(this, b, 1)
    };
    f.Mq = function (b) {
        AM(this, b, 4);
        AM(this, b, 2)
    };
    f.sb = function () {
        return this.o.sb()
    };
    f.W = function () {
        return this.o.W()
    };
    f.od = function () {
        return this.o.eb().od()
    };
    f.Ba = function (b) {
        (this.Za = b) ? this.S().C(this.o.we, ["panmove", "panmomentum", "zoomstart", "zoomchange", "zoomend"], this.gh).C(this.o, [BM, ox, FJ, LJ], this.S8) : this.S().wa(this.o.we, ["panmove", "panmomentum", "zoomstart", "zoomchange", "zoomend"]).wa(this.o, [BM, ox, FJ, LJ])
    };
    f.on = function (b) {
        var c = b.height;
        this.Ha = b;
        this.Ha.left = this.m;
        this.Ha.width -= 2 * this.m;
        this.ob && (this.Ha.height -= 16);
        mG(this.J(), b.width);
        this.J().style.height = su(c, !0);
        tu(this.J(), b.left, b.top);
        0 != b.width && 0 != b.height && (this.Qq.width = b.width, this.Qq.height = b.height);
        this.$ = !1
    };

    function CM(b) {
        var c = 110 * b.sb().Ca();
        b.F = b.Ha.width + 200;
        b.a.V(c);
        wM(b.a, c);
        delete b.za;
        delete b.Yb
    }

    f.ue = function () {
        return this.od() instanceof qc ? this.od().a.length : this.od().Al()
    };
    f.getData = function () {
        return this.od() instanceof qc ? this.od().a : this.od().getData()
    };

    function DM(b, c, d) {
        return c + d >= Math.floor(b.Rh - b.K * b.sb().Ca())
    }

    f.gh = function (b, c) {
        this.Rh = this.sb().Ca() * this.F;
        var d = this.ue();
        this.va = this.Ya = !1;
        this.ia = this.ia || 0;
        void 0 === this.F && CM(this);
        if (void 0 === this.Yb) {
            this.Ea || (this.Ea = 0);
            this.za = this.Yb = 0 === this.ia || this.ia === this.o.Jd && this.o.At || this.ia > this.o.Jd ? d - this.F + this.o.j.Yg : Math.round((this.ia - this.Ea) / this.sb().Ca());
            0 > this.Yb && (this.za = 0, this.Yb = 20);
            this.Yb >= d && (this.za = d - 1, this.Yb = d - 1);
            var e = 100 + (xM(this.a) / this.sb().Ca() | 0) - this.o.j.Yg;
            d < e && (this.Yb = d + this.o.j.Yg - 100 - this.o.Af());
            this.Ub = d;
            this.Ea ==
            100 * this.sb().Ca() ? this.a.V(this.Ea + 1) : this.a.V(this.Ea)
        }
        this.gc = this.Ub != d;
        var e = this.ue() ? this.getData()[this.ue() - 1].getTime() : 0,
            h = this.ue() ? this.getData()[0].getTime() : 0, k = 0, l = 0;
        this.De && (k = Math.round((h - this.De) / this.o.W().Y()));
        this.Sd && (l = Math.round((e - this.Sd) / this.o.W().Y()));
        this.gc = 0 != k || 0 != l;
        this.o.Ec() ? k > l && (this.Yb += d - this.Ub) : this.Yb += d - this.Ub - k - l;
        this.Ub = d;
        this.za = this.Yb;
        0 > this.Yb && (this.za = 0);
        this.Yb >= d && (this.za = d - 1);
        this.Sd = e;
        this.De = h;
        var p = this.o.pa - this.Yb * this.sb().Ca(), q =
                xb(p, 0), d = this.Ha.width, e = this.ue(), l = c === nx && this.ia < this.o.pa,
            h = c === nx && this.ia > this.o.pa, k = c === mx;
        this.o.pa > this.ia + this.Ha.width && 0 > this.ia + this.Ha.width && 0 < this.o.pa && (this.Yb = Math.floor((this.o.pa - this.a.G()) / this.sb().Ca()), p = this.o.pa - this.Yb * this.sb().Ca(), q = xb(p, 0));
        this.o.pa < this.ia + this.Ha.width && this.gc && this.ia + this.Ha.width < this.o.Jd && (this.Yb = Math.floor((this.o.pa - this.a.G()) / this.sb().Ca()), p = this.o.pa - this.Yb * this.sb().Ca(), q = xb(p, 0));
        this.o.At && (this.K = this.Yb + this.F >= this.ue() ?
            0 : 100);
        p = 0 == this.a.G() ? q : this.a.G();
        p <= Math.ceil(100 * this.sb().Ca()) && !l && !k && (l = Math.floor(100 - q / this.sb().Ca()), this.Ya = !0, this.$ = !1, 0 < l && (this.Yb -= l), q = 100 * this.sb().Ca());
        DM(this, p, d) && !h && !k && DM(this, q, d) && (this.va = !0, this.$ = !1, this.Yb += Math.floor(this.K - (this.Rh - q - d) / this.sb().Ca()), q = this.Rh - this.K * this.sb().Ca() - d);
        this.Ea = this.a.G();
        q < 100 * this.sb().Ca() && (q = 100 * this.sb().Ca());
        this.o.At && this.Yb > e - this.F + this.o.j.Yg + 3 && (this.Yb = e - this.F + this.o.j.Yg + 3);
        this.Bi = this.Ha.width / this.Rh;
        this.Gq =
            this.Ha.width / this.F;
        this.a.Jm = !0;
        this.a.Fi(0);
        this.a.Hg(this.Rh);
        wM(this.a, 0);
        b && !this.gc || this.a.V(q);
        wM(this.a, d);
        this.a.Jm = !1;
        EM(this);
        this.reset();
        this.ia = this.o.pa
    };
    f.nc = Number.NEGATIVE_INFINITY;
    f.oc = Number.POSITIVE_INFINITY;
    f.reset = function () {
        this.nc = Number.NEGATIVE_INFINITY;
        this.oc = Number.POSITIVE_INFINITY;
        zM(this)
    };

    function zM(b) {
        var c = b.od().mT(b.za, b.F), d, e;
        b.nc /= 1.001;
        b.oc /= .999;
        for (var h = 0, k = c.length; h < k; h++) d = b.od().pd(c[h]), e = b.od().ld(c[h]), b.nc = d > b.nc ? d : b.nc, b.oc = e < b.oc ? e : b.oc;
        b.nc *= 1.001;
        b.oc *= .999;
        b.Jo = b.nc - b.oc
    }

    function EM(b) {
        var c = b.ka.width, d = b.U.left, e = 100 < c && 0 !== b.K && d <= b.Ha.width - b.K && c < d;
        1 !== b.Hb && 2 !== b.Hb && 4 !== b.Hb || null !== b.Ta || !e || (b.Hb = b.Ta, b.a.V(c / b.Bi), wM(b.a, (d - b.ka.left) / b.Bi - b.a.G()));
        b.ka.left = 0;
        b.ka.width = G(b.a.G() * b.Bi);
        b.U.left = G(b.ka.left + (b.a.G() + xM(b.a)) * b.Bi);
        b.U.width = G(b.a.Gd() * b.Bi - b.U.left);
        0 == b.ka.width && (b.ka.width = 1);
        1 >= b.Ha.width - b.U.left && (b.U.left -= 1 == b.Ha.width - b.U.left ? 1 : 2);
        c = b.ka.width;
        d = b.U.left;
        b.R && tu(b.R, c + b.m, 0);
        b.R && mG(b.R, d - c + 2);
        b.reset();
        FM(b);
        b.Hb = b.Ta
    }

    f.H$ = function (b) {
        EM(this);
        if (!(this.Ya && 0 > this.Ve - b.target.G() || this.va && 0 > b.target.G() - this.Ve)) switch (this.Ta) {
            case 1:
                this.dispatchEvent("pan")
        }
        this.Ve = b.target.G()
    };
    f.T8 = function (b) {
        null === this.Ta && this.gh(!1, b.type)
    };

    function GM(b) {
        b.Yb = b.ue() - b.F + b.o.j.Yg + 3;
        0 > b.Yb && (b.Yb = 20);
        b.$ = !1;
        b.a.V(b.o.pa);
        b.gh()
    }

    f.S8 = function (b) {
        switch (b.type) {
            case BM:
                this.w = b.target.fa();
                break;
            case FJ:
                this.$ = !1;
                break;
            case ox:
                this.$ = !1;
                break;
            case LJ:
                this.F = this.Ha.width + 200, this.on(b.target.su), this.gh()
        }
    };
    f.G = function () {
        return this.a.G()
    };
    f.u = function () {
        this.ua(this.M().u(D, "z"));
        this.Qq = this.M().createElement(ae);
        this.gC = this.Qq.getContext("2d")
    };
    f.ua = function (b) {
        this.Da = b
    };
    f.oa = function () {
        yM.P.oa.call(this);
        this.ob && HM(this);
        this.S().C(this.Aa(), "mousedown", this.Mm).C(this.Aa(), "mousemove", this.jg).C(this.Aa(), ["mouseup", "mouseout"], this.Il).C(this.Aa(), "touchstart", this.Yd).C(this.Aa(), "touchmove", this.jd).C(this.Aa(), ["touchend", "touchcancel"], this.dd)
    };
    f.Ra = function () {
        yM.P.Ra.call(this);
        this.sc && Ls(this.sc)
    };

    function HM(b) {
        var c = b.M();
        c.Daa(b.sc = c.u(D, "z-cb-Y", b.Ge = c.u(D, "z-cb-db"), b.R = c.u(D, "z-fb-cb"), b.lf = c.u(D, "z-cb-eb")), b.Aa());
        b.S().C(b.Ge, "mousedown", b.RK).C(b.lf, "mousedown", b.UK).C(b.Ge, ["mouseup", "mouseleave"], b.oz).C(b.lf, ["mouseup", "mouseleave"], b.oz)
    }

    f.RK = function () {
        var b = this;
        this.o.Di(!1);
        this.o.Dd(this.o.pa - this.o.Ca());
        this.Zx = setInterval(function () {
            b.o.Dd(b.o.pa - b.o.Ca())
        }, 10)
    };
    f.UK = function () {
        var b = this;
        this.o.Di(!1);
        this.o.Dd(this.o.pa + this.o.Ca());
        this.Zx = setInterval(function () {
            b.o.Dd(b.o.pa + b.o.Ca())
        }, 10)
    };
    f.oz = function () {
        clearInterval(this.Zx)
    };
    f.QU = function (b, c, d) {
        c && d.preventDefault();
        c = d.Pe().touches;
        ja(c) && 1 == c.length && b.call(this, c[0].offsetX, c[0].offsetY)
    };
    f.GK = function (b, c) {
        c.preventDefault();
        b.call(this, c.offsetX, c.offsetY)
    };
    f.jV = function (b, c) {
        var d = G(b / this.Bi);
        switch (!0) {
            case this.fl & 4 && $m(this.U.left - 2, b, 2) && c < this.Ha.height:
                this.Ta = 4;
                break;
            case this.fl & 2 && $m(this.ka.width + 2, b, 2) && c < this.Ha.height:
                this.Ta = 2;
                break;
            case this.fl & 1 && this.a.G() < d && d < this.a.G() + xM(this.a):
                this.R && K.enable(this.R, "hb", !0);
                this.Ta = 1;
                this.Ee = d;
                this.Gh = 0;
                IM(this);
                break;
            case !!(this.fl & 8):
                this.Ta = 8
        }
    };
    f.iV = function (b, c) {
        var d = G(b / this.Bi);
        this.R && K.enable(this.R, "gb", this.a.G() < d && d < this.a.G() + xM(this.a));
        this.R && K.enable(this.R, "hb", 1 === this.Ta);
        d = "auto";
        ($m(this.U.left - 2, b, 2) || $m(this.ka.width + 2, b, 2) || 4 === this.Ta || 2 === this.Ta) && c < this.Ha.height && (d = "col-resize");
        ht(this.o.Fb, "cursor", d);
        switch (!0) {
            case 1 === this.Ta:
                IM(this);
                d = G(b / this.Bi);
                this.Gh = d - this.Ee;
                this.Ee = d;
                this.Gh < -this.ue() * this.sb().Ca() && (this.Gh = -this.ue() * this.sb().Ca());
                this.Ya ? (d = Math.abs(this.a.G() + this.Gh - 100 * this.sb().Ca()),
                    d = G(this.o.pa) - this.Yb * this.sb().Ca() - d, 0 >= this.Rb - b && 0 < d - this.a.G() || 0 <= this.Rb - b && 0 > d - this.a.G() ? this.a.V(d) : this.a.V(102 * this.sb().Ca())) : this.va && 0 !== this.K ? (d = Math.abs(this.a.G() + xM(this.a) - Math.floor(this.Rh - this.K * this.sb().Ca()) + this.Gh), d = Math.floor(this.Rh - this.K * this.sb().Ca()) - xM(this.a) + d, 0 >= this.Rb - b && 0 < d - this.a.G() || 0 <= this.Rb - b && 0 > d - this.a.G() ? this.a.V(d) : this.a.V((this.o.pa | 0) - (this.Yb + 2) * this.sb().Ca())) : this.yi ? this.a.V(this.a.G() + this.Gh - 2 * this.sb().Ca()) : this.zi ? this.a.V(this.a.G() +
                    this.Gh + 2 * this.sb().Ca()) : this.a.V(this.a.G() + this.Gh);
                this.Rb = b;
                this.yi = this.Ya;
                this.zi = this.va;
                this.gh(!0);
                break;
            case this.fl & 4 && 4 === this.Ta:
            case this.fl & 2 && 2 === this.Ta:
                this.a.Jm = !0;
                if (4 == this.Ta) wM(this.a, G(b / this.Bi) - this.a.G()), 1 >= xM(this.a) && wM(this.a, 1); else {
                    var d = b / this.Bi, e = d - this.a.G();
                    1 >= xM(this.a) - e && (e = xM(this.a) - 1);
                    0 <= e ? (wM(this.a, xM(this.a) - e), this.a.V(d)) : (this.a.V(d), wM(this.a, xM(this.a) - e))
                }
                this.a.Jm = !1;
                EM(this)
        }
    };
    f.hV = function (b) {
        this.R && K.enable(this.R, "gb", !1);
        this.R && K.enable(this.R, "hb", !1);
        if (4 !== this.Ta && 2 !== this.Ta) {
            var c = this.a.G(), d = this.Ha.width + yb(c, 0);
            clearInterval(this.La);
            delete this.La;
            DM(this, c, d) && 0 == this.K ? this.o.Dd(this.o.Jd) : this.o.Dd(this.o.pa | 0);
            c <= Math.ceil(100 * this.sb().Ca()) && (this.a.V(100 * this.sb().Ca() + 1), this.$ = this.Ya = !1, this.gh());
            DM(this, c, d) && (this.$ = this.va = !1, this.gh())
        }
        switch (!0) {
            case this.fl & 4 && 4 === this.Ta:
            case this.fl & 2 && 2 === this.Ta:
                this.Ta = null;
                this.dispatchEvent("zoom");
                break;
            case this.fl & 8 && 8 === this.Ta:
                this.Gh = G(b / this.Bi - this.a.G() - xM(this.a) / 2), 100 >= b - xM(this.a) / 2 * this.Bi && (this.Gh = -G(this.a.G())), b + xM(this.a) / 2 * this.Bi >= this.Ha.width - this.K && (this.Gh = G(this.Ha.width / this.Bi - this.a.G() - xM(this.a))), this.a.V(this.a.G() + this.Gh), this.dispatchEvent("pan"), this.Ta = null, this.gh()
        }
        this.Ta = null
    };

    function IM(b) {
        !b.Ya && !b.va || b.va && 0 == b.K ? (clearInterval(b.La), delete b.La, b.va && 0 == b.K ? b.o.Dd(b.o.Jd) : b.o.Dd(b.o.pa | 0)) : b.La || (b.La = setInterval(function () {
            var c = b.a.G(), d = b.Ha.width + yb(c, 0), e;
            c <= Math.ceil(100 * b.sb().Ca()) && (c = Math.round((200 * b.sb().Ca() + c) / 3), e = Math.floor(b.Yb * b.sb().Ca() + c), b.o.Dd(e));
            DM(b, c, d) && (c = Math.round((2 * (b.F - b.K) * b.sb().Ca() + c + d) / 3) - d, e = Math.floor(b.Yb * b.sb().Ca() + c), b.o.Dd(e));
            b.va && 0 == b.K && (clearInterval(b.La), delete b.La, b.o.Dd(b.o.Jd));
            b.$ = !1;
            b.gh(!0);
            FM(b)
        }, 10))
    }

    function JM(b, c) {
        return c ? b.Ha.height * ((b.nc - b.od().pd(c)) / b.Jo) : b.Ha.height
    }

    function FM(b) {
        if (b.Za) {
            var c = b.g;
            c.save();
            c.translate(b.Ha.left, b.Ha.top);
            c.clearRect(0, 0, b.Ha.width, b.Ha.height);
            c.beginPath();
            c.moveTo(0, 0);
            c.lineTo(b.Ha.width, 0);
            c.lineTo(b.Ha.width, b.Ha.height);
            c.lineTo(0, b.Ha.height);
            c.closePath();
            c.clip();
            b.dispatchEvent("renderbackground");
            b.WR();
            c.restore();
            c.save();
            c.translate(b.Ha.left, b.Ha.top);
            c.beginPath();
            c.moveTo(-b.m, 0);
            c.lineTo(b.Ha.width + b.m, 0);
            c.lineTo(b.Ha.width + b.m, b.Ha.height);
            c.lineTo(-b.m, b.Ha.height);
            c.closePath();
            c.clip();
            b.dispatchEvent("renderforeground");
            var d = b.g, e = b.Ha.height, h = b.ka.width, k = b.U.left, l = b.U.width;
            d.save();
            d.fillStyle = b.w.j.ln;
            d.globalAlpha = b.w.j.mn;
            d.fillRect(0, 0, h, e);
            d.fillRect(k, 0, l, e);
            d.globalAlpha = 1;
            d.fillStyle = b.w.j.Mo;
            d.fillRect(0 - b.m, 0, h + b.m, 1);
            d.fillRect(k, 0, l + b.m, 1);
            d.fillStyle = b.w.j.tq;
            d.fillRect(h, 0, 3, e);
            d.fillRect(k - 2, 0, 3, e);
            d.fillStyle = b.w.j.uq;
            d.fillRect(h + 2, 1, 1, e - 1);
            d.fillRect(k, 1, 1, e - 1);
            d.fillStyle = b.w.j.sq;
            d.fillRect(h + 1, 1, 1, e - 1);
            d.fillRect(k - 1, 1, 1, e - 1);
            d.restore();
            c.restore();
            var c = b.g, d = b.getData(), p;
            c.save();
            c.translate(b.Ha.left -
                b.m, b.Ha.top + 1);
            c.clearRect(0, 0, b.m + 1, b.Ha.height);
            c.beginPath();
            c.rect(0, 0, b.m + 1, b.Ha.height);
            c.closePath();
            c.clip();
            if (0 != b.m && 0 <= b.Yb) {
                c.beginPath();
                c.moveTo(b.m + 2, b.Ha.height + 1);
                c.lineTo(b.m + 2, b.uh);
                e = 0;
                for (h = Math.round(b.m / b.Gq) + 5; e <= h; e++) {
                    k = b.Yb - e;
                    if (0 > k) break;
                    k = d[k] ? JM(b, d[k]) : b.Ha.height + 1;
                    p = b.m - e * b.Gq;
                    c.lineTo(p, k)
                }
                c.lineTo(p, b.Ha.height + 1);
                c.closePath();
                c.strokeStyle = b.w.j.rq;
                c.fillStyle = b.w.j.qq;
                c.fill();
                c.stroke()
            }
            c.restore();
            c.save();
            c.translate(b.Ha.left - b.m, b.Ha.top + 1);
            c.beginPath();
            c.fillStyle = b.w.j.ln;
            c.globalAlpha = b.w.j.mn;
            c.fillRect(0, 0, b.m + 1, b.Ha.height);
            c.closePath();
            c.restore();
            p = b.g;
            var c = b.getData(), d = b.ue(), q;
            p.save();
            p.translate(b.Ha.width + b.m - 1, b.Ha.top + 1);
            p.clearRect(0, 0, b.m + 2, b.Ha.height);
            p.beginPath();
            p.rect(0, 0, b.m + 2, b.Ha.height);
            p.closePath();
            p.clip();
            if (0 != b.m && b.Yb + b.F <= d - 1) {
                p.beginPath();
                p.moveTo(-10, b.Ha.height + 1);
                p.lineTo(-10, b.Sl);
                e = 0;
                for (h = Math.round(b.m / b.Gq) + 5; e <= h; e++) {
                    k = b.Yb + b.F + e;
                    if (k > d - 1) break;
                    k = c[k] ? JM(b, c[k]) : b.Ha.height + 1;
                    q = e * b.Gq;
                    p.lineTo(q,
                        k)
                }
                p.lineTo(q, b.Ha.height + 1);
                p.closePath();
                p.strokeStyle = b.w.j.rq;
                p.fillStyle = b.w.j.qq;
                p.fill();
                p.stroke()
            }
            p.restore();
            p.save();
            p.translate(b.Ha.width + b.m - 1, b.Ha.top + 1);
            p.beginPath();
            p.fillStyle = b.w.j.ln;
            p.globalAlpha = b.w.j.mn;
            p.fillRect(0, 0, b.m + 1, b.Ha.height);
            p.closePath();
            p.restore()
        }
    }

    f.WR = function () {
        this.$ || (this.gC.clearRect(0, 0, this.Ha.width, this.Ha.height), KM(this, this.gC), LM(this, this.gC), this.$ = !0);
        0 != this.Qq.width && 0 != this.Qq.height && this.g.drawImage(this.Qq, 0, 0)
    };

    function KM(b, c) {
        var d = c || b.g, e = b.getData(), h = b.ue();
        d.beginPath();
        d.moveTo(-10, b.Ha.height + 10);
        var k = JM(b, e[0]), l = 0;
        d.lineTo(-10, k);
        d.lineTo(l, k);
        for (var p = b.Yb, q = b.F + b.Yb; p < q; p++) k = e[p] ? JM(b, e[p]) : b.Ha.height + 1, l = (p - b.Yb + (p == h ? -1 : -1 == p ? 1 : 0)) * b.Gq, d.lineTo(l, k), p == b.Yb && (b.uh = k), p == b.F + b.Yb - 1 && (b.Sl = k);
        d.lineTo(l + 10, k);
        d.lineTo(l + 10, b.Ha.height + 10);
        d.closePath();
        d.strokeStyle = b.w.j.rq;
        d.fillStyle = b.w.j.qq;
        d.fill();
        d.stroke()
    }

    function LM(b, c) {
        var d = c || b.g, e = b.od().dY(b.za, b.F);
        if ((2 === b.o.Fa() || 1 === b.o.Fa()) && e) {
            var h, e = e.getTime();
            switch (!0) {
                case b.W().Vd(jl):
                    h = ml.Y();
                    break;
                case b.W().Vd(ol):
                    h = rl.Y();
                    break;
                case b.W().Vd(rl):
                    h = ul.Y();
                    break;
                case b.W().Vd(ul):
                    h = wl.Y()
            }
            var k = e - e % h, e = b.o.Qa();
            e.Jf = b.Gq;
            d.save();
            d.fillStyle = b.w.j.vx;
            var l = h, p = b.Ha.height;
            h = p * b.w.j.oB;
            var q = p - h, r = p * b.w.j.pB, p = p - r, k = e.x(k), l = l / b.W().Y() * b.Gq;
            if (!(0 >= l)) {
                for (; 80 > l;) l *= 2;
                for (var k = 1, t = l / 5, u = -Infinity; k <= b.Ha.width; k += l) if (u < k) {
                    d.fillRect(k, q, 1,
                        h);
                    for (u = 4; 0 < u--;) d.fillRect(k + (u + 1) * t, p, 1, r);
                    u = k
                }
            }
            d.fillStyle = b.w.j.nB;
            d.restore();
            e.Jf = b.o.Ca()
        }
    }

    f.DG = function (b) {
        this.m = (this.ob = b) ? 16 : 0;
        !this.R && this.ob && HM(this)
    };

    function MM(b) {
        YH.call(this, b);
        this.a = new uM;
        Qt(this.a, "change", this.C8, !1, this)
    }

    B(MM, YH);
    var NM = {vertical: "progress-Kh-gi", horizontal: "progress-Kh-si"};
    f = MM.prototype;
    f.u = function () {
        this.g = this.M().u(D, "progress-Kh-rl");
        var b = NM.horizontal;
        this.Da = this.M().u(D, b, this.g);
        OM(this);
        PM(this);
        QM(this)
    };
    f.oa = function () {
        MM.P.oa.call(this);
        Jr && 7 > Sr && Qt(this.J(), "resize", this.aE, !1, this);
        this.aE();
        var b = this.J();
        kt(b, "progressbar");
        lt(b, "live", "polite")
    };
    f.Oe = function () {
        MM.P.Oe.call(this);
        RM(this)
    };

    function RM(b) {
        Jr && 7 > Sr && Yt(b.J(), "resize", b.aE, !1, b)
    }

    f.ua = function (b) {
        MM.P.ua.call(this, b);
        K.add(this.J(), NM.horizontal);
        b = qs(null, "progress-Kh-rl", this.J())[0];
        b || (b = this.M().u(D, "progress-Kh-rl"), this.J().appendChild(b));
        this.g = b
    };
    f.G = function () {
        return this.a.G()
    };
    f.V = function (b) {
        this.a.V(b);
        this.J() && OM(this)
    };

    function OM(b) {
        lt(b.J(), "valuenow", b.G())
    }

    f.Od = function () {
        return this.a.Od()
    };
    f.Fi = function (b) {
        this.a.Fi(b);
        this.J() && PM(this)
    };

    function PM(b) {
        lt(b.J(), "valuemin", b.Od())
    }

    f.Gd = function () {
        return this.a.Gd()
    };
    f.Hg = function (b) {
        this.a.Hg(b);
        this.J() && QM(this)
    };

    function QM(b) {
        lt(b.J(), "valuemax", b.Gd())
    }

    f.C8 = function () {
        this.aE();
        this.dispatchEvent("change")
    };
    f.aE = function () {
        if (this.g) {
            var b = this.Od(), c = this.Gd(), b = (this.G() - b) / (c - b), b = Math.round(100 * b);
            this.g.style.width = b + "%"
        }
    };
    f.Ma = function () {
        RM(this);
        MM.P.Ma.call(this);
        this.g = null;
        this.a.Ra()
    };
    f.pe = function () {
        return this.a.pe()
    };
    f.qg = function (b) {
        this.a.qg(b)
    };

    function SM(b) {
        Q.call(this);
        this.gj = [];
        this.kQ(b)
    }

    B(SM, Q);
    f = SM.prototype;
    f.iq = null;
    f.pX = null;
    f.ez = function () {
        return this.gj.length
    };
    f.aT = function () {
        return this.gj[this.gj.length - 1]
    };
    f.mr = function (b) {
        return this.gj[b] || null
    };
    f.kQ = function (b) {
        b && (E(b, function (b) {
            TM(this, b, !1)
        }, this), qi(this.gj, b))
    };
    f.bc = function (b) {
        this.$o(b, this.ez())
    };
    f.$o = function (b, c) {
        b && (TM(this, b, !1), ri(this.gj, c, 0, b))
    };
    f.removeItem = function (b) {
        b && mi(this.gj, b) && b == this.iq && (this.iq = null, this.dispatchEvent("select"))
    };
    f.hc = function () {
        return this.iq
    };
    f.Em = function () {
        return pi(this.gj)
    };
    f.og = function (b) {
        b != this.iq && (TM(this, this.iq, !1), this.iq = b, TM(this, b, !0));
        this.dispatchEvent("select")
    };
    f.Mh = function () {
        var b = this.iq;
        return b ? ai(this.gj, b) : -1
    };
    f.Xw = function (b) {
        this.og(this.mr(b))
    };
    f.clear = function () {
        var b = this.gj;
        if (!ia(b)) for (var c = b.length - 1; 0 <= c; c--) delete b[c];
        b.length = 0;
        this.iq = null
    };
    f.Ma = function () {
        SM.P.Ma.call(this);
        delete this.gj;
        this.iq = null
    };

    function TM(b, c, d) {
        c && ("function" == typeof b.pX ? b.pX(c, d) : "function" == typeof c.Hi && c.Hi(d))
    };

    function UM(b) {
        YH.call(this, b);
        this.Na = new SM
    }

    B(UM, YH);
    f = UM.prototype;
    f.N = function () {
        this.j || (this.j = {visible: !1, mi: [], gD: null});
        return this.j
    };
    f.Z = function (b) {
        this.N().visible = b;
        O(this.J(), this.N().visible)
    };
    f.Wa = function () {
        return this.N().visible
    };
    f.tA = function (b) {
        this.N().mi = b;
        this.la && (VM(this), this.Oq())
    };
    f.PJ = function () {
        return this.N().mi
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        var c = this.M(), d = y("MSG_NO_ITEMS_FOR_CURRENT_FILTER", {}, "No items for current filter");
        UM.P.ua.call(this, b);
        K.add(b, "a-N-O-Bg");
        O(this.J(), this.N().visible);
        c.append(b, this.m = c.u(D, "a-N-O-Bg-re-Lh-X", d));
        this.a = new zK(UJ, PJ(OJ, "a-N-O-Bg-Jh"), c);
        this.a.Ei(!1);
        this.a.Je(this)
    };
    f.oa = function () {
        UM.P.oa.call(this);
        this.a.T(this.Aa());
        VM(this);
        this.Oq();
        this.S().C(this.Na, "select", function (b) {
            b.type = "select";
            this.dispatchEvent(b)
        }).C(this.a, "action", function (b) {
            this.Na.og(b.target)
        })
    };
    f.Rg = function (b) {
        13 !== b.keyCode || ~this.a.Mf || this.a.Tj();
        return this.a.Rg(b)
    };
    f.Tj = function () {
        this.a.Tj()
    };
    f.Sn = function () {
        return this.Na
    };
    f.Zh = function (b) {
        this.N().gD = b;
        this.la && this.Oq()
    };

    function VM(b) {
        b.a.me(!0);
        b.Na.clear();
        La(b.N().mi, function (b, d) {
            var e = new WM(new XM(b, d), this.M());
            this.a.Va(e, !0);
            e.J().onmousedown = v(this.dispatchEvent, this, "mousedown");
            this.Na.bc(e)
        }, b)
    }

    f.Oq = function () {
        if (this.la) {
            var b = 0;
            this.N().gD || (this.N().gD = "");
            cI(this.a, function (c) {
                var d = !!~c.qa().$s().toUpperCase().indexOf(this.N().gD.toUpperCase());
                c.Z(d);
                d && b++
            }, this);
            O(this.m, !b)
        }
    };
    f.ie = function () {
        if (!this.a) return new Qg(0, 0);
        var b = vG(this.a.J());
        return new Qg(b.width + 2, b.height + vG(this.m).height + 2)
    };

    function XM(b, c) {
        this.g = b;
        this.a = c
    }

    XM.prototype.$s = function () {
        return this.g
    };
    XM.prototype.vv = function () {
        return this.a
    };

    function WM(b, c) {
        oK.call(this, null, YM.Ka(), c);
        this.fe(b);
        this.vd(8, !0)
    }

    B(WM, oK);
    WM.prototype.Ob = function () {
        var b = this.M(), c = this.fc().xa();
        return [b.u(D, c + "-pg"), b.u(Le, [c + "-M", Pa[this.qa().vv().toUpperCase()]]), b.u(Le, c + "-O", this.qa().$s())]
    };

    function YM() {
    }

    B(YM, VJ);
    ea(YM);
    YM.prototype.xa = function () {
        return "a-N-O-Bg-Jh-Mh"
    };

    function ZM(b, c) {
        oK.call(this, null, b || nL.Ka(), c);
        this.vd(1, !1);
        this.vd(2, !1);
        this.vd(4, !1);
        this.vd(32, !1);
        this.Ta = 1
    }

    B(ZM, oK);
    ZM.prototype.oa = function () {
        ZM.P.oa.call(this);
        kt(this.J(), "separator")
    };
    gr("mg-Og", function () {
        return new ZM
    });

    function $M(b) {
        this.a = b || "menu"
    }

    B($M, OJ);
    ea($M);
    f = $M.prototype;
    f.te = function (b) {
        return b.tagName == af || $M.P.te.call(this, b)
    };
    f.Zy = function (b) {
        return b.tagName == le ? new ZM : $M.P.Zy.call(this, b)
    };
    f.zn = function (b, c) {
        return Ss(b.J(), c)
    };
    f.xa = function () {
        return "mg-zg"
    };
    f.Cr = function (b) {
        $M.P.Cr.call(this, b);
        lt(b.J(), "haspopup", "true")
    };

    function aN(b) {
        $M.call(this, b || "menu")
    }

    B(aN, $M);
    ea(aN);
    aN.prototype.xa = function () {
        return "a-zg"
    };

    function bN(b) {
        ZM.call(this, nL.Ka(), b)
    }

    B(bN, ZM);
    gr("mg-Og", function () {
        return new ZM
    });

    function cN(b, c) {
        bN.call(this, c);
        this.Kg = b
    }

    B(cN, bN);
    cN.prototype.oa = function () {
        bN.P.oa.call(this);
        var b = this.M();
        b.append(this.J(), b.u(Le, null, this.Ob()))
    };

    function dN(b, c) {
        zK.call(this, UJ, c || $M.Ka(), b);
        this.Ei(!1)
    }

    B(dN, zK);
    f = dN.prototype;
    f.ap = !0;
    f.I3 = !1;
    f.xa = function () {
        return this.fc().xa()
    };
    f.zn = function (b) {
        if (this.fc().zn(this, b)) return !0;
        for (var c = 0, d = this.eg(); c < d; c++) {
            var e = this.nd(c);
            if ("function" == typeof e.zn && e.zn(b)) return !0
        }
        return !1
    };
    f.bc = function (b) {
        this.Va(b, !0)
    };
    f.$o = function (b, c) {
        this.el(b, c, !0)
    };
    f.removeItem = function (b) {
        (b = this.removeChild(b, !0)) && b.Ra()
    };
    f.mr = function (b) {
        return this.nd(b)
    };
    f.ez = function () {
        return this.eg()
    };
    f.Em = function () {
        var b = [];
        cI(this, function (c) {
            b.push(c)
        });
        return b
    };
    f.setPosition = function (b, c) {
        var d = this.Wa();
        d || O(this.J(), !0);
        var e = this.J(), h = b, k = c, l = fG(e);
        h instanceof op && (k = h.y, h = h.x);
        tu(e, e.offsetLeft + (h - l.x), e.offsetTop + (Number(k) - l.y));
        d || O(this.J(), !1)
    };
    f.Rt = function (b) {
        (this.ap = b) && this.Ei(!0)
    };
    f.Z = function (b, c, d) {
        (c = dN.P.Z.call(this, b, c)) && b && this.la && this.ap && this.xg().focus();
        b && d && ma(d.clientX) ? this.iM = new op(d.clientX, d.clientY) : this.iM = null;
        return c
    };
    f.xK = function (b) {
        this.ap && this.xg().focus();
        return dN.P.xK.call(this, b)
    };
    f.vQ = function (b) {
        return (this.I3 || b.isEnabled()) && b.Wa() && cK(b, 2)
    };
    f.ua = function (b) {
        var c = this.fc(), d;
        d = this.M();
        d = rs(d.Wb, D, c.xa() + "-Hg", b);
        for (var e = d.length, h = 0; h < e; h++) RJ(c, this, d[h]);
        dN.P.ua.call(this, b)
    };
    f.Lm = function (b) {
        var c = dN.P.Lm.call(this, b);
        c || cI(this, function (d) {
            !c && d.h7 && d.RL == b.keyCode && (this.isEnabled() && this.sf(d), c = d.Rg(b))
        }, this);
        return c
    };
    f.Qk = function (b) {
        dN.P.Qk.call(this, b);
        (b = this.nd(b)) && gG(b.J(), this.J())
    };

    function eN(b, c) {
        dN.call(this, c, b || aN.Ka())
    }

    B(eN, dN);

    function fN() {
    }

    B(fN, JK);
    ea(fN);
    f = fN.prototype;
    f.Aa = function (b) {
        return fN.P.Aa.call(this, b && b.firstChild)
    };
    f.Gc = function (b, c) {
        var d = qs("*", "mg-zg", c)[0];
        if (d) {
            O(d, !1);
            ps(d).body.appendChild(d);
            var e = new dN;
            e.Gc(d);
            b.Bo(e)
        }
        return fN.P.Gc.call(this, b, c)
    };
    f.Ns = function (b, c) {
        return fN.P.Ns.call(this, [this.createCaption(b, c), this.sC(c)], c)
    };
    f.createCaption = function (b, c) {
        return c.u(D, "mg-ng-og " + (this.xa() + "-Ag"), b)
    };
    f.sC = function (b) {
        return b.u(D, "mg-ng-og " + (this.xa() + "-Bg"), "\u00a0")
    };
    f.xa = function () {
        return "mg-zg-vg"
    };

    function gN() {
    }

    B(gN, fN);
    ea(gN);
    gN.prototype.Aa = function (b) {
        return b ? qs("*", this.xa() + "-Ag", b)[0] : null
    };
    gN.prototype.xa = function () {
        return "a-N-vg"
    };
    gN.prototype.te = function (b) {
        return b.tagName == D
    };
    gN.prototype.Ns = function (b, c) {
        var d = this.xa();
        return c.u("div", ["mg-ng-og"], c.u("div", [d + "-Ag", "mg-ng-og"], b), c.u("div", [d + "-Bg", "mg-ng-og"]))
    };
    gr("a-N-zg-vg", function () {
        return new hN(null, null, gN.Ka())
    });

    function iN() {
    }

    B(iN, gN);
    ea(iN);
    iN.prototype.xa = function () {
        return "a-N-Rg-zg-vg"
    };

    function jN() {
    }

    B(jN, iN);
    ea(jN);
    jN.prototype.u = function (b) {
        b = jN.P.u.call(this, b);
        K.add(b, "a-N-Rg-Vg");
        return b
    };

    function kN(b, c) {
        dN.call(this, b, c);
        this.Rt(!0);
        this.Z(!1, !0);
        this.a = new Rq
    }

    B(kN, dN);
    f = kN.prototype;
    f.ua = function (b) {
        kN.P.ua.call(this, b);
        (b = b.getAttribute("for") || b.htmlFor) && this.Hf(this.M().J(b), 1)
    };
    f.oa = function () {
        kN.P.oa.call(this);
        this.a.forEach(this.qQ, this);
        var b = this.S();
        b.C(this, "action", this.mba);
        b.C(ct(this.M()), "mousedown", this.XV, !0);
        Nr && b.C(ct(this.M()), "contextmenu", this.XV, !0)
    };
    f.Hf = function (b, c, d, e, h) {
        b && Tq(this.a, qa(b)) || (b ? (c = {
            Da: b,
            lY: c,
            fba: d,
            HJ: e ? "contextmenu" : "mousedown",
            kj: h
        }, this.a.set(qa(b), c)) : c = null, this.la && this.qQ(c), b = va(this.zba, b), this.J() && this.S().C(this.J(), "keydown", b))
    };
    f.zba = function (b, c) {
        if (27 == c.keyCode) b.focus(); else {
            var d = this.nd(this.Mf);
            if (d) {
                var d = d.J(), e = new Kt(c.Pe(), d);
                e.target = d;
                if (32 == c.keyCode || 13 == c.keyCode) lf(d) ? Iu(d, "keydown", !1, e) : cu(d, "keydown", !1, e);
                32 == c.keyCode && this.wr()
            }
        }
    };
    f.qQ = function (b) {
        this.S().C(b.Da, b.HJ, this.cW);
        "contextmenu" != b.HJ && this.S().C(b.Da, "keydown", this.Cba)
    };
    f.detach = function (b) {
        if (!b || !Tq(this.a, qa(b))) throw Error("Menu not attached to provided element, unable to detach.");
        b = qa(b);
        if (this.la) {
            var c = this.a.get(b);
            this.S().wa(c.Da, c.HJ, this.cW)
        }
        this.a.remove(b)
    };
    f.wr = function () {
        this.Wa() && (this.Z(!1), this.Wa() || wa())
    };
    f.mba = function () {
        this.wr()
    };
    f.cW = function (b) {
        lN(this, b)
    };
    f.Cba = function (b) {
        32 != b.keyCode && 13 != b.keyCode && 40 != b.keyCode || lN(this, b);
        40 == b.keyCode && this.Tj()
    };

    function lN(b, c) {
        for (var d = b.a.zl(), e = 0; e < d.length; e++) {
            var h = b.a.get(d[e]);
            if (h.Da == c.currentTarget) {
                var d = b, e = h, k = ca(e.lY) ? new dH(e.Da, e.lY, !0) : new hH(c.clientX, c.clientY);
                k.g && k.g(5);
                var h = d, d = k, k = e.fba, e = e.kj, l = h.Wa();
                h.Wa() || wa();
                h.dispatchEvent("beforeshow") && (k = "undefined" != typeof k ? k : 8, l || (h.J().style.visibility = "hidden"), O(h.J(), !0), d.xe(h.J(), k, e), l || (h.J().style.visibility = "visible"), h.Qk(-1), h.Z(!0));
                c.preventDefault();
                c.stopPropagation();
                break
            }
        }
    }

    f.XV = function (b) {
        this.Wa() && !this.zn(b.target) && this.wr()
    };
    f.Op = function (b) {
        kN.P.Op.call(this, b);
        this.wr()
    };
    f.Ma = function () {
        kN.P.Ma.call(this);
        this.a && (this.a.clear(), delete this.a)
    };

    function mN(b, c) {
        YH.call(this, b);
        this.a = new uM;
        this.za = c || zc;
        Qt(this.a, "change", this.vU, !1, this)
    }

    B(mN, YH);
    f = mN.prototype;
    f.FE = !1;
    f.JV = 0;
    f.Za = !0;
    f.u = function () {
        mN.P.u.call(this);
        var b = this.M().u(D, this.xa("horizontal"));
        this.ua(b)
    };
    f.ua = function (b) {
        mN.P.ua.call(this, b);
        K.add(b, this.xa("horizontal"));
        b = this.J();
        var c = qs(null, "a-qi-rl", b)[0];
        c || (c = this.M().u(D, "a-qi-rl"), kt(c, "button"), b.appendChild(c));
        this.g = this.F = c;
        kt(this.J(), "slider");
        nN(this)
    };
    f.oa = function () {
        mN.P.oa.call(this);
        this.m = new TF(this.g);
        this.w = new TF(this.F);
        this.m.m = !1;
        this.w.m = !1;
        this.m.oJ = this.w.oJ = da;
        this.Df = new NE(this.J());
        oN(this, !0);
        this.J().tabIndex = 0;
        pN(this)
    };

    function oN(b, c) {
        c ? (b.S().C(b.m, "beforedrag", b.cE).C(b.w, "beforedrag", b.cE).C(b.m, ["start", "end"], b.pz).C(b.w, ["start", "end"], b.pz).C(b.Df, "key", b.Km).C(b.J(), "click", b.jE).C(b.J(), "mousedown", b.jE), qN(b, !0)) : (b.S().wa(b.m, "beforedrag", b.cE).wa(b.w, "beforedrag", b.cE).wa(b.m, ["start", "end"], b.pz).wa(b.w, ["start", "end"], b.pz).wa(b.Df, "key", b.Km).wa(b.J(), "click", b.jE).wa(b.J(), "mousedown", b.jE), qN(b, !1))
    }

    f.Oe = function () {
        mN.P.Oe.call(this);
        Kd(this.m, this.w, this.Df, this.U)
    };
    f.cE = function (b) {
        var c = b.a == this.m ? this.g : this.F, d;
        d = b.left / (this.J().clientWidth - c.offsetWidth) * (this.Gd() - this.Od()) + this.Od();
        d = b.a == this.m ? Math.min(Math.max(d, this.Od()), this.G() + xM(this.a)) : Math.min(Math.max(d, this.G()), this.Gd());
        rN(this, c, d)
    };
    f.pz = function (b) {
        var c = "start" == b.type;
        K.enable(this.J(), "mg-qi-sl", c);
        K.enable(b.target.handle, "mg-qi-rl-sl", c);
        b = b.a == this.m;
        c ? (this.dispatchEvent("e"), this.dispatchEvent(b ? "a" : "c")) : (this.dispatchEvent("f"), this.dispatchEvent(b ? "b" : "d"))
    };
    f.Km = function (b) {
        var c = !0;
        switch (b.keyCode) {
            case 36:
                sN(this, this.Od());
                break;
            case 35:
                sN(this, this.Gd());
                break;
            case 33:
                tN(this, 10);
                break;
            case 34:
                tN(this, -10);
                break;
            case 37:
                var d = -1;
                tN(this, b.shiftKey ? 10 * d : 1 * d);
                break;
            case 40:
                tN(this, b.shiftKey ? -10 : -1);
                break;
            case 39:
                d = 1;
                tN(this, b.shiftKey ? 10 * d : 1 * d);
                break;
            case 38:
                tN(this, b.shiftKey ? 10 : 1);
                break;
            default:
                c = !1
        }
        c && b.preventDefault()
    };
    f.jE = function (b) {
        this.J().focus && this.J().focus();
        var c = b.target;
        if (!(Ss(this.g, c) || Ss(this.F, c) || (c = "click" == b.type, c && wa() < this.JV + 1E3))) {
            c || (this.JV = wa());
            this.ZN(b);
            var c = this.Od(), d = this.Gd(), e = this.g.offsetWidth, h = this.J().clientWidth - e;
            b = jG(b, this.J()).x - e / 2;
            this.$ = uN(this, (d - c) * b / h + c);
            this.va = this.ka > this.$.offsetLeft + this.$.offsetWidth;
            b = ps(this.J());
            this.S().C(b, "mouseup", this.YN, !0).C(this.J(), "mousemove", this.ZN);
            this.R || (this.R = new jH(200), this.S().C(this.R, "tick", this.KU));
            this.KU();
            this.R.start()
        }
    };
    f.sT = function (b) {
        tN(this, 1 * (0 < b.detail ? -1 : 1));
        b.preventDefault()
    };
    f.KU = function () {
        var b, c = this.ka, d = this.$.offsetLeft;
        this.va ? c > d + this.$.offsetWidth && (b = vN(this, this.$) + 10) : c < d && (b = vN(this, this.$) - 10);
        ca(b) && rN(this, this.$, b)
    };
    f.YN = function () {
        this.R && this.R.stop();
        var b = ps(this.J());
        this.S().wa(b, "mouseup", this.YN, !0).wa(this.J(), "mousemove", this.ZN)
    };
    f.ZN = function (b) {
        this.ka = jG(b, this.J()).x
    };

    function vN(b, c) {
        if (c == b.g) return b.a.G();
        if (c == b.F) return b.a.G() + xM(b.a);
        throw Error("Illegal thumb element. Neither minThumb nor maxThumb");
    }

    function tN(b, c) {
        Math.abs(c) < b.pe() && (c = an(c) * b.pe());
        var d = vN(b, b.g) + c, e = vN(b, b.F) + c, d = sd(d, b.Od(), b.Gd() - 0), e = sd(e, b.Od() + 0, b.Gd());
        wN(b, d, e - d)
    }

    function rN(b, c, d) {
        var e = vM(b.a, d);
        d = c == b.g ? e : b.a.G();
        c = c == b.F ? e : b.a.G() + xM(b.a);
        d >= b.Od() && c >= d + 0 && b.Gd() >= c && wN(b, d, c - d)
    }

    function wN(b, c, d) {
        b.Od() <= c && c <= b.Gd() - d && 0 <= d && d <= b.Gd() - c && (c != b.G() || d != xM(b.a)) && (b.a.Jm = !0, wM(b.a, 0), b.a.V(c), wM(b.a, d), b.a.Jm = !1, b.vU())
    }

    f.Od = function () {
        return this.a.Od()
    };
    f.Fi = function (b) {
        this.a.Fi(b)
    };
    f.Gd = function () {
        return this.a.Gd()
    };
    f.Hg = function (b) {
        this.a.Hg(b)
    };

    function uN(b, c) {
        return c <= b.a.G() + xM(b.a) / 2 ? b.g : b.F
    }

    f.vU = function () {
        pN(this);
        nN(this);
        this.dispatchEvent("change")
    };

    function pN(b) {
        var c;
        if (b.g && !b.FE) {
            c = xN(b, vN(b, b.g));
            var d = xN(b, vN(b, b.F));
            b.g.style.left = c.x + "px";
            b.F.style.left = d.x + "px";
            b.K && (c = yN(c.x, d.x, b.g.offsetWidth), b.K.style.left = c.offset + "px", b.K.style.width = c.size + "px")
        }
    }

    function yN(b, c, d) {
        var e = Math.ceil(d / 2);
        return {offset: b + e, size: Math.max(c - b + d - 2 * e, 0)}
    }

    function xN(b, c) {
        var d = new op;
        if (b.g) {
            var e = b.Od(), h = b.Gd(),
                e = Math.round((c == e && e == h ? 0 : (c - e) / (h - e)) * (b.J().clientWidth - b.g.offsetWidth));
            d.x = e;
            d.y = b.g.offsetTop
        }
        return d
    }

    function sN(b, c) {
        c = sd(c, b.Od(), b.Gd());
        b.FE && (b.ia.stop(!0), b.ia.Ra());
        var d = new ZE, e = uN(b, c), h = b.G(), k = xM(b.a), l = vN(b, e), p = xN(b, l), q = b.pe();
        Math.abs(c - l) < q && (c = sd(l + (c > l ? q : -q), b.Od(), b.Gd()));
        rN(b, e, c);
        l = xN(b, vN(b, e));
        p = new zH(e, [p.x, p.y], [l.x, e.offsetTop], 100);
        p.m = !1;
        d.add(p);
        b.K && (p = xN(b, h), q = xN(b, h + k), h = p, k = q, e == b.g ? h = l : k = l, e = yN(p.x, q.x, b.g.offsetWidth), h = yN(h.x, k.x, b.g.offsetWidth), l = new zH(b.K, [e.offset, b.K.offsetTop], [h.offset, b.K.offsetTop], 100), e = new AH(b.K, e.size, h.size, 100), l.m = !1, e.m =
            !1, d.add(l), d.add(e));
        b.ia = d;
        b.S().C(d, "end", b.N5);
        b.FE = !0;
        d.play(!1)
    }

    f.N5 = function () {
        this.FE = !1;
        this.dispatchEvent("g")
    };
    f.Ma = function () {
        mN.P.Ma.call(this);
        this.R && this.R.Ra();
        delete this.R;
        this.ia && this.ia.Ra();
        delete this.ia;
        delete this.g;
        delete this.F;
        this.K && delete this.K;
        this.a.Ra();
        delete this.a;
        this.Df && (this.Df.Ra(), delete this.Df);
        this.U && (this.U.Ra(), delete this.U);
        this.m && (this.m.Ra(), delete this.m);
        this.w && (this.w.Ra(), delete this.w)
    };
    f.pe = function () {
        return this.a.pe()
    };
    f.qg = function (b) {
        this.a.qg(b)
    };
    f.G = function () {
        return this.a.G()
    };
    f.V = function (b) {
        rN(this, this.g, b)
    };
    f.Z = function (b) {
        O(this.J(), b);
        b && pN(this)
    };

    function nN(b) {
        var c = b.J();
        c && (lt(c, "valuemin", b.Od()), lt(c, "valuemax", b.Gd()), lt(c, "valuenow", b.G()), lt(c, "valuetext", b.za(b.G()) || ""))
    }

    function qN(b, c) {
        c ? (b.U || (b.U = new vw(b.J())), b.S().C(b.U, "mousewheel", b.sT)) : b.S().wa(b.U, "mousewheel", b.sT)
    }

    f.Ba = function (b) {
        this.Za != b && this.dispatchEvent(b ? "enable" : "disable") && (this.Za = b, oN(this, b), b || this.YN(), K.enable(this.J(), "mg-qi-tg", !b))
    };
    f.isEnabled = function () {
        return this.Za
    };

    function zN(b) {
        mN.call(this, b);
        wM(this.a, 0)
    }

    B(zN, mN);
    zN.prototype.xa = function (b) {
        return "vertical" == b ? "a-qi-gi" : "a-qi-si"
    };
    zN.prototype.pz = function (b) {
        var c = "start" == b.type;
        K.enable(this.J(), "a-qi-sl", c);
        K.enable(b.target.handle, "a-qi-rl-sl", c);
        b = b.a == this.m;
        c ? (this.dispatchEvent("e"), this.dispatchEvent(b ? "a" : "c")) : (this.dispatchEvent("f"), this.dispatchEvent(b ? "b" : "d"))
    };

    function AN(b, c, d, e) {
        YH.call(this, e);
        this.w = d;
        this.g = b;
        this.Va(b);
        this.m = c;
        this.Va(c);
        this.a = null
    }

    B(AN, YH);
    f = AN.prototype;
    f.ku = null;
    f.Xi = null;
    f.Hw = null;
    f.Lv = 5;
    f.aV = null;
    f.eX = null;
    f.Bm = null;
    f.Xn = null;
    f.u = function () {
        var b = this.M(), c = b.u(D, "mg-Al-Bl-Y"), d = b.u(D, "mg-Al-Cl-Y"), e = b.u(D, "mg-Al-ih");
        this.Da = b.u(D, "mg-Al", c, d, e);
        this.Xi = c;
        this.Hw = d;
        this.a = e;
        BN(this);
        CN(this)
    };
    f.te = function (b) {
        var c = DN(b, "mg-Al-Bl-Y");
        if (!c) return !1;
        this.Xi = c;
        c = DN(b, "mg-Al-Cl-Y");
        if (!c) return !1;
        this.Hw = c;
        b = DN(b, "mg-Al-ih");
        if (!b) return !1;
        this.a = b;
        return !0
    };

    function DN(b, c) {
        for (var d = Ms(b), e = 0; e < d.length; e++) {
            var h = d[e];
            if (K.contains(h, c)) return h
        }
        return qs(null, c, b)[0]
    }

    f.ua = function (b) {
        AN.P.ua.call(this, b);
        BN(this);
        b = vG(b);
        this.bi(new Qg(b.width, b.height));
        CN(this)
    };

    function CN(b) {
        var c = b.M();
        b.g.J() || b.g.u();
        c.appendChild(b.Xi, b.g.J());
        b.m.J() || b.m.u();
        c.appendChild(b.Hw, b.m.J());
        b.ku = new TF(b.a, b.a);
        b.Xi.style.position = "absolute";
        b.Hw.style.position = "absolute";
        b = b.a.style;
        b.position = "absolute";
        b.overflow = "hidden";
        b.zIndex = 2
    }

    f.oa = function () {
        AN.P.oa.call(this);
        var b = this.J();
        "static" == $F(b) && (b.style.position = "relative");
        this.S().C(this.a, "dblclick", this.z9).C(this.ku, "start", this.G9).C(this.ku, "drag", this.H9).C(this.ku, "end", this.D9);
        EN(this, this.aV)
    };

    function FN(b) {
        return "vertical" == b.w
    }

    function BN(b) {
        FN(b) ? (b.a.style.height = b.Lv + "px", K.add(b.a, "mg-Al-ih-gi")) : (b.a.style.width = b.Lv + "px", K.add(b.a, "mg-Al-ih-si"))
    }

    function GN(b, c) {
        tu(b, c.left, c.top);
        wG(b, new Qg(Math.max(c.width, 0), Math.max(c.height, 0)))
    }

    function EN(b, c) {
        HN(b, vG(b.J()), c)
    }

    function HN(b, c, d) {
        var e = FN(b);
        d = ma(d) ? d : ma(b.Bm) ? b.Bm : Math.floor((e ? c.height : c.width) / 2);
        b.Bm = d;
        var h, k, l, p, q, r, t;
        e ? (l = e = c.width, p = b.Lv, k = c.height - d - p, h = c.width, t = 0 + d, r = 0, q = t + p, c = 0) : (e = d, d = c.height, l = b.Lv, p = c.height, h = c.width - e - l, k = c.height, r = 0 + e, t = 0, c = r + l, q = 0);
        GN(b.Xi, new Ip(0, 0, e, d));
        "function" == typeof b.g.resize && b.g.resize(new Qg(e, d));
        GN(b.a, new Ip(r, t, l, p));
        GN(b.Hw, new Ip(c, q, h, k));
        "function" == typeof b.m.resize && b.m.resize(new Qg(h, k));
        b.dispatchEvent("change")
    }

    f.bi = function (b, c) {
        wG(this.J(), b);
        this.Xn && wG(this.Xn, b);
        HN(this, b, c)
    };
    f.G9 = function () {
        if (!this.Xn) {
            var b = "position: relative";
            Jr && !Wr("10") && (b += ";background-color: #000;filter: Alpha(Opacity=0)");
            this.Xn = this.M().u(D, {style: b});
            this.M().appendChild(this.J(), this.Xn)
        }
        this.Xn.style.zIndex = 1;
        wG(this.Xn, vG(this.J()));
        var c = aG(this.Xi), d = b = 0, e = c.x, c = c.y, h = vG(this.Xi), k = yG(this.Xi), l = yG(this.Hw);
        FN(this) ? (d = k.height + l.height, c += h.height - k.height) : (b = k.width + l.width, e += h.width - k.width);
        UF(this.ku, new Ip(e, c, b, d))
    };
    f.H9 = function (b) {
        FN(this) ? EN(this, b.top - aG(this.Xi).y) : EN(this, b.left - aG(this.Xi).x);
        this.dispatchEvent("handle_drag")
    };
    f.D9 = function () {
        this.Xn.style.zIndex = -1;
        this.dispatchEvent("handle_drag_end")
    };
    f.z9 = function () {
        var b = jG(this.a, this.Xi), c = vG(this.Xi), d = yG(this.Xi), e = FN(this);
        e ? (c = c.height - d.height, b = b.y) : (c = c.width - d.width, b = b.x);
        c == b ? EN(this, this.eX) : (this.eX = e ? vG(this.Xi).height : vG(this.Xi).width, EN(this, c));
        this.dispatchEvent("handle_snap")
    };
    f.Ma = function () {
        Jd(this.ku);
        this.ku = null;
        Ls(this.Xn);
        this.Xn = null;
        AN.P.Ma.call(this)
    };

    function IN() {
        this.a = []
    }

    B(IN, dL);
    ea(IN);
    IN.prototype.u = function (b) {
        var c = IN.P.u.call(this, b);
        K.add(c, "mg-Pg");
        JN(this, b, c);
        return c
    };
    IN.prototype.Gc = function (b, c) {
        c = IN.P.Gc.call(this, b, c);
        K.add(c, "mg-Pg");
        JN(this, b, c);
        var d = qs(D, "mg-zg", c);
        if (d.length) {
            var e = new dN(b.M()), d = d[0];
            O(d, !1);
            ct(b.M()).body.appendChild(d);
            e.Gc(d);
            b.Bo(e, !0)
        }
        return c
    };
    IN.prototype.Kc = function (b, c) {
        var d = this.Aa(b), e = d && d.lastChild;
        IN.P.Kc.call(this, b, c);
        e && d.lastChild != e && K.contains(e, "mg-Pg-Qg") && d.appendChild(e)
    };
    IN.prototype.Cr = function (b) {
        IN.P.Cr.call(this, b);
        var c = b.Aa(), d = b.M(), d = rs(d.Wb, Le, "mg-Pg-Qg", c)[0];
        KN(b, d);
        d != c.lastChild && c.appendChild(d);
        lt(b.J(), "haspopup", "true")
    };

    function JN(b, c, d) {
        var e = c.M().u(Le);
        e.className = "mg-Pg-Qg";
        KN(c, e);
        b.Aa(d).appendChild(e)
    }

    function KN(b, c) {
        b.Pm() ? (K.add(c, "mg-Pg-Qg-Dg"), Ts(c, "\u25c4")) : (K.remove(c, "mg-Pg-Qg-Dg"), Ts(c, "\u25ba"))
    };

    function LN(b, c, d, e) {
        jL.call(this, b, c, d, e || IN.Ka())
    }

    B(LN, jL);
    f = LN.prototype;
    f.Gy = null;
    f.UN = null;
    f.OL = !1;
    f.dh = null;
    f.cD = !1;
    f.lV = !1;
    f.oa = function () {
        LN.P.oa.call(this);
        this.S().C(this.getParent(), "hide", this.aW);
        this.dh && MN(this, this.dh, !0)
    };
    f.Oe = function () {
        this.S().wa(this.getParent(), "hide", this.aW);
        this.dh && (MN(this, this.dh, !1), this.cD || (this.dh.Oe(), Ls(this.dh.J())));
        LN.P.Oe.call(this)
    };
    f.Ma = function () {
        this.dh && !this.cD && this.dh.Ra();
        this.dh = null;
        LN.P.Ma.call(this)
    };
    f.sf = function (b, c) {
        LN.P.sf.call(this, b);
        c && (this.cc().Um = !0);
        b || (this.Gy && lH(this.Gy), this.Gy = kH(this.zp, 218, this))
    };
    f.RN = function () {
        var b = this.getParent();
        b && b.ve() == this && (NN(this, !0), ON(this))
    };
    f.zp = function () {
        var b = this.dh;
        b && b.getParent() == this && (NN(this, !1), cI(b, function (b) {
            "function" == typeof b.zp && b.zp()
        }))
    };

    function PN(b) {
        b.Gy && lH(b.Gy);
        b.UN && lH(b.UN)
    }

    f.Z = function (b, c) {
        var d = LN.P.Z.call(this, b, c);
        d && !this.Wa() && this.zp();
        return d
    };

    function ON(b) {
        cI(b.getParent(), function (b) {
            b != this && "function" == typeof b.zp && (b.zp(), PN(b))
        }, b)
    }

    f.Rg = function (b) {
        var c = b.keyCode, d = this.Pm() ? 37 : 39, e = this.Pm() ? 39 : 37;
        if (!this.OL) {
            if (!this.isEnabled() || c != d && c != this.RL) return !1;
            this.RN();
            this.cc().Tj();
            PN(this)
        } else if (!this.cc().Rg(b)) if (c == e) this.zp(); else return !1;
        b.preventDefault();
        return !0
    };
    f.rba = function () {
        this.dh.getParent() == this && (PN(this), this.Cv().sf(this), ON(this))
    };
    f.aW = function (b) {
        b.target == this.Cv() && (this.zp(), PN(this))
    };
    f.Pp = function (b) {
        this.isEnabled() && (PN(this), this.UN = kH(this.RN, 218, this));
        LN.P.Pp.call(this, b)
    };
    f.Zj = function (b) {
        PN(this);
        if (cK(this, 8) || cK(this, 16)) return LN.P.Zj.call(this, b);
        this.RN();
        return !0
    };

    function NN(b, c) {
        !c && b.cc() && b.cc().Qk(-1);
        b.dispatchEvent(aI(64, c));
        var d = b.cc();
        c != b.OL && K.enable(b.J(), "mg-Pg-Ug", c);
        if (c != d.Wa() && (c && (d.la || d.T(), d.Qk(-1)), d.Z(c), c)) {
            var d = new dH(b.J(), 12, b.lV), e = b.cc(), h = e.J();
            e.Wa() || (h.style.visibility = "hidden", O(h, !0));
            d.xe(h, 8);
            e.Wa() || (O(h, !1), h.style.visibility = "visible")
        }
        b.OL = c
    }

    function MN(b, c, d) {
        var e = b.S();
        (d ? e.C : e.wa).call(e, c, "enter", b.rba)
    }

    f.bc = function (b) {
        this.cc().Va(b, !0)
    };
    f.$o = function (b, c) {
        this.cc().el(b, c, !0)
    };
    f.removeItem = function (b) {
        (b = this.cc().removeChild(b, !0)) && b.Ra()
    };
    f.mr = function (b) {
        return this.cc().nd(b)
    };
    f.ez = function () {
        return this.cc().eg()
    };
    f.Em = function () {
        return this.cc().Em()
    };
    f.cc = function () {
        this.dh ? this.cD && this.dh.getParent() != this && this.dh.Tk(this) : this.Bo(new dN(this.M()), !0);
        this.dh.J() || this.dh.u();
        return this.dh
    };
    f.Bo = function (b, c) {
        var d = this.dh;
        b != d && (d && (this.zp(), this.la && MN(this, d, !1)), this.dh = b, this.cD = !c, b && (b.Tk(this), b.Z(!1, !0), b.Rt(!1), b.Ei(!1), this.la && MN(this, b, !0)))
    };
    f.zn = function (b) {
        return this.cc().zn(b)
    };
    gr("mg-Pg", function () {
        return new LN(null)
    });

    function QN() {
        this.a = "tablist"
    }

    B(QN, OJ);
    ea(QN);
    QN.prototype.xa = function () {
        return "mg-Hh-Kh"
    };
    QN.prototype.JN = function (b, c, d) {
        this.m || (this.g || RN(this), this.m = hh(this.g));
        var e = this.m[c];
        e ? (SJ(b, e == SN || e == TN ? UJ : TJ), b.ia = e) : QN.P.JN.call(this, b, c, d)
    };
    QN.prototype.fg = function (b) {
        var c = QN.P.fg.call(this, b);
        this.g || RN(this);
        c.push(this.g[b.ia]);
        return c
    };

    function RN(b) {
        var c = b.xa();
        b.g = kh(UN, c + "-Fl", VN, c + "-El", SN, c + "-Dh", TN, c + "-Eh")
    };

    function WN() {
    }

    B(WN, VJ);
    ea(WN);
    f = WN.prototype;
    f.xa = function () {
        return "mg-Hh"
    };
    f.wl = function () {
        return "tab"
    };
    f.u = function (b) {
        var c = WN.P.u.call(this, b);
        (b = b.rh()) && this.Gb(c, b);
        return c
    };
    f.Gc = function (b, c) {
        c = WN.P.Gc.call(this, b, c);
        var d = this.rh(c);
        d && b.GG(d);
        b.QE() && (d = b.getParent()) && oa(d.Vk) && (b.pg(8, !1), d.Vk(b));
        return c
    };
    f.rh = function (b) {
        return b.title || ""
    };
    f.Gb = function (b, c) {
        b && (b.title = c || "")
    };

    function XN(b, c, d) {
        oK.call(this, b, c || WN.Ka(), d);
        this.vd(8, !0);
        uK(this, 9)
    }

    B(XN, oK);
    XN.prototype.rh = function () {
        return this.Ua
    };
    XN.prototype.Gb = function (b) {
        this.fc().Gb(this.J(), b);
        this.GG(b)
    };
    XN.prototype.GG = function (b) {
        this.Ua = b
    };
    gr("mg-Hh", function () {
        return new XN(null)
    });

    function YN(b, c, d) {
        b = b || UN;
        SJ(this, b == SN || b == TN ? UJ : TJ);
        this.ia = b;
        zK.call(this, this.rr, c || QN.Ka(), d);
        ZN(this)
    }

    B(YN, zK);
    var UN = "top", VN = "bottom", SN = "start", TN = "end";
    f = YN.prototype;
    f.Zm = null;
    f.oa = function () {
        YN.P.oa.call(this);
        ZN(this)
    };
    f.Ma = function () {
        YN.P.Ma.call(this);
        this.Zm = null
    };
    f.removeChild = function (b, c) {
        $N(this, b);
        return YN.P.removeChild.call(this, b, c)
    };
    f.uN = function (b) {
        YN.P.uN.call(this, b);
        this.Vk(this.nd(b))
    };
    f.Vk = function (b) {
        b ? b.Hi(!0) : this.Zm && this.Zm.Hi(!1)
    };

    function $N(b, c) {
        if (c && c == b.Zm) {
            for (var d = dI(b, c), e = d - 1; c = b.nd(e); e--) if (aO(c)) {
                b.Vk(c);
                return
            }
            for (d += 1; c = b.nd(d); d++) if (aO(c)) {
                b.Vk(c);
                return
            }
            b.Vk(null)
        }
    }

    function aO(b) {
        return b.Wa() && b.isEnabled()
    }

    f.Z$ = function (b) {
        this.Zm && this.Zm != b.target && this.Zm.Hi(!1);
        this.Zm = b.target
    };
    f.$$ = function (b) {
        b.target == this.Zm && (this.Zm = null)
    };
    f.W$ = function (b) {
        $N(this, b.target)
    };
    f.X$ = function (b) {
        $N(this, b.target)
    };
    f.Wn = function () {
        this.ve() || this.sf(this.Zm || this.nd(0))
    };

    function ZN(b) {
        b.S().C(b, "select", b.Z$).C(b, "unselect", b.$$).C(b, "disable", b.W$).C(b, "hide", b.X$)
    }

    gr("mg-Hh-Kh", function () {
        return new YN
    });

    function bO(b, c, d) {
        qL.call(this, b, c || JK.Ka(), d);
        this.vd(16, !0)
    }

    B(bO, qL);
    gr("mg-nl-vg", function () {
        return new bO(null)
    });

    function cO() {
    }

    B(cO, JK);
    ea(cO);
    cO.prototype.xa = function () {
        return "mg-Rg-vg"
    };

    function dO(b, c, d) {
        qL.call(this, b, c || cO.Ka(), d)
    }

    B(dO, qL);
    gr("mg-Rg-vg", function () {
        return new dO(null)
    });

    function eO() {
    }

    B(eO, fN);
    ea(eO);
    eO.prototype.xa = function () {
        return "mg-Rg-zg-vg"
    };

    function fO() {
    }

    B(fO, nL);
    ea(fO);
    fO.prototype.u = function (b) {
        return b.M().u(D, this.fg(b).join(" ") + " mg-ng-og", "\u00a0")
    };
    fO.prototype.Gc = function (b, c) {
        c = fO.P.Gc.call(this, b, c);
        K.add(c, "mg-ng-og");
        return c
    };
    fO.prototype.xa = function () {
        return "mg-Rg-Ng"
    };

    function gO() {
        this.a = "toolbar"
    }

    B(gO, OJ);
    ea(gO);
    gO.prototype.Zy = function (b) {
        return b.tagName == le ? new ZM(fO.Ka()) : gO.P.Zy.call(this, b)
    };
    gO.prototype.xa = function () {
        return "mg-Rg"
    };
    gO.prototype.KS = function () {
        return TJ
    };

    function hO() {
        gO.call(this)
    }

    B(hO, gO);
    ea(hO);
    hO.prototype.xa = function () {
        return "a-Rg"
    };

    function iO(b, c, d) {
        zK.call(this, c, b || gO.Ka(), d)
    }

    B(iO, zK);
    iO.prototype.Wn = function (b) {
        iO.P.Wn.call(this, b);
        this.Um || this.Tj()
    };

    function jO(b, c, d) {
        zK.call(this, c, b || hO.Ka(), d)
    }

    B(jO, iO);

    function kO(b, c) {
        cI(b, function (b) {
            b.XL || (c ? "boolean" == typeof b.rM && (b.Ba(b.rM), b.rM = null) : (b.rM = b.isEnabled(), b.Ba(!1)))
        })
    };

    function lO(b, c) {
        ZM.call(this, b || fO.Ka(), c)
    }

    B(lO, ZM);
    gr("mg-Rg-Ng", function () {
        return new lO
    });

    function mO(b, c, d) {
        bO.call(this, b, c || cO.Ka(), d)
    }

    B(mO, bO);
    gr("mg-Rg-nl-vg", function () {
        return new mO(null)
    });

    function nO(b, c, d) {
        mO.call(this, b, c || vL.Ka(), d)
    }

    B(nO, mO);
    gr("a-N-Rg-nl-vg", function () {
        return new nO(null)
    });

    function oO(b, c, d) {
        this.Bc = d || (b ? ns(ka(b) ? document.getElementById(b) : b) : ns());
        nM.call(this, this.Bc.u(D, {style: "position:absolute;display:none;"}));
        this.U = new op(1, 1);
        this.g = new ar;
        this.m = null;
        b && this.Hf(b);
        null != c && this.Zw(c)
    }

    B(oO, nM);
    var pO = [];
    f = oO.prototype;
    f.Mi = null;
    f.className = "mg-R";
    f.M = function () {
        return this.Bc
    };
    f.Hf = function (b) {
        b = ka(b) ? document.getElementById(b) : b;
        this.g.add(b);
        Qt(b, "mouseover", this.Pp, !1, this);
        Qt(b, "mouseout", this.lE, !1, this);
        Qt(b, "mousemove", this.oU, !1, this);
        Qt(b, "focus", this.Wn, !1, this);
        Qt(b, "blur", this.lE, !1, this)
    };
    f.detach = function (b) {
        if (b) b = ka(b) ? document.getElementById(b) : b, qO(this, b), this.g.remove(b); else {
            for (var c = this.g.mc(), d = 0; b = c[d]; d++) qO(this, b);
            this.g.clear()
        }
    };

    function qO(b, c) {
        Yt(c, "mouseover", b.Pp, !1, b);
        Yt(c, "mouseout", b.lE, !1, b);
        Yt(c, "mousemove", b.oU, !1, b);
        Yt(c, "focus", b.Wn, !1, b);
        Yt(c, "blur", b.lE, !1, b)
    }

    f.Zw = function (b) {
        Ts(this.J(), b)
    };
    f.sN = function (b) {
        var c = this.J();
        c && Ls(c);
        oO.P.sN.call(this, b);
        b ? (c = this.Bc.Wb.body, c.insertBefore(b, c.lastChild), Jd(this.m), this.m = new HE(this.J()), Id(this, this.m), Qt(this.m, "focusin", this.ky, void 0, this), Qt(this.m, "focusout", this.cH, void 0, this)) : (Jd(this.m), this.m = null)
    };
    f.VD = function () {
        return this.a ? this.Wa() ? 4 : 1 : this.w ? 3 : this.Wa() ? 2 : 0
    };
    f.cM = function () {
        if (!AL.prototype.cM.call(this)) return !1;
        if (this.anchor) for (var b, c = 0; b = pO[c]; c++) Ss(b.J(), this.anchor) || b.Z(!1);
        li(pO, this);
        b = this.J();
        b.className = this.className;
        this.ky();
        Qt(b, "mouseover", this.PU, !1, this);
        Qt(b, "mouseout", this.OU, !1, this);
        rO(this);
        return !0
    };
    f.fK = function () {
        mi(pO, this);
        for (var b = this.J(), c, d = 0; c = pO[d]; d++) c.anchor && Ss(b, c.anchor) && c.Z(!1);
        this.ka && this.ka.cH();
        Yt(b, "mouseover", this.PU, !1, this);
        Yt(b, "mouseout", this.OU, !1, this);
        this.anchor = void 0;
        0 == this.VD() && (this.R = !1);
        AL.prototype.fK.call(this)
    };
    f.FV = function (b, c) {
        this.anchor == b && this.g.contains(this.anchor) && (this.R || !this.va ? (this.Z(!1), this.Wa() || (this.anchor = b, this.setPosition(c || sO(this, 0)), this.Z(!0))) : this.anchor = void 0);
        this.a = void 0
    };
    f.yS = function () {
        return this.Mi
    };
    f.aba = function (b) {
        this.w = void 0;
        if (b == this.anchor) {
            b = this.M();
            var c = b.yS();
            b = c && this.J() && b.contains(this.J(), c);
            null != this.Mi && (this.Mi == this.J() || this.g.contains(this.Mi)) || b || this.$ && this.$.Mi || this.Z(!1)
        }
    };

    function tO(b, c) {
        var d = ft(b.Bc);
        b.U.x = c.clientX + d.x;
        b.U.y = c.clientY + d.y
    }

    f.Pp = function (b) {
        var c = uO(this, b.target);
        this.Mi = c;
        this.ky();
        c != this.anchor && (this.anchor = c, this.a || (this.a = kH(v(this.FV, this, c, void 0), 500)), vO(this), tO(this, b))
    };

    function uO(b, c) {
        try {
            for (; c && !b.g.contains(c);) c = c.parentNode;
            return c
        } catch (d) {
            return null
        }
    }

    f.oU = function (b) {
        tO(this, b);
        this.R = !0
    };
    f.Wn = function (b) {
        this.Mi = b = uO(this, b.target);
        this.R = !0;
        if (this.anchor != b) {
            this.anchor = b;
            var c = sO(this, 1);
            this.ky();
            this.a || (this.a = kH(v(this.FV, this, b, c), 500));
            vO(this)
        }
    };

    function sO(b, c) {
        if (0 == c) {
            var d = b.U.clone();
            return new wO(d)
        }
        return new xO(b.Mi)
    }

    function vO(b) {
        if (b.anchor) for (var c, d = 0; c = pO[d]; d++) Ss(c.J(), b.anchor) && (c.$ = b, b.ka = c)
    }

    f.lE = function (b) {
        var c = uO(this, b.target), d = uO(this, b.relatedTarget);
        c != d && (c == this.Mi && (this.Mi = null), rO(this), this.R = !1, !this.Wa() || b.relatedTarget && Ss(this.J(), b.relatedTarget) ? this.anchor = void 0 : this.cH())
    };
    f.PU = function () {
        var b = this.J();
        this.Mi != b && (this.ky(), this.Mi = b)
    };
    f.OU = function (b) {
        var c = this.J();
        this.Mi != c || b.relatedTarget && Ss(c, b.relatedTarget) || (this.Mi = null, this.cH())
    };

    function rO(b) {
        b.a && (lH(b.a), b.a = void 0)
    }

    f.cH = function () {
        2 == this.VD() && (this.w = kH(v(this.aba, this, this.anchor), 0))
    };
    f.ky = function () {
        this.w && (lH(this.w), this.w = void 0)
    };
    f.Ma = function () {
        this.Z(!1);
        rO(this);
        this.detach();
        this.J() && Ls(this.J());
        this.Mi = null;
        delete this.Bc;
        oO.P.Ma.call(this)
    };

    function wO(b, c) {
        iH.call(this, b, c)
    }

    B(wO, iH);
    wO.prototype.xe = function (b, c, d) {
        c = bG(b);
        c = eG(c);
        d = d ? new xp(d.top + 10, d.right, d.bottom, d.left + 10) : new xp(10, 0, 0, 10);
        bH(this.a, b, 8, d, c, 9) & 496 && bH(this.a, b, 8, d, c, 5)
    };

    function xO(b) {
        cH.call(this, b, 5)
    }

    B(xO, cH);
    xO.prototype.xe = function (b, c, d) {
        var e = new op(10, 0);
        ZG(this.element, this.a, b, c, e, d, 9) & 496 && ZG(this.element, 4, b, 1, e, d, 5)
    };

    function yO(b, c, d, e, h) {
        function k(b) {
            if (b) {
                b.tabIndex = 0;
                kt(b, l.wl());
                K.add(b, "mg-jm-B");
                zO(l, b);
                var c = l;
                b && (c.Df.Hf(b), c.R.C(c.Df, "key", c.wba))
            }
        }

        Q.call(this);
        this.Bc = h || ns();
        this.a = this.Bc.J(b) || null;
        this.m = this.Bc.J(e || null);
        this.g = (this.F = oa(c) ? c : null) || !c ? null : this.Bc.J(c);
        this.w = 1 == d;
        ca(d) || this.F || (this.m ? this.w = qG(this.m) : this.a && (this.w = K.contains(this.a, "mg-jm-im")));
        this.R = new fu(this);
        this.Df = new NE;
        this.K = new fu(this);
        var l = this;
        k(this.a);
        k(this.m);
        AO(this, this.w)
    }

    B(yO, Q);
    f = yO.prototype;
    f.jt = !0;
    f.Ma = function () {
        yO.P.Ma.call(this);
        Jd(this.R);
        Jd(this.Df);
        Jd(this.K)
    };
    f.wl = function () {
        return "tab"
    };
    f.Aa = function () {
        return this.g
    };
    f.expand = function () {
        AO(this, !0)
    };
    f.collapse = function () {
        AO(this, !1)
    };
    f.toggle = function () {
        AO(this, !this.w)
    };

    function AO(b, c) {
        b.g ? O(b.g, c) : c && b.F && (b.g = b.F());
        b.g && K.add(b.g, "mg-jm-Hg");
        b.m ? (O(b.a, !c), O(b.m, c)) : b.a && (K.enable(b.a, "mg-jm-im", c), K.enable(b.a, "mg-jm-hm", !c), lt(b.a, "expanded", c));
        b.w = c;
        b.dispatchEvent(new BO("toggle", b))
    }

    f.pL = function () {
        return this.jt
    };
    f.wA = function (b) {
        this.jt != b && ((this.jt = b) ? (zO(this, this.a), zO(this, this.m)) : this.K.ud())
    };

    function zO(b, c) {
        c && b.K.C(c, "click", b.vba)
    }

    f.wba = function (b) {
        if (13 == b.keyCode || 32 == b.keyCode) this.toggle(), this.dispatchEvent(new cf("action", this)), b.preventDefault(), b.stopPropagation()
    };
    f.vba = function () {
        this.toggle();
        this.dispatchEvent(new cf("action", this))
    };

    function BO(b, c) {
        cf.call(this, b, c)
    }

    B(BO, cf);

    function CO(b, c, d, e) {
        YH.call(this, e);
        this.a = b;
        this.m = c;
        this.w = d
    }

    B(CO, YH);
    f = CO.prototype;
    f.rR = function () {
        return "a-N-collapsible"
    };
    f.Nw = function (b) {
        this.a = b;
        this.la && (b = this.M(), b.me(this.g), b.append(this.g, this.a))
    };
    f.dz = function () {
        return this.a
    };
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        CO.P.ua.call(this, b);
        var c = this.rR();
        K.add(b, c);
        var d = this.M();
        d.append(b, this.g = d.u(D, c + "-B", this.a), this.Wu = d.u(D, c + "-Hg"))
    };
    f.Aa = function () {
        return this.Wu
    };
    f.oa = function () {
        CO.P.oa.call(this);
        this.DH = new yO(this.g, this.Wu, this.m, this.w, this.M())
    };
    f.DH = null;
    f.collapse = function () {
        this.DH.collapse()
    };
    f.expand = function () {
        this.DH.expand()
    };
    f.toggle = function () {
        this.DH.toggle()
    };
    f.md = !0;
    f.Wa = function () {
        return this.md
    };
    f.Z = function (b, c) {
        return c || this.md != b && this.dispatchEvent(b ? "show" : "hide") ? (this.J() && O(this.J(), b), this.md = b, !0) : !1
    };
    Lm("Firefox");
    var DO = Zm() || Lm("iPod"), EO = Lm("iPad");
    !Lm("Android") || Mm() || Lm("Firefox") || Lm("Opera") || Lm("Silk");
    Mm();
    var FO = Lm("Safari") && !(Mm() || Lm("Coast") || Lm("Opera") || Lm("Edge") || Lm("Silk") || Lm("Android")) && !(Zm() || Lm("iPad") || Lm("iPod"));
    var GO = null, HO = null, IO = null;

    function JO(b, c) {
        KO();
        for (var d = c ? IO : GO, e = [], h = 0; h < b.length; h += 3) {
            var k = b[h], l = h + 1 < b.length, p = l ? b[h + 1] : 0, q = h + 2 < b.length, r = q ? b[h + 2] : 0,
                t = k >> 2, k = (k & 3) << 4 | p >> 4, p = (p & 15) << 2 | r >> 6, r = r & 63;
            q || (r = 64, l || (p = 64));
            e.push(d[t], d[k], d[p], d[r])
        }
        return e.join("")
    }

    function LO(b) {
        var c = [];
        MO(b, function (b) {
            c.push(b)
        });
        return c
    }

    function MO(b, c) {
        function d(c) {
            for (; e < b.length;) {
                var d = b.charAt(e++), h = HO[d];
                if (null != h) return h;
                if (!Ah(d)) throw Error("Unknown base64 encoding at char: " + d);
            }
            return c
        }

        KO();
        for (var e = 0; ;) {
            var h = d(-1), k = d(0), l = d(64), p = d(64);
            if (64 === p && -1 === h) break;
            c(h << 2 | k >> 4);
            64 != l && (c(k << 4 & 240 | l >> 2), 64 != p && c(l << 6 & 192 | p))
        }
    }

    function KO() {
        if (!GO) {
            GO = {};
            HO = {};
            IO = {};
            for (var b = 0; 65 > b; b++) GO[b] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b), HO[GO[b]] = b, IO[b] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b), 62 <= b && (HO["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b)] = b)
        }
    };

    function NO(b) {
        var c = {}, d = 4, e = 4, h = 3, k = "", l = "", p, q, r = 0;
        b = {iB: b, us: b.charCodeAt(0), position: 32768, index: 1};
        for (k = 0; 3 > k; k += 1) c[k] = k;
        switch (OO(2, b)) {
            case 0:
                q = String.fromCharCode(OO(8, b));
                break;
            case 1:
                q = String.fromCharCode(OO(16, b));
                break;
            case 2:
                return ""
        }
        for (p = l = c[3] = q; ;) {
            q = OO(h, b);
            switch (q) {
                case 0:
                    if (1E4 < r++) return "Error";
                    q = String.fromCharCode(OO(8, b));
                    c[e++] = q;
                    q = e - 1;
                    d--;
                    break;
                case 1:
                    q = String.fromCharCode(OO(16, b));
                    c[e++] = q;
                    q = e - 1;
                    d--;
                    break;
                case 2:
                    return l
            }
            0 == d && (d = Math.pow(2, h), h++);
            if (c[q]) k = c[q]; else if (q ===
                e) k = p + p.charAt(0); else return null;
            l += k;
            c[e++] = p + k.charAt(0);
            d--;
            p = k;
            0 == d && (d = Math.pow(2, h), h++)
        }
    }

    function PO(b, c) {
        c.us = c.us << 1 | b;
        15 == c.position ? (c.position = 0, c.iB += String.fromCharCode(c.us), c.us = 0) : c.position++
    }

    function QO(b, c, d) {
        "string" == typeof c && (c = c.charCodeAt(0));
        for (var e = 0; e < b; e++) PO(c & 1, d), c = c >> 1
    }

    function RO(b) {
        b.rJ.hasOwnProperty(b.Uo) ? (256 > b.Uo.charCodeAt(0) ? (QO(b.hw, 0, b.data), QO(8, b.Uo, b.data)) : (QO(b.hw, 1, b.data), QO(16, b.Uo, b.data)), SO(b), delete b.rJ[b.Uo]) : QO(b.hw, b.Ey[b.Uo], b.data);
        SO(b)
    }

    function SO(b) {
        b.EJ--;
        0 == b.EJ && (b.EJ = Math.pow(2, b.hw), b.hw++)
    }

    function OO(b, c) {
        for (var d = 0, e = Math.pow(2, b), h = 1; h != e;) {
            var k = c, l = k.us & k.position;
            k.position >>= 1;
            0 == k.position && (k.position = 32768, k.us = k.iB.charCodeAt(k.index++));
            d = d | (0 < l ? 1 : 0) * h;
            h <<= 1
        }
        return d
    }

    function TO(b) {
        var c = {
            Ey: {},
            rJ: {},
            Ru: "",
            zH: "",
            Uo: "",
            EJ: 2,
            zR: 3,
            hw: 2,
            result: "",
            data: {iB: "", us: 0, position: 0}
        }, d;
        for (d = 0; d < b.length; d += 1) c.Ru = b.charAt(d), c.Ey.hasOwnProperty(c.Ru) || (c.Ey[c.Ru] = c.zR++, c.rJ[c.Ru] = !0), c.zH = c.Uo + c.Ru, c.Ey.hasOwnProperty(c.zH) ? c.Uo = c.zH : (RO(c), c.Ey[c.zH] = c.zR++, c.Uo = String(c.Ru));
        "" !== c.Uo && RO(c);
        for (QO(c.hw, 2, c.data); 0 < c.data.us;) PO(0, c.data);
        b = c.data.iB;
        c = [];
        d = 0;
        for (var e = b.length; d < e; d++) {
            var h = b.charCodeAt(d);
            c.push(h & 255);
            c.push(h >> 8 & 255)
        }
        return JO(c, !0)
    }

    function UO(b) {
        b = LO(b);
        for (var c = "", d = 0, e = b.length; d < e; d += 2) c += String.fromCharCode(b[d] | b[d + 1] << 8);
        return NO(c)
    };var VO = function () {
        function b(b, c, d) {
            switch (arguments.length) {
                case 1:
                    c = 0;
                case 2:
                    d = b.length - c
            }
            if (!h) {
                h = [];
                for (var k, t = 0; 256 > t; t++) {
                    k = t;
                    for (var u = 0; 8 > u; u++) k = k & 1 ? 3988292384 ^ k >>> 1 : k >>> 1;
                    h[t] = e(k)
                }
            }
            k = 4294967295;
            for (t = 0; t < d; t++) k = h[(k ^ b[c + t]) & 255] ^ k >>> 8;
            return e(k ^ 4294967295)
        }

        function c(b, c, d) {
            var h = c, k = d;
            switch (arguments.length) {
                case 1:
                    h = 0;
                case 2:
                    k = b.length - h
            }
            for (var u = 1, x = 0, A = 0; A < k; A++) u = (u + b[h + A]) % 65521, x = (x + u) % 65521;
            return e(x << 16 | u)
        }

        function d(b) {
            return [b >>> 24 & 255, b >>> 16 & 255, b >>> 8 & 255, b & 255]
        }

        function e(b) {
            return 0 >
            b ? b + 4294967296 : b
        }

        var h, k = Array.prototype.push;
        return function (e, h, q) {
            var r = [137, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82];
            k.apply(r, d(h));
            k.apply(r, d(q));
            r.push(8, 6, 0, 0, 0);
            k.apply(r, d(b(r, 12, 17)));
            for (var t = q * (4 * h + 1), u = 0; u < q; u++) e.splice(u * (4 * h + 1), 0, 0);
            h = Math.ceil(t / 32768);
            k.apply(r, d(t + 5 * h + 6));
            q = r.length;
            u = t + 5 * h + 6 + 4;
            r.push(73, 68, 65, 84, 120, 1);
            for (var x = 0; x < h; x++) {
                var A = Math.min(32768, t - 32768 * x);
                r.push(x == h - 1 ? 1 : 0);
                k.apply(r, [A & 255, A >>> 8 & 255]);
                var C = ~A;
                k.apply(r, [C & 255, C >>> 8 & 255]);
                A = e.slice(32768 *
                    x, 32768 * x + A);
                k.apply(r, A)
            }
            k.apply(r, d(c(e)));
            k.apply(r, d(b(r, q, u)));
            r.push(0, 0, 0, 0, 73, 69, 78, 68);
            k.apply(r, d(b(r, r.length - 4, 4)));
            return "data:image/png;base64," + JO(r)
        }
    }();

    function WO(b, c) {
        this.o = b;
        this.K = c;
        this.init()
    }

    B(WO, Ub);
    f = WO.prototype;
    f.init = function () {
        this.$ = {};
        this.a = this.o.Ub.createElement(ae);
        this.g = this.a.getContext("2d")
    };
    f.Pc = function () {
        if (2 == this.o.j.tr) this.m = Math.max(this.o.j.Iv, G(2 * this.o.fa().j.hd)); else {
            var b = this.K;
            if (!isFinite(b.nc) || !isFinite(b.oc)) return !1;
            var c = 0, d;
            a:switch (this.o.Fa()) {
                case 1:
                    d = .5;
                    break a;
                case 2:
                case 3:
                case 4:
                case 5:
                case 6:
                case 7:
                case 8:
                    d = xb(this.o.j.Iv, .5);
                    break a;
                default:
                    throw Error('Unsupported data type: "' + this.o.Fa() + '".');
            }
            var e = this.o.ma(), h = e.Sb, k = xb(1, G(b.g / b.jf * G(2 * this.o.fa().j.hd) / (h * d))), l;
            l = this.o.W().F;
            var p;
            p = this.o.W().w;
            var k = this.o.W().K, q = Math.abs(b.nc - b.oc);
            l = Math.ceil(q /
                l * Math.pow(10, e.$c()));
            1 < l.toString().length && (l = Cb(l, p));
            l *= Math.pow(10, -e.$c());
            var r = parseInt(l * Math.pow(10, e.$c()));
            l = Math.log(r) / Math.LN10 | 0;
            var r = r / Math.pow(10, l), t = 5;
            1.5 > r ? t = 1 : 3 > r && (t = 2);
            l = t * Math.pow(10, l) / Math.pow(10, e.$c()) / k;
            l > q && (l = 1 / Math.pow(10, Ab(1 / q) + 2 | 0));
            do k = Math.pow(4, c), k = b.qc(0) + h * d * k, q = e.$c(), this.F = parseFloat((G(k * Math.pow(10, q) / d) * d * Math.pow(10, -q)).toFixed(q)), k = Math.ceil(this.F * Math.pow(10, e.$c())), 1 < k.toString().length && (k = Cb(k, p)), this.F = k * Math.pow(10, -e.$c()), k = Math.log(l) /
                Math.LN10 | 0, q = e.$c(), r = parseInt(this.F * Math.pow(10, q)), r = Cb(r, l / Math.pow(10, Math.abs(k) - Math.abs(e.$c()) - 3)), this.F = r /= Math.pow(10, q), this.R = l, this.m = G(Math.abs(b.y(this.F + this.R) - b.y(this.F))), b.y(this.F) > this.m && (this.F += this.R); while (100 < this.m && 2 > c++)
        }
    };
    f.ZF = vc;
    f.T = function () {
        2 == this.o.j.tr ? this.RF() : this.OF()
    };
    f.RF = function () {
        var b = this.g;
        this.a.width = 1;
        this.a.height = this.m;
        b.save();
        b.fillStyle = this.o.fa().j.le;
        b.fillRect(0, this.m - 1, 1, 1);
        b.restore()
    };
    f.OF = function () {
        var b = this.K, c = b.wg(), d = this.g;
        this.a.width = 1;
        this.a.height = c;
        d.save();
        d.fillStyle = this.o.fa().j.le;
        for (var e = this.F + this.R, h = b.y(e), k = this.R; h < c; e -= k, h = b.y(e)) d.fillRect(0, G(h), 1, 1);
        d.restore()
    };

    function XO(b) {
        var c = YO(b);
        b.$.hasOwnProperty(c) || (b.$[c] = b.JS());
        return b.$[c]
    }

    function YO(b) {
        return 2 === b.o.j.tr ? b.o.j.Iv : b.K.wg() + ";" + b.K.oc + ";" + b.K.nc + ";" + b.o.fa().j.le
    }

    f.JS = function () {
        return this.a.toDataURL()
    };
    f.Kt = function (b) {
        this.Pc();
        var c = YO(this);
        b.a && b.a === c || (this.T(), ht(b, "background-image", "url(" + XO(this) + ")"), b.a = c)
    };
    f.Wr = function (b, c) {
        c && (this.m = 1);
        if (0 !== this.m) {
            var d = this.rm, e = this.K, h = this.o.getContext(), k = this.o.fa().j.hd;
            this.ia = b || vc;
            h.save();
            h.textBaseline = "middle";
            h.fillStyle = this.o.fa().j.Yc;
            h.beginPath();
            h.rect(d.left, d.top, d.width, d.height);
            h.clip();
            var l = d.height, p, q, r, t;
            if (2 == this.o.j.tr) for (q = p = this.m, t = e.qc(q); q < l; q += p, t = e.qc(q)) h.fillText(this.ia(t, this.o.ma().Sb), d.left + 5, d.top + q); else if (c) {
                if (e.nc != e.oc) for (q = 0, p = 18; q <= l + p; q += p) h.fillText(this.ia(e.qc(q), this.o.ma().Sb), d.left + 5, d.top + q)
            } else {
                var u =
                    1E-4 >= Math.abs(e.oc) && 1E-4 >= Math.abs(this.R);
                p = this.R.toString().split(".");
                q = this.F + this.R;
                var x = r = 0;
                2 == p.length && (r = p[1].length - 1, x = Math.pow(10, -r), q = +q.toFixed(r) + this.R);
                t = q;
                r = q = e.y(t);
                for (p = this.R; q < l; t -= p, q = e.y(t)) if (!(q != r && q - r < 1.2 * k)) {
                    r = q;
                    var A = this.K && this.K.od() instanceof gc ? this.ia(t, x, u) : this.ia(t, this.o.ma().Sb);
                    h.fillText(A, d.left + 5, d.top + q)
                }
            }
            h.restore();
            h.save();
            h.beginPath();
            h.strokeStyle = this.o.fa().j.le;
            h.lineWidth = 1;
            h.moveTo(d.left + 1, d.top - .5);
            h.lineTo(d.left + d.width - 1, d.top - .5);
            h.stroke();
            h.closePath();
            h.restore()
        }
    };
    f.QF = function (b, c, d, e) {
        var h = this.rm, k = this.o.getContext(), l = G(this.K.y(b));
        e = void 0 === e ? !1 : e;
        var p = 0, q = 1, r = this.o.fa().j.Rm;
        e || (k.save(), k.beginPath(), k.rect(xu(this.o).left, 0, xu(this.o).width, xu(this.o).height), k.closePath(), k.clip(), k.beginPath(), k.strokeStyle = c, k.lineWidth = 1, Jn(k, xu(this.o).left, Math.round(l) + .5, xu(this.o).width, Math.round(l) + .5, [3, 1]), k.stroke(), k.closePath(), k.restore(), p = 1, q = 1.2, r = c);
        k.save();
        k.translate(0, h.top);
        k.beginPath();
        k.rect(h.left - 1, 0, h.width + 1, h.height);
        k.closePath();
        k.clip();
        var t = this.o.fa().j.hd / 2 | 0;
        k.textBaseline = "middle";
        k.fillStyle = r;
        k.fillRect(h.left - 1, l - t - p - 1, h.width + 1, 2 * t + 2 * p + 3);
        k.fillStyle = c;
        k.fillRect(h.left, l - t - p, h.width - 1, 2 * t + 2 * p + 1);
        k.fillStyle = d;
        k.fontSize = q * this.o.fa().j.hd;
        k.font = k.fontSize + "px " + this.o.fa().j.mf;
        this.ia ? (b = this.ia(parseFloat(b), this.o.ma().Sb), k.fillText(b, h.left + 3, l + 1)) : k.fillText(b, h.left + 3, l + 1);
        k.restore();
        e || (h = b, h.length !== this.va && (l = this.o, k = k.measureText(Array(h.length + 1).join("X")).width + 1, k !== l.Sl && (l.Sl = k, ZO(l), $O(l),
            l.fb.gn(l.jc.width), l.dispatchEvent(nx), l.$g(l.getContext())), this.va = h.length))
    };
    window.G_vmlCanvasManager && (Ub.prototype.ka = function (b) {
        this.U = document.createElement(String(D));
        dk(this.U, "p", b);
        this.o.Fb.appendChild(this.U)
    }, gt.prototype.init = function () {
        this.w = [];
        this.$ = {};
        this.ka("r");
        this.Pc();
        this.T()
    }, gt.prototype.T = function () {
        this.w = [];
        for (var b = 4 * this.m; 0 < b--; this.w[b] = 0) ;
        var b = 4 * (1 + this.fb.Ca() / 2 | 0), c = Hn(this.o.fa().j.le);
        this.w[b + 0] = c[0];
        this.w[b + 1] = c[1];
        this.w[b + 2] = c[2];
        this.w[b + 3] = 255
    }, gt.prototype.WQ = function () {
        var b = this.m + ";" + this.fb.Ca();
        this.$.hasOwnProperty(b) ||
        (this.$[b] = VO(this.w.slice(), this.m, 1));
        return this.$[b]
    }, "undefined" === typeof window.FlashCanvas && (gt.prototype.Wr = function (b) {
        var c = this.o.za, d = this.o.pa, e = this.fb.be(), h = this.K;
        b = b || gt.g(this.o.W());
        JF(this.U, c.ie());
        tu(this.U, c.left, c.top);
        for (var c = [], k = 0, l = this.o.Qa(), p = 0, q = NaN; p < e; p += h) q = l.t(p + d), isNaN(q) || (c[k++] = '<span style="left:', c[k++] = G(p), c[k++] = 'px">', c[k++] = b(new Date(q)), c[k++] = "</span>");
        this.U.innerHTML = c.join("")
    }), WO.prototype.init = function () {
        this.w = [];
        this.$ = {};
        this.ka("q")
    },
        WO.prototype.RF = function () {
            var b = Hn(this.o.fa().j.le);
            this.w = [];
            for (var c = 4 * this.m; 0 < c--; this.w[c] = 0) ;
            c = 4 * (this.m - 1);
            this.w[c + 0] = b[0];
            this.w[c + 1] = b[1];
            this.w[c + 2] = b[2];
            this.w[c + 3] = 255
        }, WO.prototype.OF = function () {
        var b = this.K, c = this.R, d = b.wg(), e = Hn(this.o.fa().j.le);
        this.w = [];
        for (var h = 4 * d; 0 < h--; this.w[h] = 0) ;
        for (var h = this.F, k = b.y(h); k < d; h -= c, k = b.y(h)) k = 4 * G(k), this.w[k + 0] = e[0], this.w[k + 1] = e[1], this.w[k + 2] = e[2], this.w[k + 3] = 255
    }, WO.prototype.JS = function () {
        return VO(this.w.slice(), 1, this.w.length / 4)
    },
    "undefined" === typeof window.FlashCanvas && (WO.prototype.Wr = function () {
        if (0 !== this.m) {
            var b = this.rm, c = this.K, d = this.R;
            JF(this.U, b.ie());
            tu(this.U, b.left + 1, b.top);
            for (var e = [], h = 0, k = this.F, l = c.y(k), b = b.height; l < b; k -= d, l = c.y(k)) e[h++] = '<span style="top:', e[h++] = G(l), e[h++] = 'px">', e[h++] = parseFloat(k).toPrecision(6), e[h++] = "</span>";
            this.U.innerHTML = e.join("")
        }
    }, WO.prototype.QF = function (b, c, d) {
        this.U.innerHTML += ['<span class="s" style="top:', G(this.K.y(b)), "px;color:", d, ";background:", c, '">', b.toPrecision(6),
            "</span>"].join("")
    }), yM.prototype.u = function () {
        this.ua(this.M().u("div", "a-Ym"))
    }, yM.prototype.on = function (b) {
        this.Ha = b;
        mG(this.J(), b.width);
        this.J().style.height = su(b.height, !0);
        tu(this.J(), b.left, b.top)
    }, yM.prototype.WR = function () {
        KM(this);
        LM(this)
    });
    var aP = !Jr && !FO;

    function bP(b, c) {
        return aP && b.dataset ? c in b.dataset ? b.dataset[c] : null : b.getAttribute("data-" + Sh(c))
    };

    function hN(b, c, d, e, h) {
        qL.call(this, b, d || fN.Ka(), e);
        this.vd(64, !0);
        this.Zp = new gH(null, 9);
        c && this.Bo(c);
        this.g = new jH(500);
        !DO && !EO || Wr("533.17.9") || (this.JE = !0);
        this.ia = h || $M.Ka()
    }

    B(hN, qL);
    f = hN.prototype;
    f.JE = !1;
    f.oa = function () {
        hN.P.oa.call(this);
        cP(this, !0);
        this.hb && dP(this, this.hb, !0);
        lt(this.Da, "haspopup", !!this.hb)
    };
    f.Oe = function () {
        hN.P.Oe.call(this);
        cP(this, !1);
        if (this.hb) {
            this.ge(!1);
            this.hb.Oe();
            dP(this, this.hb, !1);
            var b = this.hb.J();
            b && Ls(b)
        }
    };
    f.Ma = function () {
        hN.P.Ma.call(this);
        this.hb && (this.hb.Ra(), delete this.hb);
        delete this.K;
        this.g.Ra()
    };
    f.Ck = function (b) {
        hN.P.Ck.call(this, b);
        this.Id() && (this.ge(!dK(this, 64), b), this.hb && (this.hb.Um = dK(this, 64)))
    };
    f.Qp = function (b) {
        hN.P.Qp.call(this, b);
        this.hb && !this.Id() && (this.hb.Um = !1)
    };
    f.Zj = function () {
        this.setActive(!1);
        return !0
    };
    f.x9 = function (b) {
        this.hb && this.hb.Wa() && !this.zn(b.target) && this.ge(!1)
    };
    f.zn = function (b) {
        return b && Ss(this.J(), b) || this.hb && this.hb.zn(b) || !1
    };
    f.Lm = function (b) {
        if (32 == b.keyCode) {
            if (b.preventDefault(), "keyup" != b.type) return !0
        } else if ("key" != b.type) return !1;
        if (this.hb && this.hb.Wa()) {
            var c = 13 == b.keyCode || 32 == b.keyCode, d = this.hb.Rg(b);
            return 27 == b.keyCode || c ? (this.ge(!1), !0) : d
        }
        return 40 == b.keyCode || 38 == b.keyCode || 32 == b.keyCode || 13 == b.keyCode ? (this.ge(!0, b), !0) : !1
    };
    f.iE = function () {
        this.ge(!1)
    };
    f.o$ = function () {
        this.Id() || this.ge(!1)
    };
    f.Op = function (b) {
        this.JE || this.ge(!1);
        hN.P.Op.call(this, b)
    };
    f.cc = function () {
        this.hb || this.Bo(new dN(this.M(), this.ia));
        return this.hb || null
    };
    f.Bo = function (b) {
        var c = this.hb;
        b != c && (c && (this.ge(!1), this.la && dP(this, c, !1), delete this.hb), this.la && lt(this.Da, "haspopup", !!b), b && (this.hb = b, b.Tk(this), b.Z(!1), b.Rt(this.JE), this.la && dP(this, b, !0)));
        return c
    };
    f.bc = function (b) {
        this.cc().Va(b, !0)
    };
    f.$o = function (b, c) {
        this.cc().el(b, c, !0)
    };
    f.removeItem = function (b) {
        (b = this.cc().removeChild(b, !0)) && b.Ra()
    };
    f.mr = function (b) {
        return this.hb ? this.hb.nd(b) : null
    };
    f.ez = function () {
        return this.hb ? this.hb.eg() : 0
    };
    f.Z = function (b, c) {
        var d = hN.P.Z.call(this, b, c);
        d && !this.Wa() && this.ge(!1);
        return d
    };
    f.Ba = function (b) {
        hN.P.Ba.call(this, b);
        this.isEnabled() || this.ge(!1)
    };

    function eP(b) {
        b.Zp.g && b.Zp.g(33)
    }

    f.ge = function (b, c) {
        hN.P.ge.call(this, b);
        if (this.hb && dK(this, 64) == b) {
            if (b) this.hb.la || this.hb.T(), this.R = eG(this.J()), this.F = oG(this.J()), this.sw(), !c || 40 != c.keyCode && 38 != c.keyCode ? this.hb.Qk(-1) : this.hb.Tj(); else {
                this.setActive(!1);
                this.hb.Um = !1;
                var d = this.J();
                d && (lt(d, "activedescendant", ""), lt(d, "owns", ""));
                null != this.m && (this.m = void 0, (d = this.hb.J()) && JF(d, "", ""))
            }
            this.hb.Z(b, !1, c);
            if (!this.Ap) {
                var d = this.S(), e = b ? d.C : d.wa;
                e.call(d, ct(this.M()), "mousedown", this.x9, !0);
                this.JE && e.call(d, this.hb, "blur",
                    this.o$);
                e.call(d, this.g, "tick", this.Dba);
                b ? this.g.start() : this.g.stop()
            }
        }
        this.hb && this.hb.J() && this.hb.Da.removeAttribute("aria-hidden")
    };
    f.sw = function () {
        if (this.hb.la) {
            var b = this.Zp;
            this.Zp.element = this.K || this.J();
            var c = this.hb.J();
            this.hb.Wa() || (c.style.visibility = "hidden", O(c, !0));
            !this.m && this.Zp.F && this.Zp.m & 32 && (this.m = PF(c));
            b.xe(c, b.a ^ 1, null, this.m);
            this.hb.Wa() || (O(c, !1), c.style.visibility = "visible")
        }
    };
    f.Dba = function () {
        var b = oG(this.J()), c = eG(this.J()), d;
        d = this.F;
        (d = !(d == b || d && b && d.left == b.left && d.width == b.width && d.top == b.top && d.height == b.height)) || (d = this.R, d = !(d == c || d && c && d.top == c.top && d.right == c.right && d.bottom == c.bottom && d.left == c.left));
        d && (this.F = b, this.R = c, this.sw())
    };

    function dP(b, c, d) {
        var e = b.S();
        d = d ? e.C : e.wa;
        d.call(e, c, "action", b.iE);
        d.call(e, c, "close", b.z8);
        d.call(e, c, "highlight", b.A8);
        d.call(e, c, "unhighlight", b.B8)
    }

    function cP(b, c) {
        var d = b.S();
        (c ? d.C : d.wa).call(d, b.J(), "keydown", b.h$)
    }

    f.A8 = function (b) {
        (b = b.target.J()) && fP(this, b)
    };
    f.h$ = function (b) {
        cK(this, 32) && this.xg() && this.hb && this.hb.Wa() && b.stopPropagation()
    };
    f.B8 = function () {
        if (!this.hb.ve()) {
            var b = this.J();
            lt(b, "activedescendant", "");
            lt(b, "owns", "")
        }
    };
    f.z8 = function (b) {
        if (dK(this, 64) && b.target instanceof jL) {
            b = b.target;
            var c = b.J();
            b.Wa() && dK(b, 2) && null != c && fP(this, c)
        }
    };

    function fP(b, c) {
        var d = b.J(), e = mt(c, "activedescendant"), e = ps(c).getElementById(e) || c;
        if (!e.id) {
            var h = er.Ka();
            e.id = fr(h)
        }
        nt(d, e);
        lt(d, "owns", e.id)
    }

    gr("mg-zg-vg", function () {
        return new hN(null)
    });

    function gP(b, c, d, e) {
        hN.call(this, b, c, d || iN.Ka(), e)
    }

    B(gP, hN);
    gr("a-N-Rg-zg-vg", function () {
        return new dr.ela(null)
    });

    function hP() {
    }

    B(hP, fN);
    ea(hP);
    hP.prototype.Aa = function (b) {
        return b ? qs("*", this.xa() + "-Ag", b)[0] : null
    };
    hP.prototype.te = function (b) {
        return b.tagName == D
    };
    hP.prototype.Ns = function (b, c) {
        var d = this.xa();
        return c.u(D, "mg-ng-og ", c.u(D, [d + "-Ag", "mg-ng-og"], b), c.u(D, [d + "-Bg", "mg-ng-og"]))
    };
    hP.prototype.xa = function () {
        return "mg-css3-vg"
    };
    gr("mg-css3-zg-vg", function () {
        return new hN(null, null, hP.Ka())
    });

    function iP() {
    }

    B(iP, yL);
    ea(iP);
    f = iP.prototype;
    f.u = function (b) {
        var c = {"class": "mg-ng-og " + this.fg(b).join(" ")},
            c = b.M().u(D, c, [this.createCaption(b.Ob(), b.M()), this.sC(b.M())]);
        this.Gb(c, b.rh());
        return c
    };
    f.Aa = function (b) {
        return b && b.firstChild
    };
    f.Gc = function (b, c) {
        var d = qs("*", "mg-zg", c)[0];
        if (d) {
            O(d, !1);
            ct(b.M()).body.appendChild(d);
            var e = new dN;
            e.Gc(d);
            b.Bo(e)
        }
        qs("*", this.xa() + "-Ag", c)[0] || c.appendChild(this.createCaption(c.childNodes, b.M()));
        qs("*", this.xa() + "-Bg", c)[0] || c.appendChild(this.sC(b.M()));
        return iP.P.Gc.call(this, b, c)
    };
    f.createCaption = function (b, c) {
        return c.u(D, "mg-ng-og " + (this.xa() + "-Ag"), b)
    };
    f.sC = function (b) {
        return b.u(D, {"class": "mg-ng-og " + (this.xa() + "-Bg"), "aria-hidden": !0}, "\u00a0")
    };
    f.xa = function () {
        return "mg-ug-zg-vg"
    };
    gr("mg-ug-zg-vg", function () {
        return new hN(null, null, iP.Ka())
    });

    function jP(b, c, d, e, h) {
        hN.call(this, b, c, d, e, h || new $M("listbox"));
        this.a = this.Ob();
        this.w = null;
        this.DN("listbox")
    }

    B(jP, hN);
    f = jP.prototype;
    f.Na = null;
    f.oa = function () {
        jP.P.oa.call(this);
        this.Ax();
        this.yz()
    };
    f.ua = function (b) {
        jP.P.ua.call(this, b);
        (b = this.Dp()) ? (this.a = b, this.Ax()) : this.hc() || this.Xw(0)
    };
    f.Ma = function () {
        jP.P.Ma.call(this);
        this.Na && (this.Na.Ra(), this.Na = null);
        this.a = null
    };
    f.iE = function (b) {
        this.og(b.target);
        jP.P.iE.call(this, b);
        b.stopPropagation();
        this.dispatchEvent("action")
    };
    f.VK = function () {
        var b = this.hc();
        jP.P.V.call(this, b && b.G());
        this.Ax()
    };
    f.Bo = function (b) {
        var c = jP.P.Bo.call(this, b);
        b != c && (this.Na && this.Na.clear(), b && (this.Na ? cI(b, function (b) {
            kP(b);
            this.Na.bc(b)
        }, this) : this.Yu(b)));
        return c
    };
    f.bc = function (b) {
        kP(b);
        jP.P.bc.call(this, b);
        this.Na ? this.Na.bc(b) : this.Yu(this.cc());
        lP(this)
    };
    f.$o = function (b, c) {
        kP(b);
        jP.P.$o.call(this, b, c);
        this.Na ? this.Na.$o(b, c) : this.Yu(this.cc())
    };
    f.removeItem = function (b) {
        jP.P.removeItem.call(this, b);
        this.Na && this.Na.removeItem(b)
    };
    f.og = function (b) {
        if (this.Na) {
            var c = this.hc();
            this.Na.og(b);
            b != c && this.dispatchEvent("change")
        }
    };
    f.Xw = function (b) {
        this.Na && this.og(this.Na.mr(b))
    };
    f.V = function (b) {
        if (null != b && this.Na) for (var c = 0, d; d = this.Na.mr(c); c++) if (d && "function" == typeof d.G && d.G() == b) {
            this.og(d);
            return
        }
        this.og(null)
    };
    f.G = function () {
        var b = this.hc();
        return b ? b.G() : null
    };
    f.hc = function () {
        return this.Na ? this.Na.hc() : null
    };
    f.Mh = function () {
        return this.Na ? this.Na.Mh() : -1
    };
    f.Sn = function () {
        return this.Na
    };
    f.Yu = function (b) {
        this.Na = new SM;
        b && cI(b, function (b) {
            kP(b);
            this.Na.bc(b)
        }, this);
        this.yz()
    };
    f.yz = function () {
        this.Na && this.S().C(this.Na, "select", this.VK)
    };
    f.Ax = function () {
        var b = this.hc();
        this.Kc(b ? b.Dp() : this.a);
        var c = this.fc().Aa(this.J());
        c && this.M().Haa(c) && (null == this.w && (this.w = mt(c, "label")), b = (b = b ? b.J() : null) ? mt(b, "label") : this.w, lt(c, "label", b), lP(this))
    };

    function lP(b) {
        var c = b.fc();
        if (c && (c = c.Aa(b.J()))) {
            var d = b.Da;
            c.id || (c.id = fr(er.Ka()));
            kt(c, "option");
            lt(d, "activedescendant", c.id);
            b.Na && (d = b.Na.Em(), lt(c, "setsize", mP(d)), b = b.Na.Mh(), lt(c, "posinset", 0 <= b ? mP(si(d, 0, b + 1)) : 0))
        }
    }

    function mP(b) {
        return ei(b, function (b) {
            return b instanceof jL
        })
    }

    function kP(b) {
        b.DN(b instanceof jL ? "option" : "separator")
    }

    f.ge = function (b, c) {
        jP.P.ge.call(this, b, c);
        dK(this, 64) ? this.cc().Qk(this.Mh()) : lP(this)
    };
    gr("mg-Vg", function () {
        return new jP(null)
    });

    function nP(b, c, d, e) {
        jP.call(this, b, e || null, c || gN.Ka(), d);
        this.$ = oP
    }

    B(nP, jP);
    var oP = [{name: "Sans Serif", font: "sans-serif"}, {name: "Serif", font: "serif"}, {
        name: "Wide",
        font: '"Arial Black", sans-serif'
    }, {name: "Narrow", font: '"Arial Narrow", sans-serif'}, {
        name: "Comic",
        font: '"Comic Sans MS", sans-serif'
    }, {name: "Monospace", font: '"Courier New", monospace'}];
    nP.prototype.U = function (b) {
        var c = this.M();
        this.bc(new zL(c.u(Le, {style: "font-family:" + b.font}, b.name), b))
    };
    nP.prototype.oa = function () {
        nP.P.oa.call(this);
        this.me(!0);
        E(this.$, this.U, this)
    };

    function pP(b, c, d, e) {
        jP.call(this, b, c, d || eO.Ka(), e)
    }

    B(pP, jP);
    gr("mg-Rg-Vg", function () {
        return new pP(null)
    });

    function qP(b, c, d, e) {
        pP.call(this, b, c, d || vL.Ka(), e)
    }

    B(qP, pP);
    gr("a-N-Rg-vg", function () {
        return new qP(null)
    });
    qP.prototype.iE = function () {
        this.dispatchEvent("multiselectaction")
    };
    qP.prototype.getSelection = function () {
        for (var b = [], c = 0, d = this.cc().eg(); c < d; c++) {
            var e = this.cc().nd(c);
            e.Cf() && b.push(e.qa())
        }
        return b
    };

    function rP(b, c) {
        for (var d = 0, e = b.cc().eg(); d < e; d++) {
            var h = b.cc().nd(d);
            h.Tb(!!~ai(c, h.qa()))
        }
    };

    function sP(b, c) {
        if (b.tagName == fe) for (var d = b.elements, e = 0; b = d[e]; e++) sP(b, c); else 1 == c && b.blur(), b.disabled = c
    }

    function tP(b) {
        var c = b.type;
        if (!ca(c)) return null;
        switch (c.toLowerCase()) {
            case "checkbox":
            case "radio":
                return b.checked ? b.value : null;
            case "select-one":
                return c = b.selectedIndex, 0 <= c ? b.options[c].value : null;
            case "select-multiple":
                for (var c = [], d, e = 0; d = b.options[e]; e++) d.selected && c.push(d.value);
                return c.length ? c : null;
            default:
                return ca(b.value) ? b.value : null
        }
    }

    function uP(b, c) {
        var d = b.type;
        if (ca(d)) switch (d.toLowerCase()) {
            case "checkbox":
            case "radio":
                b.checked = c;
                break;
            case "select-one":
                b.selectedIndex = -1;
                if (ka(c)) for (var e = 0; d = b.options[e]; e++) if (d.value == c) {
                    d.selected = !0;
                    break
                }
                break;
            case "select-multiple":
                d = c;
                ka(d) && (d = [d]);
                for (var h = 0; e = b.options[h]; h++) if (e.selected = !1, d) for (var k, l = 0; k = d[l]; l++) e.value == k && (e.selected = !0);
                break;
            default:
                b.value = null != c ? c : ""
        }
    };

    function vP(b) {
        jx.call(this, b);
        this.mx = wP
    }

    B(vP, jx);
    var wP = "none";
    vP.prototype.Vr = function (b) {
        b = b.u(Ve, this.uv().join(" ") + " a-N-Rh-B-ji-ii", this.kl.Nb(), this.fB = b.u(D, "a-N-Rh-B-ki"));
        this.S().C(b, "click", function () {
            switch (this.mx) {
                case wP:
                    this.mx = "up";
                    break;
                case "up":
                    this.mx = "down";
                    break;
                case "down":
                    this.mx = wP
            }
            switch (this.mx) {
                case wP:
                    Ts(this.fB, "");
                    break;
                case "up":
                    Ts(this.fB, "");
                    this.fB.innerHTML = "&#x2191;";
                    break;
                case "down":
                    Ts(this.fB, ""), this.fB.innerHTML = "&#x2193;"
            }
            this.dispatchEvent("change")
        });
        return b
    };

    function xP(b, c, d, e) {
        oK.call(this, null, d || yP.Ka(), e);
        this.Ff = b || zP;
        this.bp = {};
        this.an(!0);
        this.V(c)
    }

    B(xP, oK);
    var zP = "text";
    f = xP.prototype;
    f.vi = function (b) {
        return this.Sp || (this.Sp = new mH(b))
    };
    f.V = function (b) {
        this.rc = b;
        null != this.rc && (this.Kc(this.rc.toString()), AP(this))
    };
    f.G = function () {
        return this.rc
    };
    f.Kb = function () {
        return this.Ff
    };
    f.setAttribute = function (b, c) {
        this.bp[b] = c;
        this.la && this.fc().setAttribute(this.J(), b, c)
    };
    f.Xy = function () {
        return this.bp
    };
    f.gs = function (b) {
        this.la && this.fc().gs(this.J(), b)
    };
    f.FF = "";
    f.oa = function () {
        xP.P.oa.call(this);
        this.Hp().Hf(this.fc().Zc(this.J()));
        this.vi(this.fc().Zc(this.J()));
        AP(this);
        Zs(this.J(), !1);
        this.S().C(this.fc().Zc(this.J()), Ta(Jt), function (b) {
            this.dispatchEvent(b)
        }).C(this.Hp(), "key", function (b) {
            this.dispatchEvent(b)
        }).C(this.vi(), "input", function () {
            AP(this)
        })
    };

    function AP(b) {
        if (b.la) {
            var c = b.fc().G(b.J()), d = b.Xy();
            null != d.min && "number" === b.Kb() && +c < +d.min ? (b.rc = b.FF, b.gs("Min value is " + d.min)) : null != d.max && "number" === b.Kb() && +c > +d.max ? (b.rc = b.FF, b.gs("Max value is " + d.max)) : null != d.integer && d.integer && "number" === b.Kb() && c !== Math.floor(+c).toString() ? (b.rc = b.FF, b.gs("Value must be an integer")) : (b.rc = c, b.FF = c, b.gs(""))
        }
    }

    f.focus = function () {
        this.fc().Zc(this.J()).focus()
    };
    f.Zc = function () {
        return this.fc().Zc(this.J())
    };
    f.eN = function () {
        setTimeout(v(function () {
            if (this.la) {
                var b = this.fc().Zc(this.J());
                b.focus();
                b.setSelectionRange(0, this.G().length)
            }
        }, this), 0)
    };
    f.blur = function () {
        this.fc().Zc(this.J()).blur()
    };

    function yP() {
    }

    B(yP, VJ);
    ea(yP);
    f = yP.prototype;
    f.xa = function () {
        return "a-N-mh"
    };
    f.u = function (b) {
        var c = b.M(), d = {"class": this.fg(b).join(" "), type: b.Kb(), value: b.Ob()};
        dK(b, 1) && (d.disabled = "disabled");
        jh(d, b.Xy());
        c = c.u(D, this.xa() + "-X", c.u(qe, d), c.u(Le, this.xa() + "-Mg"));
        bK(this, b, c);
        return c
    };
    f.Zc = function (b) {
        return b ? Ms(b)[0] : null
    };
    f.setAttribute = function (b, c, d) {
        (b = this.Zc(b)) && b.setAttribute(c, d)
    };
    f.gs = function (b, c) {
        var d = this.Zc(b), e = b ? Ms(b)[1] : null;
        b && K.enable(b, this.xa() + "-ni", !!c);
        d && K.enable(d, this.xa() + "-ni", !!c);
        e && Ts(b ? Ms(b)[1] : null, c)
    };
    f.G = function (b) {
        return tP(this.Zc(b))
    };
    f.Kc = function (b, c) {
        var d = this.Zc(b);
        d && uP(d, c)
    };
    f.pg = function (b, c, d) {
        yP.P.pg.call(this, b, c, d);
        b.la && 1 === c && sP(this.Zc(b.J()), d)
    };

    function BP(b, c) {
        YH.call(this, c);
        Oa.call(this, b, this.N());
        this.U = {};
        this.K = new Ki;
        this.ia = new Ad;
        this.Hb = null;
        this.ka = !1
    }

    B(BP, YH);
    f = BP.prototype;
    f.N = function () {
        this.j || (this.j = {uri: null, key: null, Zl: null, kx: null, iu: null, uid: null, R3: 700, Q3: 550});
        return this.j
    };
    f.fk = function (b) {
        this.N().uri = b
    };
    f.Ev = function () {
        return this.N().iu
    };
    f.XD = function () {
        return this.N().uid
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        BP.P.ua.call(this, b);
        K.add(b, "a-ti-Hg-vi-kd");
        var c = this.M(), d = y("MSG_SIGN_IN_LOGIN", {}, "Login"), e = y("MSG_SIGN_IN_LOADING", {}, "Loading..."),
            h = y("MSG_SIGN_IN_NICKNAME_OR_EMAIL", {}, "Nickname or email"),
            k = y("MSG_SIGN_IN_PASSWORD", {}, "Password"), l = y("MSG_SIGN_IN_STAY_SIGNED_IN", {}, "Stay signed in"),
            p = y("MSG_SIGN_IN_SIGN_IN", {}, "Sign in"), q = y("MSG_SIGN_IN_FORGOT_EMAIL", {}, "E-mail"),
            r = y("MSG_SIGN_IN_FORGOT_PASSWORD", {}, "Forgot password?"),
            t = y("MSG_SIGN_IN_FORGOT_PASSWORD_SUBMIT", {}, "Submit"),
            u = y("MSG_SIGN_IN_FORGOT_PASSWORD_CANCEL", {}, "Cancel"),
            x = y("MSG_SIGN_IN_FORGOT_PASSWORD_WORD_VERIFICATION", {}, "Word verification"),
            A = y("MSG_SIGN_IN_FORGOT_PASSWORD_WORD_VERIFICATION_IMG_LOADING", {}, "Loading..."),
            C = y("MSG_SIGN_IN_FORGOT_PASSWORD_WORD_VERIFICATION_RELOAD", {}, "Word verification reload"),
            I = y("MSG_SIGN_IN_SOCIAL_LOGIN", {}, "Log in using one of your social accounts:"),
            N = y("MSG_SIGN_IN_SOCIAL_FACEBOOK", {}, "Log in with Facebook"),
            S = y("MSG_SIGN_IN_SOCIAL_VKONTAKTE", {}, "Log in with Vkontakte"),
            T = y("MSG_SIGN_IN_SOCIAL_TWITTER", {}, "Log in with Twitter");
        this.a = new xP;
        this.a.fe("login");
        this.w = new xP;
        this.w.fe("forgotemail");
        this.g = new xP("password");
        this.g.fe("password");
        this.ob = new yK;
        this.sc = new uL(p);
        this.F = new xP;
        this.F.fe("wordverification");
        this.Rb = new uL(t);
        this.va = new uL(u);
        this.a.setAttribute("placeholder", h);
        c.append(b, this.$ = c.u(D, ["a-ti-Hg-vi-kd-yi-Y"]), this.uh = c.u(D, ["a-ti-Hg-vi-kd-v-X", "v-X"]), this.lf = c.u(D, "a-ti-Hg-vi-kd-v-fi", e), this.Ya = c.u(D, ["a-ti-Hg-vi-kd-vi-kd-zi-X", "zi-X"],
            c.u(D, ["a-ti-Hg-vi-kd-Zm-X", "Mh-X"], c.u(te, null, d), this.Ee = c.u(D, ["a-ti-Hg-vi-kd-Zm-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-vi-kd-Ci-X", "Mh-X"], c.u(te, null, k), this.Ge = c.u(D, ["a-ti-Hg-vi-kd-Ci-Y", "Mh-Y"])), c.u(D, "a-ti-Hg-vi-kd-Ei-kd-X", this.zi = c.u(D, "a-ti-Hg-vi-kd-Ei-kd-Y"), this.Sl = c.u(te, null, l)), c.u(D, "a-ti-Hg-vi-kd-vi-kd-Zg-X", this.Ve = c.u(D, "a-ti-Hg-vi-kd-vi-kd-Y"), this.Yd = c.u(D, "a-ti-Hg-vi-kd-Bi-Ci-fi", r)), this.yi = c.u(D, "a-ti-Hg-vi-kd-Fi-X", c.u(je, "a-ti-Hg-vi-kd-Fi-B", I), this.U.facebook = c.u(D, {
                "class": "a-ti-Hg-vi-kd-Fi-Mh a-ti-Hg-vi-kd-Fi-fn",
                title: N
            }), this.U.vkontakte = c.u(D, {
                "class": "a-ti-Hg-vi-kd-Fi-Mh a-ti-Hg-vi-kd-Fi-gn",
                title: S
            }), this.U.twitter = c.u(D, {
                "class": "a-ti-Hg-vi-kd-Fi-Mh a-ti-Hg-vi-kd-Fi-hn",
                title: T
            }))), this.La = c.u(D, ["a-ti-Hg-vi-kd-Bi-Ci-zi-X", "zi-X"], this.Ub = c.u(D, "a-ti-Hg-vi-kd-Bi-Wi-Y", this.Sd = c.u(Fe, null)), this.dd = c.u(D, null, c.u(D, ["a-ti-Hg-vi-kd-email-X", "Mh-X"], c.u(te, null, q), this.gc = c.u(D, ["a-ti-Hg-vi-kd-email-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-vi-kd-Si-Ti-X", "Mh-X"], c.u(te, null, x), this.De = c.u(D, ["a-ti-Hg-vi-kd-Si-Ti-Y",
            "Mh-Y"], this.za = c.u(D, "a-ti-Hg-vi-kd-Si-Ti-hh-ab", A), this.R = c.u(pe, {title: C})))), this.Ea = c.u(D, "a-ti-Hg-vi-kd-Bi-Ci-Ui-Y"), this.jd = c.u(D, "a-ti-Hg-vi-kd-Bi-Ci-Vi-Y")));
        O(this.Ub, !1);
        CP(this, !1)
    };
    f.oa = function () {
        BP.P.oa.call(this);
        this.a.T(this.Ee);
        this.g.T(this.Ge);
        this.ob.T(this.zi);
        this.ob.yA(this.Sl);
        this.sc.T(this.Ve);
        this.w.T(this.gc);
        this.F.T(this.De);
        this.Rb.T(this.Ea);
        this.va.T(this.jd);
        Ui(this.K, "login", ["required", "minlength"], 3);
        Ui(this.K, "forgotemail", ["required", "email"]);
        Ui(this.K, "password", ["required"]);
        Ui(this.K, "wordverification", ["required"]);
        this.S().C(this.Yd, "click", this.N9).C(this.va, "action", this.M9).C(this.a.vi(), "input", this.O4).C(this.a, "keypress", this.iU).C(this.w.vi(),
            "input", this.L9).C(this.w, "keypress", this.gU).C(this.g.vi(), "input", this.P4).C(this.g, "keypress", this.iU).C(this.F.vi(), "input", this.P9).C(this.F, "keypress", this.gU).C(this.R, "click", this.YQ).C(this.R, "load", this.N4).C(this.sc, "action", this.JU).C(this.Rb, "action", this.bU).C(this.yi, "click", this.vca)
    };
    f.focus = function (b) {
        var c = null != b ? b : this.a, d = window.scrollX, e = window.scrollY;
        this.ka && null == b && (c = this.w);
        c.focus();
        window.scrollTo(d, e);
        c == this.w && this.YQ()
    };

    function CP(b, c) {
        O(b.uh, c);
        O(b.lf, c);
        K.enable(b.Ya, "a-ti-Hg-vi-kd-Ai", c);
        K.enable(b.La, "a-ti-Hg-vi-kd-Ai", c)
    }

    f.YQ = function () {
        this.ia.reset();
        this.ia.update(Math.random().toString());
        this.Hb = Gj(this.ia.digest());
        O(this.za, !0);
        O(this.R, !1);
        this.R.setAttribute("src", this.N().uri + "captcha/userForgot/?" + this.Hb)
    };
    f.N4 = function () {
        O(this.za, !1);
        O(this.R, !0)
    };
    f.N9 = function () {
        ht(this.Ya, "left", "-100%");
        ht(this.La, "left", "5%");
        Ts(this.$, "");
        this.a.V("");
        this.g.V("");
        this.w.V("");
        this.F.V("");
        this.ka = !0;
        setTimeout(v(function () {
            this.focus(this.w)
        }, this), 200)
    };
    f.M9 = function () {
        ht(this.Ya, "left", "0");
        ht(this.La, "left", "110%");
        Ts(this.$, "");
        this.a.V("");
        this.g.V("");
        this.w.V("");
        this.F.V("");
        this.ka = !1;
        setTimeout(v(function () {
            this.focus()
        }, this), 200)
    };
    f.O4 = function () {
        DP(this, this.a, "login")
    };
    f.L9 = function () {
        DP(this, this.w, "forgotemail")
    };
    f.P4 = function () {
        DP(this, this.g, "password")
    };
    f.iU = function (b) {
        13 == b.keyCode && this.JU()
    };
    f.gU = function (b) {
        13 == b.keyCode && this.bU()
    };
    f.P9 = function () {
        DP(this, this.F, "wordverification")
    };
    f.JU = function () {
        var b;
        b = {};
        b[this.a.qa()] = [this.a.G()];
        b[this.g.qa()] = [this.g.G()];
        b = Vi(this.K, b);
        La(b, function (b, d) {
            switch (d) {
                case "login":
                    0 < b.length && EP(this, this.a, d, b);
                    break;
                case "password":
                    0 < b.length && EP(this, this.g, d, b)
            }
        }, this);
        this.K.a && FP(this)
    };
    f.bU = function () {
        var b;
        b = {};
        b[this.w.qa()] = [this.w.G()];
        b[this.F.qa()] = [this.F.G()];
        b = Vi(this.K, b);
        La(b, function (b, d) {
            switch (d) {
                case "forgotemail":
                    0 < b.length && EP(this, this.w, d, b);
                    break;
                case "wordverification":
                    0 < b.length && EP(this, this.F, d, b)
            }
        }, this);
        this.K.a && GP(this)
    };

    function EP(b, c, d, e) {
        var h = b.M(), k;
        c = c instanceof xP ? c.Zc() : c.J();
        b.m = b.m || {};
        b.m[d] ? Js(b.m[d].J()) : b.m[d] = new oO(c, null, h);
        h.append(b.m[d].J(), h.u(D, null, k = h.u(af, null)));
        La(e, function (b) {
            h.append(k, h.u(ve, null, h.u(Le, null, b)))
        }, b);
        K.enable(k, "a-ti-Hg-vi-kd-Zh", 1 < e.length);
        K.enable(c, "a-ti-Hg-vi-kd-Zi", !0)
    }

    function DP(b, c, d) {
        c = c instanceof xP ? c.Zc() : c.J();
        b.m && (b.m[d] && b.m[d].Ma(), delete b.m[d], K.enable(c, "a-ti-Hg-vi-kd-Zi", !1))
    }

    f.vca = function (b) {
        switch (b.target) {
            case this.U.facebook:
                HP(this, "facebook");
                break;
            case this.U.vkontakte:
                HP(this, "vkontakte");
                break;
            case this.U.twitter:
                HP(this, "twitter")
        }
    };

    function FP(b) {
        var c = "username=" + encodeURIComponent(b.a.G()) + "&password=" + encodeURIComponent(b.g.G()) + "&remember=" + encodeURIComponent(b.ob.yn) + "&returnUrl=" + encodeURIComponent(b.N().Zl) + "&format=" + encodeURIComponent("json") + "&version=" + encodeURIComponent("1");
        b.N().iu = !1;
        b.N().uid = !1;
        CP(b, !0);
        Ts(b.$, "");
        PH(b.N().uri + "clientApi/UserAuthenticate/", v(b.K8, b), c)
    }

    f.K8 = function (b) {
        var c, d = !1, e;
        c = y("MSG_SIGN_IN_ERROR_WHILE_SENDING_REQUEST", {}, "Error occurred while sending request");
        b.target.co() ? (e = b.target.Cl().data, b = b.target.Cl().status, d = b.error, c = b ? b.message : c) : d = !0;
        CP(this, !1);
        d ? (Ts(this.$, c), this.g.V(""), this.focus(this.g)) : (this.a.V(""), this.g.V(""), d = e.sid, this.N().iu = d, e = e.uid, this.N().uid = e, this.dispatchEvent("auth"))
    };

    function GP(b) {
        var c = "email=" + encodeURIComponent(b.w.G()) + "&captcha=" + encodeURIComponent(b.F.G()) + "&returnUrl=" + encodeURIComponent(b.N().Zl) + "&format=" + encodeURIComponent("json") + "&version=" + encodeURIComponent("1");
        CP(b, !0);
        Ts(b.$, "");
        PH(b.N().uri + "clientApi/UserForgotPassword/", v(b.O9, b), c, null, null, !0)
    }

    f.O9 = function (b) {
        var c, d = !1,
            e = y("MSG_SIGN_IN_FORGOT_PASSWORD_SENT", {}, "An e-mail with further instructions has been sent to your mailbox");
        c = y("MSG_SIGN_IN_FORGOT_PASSWORD_ERROR_SENDING_REQUEST", {}, "Error occurred while sending request");
        b.target.co() ? (b = b.target.Cl().status, d = b.error, c = b ? b.message : c) : d = !0;
        CP(this, !1);
        d ? (Ts(this.$, c), this.F.V(""), this.focus(this.w)) : (Ls(this.dd), Ls(this.Ea), Ts(this.Sd, e), O(this.Ub, !0), O(this.Ea, !1), this.va.Kc("OK"))
    };

    function HP(b, c) {
        var d = b.N().uri + "auth/service/" + c + "?returnUrl=" + encodeURIComponent(b.N().kx);
        window.onloadSocialResponse = v(b.U$, b);
        Va(d, {width: b.N().R3 + "px", height: b.N().Q3 + "px"})
    }

    f.U$ = function (b) {
        b && (this.N().iu = b, this.dispatchEvent("auth"))
    };

    function IP(b, c) {
        oK.call(this, null, c || fK.Ka(), b);
        this.Ja = new xP(zP, this.Jh, null, this.M());
        this.a = new UM(this.M());
        this.vd(32, !1)
    }

    B(IP, oK);
    f = IP.prototype;
    f.Jh = "";
    f.N = function () {
        this.j || (this.j = {mi: [], placeholder: "Select country"});
        return this.j
    };
    f.tA = function (b) {
        this.N().mi = b;
        this.a && this.a.tA(this.N().mi)
    };
    f.PJ = function () {
        return this.N().mi
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        var c = this.M();
        IP.P.ua.call(this, b);
        c.append(b, this.$n = c.u(D, "a-N-O-Ih-mh-Y", this.m = c.u(D, "mg-zg-vg-Bg")))
    };
    f.oa = function () {
        IP.P.oa.call(this);
        this.Ja.T(this.$n);
        this.Na = this.a.Sn();
        this.Ja.setAttribute("placeholder", this.N().placeholder);
        this.g = new gH(this.Ja.Zc(), 9, !1, !0);
        this.S().C(window, "resize", this.FC).C(this.Ja, "mousedown", this.ZT).C(this.m, "mousedown", function (b) {
            b.stopPropagation()
        }).C(this.m, "click", this.ZT).C(ct(this.M()), "mousedown", this.XT).C(this.Ja.vi(), "input", this.Z9).C(this.Ja.Hp(), "key", this.b$).C(this.Na, "select", function (b) {
            this.rc = b.target.hc().qa();
            this.Ja.V(b.target.hc().qa().$s());
            this.Ja.blur();
            this.a.Z(!1);
            this.a.Zh("");
            this.Ja.Zc().setSelectionRange(0, 0);
            this.dispatchEvent("change")
        })
    };
    f.ED = function () {
        return this.Ja
    };
    f.ZT = function (b) {
        JP(this);
        if (this.a.Wa()) this.XT(); else {
            this.a.Z(!0);
            this.a.Zh("");
            var c = this.Ja.G();
            this.Na.hc() ? this.a.a.sf(this.Na.hc()) : this.a.Tj();
            this.Ja.V(c);
            this.Ja.focus();
            this.FC();
            b.stopPropagation()
        }
    };

    function JP(b) {
        b.a.la || (b.a.T(), b.S().C(b.a.J(), "mousedown", b.I9).C(b.a, "highlight", function (b) {
            b = b.target.qa().$s();
            var d = this.Ja.Zc(), e = this.Ja.G().toUpperCase();
            0 < xt(d, !0)[0] && (e = e.substring(0, xt(d, !0)[0]));
            0 != b.indexOf(e) && (e = "");
            uP(d, b);
            var h = e.length;
            if (tt(d)) d.selectionStart = h, d.selectionEnd = h; else if (ut()) {
                var h = wt(d, h), k = d.createTextRange();
                k.collapse(!0);
                k.move("character", h);
                k.select()
            }
            st(d, e.length);
            yt(d, b.length)
        }))
    }

    f.I9 = function (b) {
        b.stopPropagation()
    };
    f.XT = function () {
        this.a.la && this.a.Wa() && (this.a.Z(!1), this.a.Zh(""), this.Na.hc() ? this.Ja.V(this.Na.hc().qa().$s()) : this.Ja.V(""), this.Ja.Zc().setSelectionRange(0, 0))
    };
    f.Z9 = function () {
        JP(this);
        this.a.Wa() || (this.a.Z(!0), this.a.Zh(""), this.FC());
        this.Jh = this.Ja.G();
        this.a.Zh(this.Jh);
        var b = this.Ja.G();
        this.a.Tj();
        this.Ja.V(b);
        this.FC()
    };
    f.b$ = function (b) {
        JP(this);
        switch (b.keyCode) {
            case 27:
                this.a.Z(!1);
                this.a.Zh("");
                this.Na.hc() ? this.Ja.V(this.Na.hc().qa().$s()) : this.Ja.V("");
                this.Ja.blur();
                break;
            case 40:
            case 38:
                this.a.Rg(b);
                this.Ja.focus();
                this.Ja.Zc().setSelectionRange(0, this.Ja.G().length);
                break;
            case 13:
                this.a.Rg(b)
        }
    };
    f.FC = function () {
        this.a.la && this.g.xe(this.a.J(), 8, void 0, this.a.ie())
    };
    f.G = function () {
        return this.rc
    };

    function KP(b, c) {
        jx.call(this, b);
        Oa.call(this, c, this.N())
    }

    B(KP, jx);
    KP.prototype.N = function () {
        this.j || (this.j = {DV: !0});
        return this.j
    };
    KP.prototype.Vr = function (b) {
        b = b.u(Ve, this.uv().join(" ") + " a-N-Rh-B-Yh-re-Zh", this.AQ = b.u(D, null, this.$n = b.u(D, ["a-N-Rh-B-Yh-Y", "a-N-Rh-B-Ph-Yh-Y"], b.u(D, ["a-N-Rh-B-Yh", "a-N-Rh-B-Ph-Yh"], this.Baa = b.u(D, null))), this.n4 = b.u(D, "a-N-Rh-B-Yh-ab-L", this.kl.Nb()), this.qC = b.u(D, "a-N-Rh-B-Yh-ab-bi", "\u00d7"), this.m4 = b.u(D, "a-N-Rh-B-Yh-ab-ci-di")));
        this.Ja = new xP;
        this.Ja.T(this.Baa);
        this.Ja.setAttribute("placeholder", this.kl.Nb());
        K.enable(this.AQ, "a-N-Rh-V-hb-S", this.N().DV);
        O(this.$n, !1);
        O(this.qC, !1);
        this.S().C(this.AQ,
            "click", this.tU).C(this.qC, "click", this.tU).C(this.Ja.vi(), "input", function () {
            this.dispatchEvent("change")
        });
        return b
    };
    KP.prototype.tU = function (b) {
        var c = b.target != this.qC;
        O(this.n4, !c);
        O(this.qC, c);
        K.enable(this.m4, "a-N-Rh-B-Yh-ab-ci-di-wg", c);
        O(this.$n, c);
        c ? this.Ja.focus() : (this.Ja.V(""), this.dispatchEvent("change"));
        b.stopPropagation()
    };

    function LP(b) {
        YH.call(this, b);
        this.gj = []
    }

    B(LP, YH);
    f = LP.prototype;
    f.N = function () {
        this.j || (this.j = {mi: [], ly: [], Bn: null, code: null, value: null, maxLength: 15});
        return this.j
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        LP.P.ua.call(this, b);
        var c = this.M();
        K.add(b, "a-N-Di");
        c.append(b, c.u(D, "a-N-Di-X", this.a = c.u(D, "a-N-Di-Ih-Y"), c.u(D, "a-N-Di-mh-X", this.$n = c.u(D, "a-N-Di-mh-Y"))));
        this.tj = new jP;
        this.Ja = new xP
    };
    f.oa = function () {
        LP.P.oa.call(this);
        this.tj.T(this.a);
        this.Ja.T(this.$n);
        MP(this);
        this.N().value ? this.Ja.V(this.N().code + this.N().value) : this.Ja.V(this.N().code);
        this.Ja.setAttribute("maxlength", this.N().maxLength);
        this.g = new gH(this.J(), 9, !1, !0);
        this.S().C(this.tj, "action", this.Q$).C(this.tj, "show", this.R$).C(this.tj.J(), "keypress", this.IU).C(this.Ja.vi(), "input", this.a$).C(this.tj.cc(), "hide", this.T9)
    };
    f.Q$ = function (b) {
        NP(this, b.target.G());
        this.Ja.focus()
    };
    f.R$ = function () {
        this.g.xe(this.tj.cc().J(), 8, void 0);
        this.tj.sw()
    };
    f.EF = null;
    f.rC = 0;
    f.IU = function (b) {
        var c = String.fromCharCode(null != b.charCode ? b.charCode : b.keyCode);
        this.EF == c ? this.rC++ : this.rC = 0;
        var d = this.rC, e = !1, h = !0;
        cI(this.tj.cc(), function (b, l) {
            0 !== (this.pp && this.pp[b.qa()] ? this.pp[b.qa()] : b.qa().toUpperCase()).toLowerCase().indexOf(c.toLowerCase()) || e || (d || (this.tj.cc().Qk(l), e = !0), d--, h = !1)
        }, this);
        0 !== d || h ? this.EF = c : (this.EF = null, this.rC = 0, this.IU(b))
    };
    f.a$ = function () {
        var b = this.Ja.G(), c = "";
        La(this.N().ly, function (d) {
            0 === b.indexOf(d) && d.length > c.length && (c = d)
        }, this);
        this.N().code = c;
        this.N().value = this.Ja.G().substr(c.length);
        NP(this, this.N().mi[this.N().ly.indexOf(this.N().code)]);
        this.dispatchEvent("change")
    };
    f.T9 = function () {
        this.EF = null
    };
    f.Xe = function (b, c) {
        this.N().mi = b;
        this.N().ly = c;
        this.la && MP(this)
    };

    function NP(b, c) {
        var d = b.N().mi.indexOf(c);
        ~d ? (b.N().code || (b.N().value = ""), b.N().Bn = c, b.N().code = b.N().ly[d], b.la && (b.tj.V(b.N().Bn), OP(b), b.N().value ? b.Ja.V(b.N().code + b.N().value) : b.Ja.V(b.N().code), b.dispatchEvent("change"))) : (b.N().Bn = "", b.N().code = "", OP(b))
    }

    f.$s = function () {
        return this.N().Bn
    };
    f.vv = function () {
        return this.N().code
    };
    f.V = function (b) {
        this.N().value = b;
        this.la && (this.Ja.V(b), this.dispatchEvent("change"))
    };
    f.G = function () {
        return this.N().value
    };

    function MP(b) {
        var c = b.N().mi, d = b.N().ly, e = b.M();
        c && ia(c) && !ki(c) && d && ia(d) && !ki(d) && (b.gj && E(b.gj, function (b) {
            this.tj.removeItem(b)
        }, b), E(c, function (b, c) {
            this.tj.bc(this.gj[c] = new zL(e.u(Le, null, e.u(Le, ["a-N-Di-M", Pa[b.toUpperCase()]]), e.u(Le, {
                "class": "a-N-Di-L",
                title: this.pp && this.pp[b] ? this.pp[b] : b.toUpperCase()
            }, this.pp && this.pp[b] ? this.pp[b] : b.toUpperCase()), e.u(Le, "a-N-Di-aj", d[c])), b))
        }, b), b.N().Bn || (b.N().Bn = c[0], b.N().code = d[0]), b.tj.V(b.N().Bn), b.N().value ? b.Ja.V(b.N().code + b.N().value) :
            b.Ja.V(b.N().code), OP(b), K.add(b.tj.cc().J(), "a-N-Di-Ih-zg"))
    }

    function OP(b) {
        var c = b.M(), c = c.u(Le, null, c.u(Le, ["a-N-Di-M", Pa[b.N().Bn.toUpperCase()]]));
        b.tj.Kc(c)
    };

    function PP(b, c) {
        YH.call(this, c);
        Oa.call(this, b, this.N());
        this.U = new Ki;
        this.Ea = new Ad;
        this.Hb = null;
        this.gc = nb(this.g4, 250);
        this.sc = nb(this.f4, 250);
        this.La = this.ob = !0
    }

    B(PP, YH);
    y("MSG_SELECT_COUNTRY", {}, "Select country");
    f = PP.prototype;
    f.N = function () {
        this.j || (this.j = {uri: null, key: null, Zl: null, mi: null, iu: null, uid: null, rx: null, Jy: null});
        return this.j
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        PP.P.ua.call(this, b);
        K.add(b, "a-ti-Hg-wi-xi");
        var c = this.M(), d = y("MSG_CREATE_ACCOUNT_LOADING", {}, "Loading..."),
            e = y("MSG_CREATE_ACCOUNT_LOGIN", {}, "Login"),
            h = y("MSG_CREATE_ACCOUNT_YOUR_NICKNAME", {}, "Your nickname"),
            k = y("MSG_CREATE_ACCOUNT_EMAIL", {}, "E-Mail"),
            l = y("MSG_CREATE_ACCOUNT_CONFIRM_EMAIL", {}, "Confirm E-Mail"),
            p = y("MSG_CREATE_ACCOUNT_COUNTRY", {}, "Country"), q = y("MSG_CREATE_ACCOUNT_PHONE", {}, "Phone"),
            r = y("MSG_CREATE_ACCOUNT_PASSWORD", {}, "Password"), t = y("MSG_CREATE_ACCOUNT_WORD_VERIFICATION",
            {}, "Word verification"),
            u = y("MSG_CREATE_ACCOUNT_WORD_VERIFICATION_RELOAD", {}, "Word verification reload"),
            x = y("MSG_CREATE_ACCOUNT_WORD_VERIFICATION_IMG_LOADING", {}, "Loading..."),
            A = y("MSG_CREATE_ACCOUNT_I_NEED_DEMO", {}, "I need DEMO trading account (optional)"),
            C = y("MSG_CREATE_ACCOUNT_TERMS_OF_USE", {}, "Terms of use"),
            I = y("MSG_CREATE_ACCOUNT_I_AGREE_TO", {}, "I agree to");
        y("MSG_CREATE_ACCOUNT_DOWNLOAD", {}, "Download");
        var N = y("MSG_CREATE_ACCOUNT_REGISTER", {}, "Register");
        this.a = new xP;
        this.w = new xP;
        this.va =
            new xP;
        this.K = new IP;
        this.F = new LP;
        this.g = new xP("password");
        this.ka = new xP;
        this.Rb = new yK;
        this.ia = new yK;
        this.Ub = new uL(N);
        this.a.setAttribute("placeholder", h);
        c.append(b, this.qe = c.u(D, "a-ti-Hg-wi-xi-v-X", c.u(Fe, null, d)), this.$ = c.u(D, "a-ti-Hg-wi-xi-yi-Y"), this.Ya = c.u(D, ["a-ti-Hg-wi-xi-zi-X", "zi-X"], c.u(D, ["a-ti-Hg-wi-xi-Zm-X", "Mh-X"], c.u(te, null, e), this.Ve = c.u(D, ["a-ti-Hg-wi-xi-Zm-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-wi-xi-email-X", "Mh-X"], c.u(te, null, k), this.Yd = c.u(D, ["a-ti-Hg-wi-xi-email-Y", "Mh-Y"])),
            c.u(D, ["a-ti-Hg-wi-xi-confirm-email-X", "Mh-X"], c.u(te, null, l), this.dd = c.u(D, ["a-ti-Hg-wi-xi-confirm-email-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-wi-xi-O-X", "Mh-X"], c.u(te, null, p), this.jd = c.u(D, ["a-ti-Hg-wi-xi-O-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-wi-xi-Yi-X", "Mh-X"], c.u(te, null, q), this.uh = c.u(D, ["a-ti-Hg-wi-xi-Yi-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-wi-xi-Ci-X", "Mh-X"], c.u(te, null, r), this.lf = c.u(D, ["a-ti-Hg-wi-xi-Ci-Y", "Mh-Y"])), c.u(D, ["a-ti-Hg-wi-xi-Si-Ti-X", "Mh-X"], c.u(te, null, t), this.zi = c.u(D, ["a-ti-Hg-wi-xi-Si-Ti-Y",
                "Mh-Y"], this.za = c.u(D, "a-ti-Hg-wi-xi-Si-Ti-hh-ab", x), this.R = c.u(pe, {title: u}))), c.u(D, "a-ti-Hg-wi-xi-Ii-Ji-Ki-X", this.Ee = c.u(D, "a-ti-Hg-wi-xi-Ii-Ji-Ki-Y"), this.Ge = c.u(te, null, A)), c.u(D, "a-ti-Hg-wi-xi-Ii-Li-vf-Mi-X", this.Sd = c.u(D, "a-ti-Hg-wi-xi-Ii-Li-vf-Mi-Y"), this.De = c.u(te, null, I, c.u(Ud, {
                href: this.N().rx,
                target: "_blank"
            }, C))), c.u(D, "a-ti-Hg-wi-xi-Ri-vg-X", this.yi = c.u(D, "a-ti-Hg-wi-xi-Ri-vg-Y"))));
        O(this.qe, !0);
        O(this.Ya, !1)
    };
    f.oa = function () {
        PP.P.oa.call(this);
        this.a.T(this.Ve);
        this.a.fe("login");
        this.w.T(this.Yd);
        this.w.fe("email");
        this.va.T(this.dd);
        this.va.fe("confirmemail");
        this.K.T(this.jd);
        this.K.fe("select");
        this.F.T(this.uh);
        this.F.fe("phone");
        this.g.T(this.lf);
        this.g.fe("password");
        this.ka.T(this.zi);
        this.ka.fe("wordverification");
        this.Rb.T(this.Ee);
        this.ia.T(this.Sd);
        this.ia.fe("iagree");
        this.Ub.T(this.yi);
        this.Rb.yA(this.Ge);
        this.ia.yA(this.De);
        Ui(this.U, "login", ["required", "minlength", "login"], 3);
        Ui(this.U,
            "email", ["required", "email"]);
        Ui(this.U, "confirmemail", ["required", "email", "confirm"]);
        Ui(this.U, "select", ["select"]);
        Ui(this.U, "phone", ["required", "numeric", "minlength"], 5);
        Ui(this.U, "password", ["required", "minlength"], 8);
        Ui(this.U, "wordverification", ["required"]);
        Ui(this.U, "iagree", ["checked"]);
        this.S().C(this.a.vi(), "input", this.L4).C(this.w.vi(), "input", this.J9).C(this.va.vi(), "input", this.a9).C(this.K, "change", this.f9).C(this.F, "change", this.C$).C(this.g.vi(), "input", this.M4).C(this.ka.vi(),
            "input", this.haa).C(this.R, "click", this.XQ).C(this.R, "load", this.K4).C(this.ia, "action", this.V9).C(this.Ub, "action", this.I$)
    };
    f.focus = function () {
        var b = window.scrollX, c = window.scrollY;
        this.a.focus();
        window.scrollTo(b, c);
        this.XQ()
    };
    f.XQ = function () {
        this.Ea.reset();
        this.Ea.update(Math.random().toString());
        this.Hb = Gj(this.Ea.digest());
        O(this.za, !0);
        O(this.R, !1);
        this.R.setAttribute("src", this.N().uri + "captcha/register/?" + this.Hb)
    };
    f.K4 = function () {
        O(this.za, !1);
        O(this.R, !0)
    };
    f.L4 = function () {
        QP(this, this.a, "login");
        3 <= this.a.G().length && Ti.test(this.a.G()) && (this.ob = !0, this.gc())
    };
    f.g4 = function () {
        var b = "username=" + encodeURIComponent(this.a.G()) + "&format=" + encodeURIComponent("json");
        PH(this.N().uri + "clientApi/IsUsernameFree/", v(this.n$, this), b)
    };
    f.n$ = function (b) {
        b = b.target.Cl();
        var c = y("MSG_LOGIN_ALREADY_IN_USE", {}, "Login is already in use");
        b.data || (this.ob = !1, RP(this, this.a, this.a.qa(), [c]))
    };
    f.J9 = function () {
        QP(this, this.w, "email");
        this.w.G() && Si.test(this.w.G()) && (this.La = !0, this.sc())
    };
    f.f4 = function () {
        var b = "email=" + encodeURIComponent(this.w.G()) + "&format=" + encodeURIComponent("json");
        PH(this.N().uri + "clientApi/IsEmailFree/", v(this.K9, this), b)
    };
    f.K9 = function (b) {
        b = b.target.Cl();
        var c = y("MSG_EMAIL_ALREADY_IN_USE", {}, "E-mail is already in use");
        b.data || (this.La = !1, RP(this, this.w, this.w.qa(), [c]))
    };
    f.a9 = function () {
        QP(this, this.va, "confirmemail")
    };
    f.f9 = function () {
        QP(this, this.K.ED(), "select");
        this.F.G() || NP(this.F, this.K.G().vv())
    };
    f.C$ = function () {
        QP(this, this.F, "phone")
    };
    f.M4 = function () {
        QP(this, this.g, "password")
    };
    f.haa = function () {
        QP(this, this.ka, "wordverification")
    };
    f.V9 = function () {
        QP(this, this.ia, "iagree")
    };
    f.I$ = function () {
        if (SP(this) && this.ob && this.La) {
            var b = "username=" + encodeURIComponent(this.a.G()) + "&password=" + encodeURIComponent(this.g.G()) + "&email=" + encodeURIComponent(this.w.G()) + "&captcha=" + encodeURIComponent(this.ka.G()) + "&territory_code=" + encodeURIComponent(this.K.G() ? this.K.G().vv() : "") + "&phone=" + encodeURIComponent(this.F.vv() + this.F.G()) + "&returnUrl=" + encodeURIComponent(this.N().Zl) + "&format=" + encodeURIComponent("json") + "&version=" + encodeURIComponent("1");
            TP(this, !0);
            Ts(this.$, "");
            return PH(this.N().uri +
                "clientApi/UserRegister/", v(this.J$, this), b, null, null, !0)
        }
        var c = Rs(this.J()), d = c.scrollTop, e = setInterval(function () {
            0 >= d && (c.scrollTop = 0, clearInterval(e));
            c.scrollTop -= 20;
            d = c.scrollTop
        }, 10)
    };

    function TP(b, c) {
        c && ht(b.qe, {bottom: -1 * Rs(b.J()).scrollTop + "px"});
        O(b.qe, c);
        K.enable(b.Ya, "a-ti-Hg-wi-xi-Ai", c)
    }

    f.J$ = function (b) {
        var c, d = !1, e;
        c = y("MSG_CREATE_ACCOUNT_ERROR_WHILE_SENDING_REQUEST", {}, "Error occurred while sending request");
        b.target.co() ? (e = b.target.Cl().data, b = b.target.Cl().status, d = b.error, c = b ? b.message : c) : d = !0;
        TP(this, !1);
        d ? (Ts(this.$, c), this.focus()) : (d = e.sid, this.N().iu = d, e = e.uid, this.N().uid = e, this.dispatchEvent("register"))
    };

    function SP(b) {
        var c;
        c = {};
        c[b.a.qa()] = [b.a.G()];
        c[b.w.qa()] = [b.w.G()];
        c[b.va.qa()] = [b.va.G(), b.w.G()];
        c[b.K.qa()] = [b.K.G() ? b.K.G().vv() : ""];
        c[b.F.qa()] = [b.F.G()];
        c[b.g.qa()] = [b.g.G()];
        c[b.ka.qa()] = [b.ka.G()];
        c[b.ia.qa()] = [b.ia.yn];
        c = Vi(b.U, c);
        La(c, function (b, c) {
            switch (c) {
                case "login":
                    0 < b.length && RP(this, this.a, c, b);
                    break;
                case "email":
                    0 < b.length && RP(this, this.w, c, b);
                    break;
                case "confirmemail":
                    0 < b.length && RP(this, this.va, c, b);
                    break;
                case "select":
                    0 < b.length && RP(this, this.K.ED(), c, b);
                    break;
                case "phone":
                    0 <
                    b.length && RP(this, this.F, c, b);
                    break;
                case "password":
                    0 < b.length && RP(this, this.g, c, b);
                    break;
                case "wordverification":
                    0 < b.length && RP(this, this.ka, c, b);
                    break;
                case "iagree":
                    0 < b.length && RP(this, this.ia, c, b)
            }
        }, b);
        return b.U.a
    }

    function RP(b, c, d, e) {
        var h = b.M(), k;
        c = c instanceof xP ? c.Zc() : c.J();
        b.m = b.m || {};
        b.m[d] ? Js(b.m[d].J()) : b.m[d] = new oO(c, null, h);
        h.append(b.m[d].J(), h.u(D, null, k = h.u(af, null)));
        La(e, function (b) {
            h.append(k, h.u(ve, null, h.u(Le, null, b)))
        }, b);
        K.enable(k, "a-ti-Hg-wi-xi-Zh", 1 < e.length);
        K.enable(c, "a-ti-Hg-wi-xi-Zi", !0)
    }

    function QP(b, c, d) {
        c = c instanceof xP ? c.Zc() : c.J();
        b.m && (b.m[d] && b.m[d].Ma(), delete b.m[d], K.enable(c, "a-ti-Hg-wi-xi-Zi", !1))
    }

    f.fk = function (b) {
        this.N().uri = b
    };
    f.tA = function (b) {
        this.N().mi = b;
        UP(this);
        this.xH()
    };
    f.Ev = function () {
        return this.N().iu
    };
    f.XD = function () {
        return this.N().uid
    };

    function UP(b) {
        b.M();
        var c = {}, d = [], e = [];
        La(b.N().mi, function (b, k) {
            b.phonecode && (e.push(k), d.push(b.phonecode), c[k] = b.name)
        }, b);
        b.K.tA(c);
        b.F.pp = c;
        b.F.Xe(e, d)
    }

    f.xH = function () {
        var b = !!this.N().mi;
        O(this.qe, !b);
        O(this.Ya, b)
    };

    function VP(b, c, d) {
        oK.call(this, null, c || WP.Ka(), d);
        this.bp = {};
        this.an(!0);
        this.V(b)
    }

    B(VP, oK);
    f = VP.prototype;
    f.vi = function (b) {
        return this.Sp || (this.Sp = new mH(b))
    };
    f.eN = function () {
        setTimeout(v(function () {
            if (this.la) {
                var b = XP(this.J());
                b.focus();
                b.setSelectionRange(0, this.G().length)
            }
        }, this), 0)
    };
    f.V = function (b) {
        this.rc = b;
        "undefined" !== typeof this.rc && this.Kc(this.rc.toString())
    };
    f.G = function () {
        return this.fc().G(this.J())
    };
    f.setAttribute = function (b, c) {
        this.bp[b] = c;
        this.la && this.fc().setAttribute(this.J(), b, c)
    };
    f.Xy = function () {
        return this.bp
    };
    f.oa = function () {
        VP.P.oa.call(this);
        var b = this.vi(XP(this.J()));
        this.S().C(XP(this.J()), Ta(Jt), function (b) {
            this.dispatchEvent(b)
        }).C(b, "input", function (b) {
            this.dispatchEvent(b)
        })
    };

    function WP() {
    }

    B(WP, VJ);
    ea(WP);
    f = WP.prototype;
    f.xa = function () {
        return "a-N-dm"
    };
    f.u = function (b) {
        var c = b.M(), d = {};
        dK(b, 1) && (d.disabled = "disabled");
        jh(d, b.Xy());
        d = c.u(D, this.fg(b).join(" "), c = c.u(Te, d));
        uP(c, b.Ob());
        bK(this, b, d);
        return d
    };

    function XP(b) {
        return (qs(Te, null, b) || [])[0]
    }

    f.setAttribute = function (b, c, d) {
        (b = XP(b)) && b.setAttribute(c, d)
    };
    f.G = function (b) {
        return tP(XP(b))
    };
    f.Kc = function (b, c) {
        var d = XP(b);
        d && uP(d, c)
    };
    f.pg = function (b, c, d) {
        WP.P.pg.call(this, b, c, d);
        b.la && 1 === c && sP(XP(b.J()), d)
    };

    function YP(b, c, d, e, h) {
        oK.call(this, null, e || ZP.Ka(), d);
        this.a = h;
        this.qf = c || $P;
        this.an(!0);
        this.setDate(b || new Date, this.a)
    }

    B(YP, oK);
    var $P = "HH:mm", aQ = {vg: 0, fh: 2, max: 23}, bQ = {vg: 3, fh: 5, max: 59}, cQ = {vg: 6, fh: 8, max: 59}, dQ = {};
    dQ.HH = [aQ];
    dQ[$P] = [aQ, bQ];
    dQ["HH:mm:ss"] = [aQ, bQ, cQ];
    dQ["HH:mm:ss.SSS"] = [aQ, bQ, cQ, {vg: 9, fh: 12, max: 999}];
    var eQ = {vg: NaN, fh: NaN, max: NaN};
    f = YP.prototype;
    f.qf = "HH:mm:ss";
    f.setDate = function (b, c) {
        this.V(Vh(b.getTime(), c))
    };
    f.V = function (b) {
        this.rc = b;
        this.Kc(fQ(this, this.rc))
    };
    f.Kc = function (b) {
        YP.P.Kc.call(this, b)
    };

    function fQ(b, c) {
        var d = ud(dQ[b.qf], function (b, c) {
            return Math.max(b, c.fh)
        }, 0);
        return Uh(c).substr(0, d)
    }

    f.G = function () {
        var b = this.fc().G(this.J());
        return {yg: gQ(this, 0, b) || 0, Dg: gQ(this, 1, b) || 0, Gg: gQ(this, 2, b) || 0, Iz: gQ(this, 3, b) || 0}
    };

    function gQ(b, c, d) {
        b = dQ[b.qf][c] || eQ;
        return parseInt(d.substring(b.vg, b.fh), 10)
    }

    f.hT = function (b) {
        for (var c = dQ[this.qf], d = 0, e = c.length; d < e; d++) {
            var h = c[d];
            if (h.vg >= b) return h
        }
    };
    f.w7 = function (b) {
        for (var c = dQ[this.qf], d = c.length; 0 < d--;) {
            var e = c[d];
            if (e.fh <= b) return e
        }
    };
    f.B7 = function (b) {
        return b.vg
    };
    f.C7 = function (b) {
        return b.fh - 1
    };
    f.oa = function () {
        YP.P.oa.call(this);
        var b = this.fc().Zc(this.J()), c = this.Hp();
        c.Hf(b, !0);
        this.S().C(c, "key", this.r9).C(c, "key", this.J8)
    };
    f.r9 = function (b) {
        var c = this.fc().Zc(this.J());
        switch (b.keyCode) {
            case 37:
            case 39:
            case 40:
            case 38:
            case 9:
                return
        }
        var d = jf[b.keyCode], e = 0, h = xt(c, !0)[0], k = v(this.hT, this), l = v(this.B7, this);
        if (xt(c, !0)[0] == xt(c, !1)[1]) {
            8 == b.keyCode && (--h, e = -1, k = v(this.w7, this), l = v(this.C7, this), b.preventDefault());
            var p;
            a:{
                p = dQ[this.qf];
                for (var q = 0, r = p.length; q < r; q++) {
                    var t = p[q];
                    if (t.vg <= h && t.fh > h) {
                        p = t;
                        break a
                    }
                }
                p = void 0
            }
            if (!p) {
                p = k(h);
                if (!p) {
                    b.preventDefault();
                    return
                }
                h = l(p)
            }
            switch (!0) {
                case 8 == b.keyCode:
                case 46 == b.keyCode:
                    d =
                        "0";
                case !b.shiftKey && 96 <= b.keyCode && 105 >= b.keyCode:
                    d = d.replace(/\D/g, "");
                case !b.shiftKey && 48 <= b.keyCode && 57 >= b.keyCode:
                    k = p;
                    l = tP(c).substring(k.vg, k.fh);
                    p = h - k.vg;
                    l.substring(0, p) + d + l.substring(p + 1) > k.max ? (st(c, k.vg), yt(c, k.fh), zt(c, k.max.toString(10))) : (st(c, h), yt(c, h + 1), zt(c, d));
                    st(c, h + 1 + e);
                    yt(c, h + 1 + e);
                    this.dispatchEvent("change");
                    b.preventDefault();
                    return
            }
        }
        b.preventDefault()
    };
    f.J8 = function (b) {
        var c = this.fc().Zc(this.J());
        if (40 == b.keyCode || 38 == b.keyCode) {
            b.preventDefault();
            var d = 40 === b.keyCode ? -1 : 1, e = xt(c, !0)[0], h;
            a:{
                h = dQ[this.qf];
                for (var k = 0, l = h.length; k < l; k++) {
                    var p = h[k];
                    if (p.vg <= e && p.fh >= e) {
                        h = p;
                        break a
                    }
                }
                h = void 0
            }
            if (!h) {
                h = this.hT(e);
                if (!h) {
                    b.preventDefault();
                    return
                }
                e = h.vg
            }
            l = tP(c);
            k = h.max + 1;
            d = (parseInt(l.substring(h.vg, h.fh)) + d) % k;
            for (d = (0 > d * k ? d + k : d).toString(10); d.length < h.max.toString(10).length;) d = "0" + d;
            st(c, h.vg);
            yt(c, h.fh);
            zt(c, d);
            st(c, e);
            yt(c, e);
            this.dispatchEvent("change");
            b.preventDefault()
        }
    };

    function ZP() {
    }

    B(ZP, VJ);
    ea(ZP);
    f = ZP.prototype;
    f.xa = function () {
        return "a-N-C-mh"
    };
    f.u = function (b) {
        var c = b.M(), d = {value: b.Ob()};
        dK(b, 1) && (d.disabled = "disabled");
        d = c.u(qe, d);
        c = c.u(D, this.fg(b).join(" "), d);
        bK(this, b, c);
        return c
    };
    f.Zc = function (b) {
        return qs(qe, null, b)[0]
    };
    f.setAttribute = function (b, c, d) {
        b && (b = this.Zc(b)) && b.setAttribute(c, d)
    };
    f.G = function (b) {
        return tP(this.Zc(b))
    };
    f.Kc = function (b, c) {
        if (b) {
            var d = this.Zc(b);
            d && uP(d, c)
        }
    };
    f.pg = function (b, c, d) {
        ZP.P.pg.call(this, b, c, d);
        b.la && 1 === c && sP(this.Zc(b.J()), d)
    };

    function hQ(b, c, d, e, h) {
        YH.call(this, e);
        this.w = h;
        this.m = c || new sM(void 0, void 0, this.M());
        this.Va(this.m, !0);
        this.g = d || new YP(void 0, void 0, this.M(), void 0, this.w);
        this.Va(this.g, !0);
        this.a = b || new Date;
        this.m.setDate(this.a);
        this.g.setDate(this.a, this.w)
    }

    B(hQ, YH);

    function iQ(b) {
        b.w = !0;
        b.g.a = !0
    }

    f = hQ.prototype;
    f.al = !1;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        hQ.P.ua.call(this, b);
        K.add(b, "a-N-Fh-mh")
    };
    f.oa = function () {
        hQ.P.oa.call(this);
        this.S().C(this.m, "change", this.m9).C(this.g, "change", this.baa)
    };
    f.m9 = function () {
        this.al || this.setDate(this.m.getDate())
    };
    f.baa = function () {
        if (!this.al) if (this.w) {
            var b = this.g.G();
            this.a.setUTCHours(b.yg, b.Dg, b.Gg, b.Iz)
        } else this.setTime(this.g.G())
    };
    f.setDate = function (b) {
        this.w ? (this.a.setUTCFullYear(b.getFullYear()), this.a.setUTCMonth(b.getMonth()), this.a.setUTCDate(b.getDate())) : (this.a.setFullYear(b.getFullYear()), this.a.setMonth(b.getMonth()), this.a.setDate(b.getDate()))
    };
    f.setTime = function (b) {
        this.a.setHours(b.yg, b.Dg, b.Gg, b.Iz)
    };
    f.G = function () {
        return new Date(this.a)
    };
    f.V = function (b, c) {
        this.al = !0;
        this.a.setTime(b.getTime());
        c ? this.m.setDate(new Date(this.a.getUTCFullYear(), this.a.getUTCMonth(), this.a.getUTCDate())) : this.m.setDate(this.a);
        this.g.setDate(this.a, c);
        this.al = !1
    };/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
    function jQ(b, c) {
        this.Qt = [];
        this.WV = b;
        this.vR = c || null;
        this.jz = this.vl = !1;
        this.Wh = void 0;
        this.WN = this.X3 = this.vI = !1;
        this.tH = 0;
        this.pc = null;
        this.dC = 0;
        this.XI = null;
        if (Error.captureStackTrace) {
            var d = {stack: ""};
            Error.captureStackTrace(d, jQ);
            "string" == typeof d.stack && (this.XI = d.stack.replace(/^[^\n]*\n/, ""))
        }
    }

    f = jQ.prototype;
    f.cancel = function (b) {
        if (this.vl) this.Wh instanceof jQ && this.Wh.cancel(); else {
            if (this.pc) {
                var c = this.pc;
                delete this.pc;
                b ? c.cancel(b) : (c.dC--, 0 >= c.dC && c.cancel())
            }
            this.WV ? this.WV.call(this.vR, this) : this.WN = !0;
            this.vl || this.Ne(new kQ)
        }
    };
    f.CQ = function (b, c) {
        this.vI = !1;
        lQ(this, b, c)
    };

    function lQ(b, c, d) {
        b.vl = !0;
        b.Wh = d;
        b.jz = !c;
        mQ(b)
    }

    function nQ(b) {
        if (b.vl) {
            if (!b.WN) throw new oQ;
            b.WN = !1
        }
    }

    f.uc = function (b) {
        nQ(this);
        lQ(this, !0, b)
    };
    f.Ne = function (b) {
        nQ(this);
        pQ(this, b);
        lQ(this, !1, b)
    };

    function pQ(b, c) {
        b.XI && pa(c) && c.stack && /^[^\n]+(\n   [^\n]+)+/.test(c.stack) && (c.stack = c.stack + "\nDEFERRED OPERATION:\n" + b.XI)
    }

    function az(b, c, d) {
        return BF(b, c, null, d)
    }

    function bz(b, c, d) {
        return BF(b, null, c, d)
    }

    function qQ(b, c, d) {
        return BF(b, c, c, d)
    }

    function rQ(b, c) {
        BF(b, c, function (d) {
            var e = c.call(b, d);
            if (!ca(e)) throw d;
            return e
        }, void 0)
    }

    function BF(b, c, d, e) {
        b.Qt.push([c, d, e]);
        b.vl && mQ(b);
        return b
    }

    f.then = function (b, c, d) {
        var e, h, k = new Mp(function (b, c) {
            e = b;
            h = c
        });
        BF(this, e, function (b) {
            b instanceof kQ ? k.cancel() : h(b)
        });
        return k.then(b, c, d)
    };
    qh(jQ);
    jQ.prototype.qaa = function () {
        return this.vl
    };

    function sQ(b) {
        return ci(b.Qt, function (b) {
            return oa(b[1])
        })
    }

    function mQ(b) {
        if (b.tH && b.vl && sQ(b)) {
            var c = b.tH, d = tQ[c];
            d && (ba.clearTimeout(d.Ib), delete tQ[c]);
            b.tH = 0
        }
        b.pc && (b.pc.dC--, delete b.pc);
        for (var c = b.Wh, e = d = !1; b.Qt.length && !b.vI;) {
            var h = b.Qt.shift(), k = h[0], l = h[1], h = h[2];
            if (k = b.jz ? l : k) try {
                var p = k.call(h || b.vR, c);
                ca(p) && (b.jz = b.jz && (p == c || p instanceof Error), b.Wh = c = p);
                if (rh(c) || "function" === typeof ba.Promise && c instanceof ba.Promise) e = !0, b.vI = !0
            } catch (q) {
                c = q, b.jz = !0, pQ(b, c), sQ(b) || (d = !0)
            }
        }
        b.Wh = c;
        e && (p = v(b.CQ, b, !0), e = v(b.CQ, b, !1), c instanceof jQ ? (BF(c, p,
            e), c.X3 = !0) : c.then(p, e));
        d && (c = new uQ(c), tQ[c.Ib] = c, b.tH = c.Ib)
    }

    function gz(b) {
        var c = new jQ;
        c.uc(b);
        return c
    }

    function sx(b, c, d) {
        if (b instanceof jQ) {
            var e = new jQ;
            BF(b, e.uc, e.Ne, e);
            e.pc = b;
            b.dC++;
            b = az(e, c, d)
        } else b = az(gz(b), c, d);
        return b
    }

    function oQ() {
        Cd.call(this)
    }

    B(oQ, Cd);
    oQ.prototype.message = "Deferred has already fired";
    oQ.prototype.name = "AlreadyCalledError";

    function kQ() {
        Cd.call(this)
    }

    B(kQ, Cd);
    kQ.prototype.message = "Deferred was canceled";
    kQ.prototype.name = "CanceledError";

    function uQ(b) {
        this.Ib = ba.setTimeout(v(this.g, this), 0);
        this.a = b
    }

    uQ.prototype.g = function () {
        delete tQ[this.Ib];
        throw this.a;
    };
    var tQ = {};

    function vQ() {
        this.g = 0
    }

    function wQ(b) {
        var c = b.a - b.F;
        if (0 !== c) {
            for (; c--;) b.m.CB(b.w[b.F++]);
            b.a >= b.g && (b.a = 0);
            b.F = b.a
        }
    }

    function xQ(b, c) {
        wQ(b);
        b.m = null;
        b.m = c
    }

    vQ.prototype.init = function (b) {
        b || (this.a = this.F = 0)
    };

    function yQ(b, c) {
        var d = b.a - c - 1;
        0 > d && (d += b.g);
        return b.w[d]
    }

    function zQ() {
    }

    zQ.prototype.init = function () {
        var b = 5;
        this.g = 0;
        for (this.a = -1; b--;) this.g = this.g << 8 | this.m.wh()
    };

    function AQ(b, c, d) {
        var e = c[d], h = (b.a >>> 11) * e;
        if ((b.g ^ 2147483648) < (h ^ 2147483648)) return b.a = h, c[d] += 2048 - e >>> 5, 0 === (b.a & 4278190080) && (b.g = b.g << 8 | b.m.wh(), b.a <<= 8), 0;
        b.a -= h;
        b.g -= h;
        c[d] -= e >>> 5;
        0 === (b.a & 4278190080) && (b.g = b.g << 8 | b.m.wh(), b.a <<= 8);
        return 1
    }

    function BQ(b, c) {
        for (; c--;) b[c] = 1024
    }

    function CQ(b) {
        this.g = [];
        this.a = b
    }

    CQ.prototype.init = function () {
        BQ(this.g, 1 << this.a)
    };
    CQ.prototype.decode = function (b) {
        for (var c = 1, d = this.a; d--;) c = c << 1 | AQ(b, this.g, c);
        return c - (1 << this.a)
    };

    function DQ() {
        this.g = [];
        this.m = [];
        this.w = [];
        this.F = new CQ(8);
        this.a = 0
    }

    function EQ(b, c) {
        for (; b.a < c; ++b.a) b.m[b.a] = new CQ(3), b.w[b.a] = new CQ(3)
    }

    DQ.prototype.init = function () {
        var b = this.a;
        for (BQ(this.g, 2); b--;) this.m[b].init(), this.w[b].init();
        this.F.init()
    };
    DQ.prototype.decode = function (b, c) {
        return 0 === AQ(b, this.g, 0) ? this.m[c].decode(b) : 0 === AQ(b, this.g, 1) ? 8 + this.w[c].decode(b) : 16 + this.F.decode(b)
    };

    function FQ() {
        this.a = []
    }

    FQ.prototype.init = function () {
        BQ(this.a, 768)
    };

    function GQ() {
    }

    GQ.prototype.init = function () {
        for (var b = 1 << this.a + this.m; b--;) this.g[b].init()
    };

    function HQ() {
        this.w = new vQ;
        this.g = new zQ;
        this.dd = [];
        this.Yd = [];
        this.Sd = [];
        this.De = [];
        this.Ee = [];
        this.jd = [];
        this.R = [];
        this.Ve = [];
        this.Ge = new CQ(4);
        this.Hb = new DQ;
        this.Ub = new DQ;
        this.Rb = new GQ;
        this.ob = this.Ya = -1;
        this.R[0] = new CQ(6);
        this.R[1] = new CQ(6);
        this.R[2] = new CQ(6);
        this.R[3] = new CQ(6)
    }

    HQ.prototype.init = function () {
        var b = 4;
        this.w.init(!1);
        BQ(this.dd, 192);
        BQ(this.jd, 192);
        BQ(this.Yd, 12);
        BQ(this.Sd, 12);
        BQ(this.De, 12);
        BQ(this.Ee, 12);
        BQ(this.Ve, 114);
        for (this.Rb.init(); b--;) this.R[b].init();
        this.Hb.init();
        this.Ub.init();
        this.Ge.init();
        this.g.init()
    };
    window.F = 0;
    HQ.prototype.ka = function () {
        for (var b = 0; 100 > b++ && (0 > this.La || this.K < this.La);) {
            var c;
            a:{
                this.va = this.K & this.uh;
                if (0 === AQ(this.g, this.dd, (this.m << 4) + this.va)) {
                    c = this.Rb;
                    var d = this.K++;
                    this.lf = c.g[((d & c.w) << c.a) + ((this.za & 255) >>> 8 - c.a)];
                    if (7 <= this.m) {
                        c = this.lf;
                        var d = this.g, e = yQ(this.w, this.a), h = 1, k = void 0, l = void 0;
                        do if (k = e >> 7 & 1, e <<= 1, l = AQ(d, c.a, (1 + k << 8) + h), h = h << 1 | l, k !== l) {
                            for (; 256 > h;) h = h << 1 | AQ(d, c.a, h);
                            break
                        } while (256 > h);
                        c = h & 255
                    } else {
                        c = this.lf;
                        d = this.g;
                        e = 1;
                        do e = e << 1 | AQ(d, c.a, e); while (256 > e);
                        c = e & 255
                    }
                    this.za =
                        c;
                    c = this.w;
                    d = this.za;
                    c.w[c.a++] = d;
                    c.a >= c.g && wQ(c);
                    this.m = 4 > this.m ? 0 : this.m - (10 > this.m ? 3 : 6)
                } else {
                    if (1 === AQ(this.g, this.Yd, this.m)) this.F = 0, 0 === AQ(this.g, this.Sd, this.m) ? 0 === AQ(this.g, this.jd, (this.m << 4) + this.va) && (this.m = 7 > this.m ? 9 : 11, this.F = 1) : (0 === AQ(this.g, this.De, this.m) ? this.sc = this.$ : (0 === AQ(this.g, this.Ee, this.m) ? this.sc = this.ia : (this.sc = this.Li, this.Li = this.ia), this.ia = this.$), this.$ = this.a, this.a = this.sc), 0 === this.F && (this.F = 2 + this.Ub.decode(this.g, this.va), this.m = 7 > this.m ? 8 : 11); else if (this.Li =
                        this.ia, this.ia = this.$, this.$ = this.a, this.F = 2 + this.Hb.decode(this.g, this.va), this.m = 7 > this.m ? 7 : 10, this.U = this.R[5 >= this.F ? this.F - 2 : 3].decode(this.g), 4 <= this.U) if (this.gc = (this.U >> 1) - 1, this.a = (2 | this.U & 1) << this.gc, 14 > this.U) {
                        c = this.a;
                        for (var d = this.Ve, e = this.a - this.U - 1, h = this.g, k = this.gc, l = 1, p = 0, q = 0, r = void 0; q < k; ++q) r = AQ(h, d, e + l), l = l << 1 | r, p |= r << q;
                        this.a = c + p
                    } else {
                        c = this.a;
                        d = this.g;
                        e = 0;
                        h = this.gc - 4;
                        for (k = void 0; h--;) d.a >>>= 1, k = d.g - d.a >>> 31, d.g -= d.a & k - 1, e = e << 1 | 1 - k, 0 === (d.a & 4278190080) && (d.g = d.g << 8 | d.m.wh(),
                            d.a <<= 8);
                        c = this.a = c + (e << 4);
                        d = this.Ge;
                        e = this.g;
                        h = 1;
                        l = k = 0;
                        for (p = void 0; l < d.a; ++l) p = AQ(e, d.g, h), h = h << 1 | p, k |= p << l;
                        this.a = c + k;
                        if (0 > this.a) {
                            c = -1 === this.a ? void 0 : !1;
                            break a
                        }
                    } else this.a = this.U;
                    if (this.a >= this.K || this.a >= this.ob) {
                        c = !1;
                        break a
                    }
                    c = this.w;
                    d = this.F;
                    e = c.a - this.a - 1;
                    for (0 > e && (e += c.g); d--;) e >= c.g && (e = 0), c.w[c.a++] = c.w[e++], c.a >= c.g && wQ(c);
                    this.K += this.F;
                    this.za = yQ(this.w, 0)
                }
                c = void 0
            }
            !1 === c && this.Ea.Ne(!1)
        }
        0 > this.La || this.K < this.La ? setTimeout(this.ka, 0) : this.Ea.uc(this.w.m)
    };
    HQ.prototype.decode = function (b, c, d) {
        this.za = this.K = this.Li = this.ia = this.$ = this.a = this.m = 0;
        this.La = d;
        this.g.m = b;
        xQ(this.w, c);
        this.init();
        this.Ea = new jQ;
        this.ka = v(this.ka, this);
        this.ka();
        sx(this.Ea, function () {
            wQ(this.w);
            var b = this.w;
            wQ(b);
            b.m = null;
            this.g.m = null
        }, this);
        return this.Ea
    };

    function IQ(b, c) {
        lM.call(this, void 0, !0, c);
        this.N().uri = b;
        this.DR = JL(JL(new KL, {key: JQ, caption: KQ}, !1, !1), {key: LQ, caption: MQ}, !1, !0);
        this.E5 = JL(JL(new KL, {key: NQ, caption: OQ}, !1, !1), ML, !1, !0);
        YL(this, this.DR);
        this.UB = new jQ;
        this.gI = !1;
        this.JR = new jQ;
        this.D5 = 0;
        this.qu = this.tu = null;
        this.oE = !1;
        this.de = new PQ(this.N().uri, "jsonp");
        this.Jk()
    }

    B(IQ, lM);
    var QQ = y("MSG_DISCLAIMER_HEADER_TITLE", {}, "Disclaimer"),
        RQ = y("MSG_DISCLAIMER_LOADING_ERROR", {}, "Error loading disclaimer. Please reload it."),
        SQ = y("MSG_DISCLAIMER_ACCEPT", {}, "Accept"), TQ = y("MSG_DISCLAIMER_DECLINE", {}, "Decline"),
        UQ = y("MSG_DISCLAIMER_RELOAD", {}, "Reload"), JQ = "accept", LQ = "decline", NQ = "reload", KQ = SQ, MQ = TQ,
        OQ = UQ;
    f = IQ.prototype;
    f.N = function () {
        this.j || (this.j = {uri: null});
        return this.j
    };
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        IQ.P.ua.call(this, b);
        this.tf(QQ);
        b = this.M();
        K.add(this.J(), "a-N-li");
        b.append(this.Aa(), this.vq = b.u(he, "a-N-li-Hg-L", this.tu), this.hO = b.u(Fe, "a-N-li-Hg-mi", this.qu))
    };
    f.oa = function () {
        IQ.P.oa.call(this);
        this.S().C(this.Zi(), "click", v(this.RT, this)).C(this, ZL, this.sh)
    };
    f.Jk = function () {
        this.de.send(null, v(this.v9, this), v(this.u9, this))
    };
    f.v9 = function (b) {
        b.title && b.text ? (this.oE = !1, YL(this, this.DR), this.tu = b.title, this.qu = b.text, this.la && (Ts(this.vq, this.tu), Ts(this.hO, this.qu), this.xe()), this.JR.uc(!0)) : (this.oE = !0, this.tu = "", this.qu = RQ, this.la && (Ts(this.vq, this.tu), Ts(this.hO, this.qu)))
    };
    f.u9 = function () {
        5 <= ++this.D5 ? (this.oE = !0, this.tu = "", this.qu = RQ, this.la && (Ts(this.vq, this.tu), Ts(this.hO, this.qu))) : setTimeout(v(this.Jk, this), 500)
    };
    f.$T = function () {
        this.nz(JQ)
    };
    f.nz = function (b) {
        IQ.P.nz.call(this, b)
    };
    f.sh = function (b) {
        if (b.key === JQ) this.gI = !0, this.UB.uc(!0); else {
            if (b.key === NQ) return this.Jk(), !1;
            this.RT()
        }
    };
    f.RT = function () {
        this.Z(!1);
        this.gI = !1;
        this.UB.Ne(!1);
        this.UB = new jQ
    };
    f.confirm = function (b) {
        if (this.gI || !b) return gz(!0);
        this.oE && (YL(this, this.E5), this.Z(!0));
        sx(this.JR, v(this.Z, this, !0));
        return this.UB
    };

    function VQ(b, c, d, e) {
        function h() {
            if (!r) if (u(k / p), k >= p) t.uc(!0); else {
                for (l = 0; k < p && 1E3 > l; k++, l++) k in b && c.call(d, b[k], k, b);
                setTimeout(h, q)
            }
        }

        var k = 0, l = 0, p = b.length, q = ca(50) ? 50 : 100, r = !1, t = new jQ(function () {
            r = !0
        }), u = e || da;
        h();
        return t
    };

    function WQ() {
        Q.call(this);
        this.Wl = new FileReader;
        this.Wl.onloadstart = v(this.a, this);
        this.Wl.onprogress = v(this.a, this);
        this.Wl.onload = v(this.a, this);
        this.Wl.onabort = v(this.a, this);
        this.Wl.onerror = v(this.a, this);
        this.Wl.onloadend = v(this.a, this)
    }

    B(WQ, Q);
    WQ.prototype.abort = function () {
        try {
            this.Wl.abort()
        } catch (b) {
            throw new kk(b, "aborting read");
        }
    };
    WQ.prototype.getError = function () {
        return this.Wl.error && new kk(this.Wl.error, "reading file")
    };
    WQ.prototype.a = function (b) {
        this.dispatchEvent(new pf(b, this))
    };
    WQ.prototype.Ma = function () {
        WQ.P.Ma.call(this);
        delete this.Wl
    };

    function XQ(b) {
        var c = new WQ, d = YQ(c);
        c.Wl.readAsText(b, void 0);
        return d
    }

    function YQ(b) {
        var c = new jQ;
        b.C("loadend", va(function (b, c) {
            var h = c.Wl.result, k = c.getError();
            null == h || k ? b.Ne(k) : b.uc(h);
            c.Ra()
        }, c, b));
        return c
    };

    function ZQ(b, c) {
        var d = new xq;
        d.IF = b;
        return $Q(d, c)
    }

    function $Q(b, c) {
        var d = c || {}, e = d.document || document, h = zq(b), k = document.createElement(String(Ie)),
            l = {fX: k, Zk: void 0}, p = new jQ(aR, l), q = null, r = null != d.timeout ? d.timeout : 5E3;
        0 < r && (q = window.setTimeout(function () {
            bR(k, !0);
            p.Ne(new cR(dR, "Timeout reached for loading script " + h))
        }, r), l.Zk = q);
        k.onload = k.onreadystatechange = function () {
            k.readyState && "loaded" != k.readyState && "complete" != k.readyState || (bR(k, d.yQ || !1, q), p.uc(null))
        };
        k.onerror = function () {
            bR(k, !0, q);
            p.Ne(new cR(eR, "Error while loading script " + h))
        };
        l = d.attributes || {};
        jh(l, {type: "text/javascript", charset: "UTF-8", src: h});
        us(k, l);
        fR(e).appendChild(k);
        return p
    }

    function fR(b) {
        var c = (b || document).getElementsByTagName(String(ke));
        return !c || ki(c) ? b.documentElement : c[0]
    }

    function aR() {
        if (this && this.fX) {
            var b = this.fX;
            b && b.tagName == Ie && bR(b, !0, this.Zk)
        }
    }

    function bR(b, c, d) {
        null != d && ba.clearTimeout(d);
        b.onload = da;
        b.onerror = da;
        b.onreadystatechange = da;
        c && window.setTimeout(function () {
            Ls(b)
        }, 0)
    }

    var eR = 0, dR = 1;

    function cR(b, c) {
        var d = "Jsloader error (code #" + b + ")";
        c && (d += ": " + c);
        Cd.call(this, d);
        this.code = b
    }

    B(cR, Cd);

    function PQ(b, c) {
        this.bd = new Ka(b);
        this.uQ = c ? c : "callback";
        this.Zk = 5E3;
        this.OV = ""
    }

    var gR = 0;
    PQ.prototype.send = function (b, c, d, e) {
        b = b || null;
        e = e || "_" + (gR++).toString(36) + wa().toString(36);
        var h = "_callbacks___" + e, k = this.bd.clone();
        if (b) for (var l in b) b.hasOwnProperty && !b.hasOwnProperty(l) || xr(k, l, b[l]);
        c && (ba[h] = hR(e, c), xr(k, this.uQ, h));
        c = ZQ(k.toString(), {timeout: this.Zk, yQ: !0});
        bz(c, iR(e, b, d));
        return {Ib: e, yp: c}
    };
    PQ.prototype.cancel = function (b) {
        b && (b.yp && b.yp.cancel(), b.Ib && jR(b.Ib, !1))
    };

    function iR(b, c, d) {
        return function () {
            jR(b, !1);
            d && d(c)
        }
    }

    function hR(b, c) {
        return function (d) {
            jR(b, !0);
            c.apply(void 0, arguments)
        }
    }

    function jR(b, c) {
        var d = "_callbacks___" + b;
        if (ba[d]) if (c) try {
            delete ba[d]
        } catch (e) {
            ba[d] = void 0
        } else ba[d] = da
    };

    function kR(b, c, d) {
        Q.call(this);
        this.bd = b;
        this.Jj = c || "jsonp";
        this.nw = d || {};
        this.Mt();
        this.de = new PQ(this.bd, this.Jj)
    }

    B(kR, Q);
    f = kR.prototype;
    f.Mt = function () {
        this.EQ = {}
    };
    f.PJ = function () {
        return this.EQ
    };
    f.load = function () {
        this.Vj || (this.Vj = new jQ, this.de.send(this.nw, v(this.e9, this), v(this.d9, this)));
        return this.Vj
    };
    f.e9 = function (b) {
        La(b, function (b, d) {
            this.EQ[d] = {code: b.code, name: b.name, currency: b.currency, title: b.title, phonecode: b.phonecode}
        }, this);
        this.dispatchEvent("loaded");
        this.Vj.uc(!0)
    };
    f.d9 = function () {
        this.dispatchEvent("error");
        this.Vj.Ne(!1)
    };

    function lR(b, c) {
        YH.call(this, c);
        Oa.call(this, b, this.N());
        this.re = {};
        this.g = {};
        this.w = this.m = null;
        this.F = new kR(this.N().$I, this.N().uc)
    }

    B(lR, YH);
    var mR = {};
    mR[1] = y("MSG_SIGNIN_TAB_TITLE", {}, "Sign in");
    mR[2] = y("MSG_CREATE_ACCOUNT_TAB_TITLE", {}, "Create account");
    f = lR.prototype;
    f.Gj = 1;
    f.$m = function (b) {
        this.Gj = b;
        this.a && this.re && this.re[this.Gj] && this.a.$m(this.re[this.Gj])
    };
    f.focus = function () {
        this.g[this.a.zS().getName()].focus()
    };
    f.zS = function () {
        return this.Gj
    };
    f.N = function () {
        this.j || (this.j = {
            $I: "//freeserv.dukascopy.com/2.0/?path=common/countries",
            uri: "https://fxcomm-auth.dukascopy.com/",
            Zl: "//freeserv.dukascopy.com/2.0/",
            kx: "//freeserv.dukascopy.com/2.0/?path=fxcomm/social",
            rx: "https://www.dukascopy.com/fxcomm/register/?action=print-terms",
            Jy: "https://www.dukascopy.com/fxcomm/register/?action=download-terms",
            key: null,
            uc: "jsonp"
        });
        return this.j
    };
    f.fk = function (b) {
        this.N().uri = b;
        this.g && this.g[1] && this.g[1].fk(this.N().uri);
        this.g && this.g[2] && this.g[2].fk(this.N().uri)
    };
    f.lN = function (b) {
        this.N().uc = b
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        lR.P.ua.call(this, b);
        var c = this.M(), d = y("MSG_FXCOMM_AUTH_LOADING", {}, "Loading...");
        K.add(b, "a-ti-ui");
        c.append(b, this.Wj = c.u(D, "a-ti-ui-v", c.u(Fe, null, d)));
        this.a = new CI;
        La(mR, function (b, c) {
            this.re[c] = this.a.As(b, c);
            this.g[c] = 1 == c ? new BP({
                uri: this.N().uri,
                key: this.N().key,
                Zl: this.N().Zl,
                kx: this.N().kx
            }) : new PP({uri: this.N().uri, key: this.N().key, Zl: this.N().Zl, rx: this.N().rx, Jy: this.N().Jy})
        }, this);
        this.F.load().then(function () {
            this.g[2].tA(this.F.PJ())
        }, null, this)
    };
    f.oa = function () {
        lR.P.oa.call(this);
        this.a.$m(this.re[this.Gj]);
        II(this.a, Sb.FLOAT);
        JI(this.a, Tb.fI);
        this.a.T(this.Aa());
        nR(this);
        La(this.re, function (b, c) {
            this.g[c].T(b.Ob().J())
        }, this);
        this.S().C(this.a, "change", function () {
            this.focus()
        }).C(this.g[1], "auth", this.L8).C(this.g[2], "register", this.K$);
        O(this.Wj, !0);
        O(this.a.J(), !1)
    };

    function nR(b) {
        var c = "returnUrl=" + encodeURIComponent(b.N().Zl) + "&format=" + encodeURIComponent("json");
        PH(b.N().uri + "clientApi/CheckAuthorization", v(b.Y8, b), c, null, null, !0)
    }

    f.Y8 = function (b) {
        var c, d, e = b.target;
        (ka(e.w) ? e.w : String(e.w)) || (c = b.target.Cl().data, d = b.target.Cl().status);
        O(this.Wj, !1);
        O(this.a.J(), !0);
        this.focus();
        c && !d.error ? (this.cu(!1), this.m = c.sid, this.w = c.uid, this.dispatchEvent("auth")) : (this.cu(!0), this.w = this.m = null)
    };
    f.cu = function (b) {
        O(this.J(), b)
    };
    f.Ev = function () {
        return this.m
    };
    f.XD = function () {
        return this.w
    };
    f.L8 = function () {
        var b = this.g[1];
        this.cu(!1);
        this.m = b.Ev();
        this.w = b.XD();
        this.dispatchEvent("auth")
    };
    f.K$ = function () {
        var b = this.g[2];
        this.cu(!1);
        this.m = b.Ev();
        this.w = b.XD();
        this.dispatchEvent("auth")
    };

    function oR(b, c, d) {
        Q.call(this);
        this.de = new PQ(b, c);
        this.Sh = {};
        d && jh(this.Sh, d);
        this.data = []
    }

    B(oR, cw);
    oR.prototype.load = function (b) {
        this.dispatchEvent("beforeload");
        var c = new jQ, d = {};
        jh(d, this.Sh, b || {});
        this.de.send(d, v(this.l$, this, c), v(this.Hl, this, c));
        return c
    };
    oR.prototype.l$ = function (b, c) {
        b.uc(c);
        this.setData(c);
        this.dispatchEvent("success")
    };
    oR.prototype.Hl = function (b) {
        b.Ne();
        this.setData([]);
        this.dispatchEvent("error")
    };

    function pR(b, c, d) {
        Q.call(this);
        this.bd = b;
        this.Jj = c || "jsonp";
        this.nw = d || {};
        this.Mt();
        this.Ld = qR
    }

    B(pR, Q);
    var qR = "default";
    f = pR.prototype;
    f.Mt = function () {
        this.kg = {};
        this.Sv = {};
        this.ej = [];
        this.eV = [];
        this.mL = {}
    };

    function rR(b, c) {
        c ? b.Ld = c : b.Ld = qR
    }

    f.qh = function () {
        return this.kg
    };
    f.yl = function () {
        return Ta(this.kg)
    };
    f.load = function () {
        if (!this.Vj) {
            this.Vj = new jQ;
            try {
                this.Ld && this.Ld !== qR ? this.Ld(this.nw, v(this.xU, this), v(this.wU, this)) : (this.de = this.de || new PQ(this.bd, this.Jj), this.de.send(this.nw, v(this.xU, this), v(this.wU, this)))
            } catch (b) {
                console.log("Bad transport for instruments -", b)
            }
        }
        return this.Vj
    };
    f.xU = function (b) {
        La(b.instruments, function (b, d) {
            this.kg[d] = new Fi(d, b.title, b.description, b.pipValue, b.volume, b.multiplier, b.name ? b.name : null);
            this.kg[d].xr = b.historical_filename;
            this.kg[d].cC = b.base_currency;
            this.kg[d].EM = b.quote_currency;
            this.kg[d].dL = b.history_start_tick;
            this.kg[d].aL = b.history_start_10sec;
            this.kg[d].bL = b.history_start_60sec;
            this.kg[d].rE = b.history_start_60min;
            this.kg[d].cL = b.history_start_day;
            this.kg[d].gB = b.special;
            this.kg[d].Eo(b.unit)
        }, this);
        La(b.tags || {}, function (b, d) {
            var e =
                Ra(Sa(b.instruments, function (b) {
                    return this.kg[b]
                }, this), function (b) {
                    return b instanceof Fi
                });
            this.mL[d] = new jw(d, b.name, e)
        }, this);
        La(b.groups, function (b, d) {
            var e = b.instruments, h = b.parent, k = b.title, l = [], p;
            if (e) for (var q = 0, r = e.length; q < r; q++) p = e[q], this.kg.hasOwnProperty(p) && l.push(this.kg[p]);
            ki(l) && h || (this.Sv[d] = new ew(k, h ? h : null, l, d), this.ej.push(this.Sv[d]))
        }, this);
        E(this.ej, function (b) {
            b.getParent() ? this.Sv[b.getParent()].Va(this.Sv[b.aa()]) : this.eV.push(this.Sv[b.aa()])
        }, this);
        this.dispatchEvent("loaded");
        this.Vj.uc(!0)
    };
    f.wU = function () {
        this.dispatchEvent("error");
        this.Vj.Ne(!1)
    };

    function sR(b, c, d) {
        return tR(b, c, d)
    }

    function tR(b, c, d) {
        var e = b.Sv[d];
        if (!e) return !1;
        b = e.Fp();
        d = !1;
        if (!ia(b) || ki(b)) b = [e];
        for (var h in b) if (b.hasOwnProperty(h)) {
            var e = b[h].qh(), k;
            for (k in e) if (e.hasOwnProperty(k) && e[k].aa() == c) {
                d = !0;
                break
            }
            if (d) break
        }
        return d
    }

    function DD(b, c) {
        var d = c instanceof Fi ? c.aa() : c;
        return tR(b, d, "FX") && !~d.indexOf("XAU") && !~d.indexOf("XAG")
    }

    function CD(b, c) {
        var d = c instanceof Fi ? c.aa() : c;
        return tR(b, d, "FX") && (!!~d.indexOf("XAU") || !!~d.indexOf("XAG"))
    }

    function GD(b, c) {
        var d = c instanceof Fi ? c.aa() : c;
        return tR(b, d, "VCCY")
    };

    function uR(b) {
        Q.call(this);
        this.bd = null != b ? b : "//freeserv.dukascopy.com/2.0/?path=common/timezones";
        this.EL = [];
        this.FY = new qk("UTC", 0, "", {});
        this.uca = this.FY.aa();
        this.kH = {};
        this.kH[this.uca] = this.FY
    }

    B(uR, Q);
    f = uR.prototype;
    f.load = function () {
        this.de || (this.de = new PQ(this.bd, "jsonp"));
        this.Jk()
    };
    f.Jk = function () {
        this.de.Zk = 5E3;
        this.de.send(null, v(this.j9, this), v(this.JT, this))
    };
    f.j9 = function (b) {
        !b || pa(b) && ch(b) ? this.JT() : (this.EL = Ta(b), vR(this), this.dispatchEvent("loaded"))
    };
    f.JT = function () {
        this.dispatchEvent("error")
    };

    function vR(b) {
        var c = [];
        E(b.EL, function (b) {
            b = new qk(b.title, b.offset, b.hint, b.offsets);
            c.push(b)
        }, b);
        Ec(c, function (b, c) {
            return b.Pb == c.Pb ? wi(b.aa(), c.aa()) : b.Pb - c.Pb
        });
        b.kH = c
    }

    f.gz = function () {
        return this.EL
    };
    new sk("dd.MM.yyyy HH:mm:ss");

    function wR(b, c, d) {
        YH.call(this, c);
        this.zd = b;
        this.Oh = null;
        this.Be = [];
        this.Jh = "";
        this.ej = [];
        this.Na = new SM;
        this.w = void 0 === d ? !1 : d;
        this.F = !1;
        this.ka = nb(this.mda, 250);
        this.va = new xI(this.M())
    }

    B(wR, YH);
    f = wR.prototype;
    f.sG = function (b) {
        this.F = b;
        this.la && K.enable(this.J(), "a-N-Gh-Hh-Bg-Nh", this.F)
    };

    function xR() {
        return "a-N-Gh-Hh-Bg"
    }

    f.u = function () {
        this.ua(this.M().u(D, xR()))
    };
    f.ua = function (b) {
        wR.P.ua.call(this, b);
        b = this.M();
        var c = y("MSG_NO_ITEMS_FOR_CURRENT_FILTER", {}, "No items for current filter");
        this.Qb = new YN(UN, PJ(QN, xR() + "-Hh-Kh"), b);
        this.Qb.Ei(!1);
        this.ia = XJ(WN, xR() + "-Hh");
        this.a = new zK(UJ, PJ(OJ, xR() + "-Jh"), b);
        this.a.Ei(!1);
        this.a.Je(this);
        b.append(this.J(), this.K = b.u(D, xR() + "-Hh-Kh-Y"), this.g = b.u(D, xR() + "-Jh-Y"), this.m = b.u(D, xR() + "-re-Lh-X", c), this.qe = b.u(D, xR() + "-v-X"));
        O(this.m, !1);
        K.enable(this.K, xR() + "-Oh-Yg-vg", this.w);
        this.Qb.T(this.K);
        K.enable(this.J(),
            "a-N-Gh-Hh-Bg-Nh", this.F);
        b.append(this.K, this.R = zs(D, xR() + "-Yg-vg"));
        O(this.R, this.w);
        this.a.T(this.g);
        new IK(this.a, this.g)
    };
    f.oa = function () {
        wR.P.oa.call(this);
        this.va.T(this.qe);
        this.S().C(this.g, "mousedown", function (b) {
            b.type = "mousedown";
            this.dispatchEvent(b);
            b.stopPropagation();
            b.preventDefault()
        }).C(this.qe, "mousedown", function (b) {
            b.type = "mousedown";
            this.dispatchEvent(b);
            b.stopPropagation();
            b.preventDefault()
        }).C(this.Qb, "action", function (b) {
            this.Pk(b.target.qa())
        }).C(this.Na, "select", function (b) {
            yR(this, b.target.hc());
            this.za || (b.type = "select", this.dispatchEvent(b))
        }).C(this.a, "action", function (b) {
            this.Na.og(b.target)
        }).C(this.R,
            "click", function () {
                this.Z(!1);
                this.dispatchEvent("canceled")
            });
        sx(this.zd.load(), function () {
            zR(this);
            AR(this);
            BR(this);
            CR(this);
            this.Oq()
        }, this)
    };

    function yR(b, c) {
        cI(b.a, function (b) {
            b instanceof cN || b.Hi(b.qa().aa() == c.qa().aa())
        })
    }

    f.Rg = function (b) {
        13 !== b.keyCode || ~this.a.Mf || this.a.Tj();
        return this.a.Rg(b)
    };
    f.Z = function (b) {
        O(this.J(), b);
        this.g && O(this.g, !0);
        O(this.qe, !1);
        this.g && (this.g.scrollTop = 0);
        this.dispatchEvent("visibility_change")
    };

    function DR(b) {
        O(b.J(), !0);
        b.g && O(b.g, !1);
        O(b.qe, !0);
        O(b.m, !1);
        b.dispatchEvent("visibility_change")
    }

    f.Wa = function () {
        return qG(this.J())
    };
    f.ie = function () {
        var b = vG(this.Qb.J()), c = vG(this.a.J()), d = vG(this.m), e = vG(this.qe);
        return new Qg(Math.max(Math.min(b.width, vG(this.J()).width), c.width), b.height + c.height + d.height + e.height + 3)
    };
    f.Sn = function () {
        return this.Na
    };
    f.Pk = function (b) {
        b !== this.Oh && (this.Oh = b, AR(this), this.Oq(), this.dispatchEvent("changegroup"))
    };
    var ER = y("MSG_TITLE_FOREX", {}, "Forex"), FR = y("MSG_TITLE_COMMODITIES", {}, "Commodities (CFD)"),
        GR = y("MSG_TITLE_INDICES", {}, "Indices (CFD)"), HR = y("MSG_TITLE_STOCKS", {}, "Stocks (CFD)"),
        IR = y("MSG_TITLE_CRYPTO", {}, "Crypto (CFD)"), JR = y("MSG_TITLE_ETF", {}, "ETF (CFD)"),
        KR = y("MSG_TITLE_BONDS", {}, "Bonds (CFD)"),
        LR = {FX: ER, CMD: FR, IDX: GR, STCK_CFD: HR, VCCY: IR, ETF_CFD: JR, BND_CFD: KR};

    function zR(b) {
        b.Qb.me(!0);
        var c = y("MSG_UI_GROUPED_SELECTOR_TAB_ALL", {}, "All"), c = new XN(c, b.ia, b.M());
        c.fe(null);
        b.Qb.Va(c, !0);
        Sa(b.zd.eV, function (b) {
            var c = LR[b.aa()] || b.Nb(), c = new XN(c, this.ia, this.M());
            c.fe(b);
            this.Qb.Va(c, !0)
        }, b);
        CR(b);
        b.Qb.J().onmousedown = v(b.dispatchEvent, b, "mousedown");
        cI(b.Qb, function (b) {
            b.J().onmousedown = v(this.dispatchEvent, this, "mousedown")
        }, b)
    }

    function AR(b) {
        cI(b.Qb, function (b) {
            b.Hi(b.qa() == this.Oh)
        }, b)
    }

    var MR = y("MSG_INSTRUMENT_TAB_DROPDOWN_COUNT", {}, "Instruments count:");

    function CR(b) {
        if (b.la && (0 != b.Be.length || 0 != b.ej.length)) {
            var c = 0, d = 0;
            cI(b.Qb, function (b) {
                var h = b.qa();
                if (null != h) {
                    var k = Sa(iw(h), function (b) {
                            return b.aa()
                        }), l = ki(this.Be) || 0 < Ra(this.Be, va(ji, k)).length, h = ki(this.ej) || ji(this.ej, h),
                        k = ki(this.Be) ? k.length : Ra(this.Be, va(ji, k)).length;
                    b.Gb(MR + " " + k.toString());
                    d += k;
                    b.Z(l && h);
                    c += b.Wa() ? 1 : 0
                }
            }, b);
            b.Qb.nd(0).Gb(MR + " " + d.toString());
            NR(b, c >= (b.w ? 1 : 2), b.w)
        }
    }

    function OR(b) {
        if (b.la && 0 != b.Be.length) {
            var c = 0, d = [], e = 0;
            cI(b.Qb, function (b) {
                null == b.qa() && (b.Z(!0), 0 == this.Xfa && (this.Pk(null), c += 1))
            }, b);
            cI(b.a, function (b) {
                b instanceof cN || b.Wa() && d.push(b.qa())
            });
            cI(b.Qb, function (b) {
                var k = b.qa();
                null != k && (k = Sa(iw(k), function (b) {
                    if (ji(d, b)) return b.aa()
                }), k = ki(this.Be) ? k.length : Ra(this.Be, va(ji, k)).length, b.Gb(MR + " " + k.toString()), e += k, c += b.Wa() ? 1 : 0)
            }, b);
            b.Qb.nd(0).Gb(MR + " " + e.toString());
            NR(b, c >= (b.w ? 1 : 2), b.w);
            b.Xfa = c
        }
    }

    function NR(b, c, d) {
        d ? c || cI(b.Qb, function (b) {
            b.Z(c)
        }) : (b.Qb.Z(c), K.enable(b.J(), xR() + "-re-Hh-Kh", !c))
    }

    f = wR.prototype;
    f.mda = function (b, c, d) {
        b = b.toLowerCase().replace("/", "");
        if (b == this.Jh) return d();
        this.Jh = b;
        this.Oq();
        c && OR(this);
        d();
        this.g.scrollTop = 0;
        this.Jh ? this.Tj() : PR(this)
    };
    f.St = function (b) {
        this.Be = b;
        this.Oq();
        CR(this)
    };

    function QR(b, c) {
        var d = b.F || null === b.Oh || b.Oh.ZK(c), e = ki(b.ej) || ci(b.ej, function (b) {
                return b.ZK(c)
            }), h = 0 === b.Be.length || -1 < ai(b.Be, c.aa()),
            k = Mh(c.Nb().toLowerCase().replace("/", ""), b.Jh) || Mh(c.Gp().toLowerCase().replace("/", ""), b.Jh);
        return d && e && h && k
    }

    f.Oq = function () {
        if (this.la) {
            var b = 0, c = 0;
            cI(this.a, function (d) {
                if (!(d instanceof cN)) {
                    var e = QR(this, d.qa());
                    this.Jh ? d.Z(e && d.ti() === RR) : 0 < this.Be.length && 20 >= this.Be.length && d.ti() === SR ? d.Z(!1) : d.Z(e);
                    d.Wa() && (d.ti() === SR && c++, d.Kc(d.Ob(this.Jh)), b++)
                }
            }, this);
            this.$.Z(!this.Jh && !!c);
            this.U.Z(!this.Jh && !!c);
            O(this.m, !b)
        }
    };

    function PR(b) {
        cI(b.a, function (b) {
            b instanceof cN || b.sf(!1)
        });
        b.a.Qk(-1)
    }

    f.Tj = function () {
        this.a.Tj()
    };
    f.Nba = "EUR/USD GBP/USD USD/JPY XAU/USD GBP/JPY DUK+/EUR".split(" ");

    function BR(b) {
        b.a.me(!0);
        b.Na.clear();
        b.$ = new cN(TR[SR], b.M());
        b.U = new cN(TR[RR], b.M());
        b.a.Va(b.$, !0);
        b.a.Va(b.U, !0);
        var c = [];
        La(b.zd.qh(), function (b) {
            var d = new UR(b, this.M()), k = this.Nba.indexOf(b.aa());
            ~k && (d.Pk(SR), c[k] = d, d = new UR(b, this.M()));
            this.a.Va(d, !0);
            d.J().onmousedown = v(this.dispatchEvent, this, "mousedown");
            this.Na.bc(d)
        }, b);
        var d = 1;
        E(c, function (b) {
            this.a.el(b, d++, !0)
        }, b)
    }

    function UR(b, c) {
        oK.call(this, null, VR.Ka(), c);
        this.fe(b);
        this.vd(8, !0);
        this.Oh = RR
    }

    B(UR, oK);
    var SR = "popular", RR = "all", TR = {};
    TR[SR] = y("MSG_INSTRUMENT_TAB_DROPDOWN_POPULAR", {}, "Popular");
    TR[RR] = y("MSG_INSTRUMENT_TAB_DROPDOWN_ALL", {}, "All");
    UR.prototype.Ob = function (b) {
        var c = this.M(), d = this.fc().xa();
        return [c.u(Le, d + "-L", WR(b, this.qa().Nb())), c.u(Le, d + "-H", WR(b, this.qa().Gp()))]
    };

    function WR(b, c) {
        return null != b ? za(c.replace(new RegExp("(" + b.split("").join("\\/?").replace(".", "\\.") + ")", "i"), '<span class="i">$1</span>')) : c
    }

    UR.prototype.Pk = function (b) {
        this.Oh = b
    };
    UR.prototype.ti = function () {
        return this.Oh
    };

    function VR() {
    }

    B(VR, VJ);
    ea(VR);
    VR.prototype.xa = function () {
        return "a-N-Gh-Hh-Bg-Jh-Mh"
    };

    function XR(b, c, d) {
        oK.call(this, null, YR.Ka(), c);
        this.zd = b;
        this.K = void 0 === d ? !1 : d;
        this.Ac = new wR(this.zd, this.M(), this.K);
        this.Ja = new xP(zP, this.Jh, null, this.M());
        this.Ja.setAttribute("spellcheck", !1);
        this.vd(32, !1);
        this.Na = this.Ac.Sn();
        this.a = "";
        this.m = !1
    }

    B(XR, oK);
    f = XR.prototype;
    f.pY = !1;
    f.hU = function (b) {
        b.stopPropagation();
        ZR(this);
        this.Ac.la && (this.pY && this.Ac.Wa() ? (this.Ac.Z(!1), this.Ja.V(this.Na.hc().qa().Nb()), this.Ja.blur(), b.preventDefault()) : this.Ac.Wa() || (PR(this.Ac), DR(this.Ac), $R(this), this.Ja.Ba(!1), aS(this, "", v(function () {
            this.Ac.Z(!0);
            $R(this);
            this.Ja.Ba(!0);
            bS(this)
        }, this))))
    };

    function bS(b) {
        b.Ja.focus();
        b.Ja.Zc().setSelectionRange(0, b.Ja.G().length)
    }

    f.sG = function (b) {
        this.Ac.sG(b);
        this.Ac.la && $R(this)
    };

    function ZR(b) {
        b.Ac.la || (b.w ? b.Ac.T(b.w) : b.Ac.T(), b.a && K.enable(b.Ac.J(), b.a, b.m), b.V(b.Sa), $R(b), b.S().C(window, "resize", function () {
            $R(this)
        }).C(b.Ac, "changegroup", function () {
            $R(this)
        }).C(b.Ac, "mousedown", function () {
            this.Ja.focus()
        }).C(b.Ac.J(), "mousedown", function (b) {
            b.stopPropagation()
        }))
    }

    function cS(b, c) {
        b.w = c
    }

    function dS(b, c, d) {
        b.a = c;
        b.m = d;
        b.Ac.la && K.enable(b.Ac.J(), b.a, b.m)
    }

    f.oa = function () {
        XR.P.oa.call(this);
        var b = this.M(), c = y("MSG_INSTRUMENT_TAB_SELECTOR_CLEAR", {}, "Clear");
        b.append(this.J(), this.F = b.u(Le, {title: c}, "\u00d7"));
        this.Ja.T(this.J());
        this.g = new gH(this.Ja.Zc(), 9, !1, !0);
        this.S().C(this.F, "mousedown", function (b) {
            this.Ac.la || ZR(this);
            this.Ja.V("");
            this.Ac && this.Ac.Wa() && (this.Ja.Ba(!1), aS(this, this.Ja.G(), v(function () {
                $R(this);
                this.Ja.Ba(!0)
            }, this)), b.preventDefault(), b.stopPropagation())
        }).C(this.J(), "mousedown", this.hU).C(this.J(), "mouseup", function (b) {
            b.preventDefault();
            b.stopPropagation();
            this.Ac && this.Ac.la && this.Ac.Wa() && bS(this)
        }).C(ct(this.M()), "mousedown", function () {
            this.Ac.la && this.Ac.Wa() && (this.Ac.Z(!1), this.Ja.V(this.Na.hc().qa().Nb()))
        }).C(this.Ja.Hp(), "key", function (b) {
            switch (b.keyCode) {
                case 40:
                case 38:
                case 13:
                    return this.Ac.Rg(b);
                case 27:
                    this.Ja.V(this.Na.hc().qa().Nb()), this.Ja.blur(), this.Ac.Z(!1)
            }
        }).C(this.Ja, "input", function () {
            aS(this, this.Ja.G(), v(function () {
                $R(this)
            }, this))
        }).C(this.Na, "select", function (b) {
            this.rc = b.target.hc().qa();
            this.Ja.V(b.target.hc().qa().Nb());
            this.Ja.blur();
            this.Ac.Z(!1);
            this.dispatchEvent("select")
        })
    };
    f.ED = function () {
        return this.Ja
    };

    function $R(b) {
        b.g.xe(b.Ac.J(), 8, void 0, b.Ac.ie())
    }

    f.Pk = function (b) {
        this.Oh = b;
        this.la && this.Ac.Pk(b)
    };
    f.Jh = "";

    function aS(b, c, d) {
        b.Jh == c ? d() : (b.Jh = c, b.la ? b.Ac.ka(c, !0, d) : d())
    }

    f.St = function (b) {
        this.Be = b;
        this.la && this.Ac.St(b)
    };
    f.G = function () {
        return this.rc
    };
    f.V = function (b) {
        sx(this.zd.load(), function () {
            this.Sa = b;
            this.Ja.V(ka(b) ? b : b.Nb());
            var c = Ra(this.Na.Em(), function (c) {
                return c.qa().aa() === (ka(b) ? b : b.aa())
            }, this)[0];
            c && c != this.Na.hc() && this.Na.og(c)
        }, this)
    };
    f.Sn = function () {
        return this.Na
    };

    function YR() {
    }

    B(YR, VJ);
    ea(YR);
    YR.prototype.xa = function () {
        return "a-N-Gh-Hh-Ih"
    };
    YR.prototype.u = function (b) {
        return b.M().u(D, this.xa() + " mg-ng-og")
    };
    YR.prototype.Kc = function () {
    };
    XR.prototype.Ba = function (b) {
        XR.P.Ba.call(this);
        $t(this.J(), "mousedown");
        b && this.S().C(this.J(), "mousedown", this.hU).C(this.J(), "mouseup", function (b) {
            b.preventDefault();
            b.stopPropagation();
            this.Ac && this.Ac.Wa() && bS(this)
        });
        this.Ja.pg(1, !b)
    };

    function eS(b, c) {
        YH.call(this, c);
        Oa.call(this, b, this.N());
        this.A5 = this.N().Ala || "//freeserv.dukascopy.com/2.0/?path=common/logoLink"
    }

    B(eS, YH);
    f = eS.prototype;
    f.Nw = function (b) {
        this.N().Dk = b;
        this.la && K.enable(this.Aa(), eS.prototype.Hq + "-re-B", !this.N().Dk)
    };
    f.lN = function (b) {
        this.N().uc = b
    };
    f.Hq = "a-N-dn";
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        this.Da = b;
        var c = eS.prototype.Hq;
        K.add(b, c);
        this.N().Dk || K.add(b, c + "-re-B");
        var d = this.M();
        d.append(b, d.u(he, c + "-B", this.AV = d.u(Ud, {
            href: fS(this, Sv(this.gg(), "ibref"), Sv(this.gg(), "logo_url")),
            target: "_blank"
        }, "Dukascopy Swiss Forex Bank and Marketplace"), d.u(Le, c + "-B-L", this.ZS())), this.q4 = d.u(D, c + "-Hg"), d.u(D, c + "-fj-Y", this.s4 = d.u(D, c + "-fj")));
        b = new PQ(this.A5, "jsonp");
        b.Zk = 5E3;
        b.send(null, v(this.t9, this), v(this.s9, this))
    };
    f.t9 = function (b) {
        var c = "//www.dukascopy.com";
        b[Sv(this.gg(), "lang")] && (c = b[Sv(this.gg(), "lang")]);
        gS(this, c)
    };
    f.s9 = function () {
        gS(this, "//www.dukascopy.com")
    };

    function gS(b, c) {
        b.qJ = c;
        var d = Sv(b.gg(), "ibref") && Sv(b.gg(), "logo_url");
        b.AV && !d && (b.AV.href = b.qJ)
    }

    f.Aa = function () {
        return this.q4
    };

    function hS(b, c, d) {
        var e = b.M(), h = b.M();
        c = h.u(D, [eS.prototype.Hq + "-ab", c].join(" "), h.u(Fe, null, d));
        e.append(b.Aa(), c);
        return c
    }

    function fS(b, c, d) {
        return c && d ? "//freeserv.dukascopy.com/2.0/?path=bi/redirect&id=" + d + "&ibref=" + c : b.qJ ? b.qJ : "//www.dukascopy.com"
    };

    function iS(b) {
        Q.call(this);
        null != b && (this.N().uri = b)
    }

    B(iS, Q);
    f = iS.prototype;
    f.N = function () {
        this.j || (this.j = {uri: "//freeserv.dukascopy.com/2.0/?path=common/timezones"});
        return this.j
    };
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.load = function (b) {
        null != b && (this.N().uri = b);
        this.a || (this.a = new uR(this.N().uri));
        this.g || (this.g = new jQ, this.S().C(this.a, "loaded", this.m$).C(this.a, "error", this.Hl), this.a.load());
        return this.g
    };
    f.m$ = function () {
        this.g.uc(this.a)
    };
    f.P5 = 0;
    f.Hl = function () {
        3 <= ++this.P5 ? this.g.Ne(this.a) : this.a.load()
    };

    function jS(b, c) {
        Q.call(this);
        this.bd = b;
        this.o = c;
        this.Kk = [];
        this.R = {};
        this.Sa = this.o.ma();
        this.de = new PQ(this.bd, "jsonp");
        this.de.Zk = 15E3;
        this.U = nb(this.Sfa, 250);
        this.g = new CE(this.o.eb(), this);
        Id(this, this.g);
        this.S().C(this.g, "new", this.v$).C(this.o, ox, this.cj).C(this.o, FJ, this.U8).C(this.o, XI, this.DT);
        this.K = [];
        this.a = [];
        this.w = !0
    }

    B(jS, Q);
    jS.prototype.S = function () {
        this.ic || (this.ic = new fu(this));
        return this.ic
    };
    var DE = "load", KJ = "reset";
    f = jS.prototype;
    f.Ma = function () {
        jS.P.Ma.call(this);
        this.de.cancel(this.F);
        this.de = null;
        delete this.de
    };
    f.Ba = function (b) {
        (this.Za = b) || this.de.cancel(this.F)
    };

    function kS(b) {
        var c = b.Sa.cC, d = b.Sa.EM, e = lS(b.o).vg, h = lS(b.o).fh;
        b.o.Hu ? h = b.o.Hu[1] : h = (new Date).getTime() + b.o.N().initialDataUnitCount * b.o.W().Y();
        b.bd && ((h = mS(b, e, h)) ? (e = h[0], h = h[1], b.F = b.de.send({
            instrumentA: c,
            instrumentB: d,
            since: e,
            until: h,
            description: !1
        }, v(b.Kv, b), v(b.Hl, b)), b.w && b.U(c, d, e, h)) : b.w && b.U(c, d))
    }

    function mS(b, c, d) {
        var e = c, h = d;
        b.m = b.m || [];
        E(b.m, function (b) {
            var c = b[0];
            b = b[1];
            e >= c && e <= b && (e = b);
            h >= c && h <= b && (h = c)
        }, b);
        if (h <= e) return null;
        b.m.push([e, h]);
        return [e, h]
    }

    f.Sfa = function (b, c, d, e) {
        var h = this.o.Qa().t(this.o.pa) - 12E5, k = this.o.Qa().t(this.o.pa + this.o.je().width),
            l = this.o.eb().si() + this.o.W().Y();
        if (l >= h && l <= k && !(d && e && (d <= l - 12E5 - this.o.W().Y() || e >= l))) {
            b = {instrumentA: b, instrumentB: c, since: l - 12E5 - this.o.W().Y(), until: l, description: !1};
            c = !1;
            for (var p in this.a) if (this.a.hasOwnProperty(p) && this.a[p] >= l - 12E5 - this.o.W().Y() && this.a[p] <= l) {
                c = !0;
                break
            }
            c && (this.F = this.de.send(b, v(this.Kv, this), v(this.Hl, this)))
        }
    };
    f.Kv = function (b) {
        var c = this.o.eb().si() + this.o.W().Y();
        b = Ra(b, function (b) {
            return b.time >= c - 12E5 - this.o.W().Y() && b.time <= c || !~this.K.indexOf(b.id)
        }, this);
        E(Sa(b, this.Iba, this), function (b) {
            this.R[b.id] = b
        }, this);
        this.Kk = Ta(this.R);
        Ec(this.Kk, this.yfa);
        this.g.reset();
        this.dispatchEvent(DE);
        this.o.Ia()
    };
    f.yfa = function (b, c) {
        var d;
        d = Yc(b.lt, c.lt);
        d = 0 > d ? 1 : 0 < d ? -1 : d;
        return 0 === d ? wi(b.time, c.time) : d
    };
    f.Iba = function (b) {
        this.K.push(b.id);
        this.a.push(+b.time);
        b.id = b.id;
        b.time = parseInt(b.time, 10);
        b.Cb = new bk(new Date(b.time));
        b.title = b.title;
        b.Bn = b.country;
        b.currency = b.currency;
        b.description = b.description;
        b.lt = ["low", "medium", "high"][b.impact];
        b.hI = b.actual;
        b.lD = b.forecast;
        b.dA = b.previous;
        b.kW = b.periodicity;
        qa(b);
        return b
    };
    f.Hl = function (b) {
        this.jW = b;
        this.dispatchEvent("error")
    };
    f.U8 = function () {
        this.g.init();
        this.Za && kS(this)
    };
    f.DT = function () {
        this.R = {};
        this.Kk.length = 0;
        this.m = [];
        this.K.length = 0;
        this.a.length = 0;
        this.g.reset();
        this.Sa = this.o.ma();
        this.dispatchEvent(KJ);
        this.Za && kS(this)
    };
    f.cj = function () {
        this.Za && kS(this)
    };
    f.v$ = function (b) {
        this.Mu = b.target.Mu;
        this.o.Ia()
    };
    f.nr = function () {
        return this.Kk
    };

    function nS(b, c) {
        PQ.call(this, b, c);
        oS()
    }

    B(nS, PQ);
    var pS = 0;

    function qS(b) {
        return "_callbacks___" + b
    }

    function oS(b) {
        var c = qS("_error");
        1 != b && ba[c] || (ba[c] = da)
    }

    nS.prototype.cancel = function (b) {
        b && (b.yp && b.yp.cancel(), b.Ib && rS(b.Ib, !1))
    };
    nS.prototype.send = function (b, c, d, e) {
        b = b || null;
        e = e || "_" + (pS++).toString(36) + wa().toString(36);
        var h = qS(e), k = this.bd.clone();
        if (b) for (var l in b) b.hasOwnProperty && !b.hasOwnProperty(l) || xr(k, l, b[l]);
        oS(!0);
        c && (ba[h] = sS(e, c), xr(k, this.uQ, h));
        c = {timeout: this.Zk, yQ: !0};
        this.OV && (c.attributes = {nonce: this.OV});
        c = ZQ(k.toString(), c);
        bz(c, tS(e, b, d));
        rQ(c, uS(e));
        return {Ib: e, yp: c}
    };

    function tS(b, c, d) {
        return function () {
            rS(b, !1);
            d && d(c)
        }
    }

    function uS(b) {
        return function () {
            var c;
            (c = ba[qS(b)]) && c()
        }
    }

    function sS(b, c) {
        return function (d) {
            rS(b, !0);
            c.apply(void 0, arguments)
        }
    }

    function rS(b, c) {
        var d = qS(b);
        if (ba[d]) if (c) try {
            delete ba[d]
        } catch (e) {
            ba[d] = void 0
        } else ba[d] = da
    };

    function vS(b, c, d) {
        ez.call(this);
        this.de = new nS(b, c);
        this.H3 = d || {}
    }

    B(vS, ez);
    vS.prototype.request = function (b, c, d, e, h, k, l) {
        b = {Td: b, Eg: c, Mb: d, ne: e, ye: h, wz: !!k, pq: l};
        c = new jQ;
        this.de.send(wS(this, b), v(this.Kv, this, c, b), v(this.Hl, this, c, b));
        return c
    };

    function wS(b, c) {
        var d, e = {};
        d = b.H3;
        var h = c.Td.aa(), k = xS[c.Eg] || "B", l;
        l = c.Mb;
        if (l.Fe() && ug(l.xc()) == zg.a) l = l.lg.toString(10) + "DAY_EET"; else {
            var p;
            if (!(p = yS[l.name])) {
                p = l.lg.toString(10);
                var q = l.xc();
                p += zS[q.a]
            }
            l.Fe() && !Bl(l, rl) && (p += "_EET");
            l = p
        }
        jh(e, d, {instrument: h, offer_side: k, interval: l, last_update: c.ne, splits: b.N().mu});
        b.N().xu && (e.usstocks = !0);
        b.N().UF && (e.with_error = !0, d = b.N().SF) && (e.developer_error = d);
        c.wz && (e.last_tick = !0);
        c.ye && (e.limit = Math.round((c.ye - c.ne) / c.Mb.Y()), c.pq && ("P" == c.pq ? (e.time_direction =
            c.pq, e.timestamp = c.ye, e.last_update && delete e.last_update) : "N" == c.pq && c.ne && (e.time_direction = c.pq, e.timestamp = c.ne, e.last_update && delete e.last_update)));
        return e
    }

    function AS(b, c) {
        return wi(b[0], c[0])
    }

    vS.prototype.Kv = function (b, c, d, e, h, k) {
        var l = !d || 1 == d.length && null == d[0];
        if (h) try {
            (console.error || console.log)("ResponseError: ", h, k || null)
        } catch (p) {
        }
        l ? this.Hl(b, c, {}) : (d.sort(AS), this.dispatchEvent({type: "load", data: d, Tl: c}), b.uc({
            data: d,
            Tl: c,
            qV: e || null
        }))
    };
    vS.prototype.Hl = function (b, c, d) {
        this.dispatchEvent({type: "error", jW: d, Tl: c});
        b.vl || b.Ne({jW: d, Tl: c})
    };
    var yS = {};
    yS[bl.getName()] = "TICK";
    var zS = {};
    zS[wg.a] = "SEC";
    zS[xg.a] = "MIN";
    zS[yg.a] = "HOUR";
    zS[zg.a] = "DAY";
    zS[Ag.a] = "WEEK";
    zS[Bg.a] = "MONTH";
    var xS = {ASK: "A", BID: "B"};

    function BS(b, c, d, e, h, k) {
        jQ.call(this, h, k);
        this.g = b;
        this.a = [];
        this.m = !!c;
        this.R = !!d;
        this.K = !!e;
        for (c = this.F = 0; c < b.length; c++) BF(b[c], v(this.w, this, c, !0), v(this.w, this, c, !1));
        0 != b.length || this.m || this.uc(this.a)
    }

    B(BS, jQ);
    BS.prototype.w = function (b, c, d) {
        this.F++;
        this.a[b] = [c, d];
        this.vl || (this.m && c ? this.uc([b, d]) : this.R && !c ? this.Ne(d) : this.F == this.g.length && this.uc(this.a));
        this.K && !c && (d = null);
        return d
    };
    BS.prototype.Ne = function (b) {
        BS.P.Ne.call(this, b);
        for (b = 0; b < this.g.length; b++) this.g[b].cancel()
    };

    function CS(b) {
        return az(new BS(b, !1, !0), function (b) {
            for (var d = [], e = 0; e < b.length; e++) d[e] = b[e][1];
            return d
        })
    };

    function AF(b, c, d, e, h, k, l, p) {
        Q.call(this);
        this.Ld = b;
        this.wc = c;
        this.Sa = d;
        this.qb = e;
        this.of = h;
        this.Ai = k;
        this.Vf = l;
        this.Pl = p;
        this.ag = new Fp;
        this.vo = !0;
        this.$v = {};
        this.nx = {};
        this.Zv = {};
        this.sV = [];
        this.Ug = null;
        this.fF = 300;
        this.qp = {};
        this.tV = 1E4;
        this.ul = null
    }

    B(AF, Q);
    f = AF.prototype;
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.zh = function (b) {
        this.wc = b
    };
    f.wj = function (b) {
        this.qb = b
    };
    f.Gi = function (b) {
        this.of = b
    };
    f.Vw = function (b) {
        this.Ai = b
    };
    f.fn = function (b) {
        this.Vf = b
    };
    f.Ao = function (b) {
        this.Pl = b
    };
    f.Ie = function (b) {
        this.Sa = b
    };
    f.DA = function (b, c, d, e) {
        this.wc = b;
        this.qb = d;
        this.of = e;
        this.Sa = c
    };
    f.wE = !1;
    f.Rv = !1;
    f.WL = !1;
    f.mW = !1;
    f.Wt = function (b) {
        this.mW = b
    };
    f.Qn = function () {
        return this.mW
    };
    f.rt = function (b, c, d) {
        return this.st(this.Sa, this.of, this.qb, b, c, null != d ? d : !0)
    };

    function nz(b, c, d, e, h, k, l, p) {
        return b.st(c, d, e, h, null != k ? k : null, null != l ? l : !0, p)
    }

    f.st = function (b, c, d, e, h, k, l, p) {
        var q, r, t, u, x, A, C, I, N, S, T, U, Y;
        C = e;
        I = h;
        A = !!h;
        q = Tl(d);
        T = null != l ? l : !1;
        l = null != p ? p : !1;
        S = A ? q : d.Vd(el) || T || this.wE ? bl : el;
        u = DS(this, b, c, d, S, A);
        N = ES(this, b, c, d, S, A);
        p = 1;
        q === bl ? p = +b.dL : q === el ? p = +b.aL : q === gl ? p = +b.bL : q === ml ? p = +b.rE : q === rl && (p = +b.cL);
        t = wa();
        h = !h || h > t ? t : h;
        e = !e || 0 > e ? 1 : e;
        q = Math.abs(h - e);
        e < p && (e = p, h = p + q);
        Y = Cl(S, bl) ? 5E4 : 24E3;
        r = (k ? 2 * Y : Y) * S.Y();
        x = Math.max(this.fF || 300, 300) * S.Y();
        q = Math.abs(h - e);
        (q = Math.max(q, x)) && !isNaN(q) && isFinite(q) || (q = x);
        A && !this.Ug && (this.T3 || h >=
            t) && (I = h = t - 1E4, C = e = h - Math.max(q, x), this.Ug = "<=");
        if (A) if (this.Ug && "<=" == this.Ug) if (u) {
            if (C < u || Math.abs(u - C) < x) h = u, e = h - Math.max(q, Math.abs(h - C))
        } else e = h - q; else {
            if (this.Ug && "=>" == this.Ug) if (N) {
                if (I > N || Math.abs(N - I) < x) e = N, h = e + Math.max(q, Math.abs(e - I))
            } else e = h - q
        } else N ? (e = S.Vd(el) ? 1 : 0, h = (e = T ? 1 : e) ? N : Ql(S, N), q = Math.abs(t - h), e = t - q + e) : (e = vj(S, wa() - 1E4), q = Math.abs(wa() - e), h = e + q);
        A ? (h > t && (h = t), e < p && (e = p), q = Math.abs(h - e), this.Ug && "<=" == this.Ug ? e = q < x ? h - x : q > r ? h - r : e : (h = q > r ? e + r : h, h = q < x ? e + x : h)) : (h = t, q = Math.abs(h -
            e), e = q > r ? h - r : e);
        isNaN(e) && (e = C);
        isNaN(h) && (h = I);
        h > t && (h = t);
        e < p && (e = p);
        A && (q = Math.abs(h - e), this.Ug && "<=" == this.Ug ? q < x && (e = h - x) : this.Ug && "=>" == this.Ug ? q < x && (h == t ? e = h - x : h = e + x) : q < x && (e = h - x));
        this.dispatchEvent(new FS("request", this, e, h));
        A ? U = GS(this, d, e, h, k, Y, l) : U = [{Mb: d.Vd(el) || T || this.wE ? bl : el, ne: e}];
        this.wE = this.Rv = !1;
        h = HS(this, b, c, U, l);
        return l ? sx(new BS(h, !1, !0), function (e) {
            var h = IS(this, b, c, d);
            h && h.Lt();
            return this.eA(b, c, d, T, e)
        }, this) : sx(new BS(h, !1, !0), v(this.eA, this, b, c, d, T))
    };

    function JS(b, c, d, e, h, k, l) {
        if (0 < k.length) {
            c = c + ";" + d + ";" + e + ";" + h;
            d = Cl(h, bl) ? 0 : h.Y();
            l || (d -= b.tV);
            k = $h(k);
            Cl(h, bl) && (b.rV = +new Date, b.sV = pi(k));
            var p;
            h = k[0] + d;
            isFinite(h) && (!(p = b.$v[c]) || p < h) && (b.$v[c] = h)
        }
    }

    function KS(b, c, d, e, h, k, l, p) {
        c = c + ";" + d + ";" + e + ";" + h + ";" + (p ? "true" : "false");
        l && l.length && (d = l[0], d.length && d[0] && isFinite(d[0]) && !isNaN(d[0]) && k && isFinite(k) && !isNaN(k) && (k = d[0] < k ? d[0] : k, b.nx[c] = Math.min(b.nx[c] || k, k), d = l[l.length - 1], d.length && d[0] && isFinite(d[0]) && !isNaN(d[0]) && (k = d[0], b.Zv[c] = Math.max(b.Zv[c] || k, k))))
    }

    function LS(b) {
        b.nx = {};
        b.Zv = {};
        b.Ug = null
    }

    function ES(b, c, d, e, h, k) {
        b.Zv = b.Zv || {};
        return b.Zv[c + ";" + d + ";" + e + ";" + h + ";" + (k ? "true" : "false")] || null
    }

    function DS(b, c, d, e, h, k) {
        b.nx = b.nx || {};
        return b.nx[c + ";" + d + ";" + e + ";" + h + ";" + (k ? "true" : "false")] || null
    }

    function pz(b, c, d, e) {
        var h = -Infinity, k = c + ";" + d + ";" + e + ";";
        La(b.$v, function (b, c) {
            Mh(c, k) && (h = Math.max(b, h))
        }, b);
        return h
    }

    f.Oba = function (b) {
        if (this.vo) {
            var c = b.Tl;
            this.ag.add(c.Td, c.Eg, c.Mb, b.data);
            c.ne && c.ye && this.ag.WM.push(c.Td + c.Eg + c.Mb + c.ne + c.ye)
        }
    };

    function IS(b, c, d, e) {
        var h = c + ";" + d + ";" + e, k;
        jm(b.wc) && (h = h + ";" + b.Ai + ";" + b.Vf + ";" + b.Pl + ";" + b.wc);
        b.qp.hasOwnProperty(h) || (k = MS(b, c, e), Wx(k, c, d, e), b.qp[h] = k);
        return b.qp[h]
    }

    function MS(b, c, d) {
        var e = b.Ai ? b.Ai.xi() : 5, h = b.Vf ? b.Vf : 1, k = b.Pl ? b.Pl : 1;
        switch (b.wc) {
            case 4:
                return new ry(c, d, e, h);
            case 7:
                return new Zx(c, d, h);
            case 6:
                return new Dy(c, d, e);
            case 8:
                return new jy(c, d, k);
            default:
                return Cl(d, bl) ? new Vy : new Wy(d, b.ul)
        }
    }

    function NS(b, c, d, e, h, k) {
        var l = c + ";" + h + ";" + d + ";" + e;
        if (!b.qp.hasOwnProperty(l)) {
            var p = new Wy(d, b.ul);
            p.RY = !0;
            Wx(p, c, h, d);
            b.qp[l] = p
        }
        b = b.qp[l].Nq(e, h, k, !1);
        b.length && !b[b.length - 1].isFinished && b.pop();
        return b
    }

    function OS(b, c) {
        var d = null != c ? c : !1, e = b.Sa + ";" + b.of + ";" + b.qb + ";" + bl;
        b.qp.hasOwnProperty(e) && b.qp[e].Lt();
        IS(b, b.Sa, b.of, b.qb).Lt();
        b.vo || (b.qp = {});
        d && (b.$v = {});
        LS(b)
    }

    f.eA = function (b, c, d, e, h) {
        h = Sa(h, v(this.Jba, this, b, c, d, e));
        var k = [];
        h = ud(h, sf(k.concat, 2), k, k);
        e || Ec(h, function (b, c) {
            return wi(b[0], c[0])
        });
        Cl(d, bl) || ug(d.xc()) === ug(bl.xc()) || (h = ud(h, v(this.eD, this, d.Y()), []));
        if (jm(this.wc)) return h;
        e || !this.vo || d.Fe() || this.ag.add(b, c, d, h);
        return h
    };
    f.dn = function (b) {
        this.vo = b
    };
    f.getData = function () {
        return this.ag.get(this.Sa, this.of, this.qb)
    };
    f.eD = function (b, c, d) {
        if (!jm(this.wc)) for (var e = new Cc, h = c[c.length - 1] || d, k = PS(e, h, b), l = e.getTime(d); k <= l - b;) c.push(e.Xaa(k, h)), k = PS(e, k, b);
        c.push(d);
        return c
    };

    function PS(b, c, d) {
        var e = 0;
        return d == ul.Y() ? (e = c instanceof Object ? new Date(c) : new Date(b.getTime(c)), e.setUTCMonth(e.getUTCMonth() + 1), e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0), e.getTime()) : (c instanceof Object ? b.getTime(c) : c) + d
    }

    f.Jba = function (b, c, d, e, h) {
        function k(b) {
            return t.ne <= b[0] && b[0] <= t.ye
        }

        var l, p, q, r = h[1], t = r.Tl, u = null;
        q = !!t.Gaa;
        h = !!t.ye;
        (p = r.data && r.data.length) && t.ye && ("P" == t.pq ? t.ne = r.data[0][0] || t.ne : "N" == t.pq && (t.ye = $h(r.data)[0] || t.ye));
        t.ne = t.ne || -Infinity;
        t.ye = t.ye || Infinity;
        l = Math.abs(t.ye - t.ne);
        r.qV && t.Mb && (u = r.qV, t.ne = Math.min(t.ne, u));
        this.WL = !1;
        p || !t.wz || u || (this.WL = !0);
        var x = gi(r.data, k), A = ii(r.data, k), x = si(r.data, x, A + 1);
        t.Mb.Vd(el) || (x = ud(x, v(this.eD, this, t.Mb.Y()), []));
        QS(this, !x || !x.length, r.data,
            t.Mb, l);
        l = r.data && p ? [$h(r.data)] : u ? [[u]] : [];
        p = r.data && p ? r.data : u ? [[u], [wa()]] : [];
        q || u && 1 == p.length && p.push([wa()]);
        KS(this, t.Td, t.Eg, d, t.Mb, t.ne, p, h);
        JS(this, t.Td, t.Eg, d, t.Mb, l, e);
        h = IS(this, b, c, d);
        return h instanceof Xx && !Cl(t.Mb, d) ? h.Nq(d, c, NS(this, b, d, t.Mb, c, x), e, x) : h.Nq(t.Mb, c, x, e)
    };

    function QS(b, c, d, e, h) {
        d && d.length && (b.kF = null, c && (c = d[0], d = d[d.length - 1], b.kF = {
            Mb: e + "",
            interval: h,
            startTime: c[0],
            endTime: d[0],
            Cla: d[0] + (e ? e.Y() : 0)
        }))
    }

    function HS(b, c, d, e, h) {
        var k, l = [], p = null != h ? h : !1;
        null != b.Ug && (k = "<=" == b.Ug ? "P" : "N");
        ud(e, function (b, e) {
            0 > e.ne && (e.ne = 1);
            var h;
            h = c + d + e.Mb + e.ne + e.ye;
            var u = this.$v[c + ";" + d + ";" + this.qb + ";" + e.Mb];
            !this.ag.contains(c, d, e.Mb, e.ne, e.ye) && !~this.ag.WM.indexOf(h) || p ? (h = sx(b, va(this.Ld.request, c, d, e.Mb, e.ne, e.ye, !u, k), this.Ld), sx(h, this.Oba, this)) : h = gz({
                data: this.ag.get(c, d, e.Mb, e.ne, e.ye),
                Tl: {Td: c, Eg: d, Mb: e.Mb, ne: e.ne, ye: e.ye, wz: !1, Gaa: !0}
            });
            l.push(h);
            return h
        }, gz(), b);
        return l
    }

    function GS(b, c, d, e, h, k, l) {
        var p = k || 24E3;
        k = Tl(c, b.Rv ? Hl : b.Qn() ? Gl : Fl);
        var q = null != l ? l : !1;
        l = Sl(k.xc());
        l.Yh(c.Fe());
        d = q ? d : vj(l, null != d ? d : wa());
        Ql(l, e);
        var r = c.Fe();
        d = Math.max(d || null, 1);
        var t = [];
        h ? (h = q ? wf(v(c.Vd, k)) : vf(wf(va(Db, bl)), wf(v(c.Vd, k))), h = c.Vd(el) ? [bl] : Ra(b.Rv ? Hl : b.Qn() ? Gl : Fl, h), Cl(c, ul) && (h = Ra(h, function (b) {
            return !Cl(b, bj)
        }))) : h = [k];
        h.reverse();
        var u, x = b.Sa instanceof Fi ? b.Sa.gt() : null;
        ud(h, function (b, c) {
            var d = this.Rv || this.Qn() && Cl(c, ll) ? p / c.gT() : p;
            c.Yh(r);
            if (b) {
                var h = vj(c, e), k = b.ye, h =
                    (h - k) / c.Y(), l;
                for (q && Cl(c, bl) && 1 > h && (h = 1); 1 <= h;) l = u && r && !q ? u.Y() : 0, !$l(k - l, x) && u && r && !q && (l += k - Zl(k)), l = {
                    Mb: c,
                    ne: k - l,
                    ye: k + c.Y() * Math.min(h, d),
                    length: Math.min(h, d)
                }, h -= d, k = l.ye, t.push(l);
                u = c;
                return l || b
            }
        }, {ye: d}, b);
        return t
    }

    function FS(b, c, d, e) {
        cf.call(this, b, c);
        this.ne = d;
        this.ye = e
    }

    B(FS, cf);

    function RS(b, c, d, e, h, k, l, p) {
        AF.call(this, b, c, d, e, h, k, l, p);
        this.ag = new Hp
    }

    B(RS, AF);
    RS.prototype.kb = function () {
        return this.Pd
    };
    RS.prototype.rt = function (b, c, d, e) {
        this.Pd = b;
        var h = this.ag, k = b.oe.Fe() ? "eet" : "", k = b.lc().getName() + k;
        h.zI[k] = h.zI[k] || {};
        h.ag = h.zI[k];
        return this.st(b, this.Sa, this.of, c, d, null != e ? e : !0)
    };
    RS.prototype.st = function (b, c, d, e, h, k) {
        return AF.prototype.st.call(this, c, d, b.oe, e, h, k)
    };
    RS.prototype.eA = function (b, c, d, e, h) {
        return [this.kb(), AF.prototype.eA.call(this, b, c, d, !1, h)]
    };

    function SS(b, c) {
        YH.call(this, c);
        this.j = {
            $N: "downloadify.swf",
            tE: "downloadify.png",
            width: 100,
            height: 30,
            sY: !0,
            dataType: "string",
            enabled: !0,
            filename: null,
            data: null
        };
        Oa.call(this, b, this.j);
        this.a = new $K(this.j.$N, this.M())
    }

    B(SS, YH);
    f = SS.prototype;
    f.Iea = function (b) {
        this.j.$N = b
    };
    f.f5 = function (b) {
        this.j.tE = b
    };
    f.gn = function (b) {
        this.j.width = b;
        this.a && this.a.bi(this.j.width, this.j.height)
    };
    f.zo = function (b) {
        this.j.height = b;
        this.a && this.a.bi(this.j.width, this.j.height)
    };
    f.hfa = function (b) {
        this.j.sY = b;
        this.a && (this.a.zB = b ? "transparent" : "opaque")
    };
    f.zh = function (b) {
        this.j.dataType = b
    };
    f.lda = function (b) {
        this.j.filename = b
    };
    f.setData = function (b) {
        this.j.data = b
    };
    f.Za = !0;
    f.u = function () {
        this.Da = this.M().u(D, "a-ql")
    };
    f.oa = function () {
        SS.P.oa.call(this);
        oa(this.j.filename) ? this.m = this.j.filename : this.j.filename && (this.filename = this.j.filename);
        oa(this.j.data) ? this.g = this.j.data : this.j.data && (this.data = this.j.data);
        !1 === this.j.enabled && (this.Za = !1);
        !0 === this.j.sY && (this.a.zB = "transparent");
        var b = {
            downloadifyName: TS.Ka().g,
            objectId: this.aa(),
            width: this.j.width,
            height: this.j.height,
            enabled: this.Za
        };
        this.j.tE && (b.image = this.j.tE);
        this.a.XB = "always";
        this.a.a.addAll(b);
        this.a.bi(this.j.width, this.j.height);
        this.a.Gc(this.J());
        TS.Ka().a[this.aa()] = this
    };
    f.Ba = function (b) {
        this.Za = b;
        var c;
        if (c = this.a) c = this.a, c = c.la && c.J() ? Lr && aL(c).readyState && "complete" == aL(c).readyState || aL(c).readyState && 4 == aL(c).readyState || "PercentLoaded" in aL(c) && 100 == aL(c).PercentLoaded() ? !0 : !1 : !1;
        c && aL(this.a).setEnabled(b)
    };
    f.getData = function () {
        return this.Za ? this.g ? this.g() : this.data ? this.data : "" : ""
    };
    f.Fa = function () {
        return this.j.dataType || "string"
    };
    f.cancel = function () {
        this.dispatchEvent("cancel")
    };
    f.error = function () {
        this.dispatchEvent("error")
    };
    f.aa = function () {
        return this.a.aa()
    };

    function TS() {
        this.a = {};
        this.g = "__" + (wa() + Math.random()).toString(36).replace(".", "");
        ba[this.g] = this
    }

    ea(TS);
    f = TS.prototype;
    f.nT = function (b) {
        return (b = this.a[b]) ? b.getData() : ""
    };
    f.VS = function (b) {
        return (b = this.a[b]) ? b.m ? b.m() : b.filename ? b.filename : "" : ""
    };
    f.HS = function (b) {
        return (b = this.a[b]) ? b.Fa() : ""
    };
    f.cX = function (b) {
        (b = this.a[b]) && b.dispatchEvent("complete")
    };
    f.aX = function (b) {
        (b = this.a[b]) && b.cancel()
    };
    f.dX = function (b) {
        (b = this.a[b]) && b.error()
    };
    f.Gc = function (b, c, d) {
        c = new SS(c, d);
        c.T(b);
        return c
    };
    z("dc.downloadify.Downloadify", TS);
    z("dc.downloadify.Downloadify.getInstance", TS.Ka);
    z("dc.downloadify.Downloadify.prototype", TS.prototype);
    TS.prototype.decorate = TS.prototype.Gc;
    TS.prototype.getTextForSave = TS.prototype.nT;
    TS.prototype.getFileNameForSave = TS.prototype.VS;
    TS.prototype.getDataTypeForSave = TS.prototype.HS;
    TS.prototype.saveComplete = TS.prototype.cX;
    TS.prototype.saveCancel = TS.prototype.aX;
    TS.prototype.saveError = TS.prototype.dX;
    SS.prototype.setSwf = SS.prototype.Iea;
    SS.prototype.setDownloadImage = SS.prototype.f5;
    SS.prototype.setWidth = SS.prototype.gn;
    SS.prototype.setHeight = SS.prototype.zo;
    SS.prototype.setTransparent = SS.prototype.hfa;
    SS.prototype.setDataType = SS.prototype.zh;
    SS.prototype.setFilename = SS.prototype.lda;
    SS.prototype.setData = SS.prototype.setData;

    function US(b, c, d, e) {
        cf.call(this, b, c);
        this.data = d;
        this.uri = e
    }

    B(US, cf);

    function VS(b) {
        Q.call(this);
        this.fk(b)
    }

    B(VS, Q);

    function WS(b) {
        var c = [];
        La(b, function (b, e) {
            c.push(e + "/" + b)
        });
        return c.join("/")
    }

    f = VS.prototype;
    f.fk = function (b) {
        this.uri = b.replace(/\/$/, "") + "/"
    };
    f.cs = function (b, c) {
        var d = this.uri + WS(b);
        switch (c) {
            case "json":
                var e = new KH;
                Xt(e, "success", v(this.h9, this, d));
                Xt(e, "error", v(this.aU, this, d));
                e.send(d);
                return e;
            case "jsonp":
                return XS(this, d, b.callback)
        }
    };

    function XS(b, c, d) {
        d = d.replace("_callbacks___", "");
        var e = v(function (b) {
            setTimeout(v(this.i9, this, c, b), 0)
        }, b);
        b = v(function () {
            setTimeout(v(this.aU, this, c), 0)
        }, b);
        var h = new PQ(c, d);
        h.Zk = 15E3;
        return YS(h.send({}, e, b, d))
    }

    function YS(b) {
        b.Id = function () {
            return !b.yp.qaa.call(b.yp)
        };
        b.abort = v(b.yp.cancel, b.yp, b);
        return b
    }

    f.aU = function (b) {
        this.dispatchEvent(new US(ZS, this, null, b))
    };
    f.h9 = function (b, c) {
        var d = c.target.Cl();
        this.dispatchEvent(new US($S, this, d, b))
    };
    f.i9 = function (b, c) {
        this.dispatchEvent(new US($S, this, c, b))
    };
    var $S = "apidataloaded", ZS = "apidataerror";

    function aT(b, c, d) {
        cf.call(this, b, c);
        b != bT && (this.list = d.languages)
    }

    B(aT, cf);

    function cT(b, c, d) {
        cf.call(this, b, c);
        b != dT && (d.categories && (this.categories = d.categories), d.language && (this.language = d.language))
    }

    B(cT, cf);

    function eT(b, c, d) {
        cf.call(this, b, c);
        b != fT && (this.debug = d.debug, this.news = d.news)
    }

    B(eT, cf);

    function gT(b, c, d, e, h) {
        qv.call(this, b, c, d, e, h)
    }

    B(gT, Nv);
    gT.prototype.G = function () {
        return this.rc
    };
    String.prototype.repeat || (String.prototype.repeat = function (b) {
        if (null == this) throw new TypeError("can't convert " + this + " to object");
        var c = "" + this;
        b = +b;
        b != b && (b = 0);
        if (0 > b) throw new RangeError("repeat count must be non-negative");
        if (Infinity == b) throw new RangeError("repeat count must be less than infinity");
        b = Math.floor(b);
        if (0 == c.length || 0 == b) return "";
        if (268435456 <= c.length * b) throw new RangeError("repeat count must not overflow maximum string size");
        for (var d = "", e = 0; e < b; e++) d += c;
        return d
    });

    function hT(b, c, d) {
        c = "" + c;
        d = "" + d;
        if (c.replace(/\D/g, "").length !== c.length || d.replace(/\D/g, "").length !== d.length) throw Error("Received numbers invalid");
        var e = c.length - d.length;
        0 < e ? d = "0".repeat(e) + d : e && (c = "0".repeat(-1 * e) + c);
        switch (b) {
            case "=":
                return d;
            case ">":
                return c > d;
            case ">=":
                return c >= d;
            case "<":
                return c <= d;
            case "<=":
                return c <= d;
            default:
                throw Error("Invalid comparison operand");
        }
    };

    function iT(b) {
        var c = "", c = y("MSG_LESS_THAN_A_MINUTE_AGO", {}, "less than a minute ago"),
            d = y("MSG_ABOUT_A_MINUTE_AGO", {}, "about a minute ago"),
            e = y("MSG_ABOUT_AN_HOUR_AGO", {}, "about an hour ago");
        b = Math.floor((new Date - b) / 1E3);
        switch (!0) {
            case 60 > b:
                break;
            case 120 > b:
                c = d;
                break;
            case 3600 > b:
                c = y("MSG_N_MINUTES_AGO", {minutes: Math.floor(b / 60)}, "{$minutes} minutes ago");
                break;
            case 7200 > b:
                c = e;
                break;
            default:
                c = y("MSG_ABOUT_N_HOURS_AGO", {hours: Math.floor(b / 3600)}, "about {$hours} hour ago")
        }
        return c
    };

    function jT(b) {
        Q.call(this);
        this.gl = new VS(b);
        this.DQ = 20;
        this.$p = void 0;
        this.language = "";
        this.Zr = "jsonp";
        kT(this)
    }

    B(jT, Q);
    f = jT.prototype;
    f.FG = function (b) {
        this.wq = b
    };
    f.xN = function (b) {
        this.DQ = b
    };
    f.AA = function (b) {
        this.$p = b
    };
    f.am = function (b) {
        this.language = b
    };

    function kT(b) {
        b.ov = "";
        b.aF = "";
        b.$p = void 0;
        b.Qz = [];
        $t(b.gl);
        E([b.uk, b.tp], function (b) {
            b && b.Id() && b.abort()
        })
    }

    f.wV = function (b) {
        $t(this.gl);
        E([this.aJ, this.uk, this.tp], function (b) {
            b && b.Id() && b.abort()
        }, this);
        b = lT(this);
        Xt(this.gl, $S, v(this.AK, this));
        Xt(this.gl, ZS, v(this.BK, this));
        this.aJ = this.gl.cs(b, this.Zr)
    };
    f.AK = function (b) {
        if (b.data.result.taxonomy_meta && b.data.result.taxonomy_meta.length) {
            var c = {};
            E(b.data.result.taxonomy_meta, function (b) {
                b.term == mT && (b = b[mT], c[b] = b.toUpperCase())
            });
            this.dispatchEvent(new aT(nT, this, {languages: c}))
        } else this.dispatchEvent(new aT(bT, this))
    };
    f.BK = function () {
        this.dispatchEvent(new aT(bT, this))
    };
    f.xV = function (b) {
        b = b ? b : this.language;
        if (this.aJ && this.aJ.Id()) this.tp && this.tp.Id() && this.tp.abort(); else if (!this.tp || !this.tp.Id()) {
            this.uk && this.uk.Id() && this.uk.abort();
            var c = {data: "menusitems"};
            jh(c, oT(this));
            c.id = pT;
            c.languages = b;
            $t(this.gl);
            Xt(this.gl, $S, v(this.p$, this));
            Xt(this.gl, ZS, v(this.q$, this));
            this.tp = this.gl.cs(c, this.Zr)
        }
    };
    f.q$ = function () {
        this.dispatchEvent(new cT(dT, this))
    };
    f.p$ = function (b) {
        var c = {}, d = {}, e = {"": ""}, h = [];
        b.data.result[pT] ? h = b.data.result[pT][this.language] : console.error("Error - ", b.data.result);
        h && h.length ? (E(h, function (b) {
            "news_sector" === b.term && (d[b.value] = b.title)
        }), d = ch(d) ? e : d, c.categories = d, c.language = this.language, this.dispatchEvent(new cT(qT, this, c))) : this.dispatchEvent(new cT(qT, this, {
            categories: e,
            language: this.language
        }))
    };

    function rT(b) {
        b.uk && b.uk.Id() && b.uk.abort()
    }

    function sT(b, c) {
        b.tp && b.tp.Id() ? b.uk && b.uk.Id() && b.uk.abort() : b.uk && b.uk.Id() || ($t(b.gl), Xt(b.gl, $S, v(b.IK, b)), b.uk = b.gl.cs(c, b.Zr))
    }

    function tT(b) {
        var c = uT(b);
        b.aF && (c.firstid = b.aF);
        sT(b, c)
    }

    function vT(b) {
        var c = uT(b);
        b.ov && (c.lastid = b.ov);
        sT(b, c)
    }

    f.IK = function (b) {
        var c = [];
        b.data.result && b.data.result.news && (c = Ra(b.data.result.news, function (b) {
            return !~this.Qz.indexOf(b.id)
        }, this));
        b.data.result.news = c;
        var d = Sa(c, function (b) {
            return b.id
        });
        if (c.length) try {
            E(d, function (b) {
                hT(">", b, this.aF) && (this.aF = b);
                this.ov = !this.ov || hT("<", b, this.ov) ? b : this.ov
            }, this)
        } catch (e) {
            console.log("Exception", b.uri, e.name, e.message)
        }
        this.Qz = oi(d, this.Qz);
        this.dispatchEvent(new eT(wT, this, b.data.result))
    };

    function lT(b) {
        var c = {data: "taxonomymeta"};
        jh(c, oT(b));
        c.terms = mT;
        return c
    }

    function uT(b) {
        var c = {data: "news"}, d;
        d = [];
        b.$p && "all" !== b.$p.toLowerCase() && d.push("news_sector:" + b.$p);
        d = d.join(",");
        jh(c, oT(b));
        b.language && (c.languages = b.language);
        d && (c.tags = d);
        c.count = b.DQ;
        return c
    }

    function oT(b) {
        var c = {};
        c.token = b.wq;
        c["return"] = b.Zr;
        if ("jsonp" === b.Zr) {
            var d;
            d = 0 < d && 24 >= d ? d : 5;
            d = "j" + Math.random().toString(36).slice(2).substr(0, d - 1);
            c.callback = "_callbacks___" + d
        }
        c.scenario = b.bG;
        return c
    }

    var pT = "mainwebmenu", mT = "language", nT = "languagelistloaded", bT = "languagelistloaderror",
        qT = "metadataloaded", dT = "metadataloaderror", wT = "newsloaded", fT = "newsloaderror";

    function xT(b, c) {
        eS.call(this, b, c);
        this.Cd = new jT(this.N().uri);
        var d = this.N().Zr;
        this.Cd.Zr = d;
        this.Cd.FG(this.N().wq);
        d = this.N().bG;
        this.Cd.bG = d;
        this.Cd.xN(this.N().Pz);
        this.w = {};
        this.fi = {};
        this.K = {};
        this.$ = {};
        this.R = "";
        this.sp = new eI(this.M());
        this.sp.T();
        fI(this.sp, new Zv(["." + yT], [this.cy = new Uv("border", "none", "important")]))
    }

    B(xT, eS);
    var yT = "a-en";
    xT.prototype.Tn = function () {
        this.$r || (this.$r = {minWidth: 300, minHeight: 500});
        return this.$r
    };
    var zT = y("MSG_HEADER_TITLE", {}, "Online News");
    f = xT.prototype;
    f.ZS = function () {
        return zT
    };
    f.N = function () {
        this.j || (this.j = {
            Dk: !1,
            uri: "https://fxspider-test.site.dukascopy.com/fxspider",
            Qba: "https://www.dukascopy.com/fxspider",
            wq: "test",
            bG: "freeserv",
            Pz: 15,
            jF: [],
            fi: [],
            av: "en",
            Zr: "jsonp",
            eba: 528,
            vn: !1,
            Fx: !1,
            xY: 12E4,
            HY: "freeserv"
        });
        return this.j
    };
    f.fk = function (b) {
        this.N().uri = b
    };
    f.FG = function (b) {
        this.N().wq = b
    };
    f.xN = function (b) {
        this.N().Pz = b
    };
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.Nca = function (b) {
        this.N().vn = b;
        this.N().vn ? this.cy.V("1px solid " + this.N().vn) : this.cy.V("none")
    };
    f.ua = function (b) {
        xT.P.ua.call(this, b);
        var c = yT, d = this.M(), e = y("MSG_FXSPIDER_LOADING", {}, "Loading ..."),
            h = y("MSG_FXSPIDER_NO_DATA", {}, "No Data"), k = y("MSG_FXSPIDER_POWERED_BY", {}, "powered by Dukascopy");
        K.add(b, yT);
        this.N().Dk || K.add(b, eS.prototype.Hq + "-re-B");
        d.append(this.Aa(), this.Wj = hS(this, c + "-v-ab", e), this.oo = hS(this, c + "-re-g", h), d.u(D, [c + "-zg-Y"], this.ia = d.u(D, c + "-Vj-mn-zg"), d.u(D, c + "-ln-mn", this.Ya = d.u(D, c + "-fb")), this.ob = d.u(D, c + "-nn-pi", this.La = d.u(D, c + "-ln-on", "EN"), this.va = d.u(D, c + "-nn-zg"))),
            d.u(D, c + "-Vj-Y", this.Lk = d.u(D, c + "-Vj-Kk-cj")));
        d.append(this.s4, d.u(D, c + "-tn-Qb", d.u(Ud, {
            href: AT(this, "https://www.dukascopy.com"),
            target: "_blank"
        }, k)));
        K.enable(this.J(), c + "-un-fi", this.N().Fx)
    };
    f.oa = function () {
        xT.P.oa.call(this);
        O(this.Wj, !0);
        O(this.oo, !1);
        this.S().C(this.Cd, nT, this.AK).C(this.Cd, bT, this.BK).C(this.Cd, qT, this.s$).C(this.Cd, dT, this.r$).C(this.Cd, wT, this.IK).C(this.Cd, fT, this.n5).C(this.Lk, "scroll", v(function () {
            !this.F && .9 <= (this.Lk.offsetHeight + this.Lk.scrollTop) / this.Lk.scrollHeight && BT(this)
        }, this));
        this.Cd.wV()
    };
    f.BK = function () {
        CT(this);
        setTimeout(v(this.Cd.wV, this.Cd), 1E4)
    };

    function DT(b) {
        b.fi = Ug(b.K, function (b, c) {
            return this.N().fi.length ? !!~this.N().fi.indexOf(c) : !0
        }, b);
        var c = Ua(b.fi);
        b.g && $t(b.g);
        ET(b, b.fi);
        b.S().C(b.g, "action", b.j$);
        b.ka.Xe(c, Ta(b.fi));
        ~c.indexOf(b.ka.G()) || b.ka.V(c[0])
    }

    f.AK = function (b) {
        this.K = b.list;
        DT(this);
        this.za.V(Ua(this.fi));
        this.za.Xe(Ua(this.K), Ta(this.K));
        this.am(this.N().av)
    };
    f.vt = !1;

    function BT(b) {
        FT(b);
        rT(b.Cd);
        var c = v(function () {
            .9 > (this.Lk.offsetHeight + this.Lk.scrollTop) / this.Lk.scrollHeight ? (clearInterval(this.F), this.F = !1, GT(this)) : this.vt || (this.vt = !0, vT(this.Cd))
        }, b);
        b.vt || (b.F = setInterval(c, 2E3), c(), b.vt = !0, vT(b.Cd))
    }

    function GT(b) {
        b.U && clearInterval(b.U);
        b.U = setInterval(v(function () {
            tT(this.Cd)
        }, b), b.N().xY)
    }

    f.$U = function () {
        this.vt = !1;
        BT(this)
    };

    function CT(b) {
        O(b.Wj, !1);
        var c = b.Cd;
        c.Qz && c.Qz.length || O(b.oo, !0);
        FT(b)
    }

    function FT(b) {
        E([b.U, b.F], function (b) {
            b && clearInterval(b)
        });
        b.U = !1;
        b.F = !1
    }

    f.r$ = function () {
        CT(this);
        setTimeout(v(this.Cd.xV, this.Cd), 1E4)
    };

    function HT(b) {
        b.m = Ug(b.w, function (b, d) {
            return this.N().jF.length ? !!~this.N().jF.indexOf(d) : !0
        }, b);
        Xg(b.m) || (b.m = b.w);
        b.a && $t(b.a);
        K.enable(b.ia, yT + "-hi", 1 === Xg(b.m));
        IT(b, b.m);
        b.S().C(b.a, "action", b.sU)
    }

    f.s$ = function (b) {
        this.S().wa(this.a, "action", this.sU);
        this.w = b.categories;
        HT(this);
        this.Ea.V(Ua(this.m));
        this.Ea.Xe(Ua(b.categories), Sa(Ta(b.categories), function (b) {
            return b ? b : "All"
        }));
        this.a.nd(0).Tb(!0);
        this.AA(this.a.nd(0).G())
    };
    f.j$ = function (b) {
        cI(this.g, function (b) {
            b.Tb(!1)
        });
        b.target.Tb(!0);
        this.Cd.language !== b.target.G() && this.am(b.target.G())
    };
    f.sU = function (b) {
        cI(this.a, function (b) {
            b.Tb(!1)
        });
        b.target.Tb(!0);
        this.Cd.$p !== b.target.G() && this.AA(b.target.G())
    };

    function JT(b, c) {
        var d = 1 === b.N().fi.length;
        cI(b.g, function (b) {
            b.Z(b.G() !== c)
        });
        O(b.va, !d);
        K.enable(b.La, yT + "-pn", d)
    }

    f.am = function (b) {
        this.fi[b] || (this.fi[this.N().av] ? b = this.N().av : b = this.fi.en ? "en" : Ua(this.fi)[0]);
        JT(this, b);
        this.Cd.language != b && (O(this.Wj, !0), this.M().ci(this.La, this.fi[b]), this.M().me(this.Lk), this.M().me(this.ia), FT(this), kT(this.Cd), this.Cd.am(b), this.Cd.xV())
    };
    f.AA = function (b) {
        this.Cd.$p !== b && (kT(this.Cd), this.Cd.AA(b), O(this.Wj, !0), this.M().ci(this.Ya, this.w[b]), this.M().me(this.Lk), this.$U())
    };

    function IT(b, c) {
        b.a = new dN;
        var d = b.M();
        La(c, function (b, c) {
            var d = new jL(b);
            d.vd(16, !0);
            d.Tb(!1);
            d.V(c);
            this.a.Va(d, !0)
        }, b);
        d.me(b.ia);
        b.a.Z(!0);
        b.a.T(b.ia)
    }

    function ET(b, c) {
        b.g = new dN;
        var d = b.M();
        La(c, function (b, c) {
            var d = new jL(b);
            d.vd(16, !0);
            d.Tb(!1);
            d.V(c);
            this.g.Va(d, !0)
        }, b);
        d.me(b.va);
        b.g.Z(!0);
        b.g.T(b.va)
    }

    f.n5 = function () {
        CT(this);
        this.vt = !1;
        setTimeout(v(this.$U, this), 2E4)
    };
    f.IK = function (b) {
        b = b.news;
        this.vt = !1;
        O(this.Wj, !1);
        O(this.oo, !1);
        if (b.length) try {
            hT(">", b[0].id, this.R) && b.reverse(), E(b, this.M3, this)
        } catch (c) {
            console.error("FXSpider exception", b, this.R)
        }
        KT(this)
    };
    f.M3 = function (b) {
        var c = this.M(), d = y("MSG_FXSPIDER_POST_IN", {}, "Post in"), c = c.u(D, yT + "-Vj", c.u(Ud, {
                target: "_blank",
                "class": yT + "-Vj-qn",
                href: AT(this, b.urlStoryDukascopy || LT(this, b.id))
            }, c.u(D, yT + "-Vj-L", b.title), c.u(D, yT + "-Vj-mi", za(b.excerpt)), c.u(D, yT + "-Vj-rn", c.u(Le, yT + "-Vj-Ag", d + " " + b.source.title), d = c.u(Le, yT + "-Vj-sn")), c.u(D, yT + "-kn"))),
            e = b.createdAt;
        aP && d.dataset ? d.dataset.createdAt = e : d.setAttribute("data-" + Sh("createdAt"), e);
        e = b.id;
        aP && d.dataset ? d.dataset.id = e : d.setAttribute("data-" + Sh("id"),
            e);
        this.$[b.id] || (this.$[b.id] = {});
        this.$[b.id].timeLabel = d;
        hT(">", b.id, this.R) ? (this.R = b.id, b = this.Lk, b.insertBefore(c, b.childNodes[0] || null)) : this.Lk.appendChild(c)
    };

    function AT(b, c) {
        var d = "utm_source=" + b.N().HY;
        return ~c.indexOf("?") ? c + "&" + d : c + "?" + d
    }

    function KT(b) {
        La(b.$, function (b) {
            b = b.timeLabel;
            var d;
            d = bP(b, "createdAt");
            d = new Date(d);
            d = new Date(d.valueOf() - 6E4 * d.getTimezoneOffset());
            this.M().ci(b, iT(d))
        }, b)
    }

    function LT(b, c) {
        return b.N().Qba + "/" + b.Cd.language + "/m/" + c
    }

    f.Nw = function (b) {
        this.N().Dk = b;
        this.la && K.enable(this.J(), eS.prototype.Hq + "-re-B", !this.N().Dk)
    };
    f.KA = function (b) {
        this.N().Fx = b;
        this.la && K.enable(this.J()(), yT + "-un-fi", this.N().Fx)
    };
    f.o5 = function (b) {
        this.N().xY = b
    };
    f.kfa = function (b) {
        this.N().HY = b
    };
    f.cda = function (b) {
        this.N().av = b;
        this.la && this.am(b)
    };
    f.bea = function (b) {
        b && (b = Ra(b, vc), this.N().jF = b, this.la && (this.w && b.length == Ua(this.w).length && (this.N().jF = []), HT(this), ~Ua(this.m).indexOf(this.Cd.$p) || (this.a.nd(0).Tb(!0), this.AA(this.a.nd(0).G())), cI(this.a, function (b) {
            b.G() == this.Cd.$p && b.dispatchEvent("action")
        }, this)))
    };
    f.Ica = function (b) {
        this.N().fi = b;
        this.la && (DT(this), JT(this, this.Cd.language), O(this.ob, 1 < b.length));
        b.length || (this.N().fi = [this.N().av])
    };
    f.gg = function () {
        this.Vc || this.Qv();
        return this.Vc
    };
    f.qv = function () {
        K.enable(this.Aa(), yT + "-Zj", nG(this.Aa()).width < this.N().eba)
    };
    f.Qv = function () {
        var b = y("MSG_MAIN_SETTINGS", {}, "Main settings"), c = y("MSG_NEWS_CATEGORY", {}, "News"),
            d = y("MSG_DEFAULT_LANGUAGE", {}, "Default language"),
            e = y("MSG_AVAILABLE_LANGUAGES", {}, "Available languages"), h = y("MSG_SHOW_HEADER", {}, "Show header"),
            k = y("MSG_SHOW_BORDERS", {}, "Show borders");
        this.Vc = new Qv;
        this.nq = new Pv(this.Tn().minWidth, this.Tn().minHeight);
        Rv(this.Vc, this.nq);
        this.Vc.Qs(this.Fo = new lv(b));
        this.Fo.Xa(new rv("header", h, null, this.N().Dk));
        this.Fo.Xa(new sv("borders", k, null, !1));
        this.Fo.Xa(this.ka =
            new xv("defaultLanguage", d, null, Ua(MT)[0]));
        this.Fo.Xa(this.za = new gT("availableLanguages", e, null, Ua(MT)[0]));
        this.ka.Xe(Ua(MT), Ta(MT));
        this.za.Xe(Ua(MT), Ta(MT));
        this.Fo.Xa(this.Ea = new Nv("newsCategories", c, null, "all"));
        this.Ea.Xe(["all"], ["All"]);
        this.S().C(this.Fo, "change", this.EK)
    };
    f.EK = function (b) {
        this["set" + b.target.getName()[0].toUpperCase() + b.target.getName().slice(1)](b.target.G())
    };
    var MT = {en: "EN"};
    z("dc.fxspider.FXSpider", xT);
    z("dc.fxspider.FXSpider.prototype", xT.prototype);
    xT.prototype.render = xT.prototype.T;
    xT.prototype.getSettings = xT.prototype.gg;
    xT.prototype.forceResize = xT.prototype.qv;
    xT.prototype.setUri = xT.prototype.fk;
    xT.prototype.setToken = xT.prototype.FG;
    xT.prototype.setNewsCountPerRequest = xT.prototype.xN;
    xT.prototype.setHeader = xT.prototype.Nw;
    xT.prototype.setBorders = xT.prototype.Nca;
    xT.prototype.setWhiteLabel = xT.prototype.KA;
    xT.prototype.setUpdateFrequency = xT.prototype.o5;
    xT.prototype.setDefaultLanguage = xT.prototype.cda;
    xT.prototype.setAvailableLanguages = xT.prototype.Ica;
    xT.prototype.setNewsCategories = xT.prototype.bea;
    xT.prototype.setUtmSource = xT.prototype.kfa;

    function NT(b, c, d) {
        this.Le = b;
        this.wc = c;
        this.Yf = d;
        this.a = [];
        var e;
        if (5 === this.wc) e = rf; else switch (this.Yf) {
            case wg:
            case xg:
            case yg:
                e = this.vZ;
                break;
            case zg:
                e = wf(va(this.VH, 6));
                break;
            case Ag:
                e = wf(va(this.VH, 4));
                break;
            case Bg:
                e = wf(va(this.VH, 11))
        }
        for (b = 1; 100 >= b; b++) e.call(this, b) && this.a.push(b)
    }

    f = NT.prototype;
    f.Nb = function () {
        return this.Le
    };
    f.Fa = function () {
        return this.wc
    };
    f.xc = function () {
        return this.Yf
    };

    function OT(b) {
        return b.a
    }

    f.VH = function (b, c) {
        return b < c
    };
    f.vZ = function (b) {
        var c = this.Yf.interval;
        return 60 > b && 0 === 864E5 % (b * c) && 1 < 864E5 / (b * c)
    };
    var PT = y("MSG_BASE_TICK", {}, "Tick"), QT = y("MSG_BASE_SECOND", {}, "Second"),
        RT = y("MSG_BASE_MINUTE", {}, "Minute"), ST = y("MSG_BASE_HOUR", {}, "Hour"), TT = y("MSG_BASE_DAY", {}, "Day"),
        UT = y("MSG_BASE_WEEK", {}, "Week"), VT = y("MSG_BASE_MONTH", {}, "Month"), WT = {};
    WT.VP = new NT(PT, 5, vg);
    WT.wka = new NT(QT, 2, wg);
    WT.Wia = new NT(RT, 2, xg);
    WT.lia = new NT(ST, 2, yg);
    WT.pha = new NT(TT, 2, zg);
    WT.mla = new NT(UT, 2, Ag);
    WT.Xia = new NT(VT, 2, Bg);

    function XT(b) {
        Q.call(this);
        this.ra = new fu(this);
        Id(this, this.ra);
        this.ab = b;
        this.PO = new Qa;
        this.UH = new qb;
        this.qf = 0;
        this.Jn = YT.JH
    }

    B(XT, Q);
    var ZT = null;

    function $T(b) {
        if (null != ZT) return ZT;
        try {
            var c = !!new Blob && !!new FileReader && !!new Uint8Array && !!new ArrayBuffer && !!new DataView(new ArrayBuffer);
            c && (c = !("undefined" !== typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent)));
            if (ca(b.ab.Fa()) && !aU(b)) throw Error("dataSaver.js: Unknown format");
        } catch (d) {
            console.log(d.message), c = !1
        }
        return ZT = c
    }

    XT.prototype.rca = function () {
        if (this.Jn === YT.JH) {
            this.PO.setData(this.ab.result, aU(this));
            this.precision = this.ab.ma().Sb.toString(10).length - 1;
            var b = new Xa, c = new Blob([this.PO.Ob()], {type: "text/csv"});
            eb(b, c, this.sD() + ".csv")
        } else this.UH.DA(this.ab.Fa(), this.ab.ma().Nb().replace("/", ""), this.ab.ma().Sb.toString(10).length - 1, Math.round(this.ab.W().Y() / 1E3 / 60)), this.UH.setData(this.ab.result), this.precision = this.ab.ma().Sb.toString(10).length - 1, b = new Xa, c = new Blob([this.UH.Ob()], {type: "text/hst"}),
            eb(b, c, this.sD() + ".hst")
    };

    function bU(b, c) {
        var d;
        d = new Date(c);
        var e, h, k, l, p, q, r;
        e = d.getUTCFullYear();
        h = d.getUTCMonth();
        k = d.getUTCDate();
        l = d.getUTCHours();
        p = d.getUTCMinutes();
        q = d.getUTCSeconds();
        r = d.getUTCMilliseconds();
        if (b.ab.Ic() === cU) {
            var t = (new Date(e, 0)).getTimezoneOffset() / 60 * 2, u = d = new Date(e, h, k, l - t, p, q, r),
                x = new Date(u.getFullYear(), 0, 1), A = new Date(u.getFullYear(), 6, 1),
                x = Math.max(x.getTimezoneOffset(), A.getTimezoneOffset());
            u.getTimezoneOffset() < x && (d = new Date(e, h, k, l - t + 1, p, q, r));
            e = d.getFullYear();
            h = d.getMonth();
            k =
                d.getDate();
            l = d.getHours();
            p = d.getMinutes();
            q = d.getSeconds();
            r = d.getMilliseconds()
        }
        d = (10 > k ? "0" + k : k) + "." + ((10 > h + 1 ? "0" + (h + 1) : h + 1) + ".");
        d += e + " ";
        d += (10 > l ? "0" + l : l) + ":";
        d += (10 > p ? "0" + p : p) + ":";
        d += (10 > q ? "0" + q : q) + ".";
        return d += 100 > r ? 10 > r ? "00" + r : "0" + r : r
    }

    function aU(b) {
        var c = b.ab.Ic() || "TMZ was not set.", c = c.toLowerCase(),
            c = c.charAt(0).toUpperCase() + c.slice(1) + " time";
        switch (b.ab.Fa()) {
            case 1:
                return v(function (b) {
                    var e = {};
                    e[c] = bU(this, b[0]);
                    e.Ask = b[2];
                    e.Bid = b[1];
                    e.AskVolume = b[4];
                    e.BidVolume = b[3];
                    return e
                }, b);
            case 5:
            case 2:
                return v(function (b) {
                    var e = {};
                    e[c] = bU(this, b[0]);
                    e.Open = b[1].toFixed(this.precision);
                    e.High = b[2].toFixed(this.precision);
                    e.Low = b[3].toFixed(this.precision);
                    e.Close = b[4].toFixed(this.precision);
                    e.Volume = +b[5];
                    (b = 5 == this.ab.Fa()) ||
                    (b = this.ab.xc().fw == wg.fw);
                    b && (e.Volume *= 1E6);
                    return e
                }, b)
        }
        return null
    }

    var dU = new sk("dd.MM.yyyy");
    XT.prototype.sD = function () {
        var b = this.ab.Db(), c = this.ab.xc(), d = this.ab.eK(), e = this.ab.Oj, h = this.ab.Ch,
            k = this.ab.ma().Nb().replace("/", "") + "_";
        switch (this.ab.Fa()) {
            case 1:
                k += "Ticks_";
                break;
            case 5:
                k += "Tickbar_" + d + "_" + b + "_";
                break;
            case 2:
                k += "Candlestick_" + d + "_" + c.ON + "_" + b + "_"
        }
        return k += dU.format(e) + "-" + dU.format(h)
    };

    function eU(b) {
        this.a = b
    }

    eU.prototype.Do = function (b) {
        this.g = b
    };
    eU.prototype.Ic = function () {
        return this.g
    };

    function fU(b, c, d, e, h, k) {
        var l = gU[e], p = [], q = new Date(l.offset(new Date(c)));
        for (c = new Date(c); q < d; l.Ov(c), l.Ov(q)) p.push(new hU(b.a, b.Ic(), b.Ic() === iU ? l.offset(c) - 6E4 * (new Date(c)).getTimezoneOffset() : l.offset(c), e, h, k));
        return p
    }

    function jU(b, c, d) {
        c.call(d, parseInt(b.call(d), 10) + 1);
        return d
    }

    var kU = va(jU, Date.prototype.getHours, Date.prototype.setHours),
        lU = va(jU, Date.prototype.getDate, Date.prototype.setDate), mU = va(function (b, c, d) {
            d.setDate(1);
            return jU(b, c, d)
        }, Date.prototype.getMonth, Date.prototype.setMonth),
        nU = va(jU, Date.prototype.getFullYear, Date.prototype.setFullYear), gU = {};
    gU[vg] = gU[wg] = {
        Mb: bl, $k: vg, Ov: kU, offset: function (b) {
            b = new Date(b);
            var c = new Date;
            c.setFullYear(b.getFullYear());
            c.setMonth(b.getMonth());
            c.setDate(b.getDate());
            c.setHours(b.getHours(), 0, 0, 0);
            return c.getTime()
        }
    };
    gU[xg] = {
        Mb: gl, $k: xg, Ov: lU, offset: function (b) {
            b = new Date(b);
            var c = new Date;
            c.setFullYear(b.getFullYear());
            c.setMonth(b.getMonth());
            c.setDate(b.getDate());
            c.setHours(0, 0, 0, 0);
            return c.getTime()
        }
    };
    gU[yg] = {
        Mb: ml, $k: yg, Ov: mU, offset: function (b) {
            b = new Date(b);
            var c = new Date;
            c.setFullYear(b.getFullYear());
            c.setMonth(b.getMonth());
            c.setDate(1);
            c.setHours(0, 0, 0, 0);
            return c.getTime()
        }
    };
    gU[zg] = gU[Ag] = gU[Bg] = {
        Mb: rl, $k: zg, Ov: nU, offset: function (b) {
            b = new Date(b);
            var c = new Date;
            c.setDate(1);
            c.setMonth(0);
            c.setHours(0, 0, 0, 0);
            c.setFullYear(b.getFullYear());
            return c.getTime()
        }
    };

    function oU(b, c, d, e) {
        Q.call(this);
        b && (this.a = b.getTime());
        c && (this.m = b.getTime());
        d && (this.Sb = d);
        e && (this.w = 1E6 / e);
        this.result = [];
        this.wF = v(this.wF, this)
    }

    B(oU, Q);
    f = oU.prototype;
    f.JA = function (b) {
        this.K = b
    };

    function pU(b, c, d) {
        b.a = c.getTime();
        b.m = d.getTime()
    }

    f.zh = function (b) {
        this.wc = b;
        this.F = 2 === b ? 24 : 20;
        this.U = 2 === b ? this.R5 : this.S5
    };
    f.Pb = 0;

    function qU(b, c, d) {
        b.R = new jQ;
        b.g = d;
        b.ia = c;
        b.ta = c.result;
        b.Pb = 0;
        b.result = [];
        b.$ = b.ta.length / b.F;
        b.wF();
        return b.R
    }

    f.wF = function () {
        for (var b = 0; b++ < this.$ / 4 && this.Pb < this.ta.length;) {
            var c = this.U(), d = 0, e = 0;
            this.g === iU && (e = 6E4 * (new Date(c[0])).getTimezoneOffset(), d = 6E4 * (new Date(this.m)).getTimezoneOffset());
            if (c[0] + e >= this.m - d) {
                rU(this);
                return
            }
            c[0] + e >= this.a && this.result.push(c);
            this.Pb += this.F
        }
        this.Pb < this.ta.length ? setTimeout(this.wF, 0) : rU(this)
    };

    function rU(b) {
        b.dispatchEvent("complete");
        b.R.uc({request: b.ia, data: b.result})
    }

    f.R5 = function () {
        var b = 1E3 * Gb.Dh("i", this.ta, this.Pb + 0);
        return [this.K + b + 0, Gb.Dh("i", this.ta, this.Pb + 4) / 10 * this.Sb, Gb.Dh("i", this.ta, this.Pb + 16) / 10 * this.Sb, Gb.Dh("i", this.ta, this.Pb + 12) / 10 * this.Sb, Gb.Dh("i", this.ta, this.Pb + 8) / 10 * this.Sb, parseFloat((Gb.Dh("f", this.ta, this.Pb + 20)[0] * this.w).toFixed(4))]
    };
    f.S5 = function () {
        return [this.K + 1 * Gb.Dh("i", this.ta, this.Pb + 0), Gb.Dh("i", this.ta, this.Pb + 8) / 10 * this.Sb, Gb.Dh("i", this.ta, this.Pb + 4) / 10 * this.Sb, parseFloat((Gb.Dh("f", this.ta, this.Pb + 16)[0] * this.w).toFixed(4)), parseFloat((Gb.Dh("f", this.ta, this.Pb + 12)[0] * this.w).toFixed(4))]
    };

    function sU() {
    }

    B(sU, VJ);
    ea(sU);
    sU.prototype.te = yc;
    sU.prototype.u = function (b) {
        b.vd(8, !0);
        var c = b.M(), c = c.u(ve, this.fg(b).join(" "), c.u(Le, "a-Gh-Jh-Mh-radio", c.createElement(Le)), b.Ob());
        bK(this, b, c);
        us(c, {"data-group": b.ti().aa(), "data-instrument": b.ma().aa()});
        return c
    };
    sU.prototype.xa = function () {
        return "a-Gh-Jh-Mh"
    };

    function tU(b, c, d, e, h) {
        oK.call(this, b, h || sU.Ka(), e);
        this.Oh = c;
        this.Sa = d;
        this.content = b;
        this.an(!0)
    }

    B(tU, oK);
    tU.prototype.ti = function () {
        return this.Oh
    };
    tU.prototype.Pk = function (b) {
        this.Oh = b
    };
    tU.prototype.ma = function () {
        return this.Sa
    };
    tU.prototype.Ie = function (b) {
        this.Sa = b
    };

    function uU(b, c, d) {
        YH.call(this, d);
        this.$ = b;
        this.w = c
    }

    B(uU, YH);
    f = uU.prototype;
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        uU.P.ua.call(this, b);
        var c = y("MSG_HDF_FOLOGIN_LOGIN_LABEL", {}, "Login"), d = y("MSG_HDF_FOLOGIN_PASSWORD_LABEL", {}, "Password"),
            e = y("MSG_HDF_FOLOGIN_SUBMIT_LABEL", {}, "Sign in"), h = y("MSG_HDF_FOLOGIN_OR", {}, "or"),
            k = y("MSG_HDF_FOLOGIN_REGISTER", {}, "Create new account"), l = this.M();
        l.append(b, l.u(D, "a-hdf-loginfrom-mute-ab"), this.F = l.u(Fe, "a-hdf-loginfrom-xl-Y"), this.ij = l.u(D, ["a-hdf-loginfrom-Wl-Y", "a-hdf-loginfrom-Zm"], l.u(te, {"for": "dcfologin"}, c)), this.R = l.u(D, ["a-hdf-loginfrom-Wl-Y", "a-hdf-loginfrom-Ci"],
            l.u(te, {"for": "dcfopassword"}, d)), l.u(D, ["a-hdf-loginfrom-Wl-Y", "a-hdf-loginfrom-Ui"], l.u(D, "a-hdf-loginfrom-Qh-Y", l.u(D, "a-hdf-loginfrom-Qh")), this.ia = l.u(D, "a-hdf-loginfrom-Ui-vg"), l.u(D, "a-hdf-loginfrom-signup", l.u(Le, null, h), l.u(Ud, {href: this.$}, k))));
        this.a = new xP(zP, null, null, l);
        this.a.setAttribute("id", "dcfologin");
        this.g = new xP("password", null, null, l);
        this.g.setAttribute("id", "dcfopassword");
        this.m = new xL(e, null, l);
        K.add(b, "a-hdf-loginfrom")
    };
    f.oa = function () {
        uU.P.oa.call(this);
        this.a.T(this.ij);
        this.g.T(this.R);
        this.m.T(this.ia);
        this.K = new NE(this.a.J());
        this.U = new NE(this.g.J());
        this.S().C(this.K, "key", this.kU).C(this.U, "key", this.kU).C(this.m, "action", this.nR)
    };
    f.kU = function (b) {
        13 == b.keyCode && this.nR()
    };
    f.nR = function () {
        K.enable(this.J(), "a-hdf-loginfrom-xl", !1);
        var b = new FormData;
        b.append("login", this.a.G());
        b.append("password", this.g.G());
        K.enable(this.J(), "a-hdf-loginfrom-mute", !0);
        PH(this.w, v(this.Kv, this), b)
    };
    f.Kv = function (b) {
        b = b.target.Cl();
        K.enable(this.J(), "a-hdf-loginfrom-mute", !1);
        b.hasOwnProperty("code") && 0 == b.code ? this.eq.uc(!0) : (Ts(this.F, b.message), K.enable(this.J(), "a-hdf-loginfrom-xl", !0))
    };
    var cU = "LOCAL", iU = "GMT", vU = y("MSG_TIMEZONE_LOCAL", {}, "Local"), wU = y("MSG_TIMEZONE_GMT", {}, "GMT");

    function xU() {
    }

    B(xU, yL);
    ea(xU);
    yL.prototype.xa = function () {
        return "a-candelabrum-vg"
    };

    function yU(b) {
        YH.call(this, b);
        b = new Vj;
        b = np(b, -7 - (b.getDay() + 6) % 7);
        var c = np(b, 4);
        this.Ea = new kp(b, c);
        this.Ea.a.add(new Oj(0, 0, 1));
        this.De = new sk("yyyy-MM-dd");
        this.Sh = {};
        zU(this)
    }

    B(yU, YH);
    var AU = y("MSG_SUBMIT", {}, "Download"), BU = y("MSG_BASE", {}, "Base unit"),
        CU = y("MSG_COUNT", {}, "Unit count");
    y("MSG_OFFER_SIDE", {}, "Offer side");
    var DU = y("MSG_DATE_FROM", {}, "Date from"), EU = y("MSG_DATE_TO", {}, "Date to"),
        FU = y("MSG_VOLUME_UNIT", {}, "Volume units"),
        GU = y("MSG_SUBMIT_DISABLED", {}, "Choose instrument and candle parameters to download"), HU = [1, 1E3, 1E6],
        IU = {};
    IU[1] = y("MSG_VOLUME_ONE_UNIT", {}, "Units");
    IU[1E3] = y("MSG_VOLUME_ONE_THOUSAND", {}, "Thousands");
    IU[1E6] = y("MSG_VOLUME_ONE_MILLION", {}, "Millions");
    var JU = y("MSG_ERROR_INVALID_DATE_FROM", {}, "Period start date can not be later than yesterday."),
        KU = y("MSG_ERROR_INVALID_DATE_TO", {}, "Period end date can not be later than yesterday."),
        LU = y("MSG_ERROR_INVALID_DATE_RANGE", {}, "Period start date can not be later than period end date.");
    y("MSG_ERROR_DATA_NOT_AVAILABLE_FOR_CURRENT_MONTH", {}, "Hourly candles are not available for current month.");
    y("MSG_ERROR_DATA_NOT_AVAILABLE_FOR_CURRENT_YEAR", {}, "Daily, weekly and monthly candles are not available for current year.");
    var MU = y("MSG_BOTTOM_PANEL_CANDLESTICK", {}, "Candlestick:"),
        NU = y("MSG_BOTTOM_PANEL_OFFER_SIDE", {}, "Offer side:");
    y("MSG_BOTTOM_PANEL_TIMEZONE", {}, "Timezone:");
    var OU = y("MSG_BOTTOM_PANEL_DATE", {}, "Date:"), PU = y("MSG_BOTTOM_PANEL_TO_DATE", {}, "To date:"),
        QU = y("MSG_BOTTOM_PANEL_FROM_DATE", {}, "From date:");
    y("MSG_BOTTOM_PANEL_VOLUME_INIT", {}, "Volume unit:");
    f = yU.prototype;
    f.Bb = "a-parameter-zi";
    f.te = yc;
    f.Aa = function () {
        return this.ka
    };
    f.u = function () {
        var b = this.Bb + "-Wl-fi", c = v(function (b) {
            return this.Bb + "-Wl " + b
        }, this), d = this.M();
        this.Da = d.u(D, this.Bb, this.ka = d.u(D, this.Bb + "-Y", this.Hb = d.u(D, c(this.Bb + "-nj-Y"), d.u(te, b, MU)), this.Ee = d.u(D, c(this.Bb + "-offer-side-Y"), d.u(te, b, NU)), this.jd = d.u(D, c(this.Bb + "-rh-from-Y"), this.Rb = d.u(te, b, OU)), this.Ya = d.u(D, c(this.Bb + "-rh-vf-Y"), d.u(te, b, PU)), this.Ge = d.u(D, c(this.Bb + "-tk-unit-Y")), this.ob = d.u(D, c(this.Bb + "-timezone-Y")), this.gc = d.u(D, this.Bb + "-vg-Y")))
    };
    f.oa = function () {
        yU.P.oa.call(this);
        this.w.T(this.Hb);
        this.dd.Hf(this.w.J());
        this.g.T(this.Hb);
        this.sc.Hf(this.g.J());
        this.Tf.T(this.Ee);
        dk(this.Tf.J(), "mg-ng-og");
        this.F.T(this.ob);
        dk(this.F.J(), "mg-ng-og");
        this.R.T(this.jd);
        dk(this.R.J(), this.Bb + "-rh-from");
        this.Yd.Hf(this.R.J());
        this.a.T();
        this.S().C(this.R, "action", function () {
            this.a.aB(this.R.J())
        });
        this.a.setDate(this.Ea.g);
        this.K.T(this.Ya);
        dk(this.K.J(), this.Bb + "-rh-vf");
        this.Sd.Hf(this.K.J());
        this.m.T();
        this.S().C(this.K, "action", function () {
            this.m.aB(this.K.J())
        });
        this.m.setDate(this.Ea.a);
        this.ia.T(this.Ge);
        this.Ve.Hf(this.ia.J());
        this.U.T(this.gc);
        this.Ub.Hf(this.U.J());
        RU(this);
        this.S().C(this.U, "action", this.p5);
        this.g.Xw(0)
    };

    function zU(b) {
        b.U = new xL(AU, xU.Ka());
        b.U.tc(b.Bb + "-Ui");
        b.U.Ba(!1);
        b.Ub = new oO(null, GU);
        b.R = new xL;
        b.a = new rM(null, b.M());
        PK(b.a.Ed);
        b.a.setDate(b.Ea.g);
        SU(b, b.a);
        b.Yd = new oO(null, DU);
        b.K = new xL;
        b.m = new rM(null, b.M());
        PK(b.m.Ed);
        b.m.setDate(b.Ea.a);
        SU(b, b.m);
        b.Sd = new oO(null, EU);
        b.w = new jP;
        b.w.tc(b.Bb + "-unit-count");
        b.dd = new oO(null, CU);
        b.g = new jP(BU);
        b.g.tc(b.Bb + "-base");
        La(WT, function (b) {
            this.g.bc(new zL(b.Nb(), b))
        }, b);
        b.sc = new oO(null, BU);
        b.za = new bO("BID");
        b.za.V("BID");
        b.za.Kw(2);
        b.za.Tb(!0);
        b.va = new bO("ASK");
        b.va.V("ASK");
        b.va.Kw(1);
        b.Tf = new zK(TJ);
        b.Tf.Va(b.za, !0);
        b.Tf.Va(b.va, !0);
        b.$ = new bO(vU);
        b.$.V(cU);
        b.$.Kw(2);
        b.$.Tb(!0);
        b.La = new bO(wU);
        b.La.V(iU);
        b.La.Kw(1);
        b.F = new zK(TJ);
        b.F.Va(b.$, !0);
        b.F.Va(b.La, !0);
        b.ia = new jP(FU);
        b.ia.tc(b.Bb + "-tk-unit");
        b.ia.Z(!0);
        E(HU, function (b) {
            this.ia.bc(new zL(IU[b], b))
        }, b);
        b.Ve = new oO(null, FU)
    }

    f.Z = function (b) {
        O(this.ka, b)
    };

    function TU(b) {
        b.Sh.Td = b.getParent().yl().hc().ma();
        cI(b.F, function (b) {
            b.Cf() && (this.Sh.mH = b.G())
        }, b);
        b.Sh.w4 = b.a.getDate();
        b.Sh.y4 = b.m.getDate();
        b.Sh.Yfa = b.ia.hc().G();
        cI(b.Tf, function (b) {
            b.Cf() && (this.Sh.Eg = b.G())
        }, b);
        b.Sh.$k = b.g.hc().G().xc();
        b.Sh.count = b.w.hc().G();
        b.Sh.bC = b.g.hc().G();
        b.Sh.dataType = 5 === b.Sh.bC.Fa() && 1 == b.Sh.count ? 1 : b.Sh.bC.Fa();
        return b.Sh
    }

    rM.prototype.aB = function (b) {
        this.Qm = b;
        this.td.setPosition(new cH(b, 9, 4));
        this.S().C(this.Ed, "change", this.Uz);
        this.td.Z(!0);
        this.ap && this.J().focus()
    };

    function RU(b) {
        var c = b.S();
        c.C(b.g, "change", function () {
            var b = OT(this.g.hc().G());
            this.w.Ba(!0);
            this.w.og(null);
            this.w.cc().me(!0);
            E(b, function (b) {
                this.w.bc(new zL(b.toString(), b))
            }, this);
            eP(this.w);
            dk(this.w.cc().J(), "a-Jl-zg");
            this.w.V(1)
        });
        if (!Jr || 8 < parseFloat(Sr)) b.w.Zp = new gH(null, 8), b.w.sw = function () {
            jP.prototype.sw.call(this);
            var b = this.hb.J(), c = parseInt(YF(b, "left"), 10), h = parseInt(YF(b, "top"), 10), k = PF(b);
            0 > h && (k.height += h, tu(b, c, 0), JF(b, k))
        };
        c.C(b.a.Ed, "change", b.l9);
        c.C(b.m.Ed, "change", b.p9);
        c.C(b.getParent().yl(), "change", b.c$);
        c.C(b.g, "change", b.$C);
        c.C(b.w, "change", b.$C);
        c.C(b.Tf, "change", b.$C);
        c.C(b.getParent().yl(), "change", b.$C);
        c.C(b.Tf, "action", b.x$);
        c.C(b.F, "action", b.faa);
        c.C(b.w, "change", b.uT);
        c.C(b.g, "change", b.uT)
    }

    f = yU.prototype;
    f.$C = function () {
        var b = !1;
        switch (0 <= this.g.Mh() && this.g.hc().G().Fa()) {
            case 5:
                b = !0;
                break;
            case 2:
                b = 0 <= this.g.Mh() && 0 <= this.w.Mh()
        }
        b = b && 0 <= this.getParent().yl().Mh();
        this.U.Ba(b);
        b && this.Ub.detach(this.U.J())
    };

    function SU(b, c) {
        var d = c === b.a ? b.R : b.K, e = b.M();
        d.Kc(e.u(Le, null, b.De.format(c.getDate()), e.u(Le, "mg-ng-og a-ib a-ib-rh")))
    }

    f.Fa = function () {
        return 0 <= this.g.Mh() ? this.g.hc().G().Fa() : null
    };
    f.uT = function () {
        var b = this.Fa(), c = !1;
        this.R.Ba(null !== b);
        switch (b) {
            case 1:
            case 5:
                this.Tf.Ba(1 < this.w.G());
                O(this.Ya, !1);
                Ts(this.Rb, OU);
                break;
            case 2:
                b = 0 <= this.g.Mh() ? this.g.hc().G() : null, c = null !== b ? b.xc().interval >= xg.interval : !1, O(this.Ya, c), this.Tf.Ba(!0), c && Ts(this.Rb, QU)
        }
        this.K.Ba(c);
        c && 0 > ak(this.m.getDate(), this.a.getDate()) && this.m.setDate(this.a.getDate());
        if (b = ~this.getParent().yl().Mh()) b = UU(this.getParent()), c = this.getParent().yl().hc().ma(), b = Yg(b.zE, c.xr);
        b && VU(this, this.a.getDate())
    };
    f.x$ = function (b) {
        b.target === this.va ? (this.va.Tb(!0), this.za.Tb(!1)) : (this.va.Tb(!1), this.za.Tb(!0))
    };
    f.faa = function (b) {
        b.target === this.$ ? (this.$.Tb(!0), this.La.Tb(!1)) : (this.$.Tb(!1), this.La.Tb(!0))
    };
    f.l9 = function (b) {
        if (b.Cb) {
            var c = this.K.isEnabled() ? this.m.getDate() : null;
            c || (c = new Vj, c.add(new Oj(0, 0, -1)));
            0 < ak(b.Cb, c) && (b.preventDefault(), b.stopPropagation(), this.a.setDate(c));
            ~this.getParent().yl().Mh() && VU(this, b.Cb) && (b.preventDefault(), b.stopPropagation());
            SU(this, this.a)
        }
    };

    function VU(b, c) {
        var d = b.g.hc().G().xc(), d = Tl(yl(NaN, null, d, d.Y())), e = b.getParent().yl().hc().ma();
        return (d = (UU(b.getParent()).Be[e.xr] || {})[d.Y()]) && 0 > ak(c, d) ? (b.a.setDate(d), !0) : !1
    }

    f.p9 = function (b) {
        if (b.Cb) {
            var c = this.R.isEnabled() ? this.a.getDate() : null;
            c && 0 >= ak(b.Cb, c) && (b.preventDefault(), b.stopPropagation(), c.add(new Oj(0, 0, 1)), this.m.setDate(c));
            c = new Vj;
            0 < ak(b.Cb, c) && (b.preventDefault(), b.stopPropagation(), this.m.setDate(c));
            SU(this, this.m)
        }
    };
    f.c$ = function (b) {
        b = b.target.hc().ma();
        this.ia.V(b.Hd());
        var c = UU(this.getParent());
        Zt(this.lf);
        Yg(c.zE, b.xr) ? VU(this, this.a.getDate()) : sx(WU(c, b), function () {
            VU(this, this.a.getDate())
        }, this)
    };
    f.p5 = function () {
        var b = new Vj, c = new Vj(this.a.getDate());
        if (0 < ak(c, b)) return this.dispatchEvent({type: "error", message: JU});
        if (this.K.isEnabled()) {
            var d = new Vj(this.m.getDate());
            if (0 < ak(d, b)) return this.dispatchEvent({type: "error", message: KU});
            if (0 > ak(d, c)) return this.dispatchEvent({type: "error", message: LU})
        }
        this.dispatchEvent("action")
    };

    function XU(b) {
        YH.call(this, b)
    }

    B(XU, YH);
    var YU = y("MSG_HDF_POPUP_CLOSE", {}, "Close");
    f = XU.prototype;
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.dz = function () {
        throw Error("unimplemented abstract method");
    };
    f.ua = function (b) {
        XU.P.ua.call(this, b);
        b = this.M();
        K.add(this.J(), "a-candelabrum-an");
        K.addAll(this.J(), this.oi || []);
        b.append(this.J(), this.W3 = b.u(Le, "a-candelabrum-an-Eb"), this.Wu = b.u(D, "a-candelabrum-an-Hg", b.u(ie, null, this.dz()), this.k4 = b.u(Ud, "a-candelabrum-an-Yg", YU)))
    };
    f.Aa = function () {
        return this.Wu
    };
    f.tc = function (b) {
        b && (this.oi ? ji(this.oi, b) || this.oi.push(b) : this.oi = [b], this.la && K.add(this.J(), b))
    };
    f.oa = function () {
        XU.P.oa.call(this);
        this.S().C(this.W3, "click", v(this.Z, this, !1)).C(this.k4, "click", v(this.Z, this, !1))
    };
    f.Z = function (b) {
        K.enable(this.J(), "a-candelabrum-an-S", b)
    };

    function ZU(b) {
        YH.call(this, b)
    }

    B(ZU, XU);
    var $U = y("MSG_ERROR_HEADER", {}, "Error:"), aV = y("MSG_ERROR_CLOSE", {}, "Continue");
    ZU.prototype.dz = function () {
        return $U
    };
    ZU.prototype.ua = function (b) {
        ZU.P.ua.call(this, b);
        b = this.M();
        K.add(this.J(), "a-candelabrum-an-xl");
        b.append(this.Aa(), this.Cfa = b.createElement(Fe), this.j4 = b.u(Ud, "a-candelabrum-an-xl-Yg", aV))
    };
    ZU.prototype.bn = function (b) {
        this.M().ci(this.Cfa, b)
    };
    ZU.prototype.oa = function () {
        ZU.P.oa.call(this);
        this.S().C(this.j4, "click", v(this.Z, this, !1))
    };

    function bV(b) {
        YH.call(this, b)
    }

    B(bV, XU);
    var cV = y("MSG_LOGIN_HEADER", {}, "Log in to download");
    bV.prototype.dz = function () {
        return cV
    };
    bV.prototype.ua = function (b) {
        bV.P.ua.call(this, b);
        K.add(this.J(), "a-candelabrum-an-Zm")
    };

    function dV(b) {
        zK.call(this, b)
    }

    B(dV, zK);
    f = dV.prototype;
    f.Na = null;
    f.oa = function () {
        dV.P.oa.call(this);
        this.yz();
        this.S().C(this, "action", function (b) {
            this.og(b.target)
        })
    };
    f.VK = function () {
    };
    f.bc = function (b) {
        this.Va(b, !0);
        this.Na ? this.Na.bc(b) : this.Yu()
    };
    f.$o = function (b, c) {
        this.el(b, c, !0);
        this.Na ? this.Na.$o(b, c) : this.Yu()
    };
    f.removeItem = function (b) {
        this.removeChild(b, !0);
        this.Na && this.Na.removeItem(b)
    };
    f.og = function (b) {
        if (this.Na) {
            var c = this.hc();
            this.Na.og(b);
            b != c && this.dispatchEvent("change")
        }
    };
    f.Xw = function (b) {
        this.Na && this.og(this.Na.mr(b))
    };
    f.hc = function () {
        return this.Na ? this.Na.hc() : null
    };
    f.Mh = function () {
        return this.Na ? this.Na.Mh() : -1
    };
    f.Sn = function () {
        return this.Na
    };
    f.Yu = function () {
        this.Na = new SM;
        cI(this, function (b) {
            this.Na.bc(b)
        }, this);
        this.yz()
    };
    f.yz = function () {
        this.Na && this.S().C(this.Na, "select", this.VK)
    };

    function eV(b) {
        zK.call(this, b)
    }

    B(eV, dV);
    f = eV.prototype;
    f.te = yc;
    f.u = function () {
        this.Da = this.Bc.u(af, "a-Gh-Uh-Jh")
    };
    f.HX = function (b) {
        this.Dr = b;
        this.fD()
    };
    f.fD = function () {
        cI(this, this.KJ, this)
    };
    f.KJ = function (b) {
        b.Z(null === this.Dr || b.qa().getParent() === this.Dr)
    };

    function fV() {
    }

    B(fV, VJ);
    ea(fV);
    fV.prototype.te = yc;
    fV.prototype.u = function (b) {
        b.vd(8, !0);
        var c = b.M().u(ve, this.fg(b).join(" "), b.Ob());
        bK(this, b, c);
        us(c, {"data-group": b.qa().aa(), "data-parent": b.qa().getParent()});
        return c
    };
    fV.prototype.xa = function () {
        return "a-Gh-Uh-Jh-Mh"
    };

    function gV(b, c, d, e) {
        oK.call(this, b, e || fV.Ka(), d);
        this.fe(c);
        this.an(!0)
    }

    B(gV, oK);

    function hV() {
    }

    B(hV, VJ);
    ea(hV);
    hV.prototype.te = yc;
    hV.prototype.u = function (b) {
        b.vd(8, !0);
        var c = b.M().u(ve, this.fg(b).join(" "), b.Ob());
        bK(this, b, c);
        null != b.qa() && us(c, {"data-group": b.qa().aa()});
        return c
    };
    hV.prototype.xa = function () {
        return "a-Gh-Uh-Jh-Ng"
    };

    function iV(b, c, d, e) {
        oK.call(this, b, e || hV.Ka(), d);
        this.fe(c);
        this.vd(8, !1);
        this.vd(16, !1);
        this.vd($H.OPEN, !1);
        this.an(!0)
    }

    B(iV, oK);

    function jV(b) {
        zK.call(this, b)
    }

    B(jV, dV);
    y("MSG_FILTER", {}, "Instrument");
    f = jV.prototype;
    f.Bb = "a-Gh-Jh";
    f.te = yc;
    f.Aa = function () {
        return this.m
    };
    f.u = function () {
        var b = this.M(), c = y("MSG_INSTRUMENT", {}, "Instrument"),
            d = b.u(D, this.Bb, b.u(Pe, this.Bb + "-Yh-Y", b.u(Xe, null, this.g = b.u(Ze, null))), b.u(D, this.Bb + "-Jh-Y", this.m = b.u(af)));
        this.a = new KP(new ix("id", c, this.Bb + "-Vh-gd"), {DV: !1});
        b.append(this.g, this.a.Vr(b));
        this.Da = d
    };
    f.oa = function () {
        jV.P.oa.call(this);
        this.S().C(this.a, ["change", "keyup"], uf(this.wY, this.fD))
    };
    f.HX = function (b) {
        this.Dr = b;
        this.fD()
    };
    f.fD = function () {
        cI(this, this.KJ, this)
    };
    f.hD = "";
    f.wY = function () {
        this.hD = String(this.a.Ja.G()).toLowerCase().toUpperCase().replace("/", "")
    };
    f.KJ = function (b) {
        var c = b.ma(), d = b.ti(), e = this.Dr instanceof ew ? this.Dr.aa() : this.Dr, h = b.ti().getParent(),
            h = h instanceof ew ? h.aa() : h, d = !this.Dr || this.Dr === d || e === h,
            c = -1 !== c.Nb().replace("/", "").indexOf(this.hD) || -1 !== c.Gp().indexOf(this.hD),
            c = Ah(this.hD) ? d : c && d;
        b.Z(c)
    };

    function kV() {
    }

    B(kV, Lp);
    kV.prototype.a = function () {
        var b = Lp.prototype.a.call(this);
        b.overrideMimeType && b.overrideMimeType("text/plain; charset=x-user-defined");
        b.UJ = lV();
        return b
    };

    function lV() {
        var b;
        if (Jr && window.a) {
            var c = {};
            for (b = 0; 256 > b; b++) for (var d = 0; 256 > d; d++) c[String.fromCharCode(b + 256 * d)] = String.fromCharCode(b) + String.fromCharCode(d);
            b = function () {
                return window.a(this.responseBody).replace(/[\s\S]/g, function (b) {
                    return c[b]
                }) + window.g(this.responseBody)
            }
        } else b = function () {
            return this.responseText
        };
        return b
    };

    function hU(b, c, d, e, h, k, l) {
        Q.call(this);
        this.K = b;
        this.g = c;
        this.w = d;
        this.a = new Date(this.w);
        this.Yf = e;
        this.Sa = h;
        this.of = k;
        this.R = l;
        b = this.K + this.Sa.xr + "/";
        e = mV(this.Yf) + ".bi5";
        c = this.a;
        h = this.Yf;
        d = this.of;
        h = this.g === cU || h.getName() === vg.getName() || h.getName() === wg.getName();
        e = e.replace(/%Y/g, h ? c.getFullYear() : c.getUTCFullYear());
        e = e.replace(/%m/g, h ? c.getMonth() : c.getUTCMonth());
        e = e.replace(/%d/g, h ? c.getDate() : c.getUTCDate());
        e = e.replace(/%h/g, h ? c.getHours() : c.getUTCHours());
        do e = e.replace(/([^_\d])(\d[^\d])/,
            "$10$2"); while (/[^_\d]\d[^\d]/.test(e));
        e = e.replace(/%OS/g, d);
        this.bd = b + e;
        this.m = new Hb;
        this.F = new Hb
    }

    B(hU, Q);
    f = hU.prototype;
    f.Ma = function () {
        hU.P.Ma.call(this);
        this.stop()
    };
    f.q5 = new kV;
    f.r5 = {"Accept-Charset": "x-user-defined"};
    f.xc = function () {
        return this.Yf
    };
    f.Kp = function () {
        return this.w
    };
    f.send = function () {
        this.eq = new jQ;
        this.Lc = new KH(this.q5);
        Xt(this.Lc, "complete", this.kaa, !1, this);
        Id(this, this.Lc);
        this.Lc.send(this.bd, "GET", null, this.r5);
        return this.eq
    };
    f.stop = function () {
        this.Lc && (this.Lc.abort(), this.Lc.Ra())
    };
    f.kaa = function (b) {
        if (b.target.co()) {
            b = b.target.Lc.UJ();
            this.m.clear();
            this.F.clear();
            for (var c = 0, d = b.length; c < d; c++) this.m.CB(b.charCodeAt(c) & 255);
            this.m.reset();
            b = this.m;
            var c = this.F, d = new HQ, e;
            var h;
            if (5 > b.size) e = !1; else {
                h = b.wh();
                e = h % 9;
                h = ~~(h / 9);
                var k = h % 5, l = ~~(h / 5);
                h = 1 << l;
                if (8 < e || 4 < k || 4 < l) e = !1; else {
                    l = d.Rb;
                    if (!l.g || l.a !== e || l.m !== k) for (l.m = k, l.w = (1 << k) - 1, l.a = e, l.g = [], e = 1 << l.a + l.m; e--;) l.g[e] = new FQ;
                    EQ(d.Hb, h);
                    EQ(d.Ub, h);
                    d.uh = h - 1;
                    e = !0
                }
                e ? (e = b.wh(), e |= b.wh() << 8, e |= b.wh() << 16, e += 16777216 * b.wh(), 0 > e ?
                    e = !1 : (d.Ya !== e && (d.Ya = e, d.ob = Math.max(d.Ya, 1), e = d.w, k = Math.max(d.ob, 4096), e.w && e.g === k || (e.w = []), e.g = k, e.a = 0, e.F = 0), e = !0)) : e = !1
            }
            if (!e) throw"Incorrect stream properties";
            e = b.wh();
            e |= b.wh() << 8;
            e |= b.wh() << 16;
            e += 16777216 * b.wh();
            b.wh();
            b.wh();
            b.wh();
            b.wh();
            b = d.decode(b, c, e);
            BF(b, this.q9, this.Hl, this)
        } else this.Hl()
    };
    f.q9 = function (b) {
        this.result = b.wx();
        this.eq.uc(this);
        this.dispatchEvent("success")
    };
    f.Hl = function () {
        this.eq.Ne(this);
        this.dispatchEvent("error")
    };

    function mV(b) {
        switch (b) {
            case vg:
            case wg:
                return "%Y/%m/%d/%hh_ticks";
            case xg:
                return "%Y/%m/%d/%OS_candles_min_1";
            case yg:
                return "%Y/%m/%OS_candles_hour_1";
            case zg:
            case Ag:
            case Bg:
            case Cg:
                return "%Y/%OS_candles_day_1";
            default:
                throw Error("Unknown unit.");
        }
    };

    function nV(b) {
        Q.call(this);
        this.w = b;
        this.m = new eU(this.w);
        this.ra = new fu(this)
    }

    B(nV, Q);
    f = nV.prototype;
    f.Gi = function (b) {
        this.of = b
    };
    f.Eo = function (b) {
        this.Yf = b
    };
    f.Ie = function (b) {
        this.Sa = b
    };
    f.Do = function (b) {
        this.g = b;
        this.m.Do(this.g)
    };
    f.Ic = function () {
        return this.g
    };
    f.start = function () {
        this.result = [];
        this.Fg = 0;
        var b = this.fG();
        this.dispatchEvent("start");
        az(b, function (b) {
            this.result = b;
            this.dispatchEvent("complete")
        }, this);
        return b
    };
    f.fG = function () {
        this.a && this.a.cancel(!0);
        var b = new jQ, c = fU(this.m, this.Oj, this.Ch, this.Yf, this.Sa, this.of);
        this.a = oV(this, pV(this, c));
        az(this.a, function (c) {
            c = ud(c, function (b, c) {
                return b.concat(c)
            }, []);
            b.uc(c)
        });
        return b
    };

    function pV(b, c) {
        var d = Sa(c, function (b) {
            var d = b.send();
            az(d, function () {
                if (this.Ic() === cU && 864E5 <= b.xc().interval) return this.mE(b);
                qV(this, 100 / c.length / 100)
            }, this);
            bz(d, function () {
                return this.mE(b)
            }, this);
            return d
        }, b);
        return new BS(d, !1, !1, !1, function () {
            E(c, function (b) {
                b.Ra()
            })
        })
    }

    function oV(b, c) {
        az(c, function (b) {
            var c = Ra(Ci(b), wf(la));
            b = Sa(c, function (b) {
                var d = new oU,
                    l = 1E3 >= b.xc().interval && this.Ic() === iU ? 6E4 * (new Date).getTimezoneOffset() : 0;
                pU(d, this.Oj, this.Ch);
                d.Sb = this.Sa.Sb;
                d.w = 1E6 / this.F;
                d.JA(b.Kp() - l);
                d.zh(1E3 >= b.xc().interval ? 1 : 2);
                b = qU(d, b, this.Ic());
                az(b, function () {
                    qV(this, 100 / c.length / 100)
                }, this);
                return b
            }, this);
            return CS(b)
        }, b);
        return c
    }

    f.stop = function () {
        this.a && this.a.cancel(!0)
    };
    f.mE = function (b) {
        if (b.xc() !== vg) {
            var c = pV, d = b.xc(), e;
            e = null;
            for (var h = 0, k = Dg.length; h < k && !Dg[h].df(d); h++) e = Dg[h];
            d = gU[d];
            b = new Date(b.Kp());
            this.Ic() === cU ? b.setTime(b.getTime() - 6E4 * b.getTimezoneOffset()) : b.setTime(b.getTime() + 6E4 * b.getTimezoneOffset());
            d = yb(d.Ov(new Date(b)), this.Ch);
            b = fU(this.m, b, d, e, this.Sa, this.of);
            return c(this, b)
        }
        this.dispatchEvent({type: "error", Hla: b.R || b, Dla: b});
        return !1
    };

    function qV(b, c) {
        b.Fg += c;
        1 < b.Fg && (b.Fg = 1);
        b.dispatchEvent("progress")
    };

    function rV(b) {
        Q.call(this);
        this.ra = new fu(this);
        Id(this, this.ra);
        this.K = b;
        this.a = new nV(this.K);
        Id(this, this.a)
    }

    B(rV, Q);
    f = rV.prototype;
    f.Ma = function () {
        rV.P.Ma.call(this);
        this.m && this.m.Ra()
    };
    f.Do = function (b) {
        this.g = b
    };
    f.Ic = function () {
        return this.g
    };
    f.Fa = function () {
        return this.wc
    };
    f.zh = function (b) {
        this.wc = b
    };
    f.xc = function () {
        return this.Yf
    };
    f.eK = function () {
        return this.w
    };
    f.wj = function (b) {
        this.Yf = b.xc();
        this.w = b.lg;
        this.qb = b
    };
    f.W = function () {
        return this.qb
    };
    f.Eo = function (b, c) {
        this.Yf = b;
        this.w = c;
        this.qb = b.fw == wg.fw && 1 == c ? cl : zl(b.Y() * c);
        this.qb || (this.qb = new al(Infinity, c.toString(10) + b.a, b, c))
    };
    f.Db = function () {
        return this.of
    };
    f.Gi = function (b) {
        this.of = b
    };
    f.ma = function () {
        return this.Sa
    };
    f.Ie = function (b) {
        this.Sa = b
    };
    f.start = function () {
        this.a.Do(this.Ic());
        this.a.Eo(this.Yf);
        var b = this.a, c = this.Oj, d = this.Ch;
        b.Oj = new bk(c);
        b.Oj.setDate(c.getDate());
        b.Oj.setMonth(c.getMonth());
        b.Oj.setYear(c.getFullYear());
        b.Ch = new bk(d);
        b.Ch.setDate(d.getDate());
        b.Ch.setMonth(d.getMonth());
        b.Ch.setYear(d.getFullYear());
        b.Ch.add(new Oj(0, 0, 1));
        var e = new bk;
        e.setHours(e.getUTCHours());
        e.setMilliseconds(0);
        e.setSeconds(0);
        e.setMinutes(0);
        var h = b.Ic() === cU ? 6E4 : 1E3 >= b.Yf.interval ? 6E4 : 0;
        b.Oj.setTime(b.Oj.getTime() + c.getTimezoneOffset() *
            h);
        b.Ch.setTime(b.Ch.getTime() + d.getTimezoneOffset() * h);
        0 < ak(b.Ch, e) && (b.Ch = new bk(e));
        this.a.Ie(this.Sa);
        this.a.Gi(this.of);
        this.a.F = this.F;
        this.m && (this.m.Ra(), this.m = null);
        switch (this.wc) {
            case 1:
                this.m = null;
                break;
            case 5:
            case 2:
                this.m = new Wy(this.qb, this.of)
        }
        this.eq = new jQ;
        this.ra.C(this.a, "complete", this.M$).C(this.a, "error", this.mE).C(this.a, "progress", this.N$);
        this.a.start();
        this.dispatchEvent("start");
        return this.eq
    };
    f.stop = function () {
        this.a.stop()
    };
    f.M$ = function (b) {
        b = this.m ? ud(b.target.result, function (b, d) {
            var e = d.request.xc();
            return b.concat(Xy(this.m, gU[e].Mb, this.of, d.data, this.Ic() === cU))
        }, [], this) : ud(b.target.result, function (b, d) {
            return b.concat(d.data)
        }, [], this);
        ti(b, b, function (b) {
            return b.join()
        });
        this.result = b;
        this.eq.uc(this.result);
        this.dispatchEvent("complete")
    };
    f.mE = function (b) {
        this.error = b.target.error;
        this.eq.Ne(this.error);
        this.dispatchEvent("error")
    };
    f.N$ = function (b) {
        this.Fg = .5 * b.target.Fg;
        this.dispatchEvent("progress")
    };

    function sV(b, c) {
        ez.call(this);
        this.a = b;
        this.g = c;
        this.ab = new rV(this.a)
    }

    B(sV, ez);
    sV.prototype.request = function (b, c, d, e, h, k, l) {
        var p = h || wa(), q = p % d.Y(), r = Wa().getTime(), t = e - e % d.Y(), r = Math.min(p - q, r),
            q = Math.max(r, e), t = tV(this, b, c, d, t, r), u = uV(this, b, c, d, q, p),
            x = {Td: b, Eg: c, Mb: d, ne: e, ye: h, wz: !!k, pq: l}, A = new jQ;
        sx(t, function (b) {
            sx(u, function (c) {
                c = [].concat(b, c);
                this.dispatchEvent(new fz("load", c, x));
                A.uc({data: c, Tl: x})
            }, this)
        }, this);
        return A
    };

    function tV(b, c, d, e, h, k) {
        if (h >= k) return gz([]);
        b.ab.Ie(c);
        b.ab.Gi(d);
        b.ab.wj(e);
        c = b.ab;
        k = new Date(k);
        c.Oj = new Date(h);
        c.Ch = k;
        b.ab.F = 1E6;
        return b.ab.start()
    }

    function uV(b, c, d, e, h, k) {
        if (h >= k) return gz([]);
        var l = new jQ;
        sx(b.g.request(c, d, e, h, k, !1), function (b) {
            l.uc(b.data)
        });
        return l
    };

    function R(b, c, d, e) {
        Q.call(this);
        b && (this.Ub = new os(ps(b)), this.Fb = b, dk(b, "a-b"));
        d && (this.Nt = d);
        if (e instanceof pR) {
            if (!(e instanceof pR)) throw Error("Incorrect instrument loader instance passed to chart instance");
            this.zd = e
        }
        this.Nc = {};
        this.Md = {};
        this.Du = {};
        this.Vs = new xc;
        this.U = new uJ(this);
        this.Kl = new Lx(this);
        this.yu = null;
        c && c.workspace_ && (this.yu = c.workspace_, delete c.workspace_);
        b = {};
        jh(b, c || {});
        this.j = {
            Hj: !0,
            u4: null,
            ol: 100,
            Br: 300,
            dataType: 2,
            Td: J.g,
            qH: "24/5",
            Eg: "BID",
            Mb: gl,
            tr: 1,
            Iv: 1,
            Kla: "candle",
            Mr: "legend",
            iO: FG.Pastelle,
            bF: 4,
            XM: 3,
            zL: 2,
            HF: id.CP,
            kO: 3,
            bJ: 1,
            filter: 3,
            rH: 0,
            taa: "/datafeed/",
            wC: "//freeserv.dukascopy.com/2.0/?path=chart%2Fjson3",
            fJ: "jsonp",
            fV: "//freeserv.dukascopy.com/2.0/?path=common%2Finstruments",
            cV: "jsonp",
            cJ: 1E4,
            VL: "//freeserv.dukascopy.com/2.0/?path=economic_calendar%2FgetNewsForInstrument",
            Ij: !0,
            qn: !0,
            um: !0,
            py: "dd MMM yyyy HH:mm:ss",
            ry: !0,
            nb: !0,
            mQ: null,
            hm: !1,
            Kk: !1,
            xJ: !0,
            hL: !1,
            Ju: !0,
            Yi: !1,
            Ku: !0,
            Gba: !1,
            Mq: !0,
            Yg: 0,
            mH: ok(0),
            Ila: this.Cg,
            Rl: !1,
            Lla: this.ix,
            Jla: this.cw,
            x4: null,
            ZL: !1,
            UV: "rgba(255,255,0,0.2)",
            VV: "rgba(0,0,0,1)",
            tx: !1,
            DL: !0,
            yJ: !0,
            jk: 0,
            $u: !1,
            PQ: 1E4,
            oy: !1,
            mu: !0,
            xu: !1,
            VB: !1,
            gQ: !1,
            hQ: "chart",
            po: !1,
            WU: !1,
            yq: !0,
            xq: !1,
            nY: "//freeserv.dukascopy.com/2.0/?path=common/timezones&timezone=America/New_York",
            lW: !1,
            vs: !0
        };
        b.instrument = b.instrument || this.j.Td;
        this.TQ(b.liveEmulation ? b.liveEmulation : !1);
        this.Wf(b);
        this.U.Tw(this.j.po);
        this.ix || this.Fd().load();
        this.$g = v(this.$g, this);
        this.Xx = v(this.Xx, this);
        this.yi = nb(this.bba, 150);
        this.pZ = nb(this.Fz, 250);
        this.Ge = nb(this.cba, 250);
        this.Ea = this.Rx(new Ox);
        this.Ea.Ba(this.j.ZL);
        this.Yd = this.Rx(new kx(null, this.j.py));
        this.Yd.Ba(this.j.um);
        this.Ik = !0;
        this.It = !1;
        this.vo = !0;
        this.Vfa = new hz(this, v(this.RQ, this), v(this.cj, this))
    }

    B(R, Q);
    var NF = "a-b";
    R.prototype.ob = window.devicePixelRatio || 1;
    R.prototype.Lx = function (b) {
        this.ob = b || 1
    };
    R.prototype.sH = null;
    R.prototype.gc = null;

    function vV(b) {
        b.sH = wV
    }

    var BM = "applytheme", ox = "dataload", FJ = "init", iz = "throughputinit", XI = "reload", qx = "loaded",
        nx = "pan", LJ = "resize", mx = "zoom", wF = "changedatatype", qu = "changeinstrument", xF = "changeofferside",
        px = "changeperiod", yF = "changepresentationtype", RF = "toggleohlctypeselect", xV = {
            nga: BM,
            oha: ox,
            Vga: "chartobjectadd",
            Wga: "chartobjectevent",
            Xga: "chartobjectremove",
            INIT: FJ,
            qia: "initre",
            tia: "initworkspace",
            Ska: iz,
            sia: "initdom",
            ria: "initdataloaderror",
            nia: "indicatoradd",
            pia: "indicatorupdate",
            oia: "indicatorremove",
            RELOAD: XI,
            oka: "rendereddataadd",
            pka: "rendereddataremove",
            LOADING: "loading",
            LOADED: qx,
            ACTIVATED: "activated",
            gga: "active",
            Pja: nx,
            W2: LJ,
            yla: mx,
            Jga: wF,
            Kga: qu,
            Mga: xF,
            Oga: px,
            Qga: "changepricerange",
            Pga: yF,
            Nga: "changeohlctype",
            Wka: RF,
            Sga: "changetimezone",
            sga: "autoshiftchange",
            hla: "unserialized",
            Xha: "finishunserialize",
            Rga: "changetimeline",
            Lga: "changenewsstatus",
            cia: "freemodechange"
        };
    f = R.prototype;
    f.eb = function () {
        return this.m
    };
    f.o8 = function () {
        return this.Ld
    };
    f.az = function () {
        this.Vs || this.vA(new xc);
        return this.Vs
    };
    f.vA = function (b) {
        this.Vs = b;
        this.m && this.m.vA(this.Vs)
    };
    f.z3 = function (b) {
        this.Vs instanceof Cz || this.vA(new Cz);
        b = Sa(b, wz);
        this.az().jQ(b)
    };
    f.Y7 = function () {
        return this.wb
    };
    f.ga = function () {
        return this.U
    };
    f.$S = function () {
        this.Hx || (this.Hx = new tx(this));
        return this.Hx
    };
    f.vb = function () {
        return this.Nc.D.Dq
    };
    f.Qa = function () {
        return this.xb
    };
    f.sb = function () {
        return this.fb
    };
    var yV = new iS;
    f = R.prototype;
    f.ul = null;

    function zV(b, c) {
        b.ym = c
    }

    f.IG = function (b) {
        this.j.vs = b
    };

    function AV(b) {
        return tR(b.zd, b.ma(), "US") || tR(b.zd, b.ma(), "ETF_CFD_US")
    }

    f.fQ = function (b) {
        if (b.target) switch (b.target.action) {
            case window.dc.activity.EventType.ACTIVEUP:
            case window.dc.activity.EventType.WAKEUP:
                this.F && this.F.reload(b.target.action == window.dc.activity.EventType.WAKEUP)
        }
    };
    f.init = function (b, c) {
        this.It || (BV(this, b || this.yu, c), 1 != this.j.VB || this.Ix || (this.Ix = !0, Qt(window.dc.activity.init(), window.dc.activity.EventType.ACTION, this.fQ, !1, this)), sx(yV.load(this.j.nY), function (b) {
            b.kH && (Ll = this.ul = b.kH[0].Ka());
            this.It = !0;
            this.$w(this.j.iO);
            CV(this);
            ZO(this);
            this.dispatchEvent("initdom");
            this.ix ? this.ZU() : BF(this.Fd().load(), this.ZU, function () {
                console.error("Error loading instruments.")
            }, this)
        }, this))
    };

    function BV(b, c, d) {
        var e, h, k, l, p, q, r, t;
        if (c) {
            d = d || ["options", "indicators", "drawings"];
            if ("string" == typeof c) try {
                c = Gg(c)
            } catch (u) {
                c = {}
            }
            if (c && (c.charts && (e = Ua(c.charts)[0], c = c.charts[e]), b.yu = null, c)) {
                try {
                    c.options && -1 < d.indexOf("options") && (c.options.autoShift = !!c.options.autoShift, (h = c.options.startTime) && delete c.options.startTime, (k = c.options.endTime) && delete c.options.endTime, (l = c.options.dataUnitCount) && delete c.options.dataUnitCount, c.options.dataServerURI && delete c.options.dataServerURI, c.options.newsServerURI &&
                    delete c.options.newsServerURI, c.options.dateInterval = c.options.dateInterval || [NaN, NaN], h && (isNaN(c.options.dateInterval[0]) || h < c.options.dateInterval[0]) && (p = null, h < c.options.dateInterval[0] && (p = c.options.dateInterval[0]), c.options.dateInterval[0] = h, p && (h = p)), k && (isNaN(c.options.dateInterval[1]) || k > c.options.dateInterval[1]) && (c.options.dateInterval[1] = k), t = new Date, t.setMilliseconds(0), t.setSeconds(0), t = +t, c.options.dateInterval[1] && !isNaN(c.options.dateInterval[1]) && c.options.dateInterval[1] > t &&
                    (k = c.options.dateInterval[1] = t), isNaN(c.options.dateInterval[1]) && (k = c.options.dateInterval[1] = t), q = Lc(c.options), b.Wf(q), q.dateInterval[1] && (r = c.options.dateInterval[1] - 2E3 * b.W().Y()) && r > c.options.dateInterval[0] && (q.dateInterval[0] = r, b.fs(q.dateInterval)), c.options = {
                        Hj: q.autoShift,
                        x4: q.dateInterval,
                        ol: l,
                        Jf: q.dataUnitWidth,
                        startTime: h,
                        endTime: k
                    })
                } catch (x) {
                    console.error("applyWorkspaceOptionsBefore_", "options", x)
                }
                b.S().Qf(b, "initworkspace", v(b.Qfa, b, c, d))
            }
        }
    }

    f.Qfa = function (b, c) {
        try {
            if (b.options && -1 < c.indexOf("options")) {
                if (b.options.autoShift) this.Di(!0); else {
                    var d = b.options.startTime;
                    this.pa = d ? this.xb.x(d) : this.Jd - (this.j.Yg + 1) * this.Ca();
                    DV(this);
                    this.dispatchEvent(nx);
                    this.Ia()
                }
                delete b.options
            }
        } catch (e) {
            console.error("unserializeWorkspace_", "options", e)
        }
        try {
            b.indicators && -1 < c.indexOf("indicators") && (EV(this, Lc(b.indicators)), delete b.indicators)
        } catch (h) {
            console.error("applyWorkspaceOptionsBefore_", "indicators", h)
        }
        try {
            if (b.drawings && -1 < c.indexOf("drawings")) {
                var k =
                    b.drawings;
                k && this.ga().cb(k);
                delete b.drawings
            }
        } catch (l) {
            console.error("applyWorkspaceOptionsBefore_", "drawings", l)
        }
        this.wb && (this.wb.reset(), this.wb.gh(), CM(this.wb), this.wb.on(this.su), d = Math.floor((this.pa - this.wb.G()) / this.sb().Ca()), this.wb.Yb = d, DV(this), this.wb.gh(), this.Ia())
    };

    function EV(b, c) {
        c && La(c, function (b, c) {
            var h = Gg(b), h = IC.kb(h[0]);
            h.cb(b);
            h.Hb = c;
            this.Ni(h)
        }, b)
    }

    f.ZU = function () {
        this.im();
        var b;
        a:switch (this.j.rH) {
            case 0:
                b = new vS(this.j.wC, this.j.fJ);
                break a;
            case 3:
                b = new sV(this.j.taa, new vS(this.j.wC, this.j.fJ));
                break a;
            case 1:
                b = new jz;
                break a;
            default:
                throw Error("Could not factory a transport instance!");
        }
        this.Ld = b;
        this.Ld.xG(this.j.mu);
        this.Ld.HG(this.j.xu);
        this.Ld.HA(!!this.j.UF);
        this.Ld.uG(this.j.SF);
        this.Ee = !1;
        this.S().C(this.Ld, "userdata", function (b) {
            this.Vfa.handle(b)
        });
        this.m = new Ez(this.Fa(), this.ma(), this.W(), this.Db(), this.j.filter, this.j.bJ);
        this.m.vA(this.az());
        this.m.nN(this.j.oy);
        this.ib = new AF(this.Ld, this.Fa(), this.ma(), this.W(), this.Db(), this.hf(), this.ad(), this.$d());
        this.ib.dn(this.vo);
        this.ib.Wt(this.Qn());
        this.ib.ul = this.ul;
        this.$ = new RS(this.Ld, this.Fa(), this.ma(), this.W(), this.Db(), this.hf(), this.ad(), this.$d());
        this.$.dn(this.vo);
        this.F && (this.F.stop(), this.F.Ra());
        this.F = new oz(this.ib, this);
        this.F.w = this.j.Rl;
        this.S().C(this.F, "load", this.g9);
        this.F.Ba(this.Id() && this.Cg);
        this.j.$u && (this.ka = new $y(this.ib, this), this.ka.Ba(this.j.$u),
            this.S().C(this.ka, "load", this.qK));
        this.fb = new dn;
        this.fb.gn(this.jc.width);
        this.j.Jf ? this.fb.VQ(this.j.Jf) : this.fb.qN(this.j.ol);
        this.Hb = {};
        this.Hb[2] = new $i(this.m);
        this.Hb[5] = new $i(this.m);
        this.Hb[1] = new cj(this.m);
        this.Hb[6] = new Yi(this.m);
        this.Hb[4] = new Yi(this.m);
        this.Hb[7] = new Yi(this.m);
        this.Hb[8] = new Yi(this.m);
        this.xb = this.Hb[this.Fa()];
        this.sc = new gt(this, this.fb);
        this.we = new MG(this, 4 !== this.Fa() ? 1 : this.fb.Ca());
        this.we.Dd(this.j.Ju);
        this.we.Ok(this.j.Yi);
        NG(this.we, this.j.Mq);
        this.Ya =
            new Sn(this, this.g, this.fb);
        this.Ya.au(this.j.yq);
        this.Ya.$t(this.j.xq);
        this.oZ = new $n(this, this.g, this.fb);
        FV(this, "D".toString(), "D", this.m.od());
        this.wb = this.wb || new yM(this, 0, this.M());
        this.wb.la || this.wb.T(this.La);
        this.wb.on(this.su);
        this.wb.Ba(this.j.hm);
        this.ql = new jS(this.j.VL, this);
        this.ql.w = this.j.DL;
        this.j.Kk && (GV(this), this.Sw(this.j.Kk));
        this.bf();
        this.w || HV(this);
        this.Ar = 0;
        this.qy();
        this.dispatchEvent(iz)
    };
    f.qy = function () {
        var b = this.j.vs && this.ym && 0 < this.zd.yl().length ? this.ym.confirm(AV(this)) : gz();
        bz(b, function () {
            this.Ie(J.g);
            this.j.qH = "24/5";
            this.reload()
        }, this);
        return sx(b, v(this.v4, this))
    };

    function IV(b) {
        var c, d;
        b.ib && (b.ib.fF = Math.max(b.Af() || 300, b.j.Br || 300, b.je().width), b.ib.T3 = b.j.Hj, (c = b.ib.Ug) && "=>" == c && (c = b.xb.x(b.m.si())) && !isNaN(c) && b.pa > c + b.jc.width && (d = b.xb.t(b.pa)) && d > wa() && (b.pa = c - b.jc.width + 30, b.Di(!0)))
    }

    f.v4 = function () {
        if (!(this.Ld instanceof jz)) {
            IV(this);
            this.Sd && this.Sd.cancel();
            this.Ht && this.Ht.cancel();
            var b = JV(this, this.w[0], this.w[1]);
            this.w[0] = b[0];
            this.w[1] = b[1];
            this.Ec() && (this.w[0] = Yl(this.w[0]));
            this.Ee = !1;
            var b = this.ib, c = this.w[0], d = this.w[1];
            b.Rv = !0;
            b = b.st(b.Sa, b.of, b.qb, c, d, !0);
            return this.Ht = BF(b, this.RQ, this.QQ, this)
        }
    };

    function JV(b, c, d) {
        var e = Tl(b.W()), h;
        b.Eu = c;
        e === bl ? h = b.ma().dL : e === el ? h = b.ma().aL : e === gl ? h = b.ma().bL : e === ml ? h = b.ma().rE : e === rl && (h = b.W().Fe() ? b.ma().rE : b.ma().cL);
        return h && (h *= 1, d < h) ? (c = h, [c, Ql(b.W(), c, b.j.Br)]) : [c, d]
    }

    function HV(b, c) {
        var d = c || wa() - b.j.jk;
        b.w = [];
        b.w[0] = Pl(b.W(), d, b.j.Br);
        b.w[1] = d;
        b.w[0] = KV(b, b.w[0], d);
        d = LV(b, b.w[0], b.w[1]);
        b.w[0] = d[0];
        b.w[1] = d[1];
        b.Ec() && (b.w[0] = Yl(b.w[0]))
    }

    function MV(b) {
        return [b.m.Qg(), b.m.si()]
    }

    f.Wf = function (b) {
        La(b || {}, function (b, d) {
            var e = "set" + d.substring(0, 1).toUpperCase() + d.substring(1);
            if (oa(this[e])) this[e](b); else this.j[d] = b
        }, this);
        if (6 === this.j.dataType || 4 === this.j.dataType || 7 === this.j.dataType || 8 === this.j.dataType) {
            if (!~Fl.indexOf(this.j.Mb) || Cl(this.j.Mb, bl)) this.j.Mb = gl
        } else 2 !== this.j.dataType && (this.j.Mb = bl)
    };
    f.N = function () {
        return {
            dataUnitCount: this.fb.Af(),
            dataUnitWidth: this.fb.Ca(),
            initialDataUnitCount: this.j.Br,
            dataType: this.Fa(),
            instrument: this.ma().aa(),
            offerSide: this.Db(),
            period: this.W().Zb(),
            gridType: this.j.tr,
            gridSize: this.j.Iv,
            presentationType: this.Te(),
            theme: this.fa().lb(),
            lineMethod: this.j.bF,
            reversalAmount: this.ad(),
            lineAmount: this.$d(),
            priceRange: this.hf().Zb(),
            tickBarSize: this.j.kO,
            dailyFilter: this.j.bJ,
            filter: this.j.filter,
            tradingMode: ym(this),
            transportType: this.j.rH,
            dataServerURI: this.j.wC,
            newsServerURI: this.j.VL,
            axisX: this.j.Ij,
            axisY: this.j.qn,
            crosshair: this.j.um,
            crosshairTimeFormatString: this.j.py,
            legend: this.j.nb,
            additionalLegendText: this.j.mQ,
            dateSeparators: this.j.ry,
            news: this.j.Kk,
            timeline: this.j.hm,
            drawing: this.j.xJ,
            includeDrawingsInScale: this.j.hL,
            allowPan: this.j.Ju,
            freeMode: this.j.Yi,
            allowUnconstrainedPan: this.j.Ku,
            allowZoom: this.j.Mq,
            panOffset: this.j.Yg,
            timezone: this.Ic().Un().std_offset,
            live: this.Cg,
            preload: this.cw,
            dateInterval: MV(this),
            startTime: this.Qa().t(this.pa),
            endTime: this.Qa().t(this.pa +
                this.je().width),
            eet: this.j.yJ,
            splits: this.j.mu,
            usStocksDelay: this.j.xu,
            activity: this.j.VB,
            activitySync: this.j.gQ,
            activitySyncId: this.j.hQ,
            autoShift: this.j.Hj
        }
    };
    f.z4 = function () {
        return this.Fb
    };
    f.je = function () {
        return this.jc
    };
    f.getContext = function () {
        return this.g
    };
    f.wX = function (b) {
        this.j.Ij = b;
        this.gd && this.Cn();
        this.dispatchEvent("changetimeline")
    };
    f.g6 = function () {
        return this.j.Ij
    };
    f.xX = function (b) {
        this.j.qn = b;
        this.gd && this.Cn()
    };
    f.h6 = function () {
        return this.j.qn
    };
    f.oN = function (b) {
        this.j.um = b;
        this.Yd && this.Yd.Ba(this.j.um)
    };
    f.s6 = function () {
        return this.j.um
    };
    f.Vca = function (b) {
        this.j.py = b;
        this.Yd && (b = this.Yd, b.w = this.j.py, b.g && delete b.g, b.g = new sk(b.w))
    };
    f.t6 = function () {
        return this.j.py
    };
    f.QX = function (b) {
        this.j.ry = b;
        this.gd && this.Ia()
    };
    f.J7 = function () {
        return this.j.ry
    };
    f.NN = function (b) {
        this.j.hm = b;
        this.wb && this.wb.Ba(this.j.hm);
        this.gd && this.Cn();
        this.dispatchEvent("changetimeline")
    };
    f.K7 = function () {
        return this.j.hm
    };
    f.fda = function (b) {
        this.j.xJ = b;
        this.U.Ba(b);
        this.gd && this.Cn()
    };
    f.Fda = function (b) {
        this.j.hL = b;
        this.gd && (b || (b = this.m.od(), b.U = Infinity, b.R = -Infinity, b.ip()), DV(this), this.Cn())
    };
    f.nr = function () {
        return this.j.Kk
    };
    f.Sw = function (b) {
        this.j.Kk = b;
        this.gd && b && GV(this);
        this.ql && this.ql.Ba(b);
        this.Ve && this.Ve.Ba(b);
        this.gd && (this.ql && this.ql.DT(), this.Ia());
        this.dispatchEvent("changenewsstatus")
    };

    function GV(b) {
        b.Ve && b.Ve.Ra();
        b.Ve = new GJ(b, b.ql);
        b.Ve.T(b.La)
    }

    f.ek = function (b) {
        this.j.nb = b;
        this.gd && (this.j.nb ? ek : dk).call(window, this.ia, "l")
    };
    f.Dca = function (b) {
        this.j.mQ = b;
        (b = this.qd("D".toString())) && b.Z(b.Wa())
    };
    f.Ip = function () {
        return this.j.nb
    };
    f.ma = function () {
        return this.j.Td
    };

    function ym(b) {
        var c = b.ma();
        return (c instanceof Fi ? c.gt() : null) || b.j.qH || null
    }

    f.gt = function () {
        return ym(this)
    };
    f.gfa = function (b) {
        this.j.qH = b
    };
    f.Ie = function (b) {
        if (ka(b)) {
            var c = J.hasOwnProperty(b) ? J[b] : b;
            this.ix ? console.warn("String instrument id provided, although instrument loading is skipped.") : sx(this.Fd().load(), function () {
                var d = this.Fd().qh()[c];
                d ? (this.j.Td = d, this.dispatchEvent(qu)) : (d = Ua(this.Fd().qh()), this.Fd().qh()[J.g] ? (this.Ie(J.g), this.j.qH = "24/5") : ia(d) && !ki(d) && this.Ie(d[0]), console.warn && console.warn('Incorrect instrument id provided: "' + b + '"'))
            }, this)
        } else if (b instanceof Fi) this.ix ? (this.j.Td = b, this.dispatchEvent(qu)) :
            sx(this.Fd().load(), function () {
                this.j.Td = b;
                this.dispatchEvent(qu)
            }, this); else throw Error("Incorrect argument type for dc.Chart::setInstrument: ; expected string or dc.instrument.Instrument instance." + typeof b);
    };
    f.W = function () {
        return this.j.Mb
    };
    f.t7 = function () {
        var b = this.W(), c = this.hf(), d = this.Fa(), e = b.toString(), h = b.lg + " ", b = b.xc(),
            e = {"short": e, "long": h + b.fw};
        6 === d ? (e["short"] = "R" + c.xi(), e["long"] = "Renko (" + c.xi() + ")") : 4 === d ? (e["short"] = "P&F(" + c.xi() + "x" + this.ad() + ")", e["long"] = "P&F (" + c.xi() + " Pip x " + this.ad() + ")") : 7 === d ? (e["short"] = "K" + this.ad(), e["long"] = "Kagi (" + this.ad() + ")") : 8 === d && (e["short"] = "LB" + this.$d(), e["long"] = this.$d() + " Line Break");
        return e
    };
    f.wj = function (b, c, d) {
        c = null != c ? c : !1;
        b = ka(b) ? Al[b] : b;
        this.W().Yh(this.Fe());
        if (b != this.j.Mb || c) this.j.Mb = b, this.W().Yh(this.Fe()), this.ib && OS(this.ib, this.j.Rl), HV(this, this.Ec() ? d : null), this.dispatchEvent(px)
    };
    f.Fa = function () {
        return this.j.dataType
    };
    f.Ec = function () {
        return jm(this.Fa())
    };
    f.zh = function (b) {
        this.j.dataType = b;
        this.sc && this.sc.Pc();
        this.dispatchEvent(wF)
    };
    f.$ca = function (b) {
        this.j.wC = b
    };
    f.Zca = function (b) {
        this.j.fJ = b
    };
    f.IX = function (b) {
        this.j.fV = b;
        NV(this)
    };
    f.Ida = function (b) {
        this.j.cV = b;
        NV(this)
    };
    f.Xca = function (b) {
        this.j.cJ = Math.max(b, 1E3);
        this.ib && (this.ib.tV = this.j.cJ)
    };
    f.ada = function (b) {
        this.j.PQ = Math.max(b, 1E3)
    };
    f.nN = function (b) {
        this.j.oy = b
    };
    f.xG = function (b) {
        this.j.mu = b;
        this.Ld && this.Ld.xG(this.j.mu)
    };
    f.Aca = function (b) {
        this.j.VB = !!b
    };
    f.Bca = function (b) {
        this.j.gQ = !!b
    };
    f.Cca = function (b) {
        this.j.hQ = b
    };
    f.HG = function (b) {
        this.j.xu = b;
        this.Ld && this.Ld.HG(this.j.xu)
    };
    f.HA = function (b) {
        this.j.UF = !!b;
        this.Ld && this.Ld.HA(!!this.j.UF)
    };
    f.uG = function (b) {
        this.HA(b);
        this.j.SF = b;
        this.Ld && this.Ld.uG(this.j.SF)
    };
    f.Tw = function (b) {
        this.j.po = b
    };
    f.Gda = function (b) {
        this.j.WU = b;
        this.Kl && this.Kl.Ba(this.j.WU)
    };
    f.au = function (b) {
        this.j.yq = b;
        this.Ya && this.Ya.au(this.j.yq)
    };
    f.$t = function (b) {
        this.j.xq = b;
        this.Ya && this.Ya.$t(this.j.xq)
    };
    f.cfa = function (b) {
        this.j.nY = b
    };
    f.Wt = function (b) {
        this.j.lW = b;
        this.ib && this.ib.Wt(this.Qn());
        this.$ && this.$.Wt(this.Qn())
    };
    f.Qn = function () {
        return this.j.lW
    };

    function qz(b) {
        var c = b.W().g;
        return c ? c : b.j.cJ
    }

    function NV(b) {
        b.zd = new pR(b.j.fV, b.j.cV);
        rR(b.zd, b.Nt)
    }

    f.Fd = function () {
        this.zd || NV(this);
        return this.zd
    };
    f.cea = function (b) {
        this.j.VL = b
    };
    f.Wca = function (b) {
        this.j.u4 = b
    };
    f.ifa = function (b) {
        this.j.rH = b
    };
    f.Hda = function (b) {
        this.j.Br = b;
        HV(this)
    };
    f.Db = function () {
        return dd[this.j.Eg]
    };
    f.Gi = function (b) {
        dd[b] && (this.j.Eg = dd[b]);
        this.dispatchEvent(xF)
    };
    var OV = {2: "candle", 1: "line", 5: "bar", 6: "brick", 4: "box", 7: "line", 8: "candlebar"}, PV = {
        1: ["line", "bar"],
        5: ["candle", "bar"],
        2: ["candle", "bar", "line"],
        6: ["brick", "wicksbrick"],
        4: ["box", "bar"],
        7: ["line"],
        8: ["candlebar", "wickscandlebar"]
    };
    f = R.prototype;
    f.Te = function () {
        -1 == PV[this.Fa()].indexOf(this.vu) && (this.vu = OV[this.Fa()]);
        return this.Du[this.Fa()] || this.vu
    };
    f.EN = function (b) {
        -1 !== PV[this.Fa()].indexOf(b) && (this.Du[this.Fa()] = b);
        this.vu = b;
        this.Ia();
        this.dispatchEvent(yF)
    };
    f.o7 = function () {
        return this.j.Mr
    };
    f.yN = function (b) {
        this.j.Mr = b;
        this.dispatchEvent("changeohlctype")
    };
    f.C6 = function () {
        return this.j.tr
    };
    f.Dda = function (b) {
        this.j.tr = b
    };
    f.A4 = function () {
        return this.j.Iv
    };
    f.Cda = function (b) {
        this.j.Iv = b
    };
    f.fa = function () {
        return this.j.iO
    };
    f.$w = function (b) {
        if (!(b instanceof W)) if (ka(b)) {
            try {
                b = Gg(b)
            } catch (c) {
            }
            b = FG[b] || FG.Pastelle
        } else b = new W(null, b);
        this.j.iO = b;
        if (this.dd) {
            this.S().wa(this.dd, "change");
            var d = this.dd, e = this.sH, e = null != e ? e : "common";
            if (d.em && d.em[e]) {
                var h = d.em[e];
                Ls(h.ownerNode || h.owningElement || h);
                delete d.em[e]
            }
        }
        this.dd = b;
        this.S().C(this.dd, "change", this.aaa);
        b.init(this.sH);
        IC.Nk(b.j.ke);
        this.Ya && (this.sc.Pc(), this.sc.Kt(this.va), this.Ya.reset());
        this.dispatchEvent(BM);
        this.resize();
        this.Ia()
    };
    f.aaa = function (b) {
        this.dispatchEvent(b);
        this.resize();
        this.Ia()
    };
    f.X6 = function () {
        return this.j.bF
    };
    f.Uda = function (b) {
        this.j.bF = b
    };
    f.hf = function () {
        return this.j.HF
    };
    f.Vw = function (b) {
        this.j.HF = ka(b) ? id[b] : ma(b) ? new hd(b.toString(), +b) : b;
        !this.j.HF && ka(b) && (this.j.HF = new hd(b, +b));
        this.ib && this.ib.Vw(this.hf());
        this.$ && this.$.Vw(this.hf());
        this.dispatchEvent("changepricerange")
    };
    f.T7 = function () {
        return this.j.kO
    };
    f.Nea = function (b) {
        this.j.kO = b
    };
    f.ad = function () {
        return this.j.XM
    };
    f.fn = function (b) {
        this.j.XM = b;
        this.ib && this.ib.fn(this.ad());
        this.$ && this.$.fn(this.ad())
    };
    f.$d = function () {
        return this.j.zL
    };
    f.Ao = function (b) {
        this.j.zL = b;
        this.ib && this.ib.Ao(this.$d());
        this.$ && this.$.Ao(this.$d())
    };
    f.pN = function (b) {
        this.j.ol = b;
        this.fb && this.hG(this.fb.qN, this.j.ol)
    };
    f.Af = function () {
        return this.sb().Af()
    };
    f.FH = function () {
        this.hG(this.sb().uaa);
        QV(this);
        this.Dd(this.pa)
    };
    f.IH = function () {
        this.hG(this.sb().w5);
        QV(this);
        this.Dd(this.pa)
    };
    f.tfa = function (b, c, d) {
        d = this.W().Y() * (null != d ? d : 5);
        this.mq(b - d, b + c + d)
    };
    f.mq = function (b, c) {
        RV(this);
        this.eb() && Gz(this.eb());
        if (this.gd) {
            var d = MV(this);
            this.dispatchEvent("loading");
            this.Ut(!0);
            Ol(d[0], d[1], b, c) ? d = sx(SV(this, b, c), function (b) {
                this.cj(b)
            }, this) : (this.fs([b, c]), d = this.reload());
            return sx(d, function () {
                this.Ec() || this.pN(G((c - b) / this.W().Y()));
                this.vF(b);
                this.Ut(!1);
                this.dispatchEvent(qx);
                this.Fz()
            }, this)
        }
        this.fs([b, c]);
        this.S().Qf(this, FJ, v(this.mq, this, b, c))
    };
    f.hG = function (b, c) {
        var d = this.fb.Ca();
        b.apply(this.fb, Array.prototype.slice.call(arguments, 1));
        if (this.gd) {
            var d = (this.pa + this.fb.be()) / d, e = this.pa === this.Jd;
            this.pa = d * this.fb.Ca() - this.fb.be() + .5 | 0;
            this.fb.wy((this.pa + this.fb.be()) / d);
            !this.j.Ku && e && (QV(this), this.pa = this.Jd);
            this.xb.Jf = this.fb.Ca();
            DV(this);
            this.Ia();
            this.dispatchEvent(mx);
            this.wb && this.wb.gh()
        }
    };
    f.Gea = function (b, c) {
        var d = Math.round(Array.prototype.slice.call(arguments, 2)[0]),
            e = Math.round(Array.prototype.slice.call(arguments, 2)[1]);
        b.apply(this.fb, Array.prototype.slice.call(arguments, 1));
        this.gd && (QV(this), this.j.Ku ? this.Dd(d * this.fb.Ca() | 0) : (d = this.pa / this.Jd, this.Dd(Math.min(this.Jd * d >> 0, this.Jd))), this.xb.Jf = this.fb.Ca(), this.Di(!1), DV(this), this.Ia(), e && this.wb.gh())
    };
    f.vy = function (b, c) {
        this.j.Jf = b;
        this.fb && (this.hG(null != c ? c : this.fb.VQ, b), this.j.ol = this.fb.Af())
    };
    f.Ca = function () {
        return this.fb.Ca()
    };
    f.vX = function (b) {
        this.j.Mq = b;
        this.gd && NG(this.we, this.j.Mq)
    };
    f.uX = function (b) {
        this.j.Ju = b;
        this.gd && this.we.Dd(this.j.Ju)
    };
    f.Ok = function (b) {
        this.j.Yi = b;
        this.gd && (this.we.Ok(this.j.Yi), this.vb() && (this.vb().Ok(this.j.Yi), this.Ia()));
        this.dispatchEvent("freemodechange")
    };
    f.z6 = function () {
        return this.j.Yi
    };
    f.Eca = function (b) {
        this.j.Ku = b
    };
    f.Di = function (b) {
        this.j.Hj = b;
        this.dispatchEvent("autoshiftchange");
        this.gd && this.j.Hj && (kz(this) ? (this.eb().kA(!0), OS(this.ib, !0), HV(this), this.yi(this.w[0], wa() - this.Kp()), this.Ge(this.w[0], wa() - this.Kp())) : (this.Rb = null, this.Dd(TV(this)), this.uU()))
    };
    f.d6 = function () {
        return this.j.Hj
    };
    f.LX = function (b) {
        this.j.Yg = b;
        this.gd && (b = this.Jd <= this.pa, QV(this), b && (this.pa = TV(this)), DV(this), this.Ia())
    };
    f.s7 = function () {
        return this.j.Yg
    };
    f.Do = function (b) {
        this.j.mH = b instanceof nk ? b : ok(b);
        this.dispatchEvent("changetimezone");
        this.Ia()
    };
    f.Ic = function (b) {
        b = null != b ? b : new Date;
        b = b instanceof Date ? b : new Date(b);
        var c = this.j.mH;
        0 != c.Un().std_offset && (c = ok(b.getTimezoneOffset()));
        return c
    };
    f.Mn = function () {
        return this.j.filter
    };
    f.YS = R.prototype.Mn;
    f.Zh = function (b) {
        this.j.filter = b;
        this.m && (this.ib && OS(this.ib, this.j.Rl), this.m.Zh(this.j.filter))
    };
    f.je = function () {
        return this.jc
    };

    function xu(b) {
        return b.qd("D".toString()).Ha
    }

    f.Z7 = function () {
        return this.su
    };
    f.V7 = function () {
        return this.za
    };
    f.x6 = function () {
        return this.R
    };
    f.M = function () {
        return this.Ub
    };

    function CV(b) {
        var c = b.M();
        b.Fb || (b.Fb = ts("chartContainer"), b.Fb || (b.Fb = qs(Yd)[0]), b.Ub = new os(ps(b.Fb)), dk(b.Fb, "a-b"));
        b.La = ts("c", b.Fb);
        b.La || (b.La = c.u(D, "c"), c.appendChild(b.Fb, b.La));
        b.ia = ts("d", b.La);
        b.ia || (b.ia = c.u(D, "d"), c.appendChild(b.La, b.ia));
        b.va = ts("e", b.ia);
        b.va || (b.va = c.u(D, "e"), c.appendChild(b.ia, b.va));
        b.R = ts("f", b.ia);
        b.R || (b.R = c.u(D, "f"), c.appendChild(b.ia, b.R));
        UV(b);
        VV(b);
        b.jd = ts("n", b.ia);
        b.jd || (b.jd = c.u(D, "n"), c.appendChild(b.ia, b.jd));
        b.a = Ns(b.jd);
        b.a || (b.a = c.u(ae), c.appendChild(b.jd,
            b.a));
        b.j.nb || dk(b.ia, "l");
        window.G_vmlCanvasManager && window.G_vmlCanvasManager.initElement(b.a);
        window.DC_nativeCanvasManager && window.DC_nativeCanvasManager.initElement(b.a);
        b.g = b.a.getContext("2d");
        b.g.font = OF(b.dd)
    }

    function UV(b) {
        var c, d = y("MSG_CHART_POWERED_BY", {}, "Powered by");
        b.R && (b.ou = ts("m", b.R), b.ou || (c = b.M(), b.ou = c.u(Ud, {
            "class": "m",
            target: "_blank",
            href: "https://www.dukascopy.com/?utm_source=freeserv"
        }, c.u(D, "fi", d), c.u(D, "hh")), c.appendChild(b.R, b.ou)))
    }

    function VV(b) {
        var c;
        b.R && (b.yt = ts("t", b.R), b.yt || (c = b.M(), b.yt = c.u(D, "t", c.u(Le, null, "Loading\u2026")), c.appendChild(b.R, b.yt)))
    }

    f.S = function () {
        this.ra || (this.ra = new fu(this));
        return this.ra
    };
    f.bf = function () {
        this.im();
        this.S().C(dt(this.M()), "resize", nb(this.Cn, 250));
        this.S().C(dt(this.M()), "orientationchange", this.Cn, !1, this);
        this.De = new PG;
        QG(this.De, this.ia);
        this.S().C(this.De, Ta(RG), function (b) {
            this.dispatchEvent(b)
        });
        this.S().C(this.we, ["panmove", "panmomentum"], this.SQ).C(this.we, ["panmove", nx], nb(this.uU, 100)).C(this.we, ["panymove", "panymomentum"], this.laa).C(this.we, "zoomstart", this.paa).C(this.we, "zoomchange", this.naa).C(this.we, "zoomend", this.oaa);
        this.wb && this.S().C(this.wb,
            "pan", this.SQ).C(this.wb, "zoom", this.caa);
        this.U && this.S().C(this.U, "dragstart", this.zT).C(this.U, "dragend", this.yT).C(this.U, ["objectpick", "objectunpick", Au, Eu, Bu], this.CT).C(this.U, Au, this.ur).C(this.U, Eu, this.dE).C(this.U, Bu, this.eE);
        this.Ik = !0
    };

    function WV(b) {
        1 == b.j.VB && b.Ix && Yt(window.dc.activity.init(), window.dc.activity.EventType.ACTION, b.fQ, !1, b)
    }

    f.im = function () {
        this.S().wa(this, "initworkspace");
        this.S().wa(dt(this.M()), "resize", nb(this.Cn, 250));
        $t(dt(this.M()), "orientationchange");
        this.De && (this.De.ra.ud(), La(RG, function (b) {
            $t(this.De, b)
        }, this));
        this.we && ($t(this.we, "panmove"), $t(this.we, "panmomentum"), $t(this.we, "panymove"), $t(this.we, "panymomentum"), $t(this.we, "zoomstart"), $t(this.we, "zoomchange"), $t(this.we, "zoomend"));
        this.wb && ($t(this.wb, "pan"), $t(this.wb, "zoom"));
        this.U && this.S().wa(this.U, "dragstart", this.zT).wa(this.U, "dragend", this.yT).wa(this.U,
            ["objectpick", "objectunpick", Au, Eu, Bu], this.CT).wa(this.U, Au, this.ur).wa(this.U, Eu, this.dE).wa(this.U, Bu, this.eE);
        this.Ik = !1
    };

    function XV(b) {
        void 0 === b.Ik && (b.Ik = !0);
        return b.Ik
    }

    f.pa = 0;
    f.q7 = function () {
        return this.pa
    };
    f.vF = function (b) {
        this.Dd(this.xb.x(b))
    };
    f.Dd = function (b) {
        b = sd(b, this.j.Ku ? Number.NEGATIVE_INFINITY : -this.fb.be(), this.j.Ku && !this.At ? Number.POSITIVE_INFINITY : this.Jd);
        this.pa !== b && (this.Rb = this.Rb || {
            "=>": 0,
            "<=": 0
        }, ++this.Rb[b > this.pa ? "=>" : "<="], (!this.F || !this.F.a || this.F.a > this.m.si()) && RV(this, !1), this.pa = b | 0, DV(this), this.pZ(), this.dispatchEvent(nx), this.Ia())
    };
    f.gA = !1;
    f.Ni = function (b) {
        if (!this.gd) this.S().Qf(this, FJ, v(this.Ni, this, b)); else if (!GF(this) || b.lc().pb != H.ws) {
            var c = this.Rp(b);
            b.o = this;
            this.m.xh(b);
            this.m.Ni(b);
            this.Md[b.Zb()] = b;
            var d = b.ea(), e = this.eb().od(),
                h = [e.data[0].getTime(), this.Ec() ? e.data[e.data.length - 1].Bf() : e.data[e.data.length - 1].getTime()],
                k = h[0], l = h[1];
            e.Al() < this.Af() + d && (k = k - this.W().Y() * d, $l(k, ym(this)) || (k = Ul(k)));
            k = b.wD(k, l);
            k == h[0] && l == h[1] || this.Ge(k, l, b);
            b.WI(this);
            b.Fw || (d = bo++, b.Fw = d);
            c ? (this.qd(b.Zb()).Dq && b.lc().Vb && this.qd(b.Zb()).Dq.uA(this.m.Nf[b.Zb()]),
                this.qd(b.Zb()).uA(this.m.Nf[b.Zb()]), this.dispatchEvent(new gf("indicatorupdate", b.Zb(), b, this.qd(b.Zb()))), DV(this), this.Ia()) : (FV(this, b.Zb(), b.lc().Vb ? "O" : "I", this.m.Nf[b.Zb()]), this.dispatchEvent(new gf("indicatoradd", b.Zb(), b, this.qd(b.Zb()))))
        }
    };

    function YV(b, c, d) {
        b.qd(c.Zb()).Z(d);
        $O(b)
    }

    f.xh = function (b) {
        this.m.xh(b);
        delete this.Md[b.Zb()];
        var c = b.Zb();
        if (c in this.Nc) {
            var d = this.Nc[c].type;
            this.Nc[c].Ra();
            delete this.Nc[c];
            $O(this);
            this.dispatchEvent({type: "rendereddataremove", data: {id: c, type: d}});
            this.Ia()
        }
        CJ(this.ga(), b.Zb());
        this.dispatchEvent(new gf("indicatorremove", b.Zb(), b, this.qd(b.Zb())))
    };
    f.iA = function () {
        var b = Ta(this.Md);
        Ec(b, function (b, d) {
            return b.Fw - d.Fw
        });
        E(b, this.xh, this)
    };
    f.Rp = function (b) {
        return this.Md.hasOwnProperty(b.Zb())
    };
    f.kb = function (b) {
        return this.Md[b]
    };
    f.E6 = function () {
        return this.Md
    };

    function ZV(b) {
        var c = 0, d;
        for (d in b.Md) b.Md.hasOwnProperty(d) && (c = Math.max(c, b.Md[d].ea()));
        return c
    }

    function FV(b, c, d, e) {
        var h, k, l, p;
        l = b.Qa();
        "I" == d ? (k = b.Nc.D.Dq, h = b.Nc.D.mk, p = b.Nc.D.In) : (k = new ac(e), h = new WO(b, k), p = b.M().u(D), b.M().appendChild(b.R, p));
        ch(b.Nc) && b.M().me(b.va);
        var q = b.Nc, r = b.M().u(D);
        b.M().appendChild(b.va, r);
        q[c] = new pu(b, c, e, d, l, k, h, r, p);
        $O(b);
        b.dispatchEvent({type: "rendereddataadd", data: {id: c, type: d}});
        b.Ia()
    }

    f.qd = function (b) {
        return this.Nc[b]
    };

    function Gx(b) {
        return b.Nc.D
    }

    f.Hm = function (b, c) {
        for (var d in this.Nc) if (this.Nc.hasOwnProperty(d)) {
            var e = this.Nc[d], h = e.Ha;
            if (b >= h.left && b <= h.left + h.width && c >= h.top && c <= h.top + h.height) return e
        }
        return null
    };

    function $O(b) {
        if (!PF(b.Fb).Ml()) {
            var c = 0, d;
            for (d in b.Nc) b.Nc.hasOwnProperty(d) && (c += "O" === b.Nc[d].type && b.Nc[d].Wa() ? 1 : 0);
            var e = {O: .25};
            1 < c && (e.O = 2 == c ? .2 : (60 / c | 0) / 100);
            e.D = 1 - c * e.O;
            e.I = e.D;
            var h = 0, k = 0, l, c = Ta(b.Nc);
            Ec(c, v(function (b, c) {
                var d;
                if ("D" === b.type) d = -1; else if ("D" === c.type) d = 1; else {
                    d = this.kb(b.aa()).Fw;
                    var e = this.kb(c.aa());
                    d -= e.Fw
                }
                return d
            }, b));
            E(c, function (b) {
                if (this.Nc.hasOwnProperty(b.aa()) && b.Wa()) {
                    l = b;
                    k = G(this.jc.height * e[l.type]);
                    "O" === l.type && l.VX(h);
                    if ("D" === l.type || "O" === l.type) h +=
                        k;
                    l.zo(k);
                    l.gn(this.jc.width);
                    l.Xv.width = this.El()
                }
            }, b);
            b.jc.height != h && (k -= h - b.jc.height, l.zo(k))
        }
    }

    f.yH = function () {
        this.gd && DV(this)
    };

    function DV(b) {
        var c = b.xb.t(b.pa), d = b.xb.t(b.pa + b.jc.width + b.Ca());
        b.m.cx(c, d);
        if (b.j.hL) {
            for (var e = b.U.ri(), c = Infinity, d = -Infinity, h, k = 0, l = e.length; k < l; k++) h = vA(e[k]), c > h[1] && (c = h[1]), d < h[3] && (d = h[3]);
            e = b.m.od();
            e.U = null === c ? Infinity : c;
            e.R = null === d ? -Infinity : d;
            e.ip()
        }
        for (var p in b.Nc) b.Nc.hasOwnProperty(p) && b.Nc[p].Dq.Pc();
        for (var q in b.Nc) b.Nc.hasOwnProperty(q) && b.Nc[q].mk.Pc()
    }

    function $V(b, c) {
        if (b.Ec() && !c) {
            var d = b.eb().si() - b.xb.t(0), e = b.xb.x(b.eb().si());
            if (0 > b.pa) {
                var h = Math.abs(b.pa) * d / e, k = b.xb.t(0), k = Xl(k), h = Ul(k - h);
                return [h, k]
            }
            if (b.pa > b.Jd) return k = b.pa + b.jc.width - b.Jd, h = b.xb.t(b.Jd), k = h + k * d / e + bj.Y(), h = Ul(h), k = Xl(k), [h, k]
        }
        d = c || (b.Ec() || 0 > b.pa ? b.xb.t(b.pa) : b.xb.t(b.pa + b.jc.width));
        0 > b.pa + b.jc.width ? b.Iu = b.xb.t(b.pa) : delete b.Iu;
        var e = b.j.Br, l = b.W().Y(), p = h = Math.max(vj(b.W(), d - Math.max(e + b.Af(), ZV(b)) * l), l);
        var q = 0;
        if (1 == b.Mn()) h = q; else {
            for (; h <= d; h += rl.Y()) $l(h, ym(b)) ||
            q++;
            h = q * rl.Y()
        }
        h = p - h;
        !$l(h, ym(b)) && b.W().Vd(ul) && (h = Wl(h) - e * l);
        h = KV(b, h);
        b.Ec() && (h = Ul(h), p = new Date(h), 0 == p.getMonth() && 1 == p.getDate() && (h = Yl(h)));
        b.Ec() && !b.lk ? (k = h + (b.xb.t(b.pa + b.jc.width) - b.xb.t(b.pa)), k += bj.Y(), k = Xl(k)) : b.Ec() ? k = Xl(k) : (k = vj(b.W(), d + e * l), $l(k, ym(b)) || (k = Xl(k) + e * l));
        k = LV(b, h, k);
        return b.Hu = k
    }

    function LV(b, c, d) {
        b.zi = b.zi || new kd;
        b.zi.Ie(b.ma());
        var e;
        var h = md(b.zi);
        e = new Date(c);
        if (h) {
            e.setUTCHours(h.end.hK);
            e.setUTCMinutes(h.end.Ir);
            e.setUTCSeconds(0);
            if (e.getTime() > c) {
                c = 1;
                switch (e.getDay()) {
                    case 0:
                        c = 2;
                        break;
                    case 1:
                        c = 3;
                        break;
                    default:
                        c = 1
                }
                e.setUTCDate(e.getUTCDate() - c)
            }
            e = e.getTime()
        } else e = c;
        c = md(b.zi);
        b = new Date(d);
        if (c) {
            b.setUTCHours(c.start.hK);
            b.setUTCMinutes(c.start.Ir);
            b.setUTCSeconds(0);
            if (b.getTime() < d) {
                d = 1;
                switch (b.getDay()) {
                    case 6:
                        d = 2;
                        break;
                    case 5:
                        d = 3;
                        break;
                    default:
                        d = 1
                }
                b.setUTCDate(b.getUTCDate() +
                    d)
            }
            d = b.getTime()
        }
        return [e, d]
    }

    function KV(b, c, d) {
        var e = null != d ? d : null;
        if ($l(c, ym(b)) && !e) return c;
        var h = b.j.Br, k = 0, l = b.W().Y();
        d = Tl(b.W());
        var p = 0;
        if (e) {
            for (var q = c; q <= e; q += l) $l(q, ym(b)) && k++;
            if (h <= k) return vj(b.W(), c);
            c = vj(b.W(), c - (h - k) * l)
        } else c = vj(b.W(), Wl(c));
        if (!(b.ma() instanceof Fi)) return c;
        d === bl ? p = +b.ma().dL : d === el ? p = +b.ma().aL : d === gl ? p = +b.ma().bL : d === ml ? p = +b.ma().rE : d === rl && (p = +b.ma().cL);
        return c < p ? p : c
    }

    f.cba = function (b, c, d) {
        this.lf = [];
        if (!d) {
            var e = [], h = [];
            La(this.Md, function (d) {
                0 === d.oe || ji(e, d.oe.getName()) || h.push([b, c, d]);
                0 !== d.oe && e.push(d.oe.getName())
            }, this);
            d = this.Jx ? void 0 : aW(this, h);
            return d
        }
        return bW(this, b, c, d, !1)
    };

    function aW(b, c) {
        b.lf = c;
        if (ki(b.lf)) b.Jx = !1; else {
            var d = b.lf.pop();
            b.Jx = !0;
            return bW(b, d[0], d[1], d[2], !0)
        }
    }

    function bW(b, c, d, e, h) {
        var k = e instanceof ko && b.Ec() ? 2 : b.Fa();
        if (mA(b.eb(), e)) {
            var l = b.m.Qg(), p = b.m.si();
            c -= e.dT(c);
            var q;
            b.eb() ? (q = b.eb(), q = q.Of[Fz(q, e)]) : q = null;
            q ? (l = q[0].getTime(), p = q[q.length - 1].getTime(), d = d < l ? l : d, c = c > p ? p : c) : (d = d < p ? p : d, c = c > l ? l : c);
            b.Ut(!0);
            e.oe.Yh(b.Fe());
            b.$.DA(k, b.ma(), e.oe, b.Db());
            return h ? qQ(az(b.$.rt(e, c, d, !0), b.X9, b), v(b.Ut, b, !1), b) : qQ(az(b.$.rt(e, c, d, !0), b.eU, b), v(b.Ut, b, !1), b)
        }
    }

    f.bba = function (b, c) {
        this.Sd && this.Sd.cancel();
        this.Ut(!0);
        return this.Sd = qQ(az(this.ib.rt(b, c, null != c), this.cj, this), v(this.Ut, this, !1), this)
    };
    f.Fz = function () {
        var b;
        b = new Date;
        b.setMilliseconds(0);
        b.setSeconds(0);
        b = +b;
        if (this.Cg || this.cw) {
            var c = $V(this);
            if (!(isNaN(c[0]) || isNaN(c[1]) || (0 > c[0] && (c[0] = 1), c[1] > b && (c[1] = b), !this.Cg && this.cw && c[0] > cW(this) && !kz(this)) || (b = JV(this, c[0], c[1]), c[0] = b[0], c[1] = b[1], !$l(c[1], ym(this)) && c[1] > dW(this) && (c[1] = dW(this)), c[0] >= cW(this, !0) && c[1] <= dW(this, !0)))) {
                c[0] < cW(this) && c[1] < dW(this) && (c[1] = cW(this));
                if (this.Cg && this.j.Rl && this.F && this.F.a && isFinite(this.F.a) && c[0] >= cW(this) && c[1] >= dW(this) && !kz(this)) {
                    if (this.F.a >
                        dW(this)) return;
                    c[1] = vj(this.W(), this.F.a) - 1
                }
                b = wa() - this.Kp();
                this.Kp() != qz(this) && c[1] > b && (c[1] = b - qz(this));
                c[1] > dW(this) && c[0] < cW(this) && (c[1] - dW(this) > cW(this) - c[0] ? c[0] = dW(this) : c[1] = cW(this));
                c[1] > dW(this) && (c[0] = dW(this));
                c[0] < cW(this) && (c[1] = cW(this));
                this.yi(c[0], c[1]);
                this.Ge(c[0], c[1])
            }
        }
    };

    function cW(b, c) {
        var d, e, h;
        e = Tl(b.W());
        h = 300 * e.Y();
        b.ib && (h = Math.max(b.ib.fF || 300, 300) * e.Y(), (d = DS(b.ib, b.ma(), b.Db(), b.W(), e, !0)) && c && (d += h));
        return b.m ? ((e = b.m.Qg() || 0) && c && (e += h), d && d > e ? d : e) : 0
    }

    function dW(b, c) {
        var d, e, h;
        e = Tl(b.W());
        h = 300 * e.Y();
        b.ib && (h = Math.max(b.ib.fF || 300, 300) * e.Y(), (d = ES(b.ib, b.ma(), b.Db(), b.W(), e, !0)) && c && (d -= h));
        return b.m ? ((e = b.m.si() || 0) && c && (e -= h), d && d < e ? d : e) : 0
    }

    function kz(b) {
        var c, d;
        if ("DUK+/EUR" == b.ma().Nb()) return !1;
        c = qj(b.eb());
        isNaN(c) && b.ib && (d = b.ib.kF || null) && (c = d.endRealTime || d.endTime);
        if (!c || isNaN(c)) return !0;
        var e = wa() - b.Kp() - c;
        c = b.W().Vd(gl) ? gl.Y() : b.W().Y();
        d = b.ma().Nb().match(/.*\.US\/USD$/i) ? 9E5 : 0;
        b.Ec() && (e = wa() - b.Kp(), b = b.ib, b = jm(b.wc) ? IS(b, b.Sa, b.of, b.qb).Gr : 0, e = e - b);
        return e > 2 * c + d
    }

    function SV(b, c, d) {
        var e = b.m.ta[0].getTime(), h = b.m.Th().getTime();
        if (e <= c && d <= h) b = gz([]); else {
            var k;
            c < e ? (k = yb(c, e), c = e) : (h < c ? k = h : k = c, c = d);
            c = JV(b, k, c);
            k = c[0];
            c = c[1];
            b.w[0] = k;
            b.w[1] = c;
            b = b.ib.rt(k, c)
        }
        return b
    }

    function DJ(b) {
        return {vg: b.xb.t(b.pa), fh: b.xb.t(b.pa + b.jc.width)}
    }

    function lS(b) {
        return {vg: b.m.ta[0].time, fh: b.m.Th().time}
    }

    f.Rx = function (b) {
        b.If(this);
        this.Gu || (this.Gu = []);
        this.Gu.push(b);
        return b
    };
    f.resize = function () {
        this.gd && this.Cn()
    };
    f.C4 = function (b, c) {
        JF(this.Fb, b, c);
        this.resize()
    };
    f.Ia = function () {
        this.gd && (this.sl = !0)
    };
    f.Xx = function () {
        this.Id() && (this.sl && this.gd && this.$g(this.getContext()), this.Ex = window.requestAnimationFrame(this.Xx))
    };
    f.cancelAnimationFrame = function () {
        window.cancelAnimationFrame(this.Ex)
    };
    f.reload = function (b) {
        this.F && this.F.stop();
        this.F && this.F.cancel();
        this.ka && this.ka.cancel();
        this.Ee && !this.It && this.init();
        this.Rb = null;
        this.dispatchEvent(XI);
        if (this.xb) {
            LS(this.ib);
            var c = !1, d = this.pa > this.Jd ? this.pa - this.Jd : this.pa;
            this.tW = 100 * d / this.Jd;
            this.cA = +new Date(vj(this.W(), this.xb.t(d)));
            this.gc = this.gc || null;
            var e, h, k, l, d = this.j.Hj;
            h = Math.abs(this.xb.t(this.pa + this.jc.width) - this.cA) / this.xb.Y();
            h = !h || isNaN(h) ? this.j.Br / 2 : h;
            try {
                l = [this.cA, NaN], this.m.wj(this.W()), this.xb.Pc(), this.xb.startTime =
                    l[0], l[1] = l[0] + h * this.xb.Y()
            } catch (p) {
                l = MV(this)
            }
            l[0] && l[1] && !isNaN(l[0]) && !isNaN(l[1]) && (e = h * this.xb.Y()) && !isNaN(e) && (l[0] -= e, l[1] += e);
            e || (l = this.xD());
            if (isNaN(this.m.Qg()) || (k = this.ib.kF || null) && k.startTime && k.period == this.W() + "") l = k ? [k.startTime, k.endTime] : this.xD(), 0 > this.pa && (this.pa = 30, this.Jd = Math.abs(this.Jd)), c = !0;
            this.xb.startTime = this.xb.startTime || l[0];
            e = Math.min(l[1], wa() - this.j.jk);
            d || c || (e = this.cA || l[0]);
            e = d ? wa() - this.j.jk : Math.min(e, this.gc || e);
            c = vj(this.W(), e);
            c = $V(this, c);
            c[0] =
                Math.max(c[0], 1);
            c[1] = Math.min(c[1], wa() - this.j.jk);
            d && (c[1] = Math.min(c[1], this.gc || c[1]));
            this.fs(c);
            this.ib.DA(this.Fa(), this.ma(), this.W(), this.Db());
            this.$.DA(this.Ec() ? 2 : this.Fa(), this.ma(), this.W(), this.Db());
            d = Lc(this.Md);
            La(d, this.xh, this);
            en(this.fb);
            OS(this.ib, this.j.Rl);
            this.m.kA(b);
            this.m.Ie(this.ma());
            this.m.wj(this.W());
            this.m.zh(this.Fa());
            this.m.Gi(this.Db());
            this.m.Zh(this.j.filter);
            cA(this.m, this.j.bJ);
            this.xb = this.Hb[this.Fa()];
            this.xb.Pc();
            this.xb.Jf = this.fb.Ca();
            b = this.qd("D".toString());
            b.uA(this.m.od());
            b.LN(this.xb);
            this.wt = this.gd = !1;
            La(d, this.Ni, this);
            eW(this);
            $t(this, "initre");
            this.S().Qf(this, "initre", function () {
                this.wb.reset();
                this.ib && (this.ib.Rv = !0);
                if (this.j.Hj) this.Dd(TV(this)); else {
                    var b = this.xb.x(this.cA);
                    (0 > b || b > this.Jd) && this.tW && (b = 30);
                    0 > b && (b = 30);
                    this.Dd(b);
                    this.cA = this.tW = null
                }
            });
            this.DX(this.j.$u);
            return this.qy()
        }
    };

    function eW(b) {
        GF(b) && E(b.U.ri(), function (b) {
            b instanceof WB && this.U.Me(b)
        }, b)
    }

    f.Tfa = function (b) {
        if (this.gd && !kz(this)) {
            var c = this.m.si() - qz(this);
            this.ib.Ug = "=>";
            b ? b <= c || (c = b - qz(this), this.yi(c), this.Ge(c)) : (this.yi(c), this.Ge(c))
        }
    };
    f.sl = !0;
    f.RI = function () {
        this.g.clearRect(0, 0, this.K.width, this.K.height)
    };
    f.$g = function () {
        if (this.sl && this.Id()) {
            this.RI();
            this.g.font = OF(this.dd);
            this.j.qn && (this.g.save(), this.g.fillStyle = this.fa().j.wd, this.g.fillRect(this.jc.width + 1, 0, this.El(), this.K.height), this.g.restore());
            this.j.Ij && this.sc.Wr();
            this.wb && this.j.hm && FM(this.wb);
            var b = this.qd("D".toString()).Ha, b = new Ip(this.pa, 0, b.width, b.height);
            this.dispatchEvent("renderbackground");
            var c, d, e, h;
            h = Object.keys(this.Nc);
            h.sort();
            h.reverse();
            e = h.length;
            for (d = 0; d < e; d++) c = h[d], this.Nc.hasOwnProperty(c) && this.Nc[c].Wa() &&
            (c = this.Nc[c], c.T(fW(this, c.type)), this.j.qn && "I" !== c.type && c.Wr(c.Nn(), !1));
            if (this.j.xJ) for (d = 0; d < e; d++) c = h[d], this.Nc.hasOwnProperty(c) && this.Nc[c].Wa() && (c = this.Nc[c], b.top = c.Ha.top, b.height = c.Ha.height, this.U.T(c, b));
            for (d = 0; d < e; d++) c = h[d], this.Nc.hasOwnProperty(c) && this.Nc[c].Wa() && this.j.qn && this.fa().j.Xp && this.Nc[c].Cw(fW(this, this.Nc[c].type));
            this.dispatchEvent("renderforeground");
            this.sl = !1
        }
    };

    function fW(b, c) {
        switch (c) {
            case "D":
                return b.Ya;
            case "I":
            case "O":
                return b.oZ;
            default:
                throw Error('Rendered data type "' + c + '" not implemented.');
        }
    }

    f.Ar = 0;
    f.YU = null;
    f.MF = null;

    function gW(b) {
        return b.YU || (b.YU = new wu(b.qy, 0, b))
    }

    f.Cg = !0;
    f.Pw = function (b) {
        this.OX(!b);
        if (this.Cg != b && (this.Cg = b, RV(this), this.F && this.F.Ba(this.Id() && this.Cg), this.ib)) {
            b = this.Db();
            var c = this.W();
            this.ib.ag.clear(this.ma(), b, c)
        }
    };
    f.ix = !1;
    f.Bea = function (b) {
        this.ix = b
    };

    function uj(b, c) {
        Cl(b.W(), bl) && (c = !0);
        return kz(b) ? !0 : c ? !1 : b.j.Rl || b.j.Hj ? !1 : !0
    }

    f.TQ = function (b) {
        this.j.Rl = b;
        this.F && (this.F.w = this.j.Rl)
    };
    f.c7 = function () {
        return this.j.Rl
    };
    f.b7 = function () {
        return this.Cg
    };
    f.cw = !0;
    f.OX = function (b) {
        this.cw = b
    };
    f.v7 = function () {
        return this.cw
    };
    f.At = !1;
    f.nea = function (b) {
        this.At = b;
        if (this.gd && (this.Dd(this.pa + 0), this.wb)) {
            b = this.wb;
            var c = b.ue();
            b.o.At ? b.Yb + b.F >= c && (b.Yb = c - b.F + b.o.j.Yg + 3, b.$ = !1, b.a.V(b.Ea), b.gh(), FM(b)) : (b.K = 100, b.Yb + b.F >= c && (b.Yb = c - b.F + b.o.j.Yg + b.K + 3, b.$ = !1, b.gh(), FM(b)))
        }
    };
    f.r7 = function () {
        return this.At
    };
    f.fs = function (b) {
        this.w = b
    };
    f.xD = function () {
        return [].concat(this.w || [NaN, NaN])
    };
    f.RQ = function (b, c) {
        if (b) {
            gW(this).stop();
            (this.MF || (this.MF = new wu(this.reload, 0, this))).stop();
            this.Ar = 0;
            var d;
            this.gc = (d = $h(b)) ? d.real_time : null;
            Hz(this.m);
            this.vE = 0 == b.length ? wa() : b[b.length - 1][0];
            this.m.appendData(b, c);
            QV(this);
            this.Cg && this.F && this.F.start();
            if (isNaN(this.m.Qg())) !this.Ee && this.ib.WL ? (this.Ee = !0, this.dispatchEvent(FJ), this.dispatchEvent("initre"), this.dispatchEvent(qx), this.dispatchEvent("initdataloaderror")) : (HV(this, this.w[0]), this.wt ? isNaN(this.m.Qg()) ? (d = this.ib.kF || null) &&
            d.startTime ? (this.fs([d.startTime, d.endTime]), this.Qa().startTime = d.startTime, this.m.Gn = d.endRealTime || d.endTime, this.reload(!0)) : (HV(this), this.qy()) : gW(this).start(Math.max(qz(this) || 0, 1E4)) : (this.wt = !0, this.qy())); else {
                this.wt = !1;
                this.xb.Pc();
                this.xb.Jf = this.fb.Ca();
                $O(this);
                this.pa || (this.pa = this.Jd);
                DV(this);
                this.sc.Kt(this.va);
                this.Ia();
                if (this.w[0] > this.Eu) var e = (this.w[0] - this.Eu) / this.W().Y();
                this.wb && (CM(this.wb), e && (this.wb.Yb = -e));
                d = Tl(this.W(), this.Qn() ? Gl : Fl);
                d = Sl(d.xc());
                d = (d = Ql(d,
                    this.w[1]) > wa() - this.j.jk) && !this.j.Rl && !(this.Ld instanceof jz);
                d || (this.gd = !0, this.dispatchEvent(FJ), this.dispatchEvent("initre"), this.dispatchEvent(qx), this.dispatchEvent("activated"), this.Fz(), this.dispatchEvent("initworkspace"));
                this.wb && this.wb.gh();
                this.vb().Ok(this.j.Yi);
                this.Xx();
                d && (e = $h(b).real_time, e || (e = $h(b)[0], OS(this.ib)), this.ib.wE = d, az(az(nz(this.ib, this.ma(), this.Db(), this.W(), e), this.cj, this), function (b) {
                    this.vE = 0 == b.length ? wa() : b[b.length - 1][0];
                    this.gd = !0;
                    this.dispatchEvent(FJ);
                    this.dispatchEvent("initre");
                    this.dispatchEvent(qx);
                    this.dispatchEvent("activated");
                    this.Fz();
                    this.dispatchEvent("initworkspace")
                }, this))
            }
        } else this.QQ()
    };
    f.QQ = function (b) {
        var c;
        b instanceof kQ || (15 > this.Ar++ ? (b = this.Ar, b *= (c = 3 > this.Ar) ? 2 : 3, b *= 1E3, b += c ? 0 : Math.round(.5 * b), gW(this).start(b)) : (gW(this).stop(), this.Ee = !0, this.dispatchEvent(FJ), this.dispatchEvent("initre"), this.dispatchEvent(qx), this.dispatchEvent("initdataloaderror"), b = 3E5, this.Ar = 0, (this.MF || (this.MF = new wu(this.reload, 0, this))).start(b)))
    };
    f.cj = function (b, c) {
        if (0 != b.length) {
            var d = this.xb.t(this.pa), e = this.pa - this.xb.x(d), h = this.m.Qg(), k = this.xb.x(h) - this.pa,
                l = $h(b).real_time || null;
            if (l >= this.gc || !this.gc) this.gc = l;
            this.m.appendData(b, c);
            kz(this) || this.F && this.F.F && this.Cg && this.F && this.F.start();
            this.xb.Pc();
            QV(this);
            this.j.Hj ? this.pa = TV(this) : this.Ec() ? this.pa = this.xb.x(h) - k | 0 : (delete this.Iu, this.pa = this.xb.x(d) + e | 0);
            (d = this.ib.Ug) && "<=" == d ? (d = this.xb.x(this.m.Qg())) && !isNaN(d) && this.pa < d && (this.pa = d + 30) : d && "=>" == d && (d = this.xb.x(this.m.si())) &&
                !isNaN(d) && this.pa > d && (e = this.xb.t(this.pa), this.pa = d - this.jc.width + 30, e && e > wa() && this.Di(!0));
            this.wb && (this.wb.gh(), d = Math.floor((this.pa - this.wb.G()) / this.sb().Ca()), this.wb.Yb = d);
            this.m.Qg();
            DV(this);
            this.wb && this.wb.gh();
            this.dispatchEvent(ox);
            this.Ia()
        }
    };
    f.eU = function (b) {
        0 != b.length && (Mz(this.m, b[0], b[1]), this.Ia())
    };
    f.X9 = function (b) {
        this.eU(b);
        aW(this, this.lf)
    };
    f.vC = {};
    f.Ps = {};
    f.g9 = function (b) {
        if (!this.j.Rl) this.pa < this.Jd - 2 * this.j.Yg * this.Ca() && !this.Ec() || this.cj(b.data); else if (0 != b.data.length) {
            b = b.data;
            var c = b[b.length - 1].real_time || b[b.length - 1][0], d = 0, e = 0, h = 0, k = this, l = qz(this),
                p = this.ma().aa() + ";" + this.W().getName() + ";" + this.Db() + ";" + this.hf() + ";" + this.ad() + ";" + this.$d() + ";" + this.Fa();
            RV(this);
            for (var q = 0, r = b.length; q < r; ++q) if (c - (b[q].real_time || b[q][0]) <= l) {
                this.cj(b.slice(0, q));
                b = b.slice(q);
                break
            }
            for (h = (l - (c - (b[0].real_time || b[0][0]))) / b.length; c = b.shift();) (function (b) {
                var c =
                    b.real_time || b[0];
                d += e ? c - e : 0;
                k.Ps[c] = function () {
                    var d = k.ma().aa() + ";" + k.W().getName() + ";" + k.Db() + ";" + k.hf() + ";" + k.ad() + ";" + k.$d() + ";" + k.Fa();
                    p == d && k.cj([b]);
                    delete k.vC[c];
                    delete k.Ps[c]
                };
                k.vC[c] = setTimeout(function () {
                    k.Ps[c] && k.Ps[c]()
                }, d);
                d += h;
                e = c
            })(c)
        }
    };

    function RV(b, c) {
        var d = null != c ? c : !0;
        La(b.vC, function (b, c) {
            d && this.Ps[c] && this.Ps[c]();
            delete this.Ps[c];
            clearTimeout(b);
            delete this.vC[c]
        }, b)
    }

    f.qK = function (b) {
        0 != b.data.length && (this.vE = b.data[b.data.length - 1][0], this.cj(b.data))
    };
    f.Cn = function () {
        var b = this.jc.width, c = this.pa / this.Jd, d = this.Jd;
        PF(this.Fb).Ml() || (ZO(this), $O(this), this.fb.gn(this.jc.width), 0 === b && this.fb.qN(this.j.ol), this.xb.Jf = this.fb.Ca(), QV(this), this.pa = Math.round((d + b - this.jc.width) * c), DV(this), this.sc.Kt(this.va), this.Ia(), this.wb && (CM(this.wb), this.wb.gh()))
    };
    f.SQ = function (b) {
        this.Dd(this.pa + b.target.Gh);
        this.Di(!1)
    };
    f.uU = function () {
        this.Rb = this.Rb || {"=>": 0, "<=": 0};
        this.ib && (this.ib.Ug = this.Rb["=>"] > this.Rb["<="] ? "=>" : "<=", IV(this));
        this.Rb = null
    };
    f.laa = function (b) {
        b = b.target.deltaY;
        this.vb() && this.vb().vj(b);
        this.Ia();
        this.Di(!1)
    };
    f.bV = 0;
    f.paa = function () {
        this.bV = this.Ca()
    };
    f.naa = function (b) {
        this.vy(this.bV * b.target.scale);
        IV(this)
    };
    f.oaa = function () {
        this.Fz();
        QV(this);
        this.Dd(this.pa)
    };
    f.caa = function () {
        var b = this.wb.G() / this.Ca() + this.wb.Yb,
            c = (this.wb.G() + xM(this.wb.a)) / this.Ca() - this.K.width - this.wb.K, c = 0 > c ? 0 : c;
        100 === this.wb.G() / this.Ca() && (b += c);
        var d = this.K.width / (xM(this.wb.a) / this.Ca());
        this.j.Jf = d;
        this.fb && (this.Gea(this.fb.wy, d, b, c), this.j.ol = this.fb.Af())
    };
    f.zT = function () {
        this.we.setActive(!1)
    };
    f.yT = function () {
        this.we.setActive(this.j.Ju || this.j.Mq)
    };
    f.CT = function () {
        DV(this);
        this.Ia()
    };
    f.ur = function (b) {
        this.dispatchEvent(new ff("chartobjectadd", b.target))
    };
    f.dE = function (b) {
        this.dispatchEvent(new ff("chartobjectevent", b.target))
    };
    f.eE = function (b) {
        this.dispatchEvent(new ff("chartobjectremove", b.target))
    };
    f.e7 = function () {
        return this.Jd
    };

    function QV(b) {
        try {
            var c = b.fb.Ca();
            1 === b.Fa() ? b.Jd = wb(b.m.od().Qr.length + b.j.Yg) * c - b.fb.Af() * c : b.Jd = wb((b.m.od().Al() + b.j.Yg) * c - b.fb.Af() * c)
        } catch (d) {
            b.Jd = b.jc.width
        }
    }

    function TV(b) {
        QV(b);
        return b.j.Hj || b.j.Gba ? b.Jd : Math.max(b.Jd, b.pa)
    }

    function ZO(b) {
        b.Lx(window.devicePixelRatio);
        var c = b.j.tx ? 16 : 0, d = PF(b.Fb), e = hG(b.La);
        JF(b.La, d.width - (e.left + e.right), d.height - (e.top + e.bottom) - c);
        b.K = PF(b.ia);
        b.jc = new Qg(xb(b.K.width - b.El() * (b.j.qn ? 1 : 0), 0), xb(b.K.height - b.fa().j.ps * (b.j.Ij ? 1 : 0) - b.fa().j.Lo * (b.j.hm ? 1 : 0), 0));
        b.za = new Ip(0, b.jc.height + 1, b.jc.width, b.fa().j.ps);
        b.su = new Ip(0, b.jc.height + b.fa().j.ps * +b.j.Ij, b.K.width, b.fa().j.Lo + c);
        JF(b.va, b.jc);
        JF(b.R, b.jc);
        var c = Math.round(b.K.width * b.ob), d = Math.round(b.K.height * b.ob), e = c / b.K.width,
            h = d / b.K.height;
        b.a.width = c;
        b.a.height = d;
        JF(b.a, b.K);
        b.g.scale(e, h);
        b.dispatchEvent(LJ)
    }

    f.El = function () {
        return this.Sl && this.Sl > this.fa().El() ? this.Sl : this.fa().El()
    };
    f.Ut = function (b) {
        gk(this.Fb, "a-b-u-v", b)
    };
    f.lb = function () {
        return Ig({
            options: this.N(), drawings: this.ga().lb(), indicators: Vg(this.Md, function (b) {
                return b.lb()
            })
        })
    };
    f.lk = !1;
    f.cb = function (b) {
        var c = this.j.vs && this.ym && 0 < this.zd.yl().length ? this.ym.confirm(AV(this)) : gz();
        sx(c, v(this.Rfa, this, b))
    };
    f.Rfa = function (b) {
        var c = Gg(b), d = this.gd;
        this.gd = !1;
        this.lk = !0;
        sx(this.zd.load(), function () {
            this.ga().reset();
            this.iA();
            if (c.options) {
                var b = Lc(c.options);
                delete b.endTime;
                var h = b.instrument, k = b.dateInterval;
                delete b.instrument;
                delete b.dateInterval;
                this.Wf(b);
                k && this.fs(k);
                h && this.Ie(h)
            }
            this.Di(!1);
            b = d ? ox : FJ;
            this.S().Qf(this, b, function () {
                this.mq(c.options.startTime, c.options.endTime)
            });
            (this.gd = d) && this.reload();
            this.S().Qf(this, FJ, v(function () {
                E(this.ga().ri(), function (b) {
                    b.ee()
                })
            }, this));
            La(c.indicators,
                function (b, c) {
                    var d = Gg(b), d = IC.kb(d[0]);
                    d.cb(b);
                    d.Hb = c;
                    this.Ni(d)
                }, this);
            this.gd ? (this.ga().cb(c.drawings), this.dispatchEvent("finishunserialize"), this.lk = !1) : this.S().Qf(this, FJ, function () {
                this.ga().cb(c.drawings);
                this.dispatchEvent("finishunserialize");
                this.lk = !1
            });
            this.dispatchEvent("unserialized")
        }, this)
    };
    f.hda = function (b) {
        this.j.ZL = b;
        this.Ea.Ba(this.j.ZL)
    };
    f.hea = function (b) {
        this.j.UV = b;
        this.Ea.Ab(this.j.UV)
    };
    f.iea = function (b) {
        this.j.VV = b;
        this.Ea.lG(this.j.VV)
    };
    f.DG = function (b) {
        this.j.tx = b;
        this.La && ZO(this);
        this.wb && this.wb.DG(b);
        this.gd && this.Cn();
        this.dispatchEvent("changetimeline")
    };
    f.Raa = function () {
        return this.j.tx
    };
    f.D4 = function (b) {
        this.j.DL = b;
        this.ql && (this.ql.w = b)
    };
    f.d7 = function () {
        return this.j.DL
    };
    f.Yh = function (b) {
        this.j.yJ = b;
        this.W().Yh(this.Fe());
        RV(this);
        this.Do(this.Ic().Un().std_offset)
    };
    f.JA = function (b) {
        this.j.jk = b + qz(this);
        HV(this)
    };
    f.Kp = function () {
        return this.j.jk
    };
    f.DX = function (b) {
        this.j.$u = b;
        this.j.$u && !this.ka && this.ib && (this.ka = new $y(this.ib, this));
        this.ka && (this.ka.Ba(this.j.$u), this.S().wa(this.ka, "load", this.qK).C(this.ka, "load", this.qK))
    };
    f.zfa = function (b, c) {
        !this.ka && this.ib && (this.ka = new $y(this.ib, this));
        this.ka.Jj(b, c)
    };
    f.Q6 = function () {
        return qj(this.eb())
    };
    f.Fe = function () {
        return this.j.yJ
    };
    f.setActive = function (b) {
        this.uh !== b && (this.uh = b, this.Id() && this.va && this.R && (Js(this.va), Js(this.R), La(this.Nc, function (b) {
            Ds(this.va, b.un);
            Ds(this.R, b.In)
        }, this), UV(this), VV(this)), this.F && this.F.Ba(this.Id() && this.Cg), this.Id() ? !XV(this) && this.bf() : (RV(this, !1), XV(this) && this.im(), this.F && this.F.stop()), this.wb && O(this.wb.J(), this.Id()), this.wb && this.wb.sc && O(this.wb.sc, this.Id()), this.Id() && this.reload(), this.dispatchEvent("active"))
    };
    f.Id = function () {
        void 0 === this.uh && (this.uh = !0);
        return this.uh
    };
    f.$h = function (b) {
        this.Ib = b
    };
    f.aa = function () {
        return this.Ib
    };
    f.B4 = function () {
        var b = this.ga().a, c = this.Kl.cq;
        return b ? b : c ? c : null
    };

    function Cm(b) {
        return b.replace(/(<([^>]+)>)/ig, "")
    }

    f.dn = function (b) {
        this.vo = b;
        this.ib && this.ib.dn(this.vo);
        this.$ && this.$.dn(this.vo)
    };
    var hW = ["DUK+/EUR"];

    function GF(b) {
        b = b.ma();
        return ji(hW, b instanceof Fi ? b.getName() : b)
    }

    R.prototype.IC = function () {
        this.eb().kA(!0);
        OS(this.ib, !0);
        this.Pw(!1);
        this.im();
        WV(this);
        this.setActive(!1);
        this.cancelAnimationFrame();
        au(this);
        this.Ra()
    };
    window.android && android.useNativeCanvas() && (R.prototype.aP = R.prototype.$g, R.prototype.$g = function () {
        if (this.sl) {
            this.g.NC_lock();
            try {
                R.prototype.aP.call(this)
            } catch (b) {
                console.error(b)
            }
            this.g.NC_unlock()
        }
    }, R.prototype.RI = uf(R.prototype.RI, function () {
        this.j.Ij && this.sc.R();
        (this.j.Ij || this.j.qn) && this.RH()
    }), R.prototype.RH = function () {
        console.log("NC_renderViewportBorder");
        this.g.save();
        this.g.fillStyle = this.fa().j.lm;
        this.g.fillRect(this.jc.width, 0, 1, this.jc.height);
        this.g.fillRect(0, this.jc.height,
            this.jc.width, 1);
        this.g.restore()
    }, pu.prototype.T = uf(pu.prototype.T, function (b) {
        var c = b.ub;
        b = c.getContext();
        var d = this.Ha;
        b.save();
        b.fillStyle = c.fa().j.lm;
        b.fillRect(0, d.top - 1, d.width, 1);
        b.restore();
        if (this.Qh) {
            for (var c = Ps(this.Qh), e = 0; null !== c;) c = Ps(c), e++;
            b.NC_fillHTMLText(this.Qh.innerHTML, 0, d.top + 1.5 * this.o.fa().j.hd * e, this.o.jc.width, d.height)
        }
    }), pu.prototype.uo = function () {
        if (Qs(this.In)) {
            var b = [];
            if (1 < this.$b.wi() && !(this.$b instanceof qc)) {
                b.push("<b>", uu(this), "</b>: ");
                for (var c = [], d = 0,
                         e = this.$b.wi(); d < e; d++) {
                    var h = this.$b.Lh(d);
                    c.push('<font color="' + h.color + '">' + h.name + "</font>")
                }
                b.push(c.join(", "))
            } else b.push("<b>"), (c = this.$b.Lh(0).color) && b.push('<font color="', c, '">'), b.push(uu(this)), c && b.push("</font>"), b.push("</b>");
            this.Qh || (this.Qh = this.o.Ub.u(D, "o", this.yL = this.o.Ub.u(Fe)), this.In.appendChild(this.Qh));
            this.yL.innerHTML = b.join("")
        }
    }, gt.prototype.T = gt.prototype.Kt = da, gt.prototype.R = function () {
        var b = this.o.jc.height, c = this.o.getContext();
        c.save();
        c.fillStyle = this.o.fa().j.le;
        var d, e;
        "box" === this.o.Te() && 4 === this.o.Fa() ? (e = 0, d = this.fb.Ca()) : (e = 1 + this.m / 5 / 2 | 0, d = this.m);
        for (var h = this.o.jc.width; e < h; e += d) c.fillRect(e, 0, 1, b);
        c.restore()
    }, gt.prototype.Wr = function (b) {
        var c = this.o.za, d = this.o.pa, e = this.fb.be(), h = this.o.getContext(), k = this.K;
        b = b || gt.g(this.o.W());
        var l = c.top + c.height / 2 + this.o.fa().j.hd / 4 | 0;
        h.save();
        h.textBaseline = "middle";
        h.fillStyle = this.o.fa().j.wd;
        h.fillRect(c.left, c.top, c.width + 1, c.height);
        h.fillStyle = this.o.fa().j.Yc;
        for (var p = "", q = this.o.Qa(), r = 0, p = NaN; r <
        e; r += k) p = q.t(r + d), isNaN(p) || (gt.a.setTime(p), p = b(gt.a), h.fillText(p, r, l));
        h.font = "9px " + this.o.fa().j.mf;
        h.fillText(gt.m.format(gt.a), c.left + c.width, l);
        h.restore()
    }, WO.prototype.T = da, WO.prototype.Kt = function () {
        2 == this.o.j.tr ? this.RF(this.Ha) : this.OF(this.Ha)
    }, WO.prototype.RF = function () {
        var b = this.rm, c = this.K.wg(), d = this.o.jc.width, e = this.o.getContext();
        e.save();
        e.fillStyle = this.o.fa().j.le;
        for (var h = 0; h < c; h += this.m) e.fillRect(b.top, h, d, 1);
        e.restore()
    }, WO.prototype.OF = function () {
        var b = this.rm, c = this.K,
            d = c.wg(), e = this.o.jc.width, h = this.o.getContext();
        h.save();
        h.fillStyle = this.o.fa().j.le;
        for (var k = this.F, l = c.y(k), p = this.R; l < d; k -= p, l = c.y(k)) h.fillRect(b.top, G(l), e, 1);
        h.restore()
    }, Mn = function (b, c) {
        return "#" + (255 * c | 0).toString(16) + b.substring(1)
    });
    window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (b) {
        window.setTimeout(b, 1E3 / 60)
    };
    document.createElement("canvas").getContext && "data:," == document.createElement("canvas").toDataURL("image/png") && (HTMLCanvasElement.prototype.toDataURL = function () {
        var b = this.width, c = this.height,
            d = Array.prototype.slice.call(this.getContext("2d").getImageData(0, 0, b, c).data);
        return VO(d, b, c)
    });
    qd.prototype.at = qd.prototype.kc;
    qd.prototype.getLength = qd.prototype.Al;
    z("dc.Chart", R);
    z("dc.Chart.prototype", R.prototype);
    z("dc.Chart.EventType", xV);
    R.prototype.init = R.prototype.init;
    R.prototype.reload = R.prototype.reload;
    R.prototype.updateLastData = R.prototype.Tfa;
    R.prototype.redraw = R.prototype.Ia;
    R.prototype.addIndicator = R.prototype.Ni;
    R.prototype.hasIndicator = R.prototype.Rp;
    R.prototype.getIndicator = R.prototype.kb;
    R.prototype.getIndicatorList = R.prototype.E6;
    R.prototype.removeIndicator = R.prototype.xh;
    R.prototype.removeAppliedIndicators = R.prototype.iA;
    R.prototype.setInitialDataUnitCount = R.prototype.Hda;
    R.prototype.getDataUnitCount = R.prototype.Af;
    R.prototype.setDataUnitCount = R.prototype.pN;
    R.prototype.getDataUnitWidth = R.prototype.Ca;
    R.prototype.setDataUnitWidth = R.prototype.vy;
    R.prototype.setDataFeedUpdateFrequency = R.prototype.Xca;
    R.prototype.setDataType = R.prototype.zh;
    R.prototype.getDataType = R.prototype.Fa;
    R.prototype.getInstrument = R.prototype.ma;
    R.prototype.setInstrument = R.prototype.Ie;
    R.prototype.setOfferSide = R.prototype.Gi;
    R.prototype.getOfferSide = R.prototype.Db;
    R.prototype.getPeriod = R.prototype.W;
    R.prototype.setPeriod = R.prototype.wj;
    R.prototype.getPeriodTitle = R.prototype.t7;
    R.prototype.getPriceRange = R.prototype.hf;
    R.prototype.setPriceRange = R.prototype.Vw;
    R.prototype.getReversalAmount = R.prototype.ad;
    R.prototype.setReversalAmount = R.prototype.fn;
    R.prototype.getLineAmount = R.prototype.$d;
    R.prototype.setLineAmount = R.prototype.Ao;
    R.prototype.getTickBarSize = R.prototype.T7;
    R.prototype.setTickBarSize = R.prototype.Nea;
    R.prototype.getPresentationType = R.prototype.Te;
    R.prototype.setPresentationType = R.prototype.EN;
    R.prototype.getOhlcType = R.prototype.o7;
    R.prototype.setOhlcType = R.prototype.yN;
    R.prototype.getGridType = R.prototype.C6;
    R.prototype.setGridType = R.prototype.Dda;
    R.prototype.getGridSize = R.prototype.A4;
    R.prototype.setGridSize = R.prototype.Cda;
    R.prototype.setTheme = R.prototype.$w;
    R.prototype.getTheme = R.prototype.fa;
    R.prototype.getLineMethod = R.prototype.X6;
    R.prototype.setLineMethod = R.prototype.Uda;
    R.prototype.setDataServerURI = R.prototype.$ca;
    R.prototype.setDataServerCallback = R.prototype.Zca;
    R.prototype.setDataCache = R.prototype.Wca;
    R.prototype.setInstrumentURI = R.prototype.IX;
    R.prototype.setInstrumentCallback = R.prototype.Ida;
    R.prototype.setTransportType = R.prototype.ifa;
    R.prototype.setNewsServerURI = R.prototype.cea;
    R.prototype.getNews = R.prototype.nr;
    R.prototype.setNews = R.prototype.Sw;
    R.prototype.getAxisX = R.prototype.g6;
    R.prototype.setAxisX = R.prototype.wX;
    R.prototype.getAxisY = R.prototype.h6;
    R.prototype.setAxisY = R.prototype.xX;
    R.prototype.getCrosshair = R.prototype.s6;
    R.prototype.setCrosshair = R.prototype.oN;
    R.prototype.getCrosshairTimeFormatString = R.prototype.t6;
    R.prototype.setCrosshairTimeFormatString = R.prototype.Vca;
    R.prototype.getShowDateSeparators = R.prototype.J7;
    R.prototype.setShowDateSeparators = R.prototype.QX;
    R.prototype.getTimeline = R.prototype.Y7;
    R.prototype.setTimeline = R.prototype.NN;
    R.prototype.getShowTimeline = R.prototype.K7;
    R.prototype.setDrawing = R.prototype.fda;
    R.prototype.setIncludeDrawingsInScale = R.prototype.Fda;
    R.prototype.setLegend = R.prototype.ek;
    R.prototype.getLegend = R.prototype.Ip;
    R.prototype.setAdditionalLegendText = R.prototype.Dca;
    R.prototype.setAllowPan = R.prototype.uX;
    R.prototype.setFreeMode = R.prototype.Ok;
    R.prototype.getFreeMode = R.prototype.z6;
    R.prototype.setAllowUnconstrainedPan = R.prototype.Eca;
    R.prototype.setAllowZoom = R.prototype.vX;
    R.prototype.setPanOffset = R.prototype.LX;
    R.prototype.getPanOffset = R.prototype.s7;
    R.prototype.setAutoShift = R.prototype.Di;
    R.prototype.getAutoShift = R.prototype.d6;
    R.prototype.resize = R.prototype.resize;
    R.prototype.resizeTo = R.prototype.C4;
    R.prototype.setLive = R.prototype.Pw;
    R.prototype.getLive = R.prototype.b7;
    R.prototype.setLiveEmulation = R.prototype.TQ;
    R.prototype.getLiveEmulation = R.prototype.c7;
    R.prototype.setSkipInstrumentLoad = R.prototype.Bea;
    R.prototype.setPreload = R.prototype.OX;
    R.prototype.getPreload = R.prototype.v7;
    R.prototype.setDateInterval = R.prototype.fs;
    R.prototype.getDateInterval = R.prototype.xD;
    R.prototype.setFilter = R.prototype.Zh;
    R.prototype.setFlatFilter = R.prototype.Zh;
    R.prototype.getFilter = R.prototype.Mn;
    R.prototype.getFlatFilter = R.prototype.Mn;
    R.prototype.setEnabledOHLCRay = R.prototype.hda;
    R.prototype.setOHLCRayColor = R.prototype.hea;
    R.prototype.setOHLCRayFontColor = R.prototype.iea;
    R.prototype.setTimeLineScroller = R.prototype.DG;
    R.prototype.isTimeLineScroller = R.prototype.Raa;
    R.prototype.setActive = R.prototype.setActive;
    R.prototype.isActive = R.prototype.Id;
    R.prototype.setId = R.prototype.$h;
    R.prototype.getId = R.prototype.aa;
    R.prototype.setLiveUpdateCurrentEvents = R.prototype.D4;
    R.prototype.getLiveUpdateCurrentEvents = R.prototype.d7;
    R.prototype.setEet = R.prototype.Yh;
    R.prototype.getEet = R.prototype.Fe;
    R.prototype.setDataSync = R.prototype.DX;
    R.prototype.setDataSyncFrequency = R.prototype.ada;
    R.prototype.syncData = R.prototype.zfa;
    R.prototype.getLastUnitTime = R.prototype.Q6;
    R.prototype.updateVisibleData = R.prototype.yH;
    R.prototype.addFeedCommission = R.prototype.z3;
    R.prototype.setPanLock = R.prototype.nea;
    R.prototype.getPanLock = R.prototype.r7;
    R.prototype.setDevicePixelRatio = R.prototype.Lx;
    R.prototype.setTimezone = R.prototype.Do;
    R.prototype.getTimezone = R.prototype.Ic;
    R.prototype.zoomIn = R.prototype.FH;
    R.prototype.zoomOut = R.prototype.IH;
    R.prototype.setPan = R.prototype.Dd;
    R.prototype.getPan = R.prototype.q7;
    R.prototype.panToTime = R.prototype.vF;
    R.prototype.showArea = R.prototype.tfa;
    R.prototype.showTimeRange = R.prototype.mq;
    R.prototype.getTimelineArea = R.prototype.Z7;
    R.prototype.getTimeAxisArea = R.prototype.V7;
    R.prototype.getMaxPan = R.prototype.e7;
    R.prototype.getTransport = R.prototype.o8;
    R.prototype.getValueMapper = R.prototype.vb;
    R.prototype.getTimeMapper = R.prototype.Qa;
    R.prototype.addRenderableComponent = R.prototype.Rx;
    R.prototype.getRenderedData = R.prototype.qd;
    R.prototype.getRenderedDataByCoordinates = R.prototype.Hm;
    R.prototype.getChartObjectMonitor = R.prototype.ga;
    R.prototype.setOptions = R.prototype.Wf;
    R.prototype.getOptions = R.prototype.N;
    R.prototype.serialize = R.prototype.lb;
    R.prototype.unserialize = R.prototype.cb;
    R.prototype.getContainer = R.prototype.z4;
    R.prototype.getFgPanelContainer = R.prototype.x6;
    R.prototype.getDataProvider = R.prototype.eb;
    R.prototype.setRequestsCacheEnabled = R.prototype.dn;
    R.prototype.setCropUnusefulData = R.prototype.nN;
    R.prototype.setSplits = R.prototype.xG;
    R.prototype.setUsStocksDelay = R.prototype.HG;
    R.prototype.setObjectOperationMonitorEnabled = R.prototype.Tw;
    R.prototype.setIndicatorMonitorEnabled = R.prototype.Gda;
    R.prototype.setTrackLastPrice = R.prototype.au;
    R.prototype.setTrackLastOppositePrice = R.prototype.$t;
    R.prototype.setTimezonesUri = R.prototype.cfa;
    R.prototype.setPeriodsAggregation = R.prototype.Wt;
    R.prototype.getPickedObject = R.prototype.B4;
    R.prototype.getHistoricalOrdersMonitor = R.prototype.$S;
    R.prototype.setError = R.prototype.HA;
    R.prototype.setErrorId = R.prototype.uG;
    R.prototype.setActivity = R.prototype.Aca;
    R.prototype.setActivitySync = R.prototype.Bca;
    R.prototype.setActivitySyncId = R.prototype.Cca;
    R.prototype.getTradingMode = R.prototype.gt;
    R.prototype.setTradingMode = R.prototype.gfa;
    z("dc.CompressedDataCache", ya.gha);
    z("dc.DailyFilter", Zc);
    Zc.PRESERVE = 1;
    Zc.MERGE = 2;
    Zc.DISCARD = 3;
    z("dc.DataCache", ya.Qha);
    Ez.prototype.peek = Ez.prototype.Th;
    Ez.prototype.getDataForInterval = Ez.prototype.FS;
    Ez.prototype.resetData = Ez.prototype.kA;
    z("dc.DataType", $c);
    $c.TICK = 1;
    $c.CANDLE = 2;
    $c.PRICE_RANGE = 3;
    $c.POINT_AND_FIGURE = 4;
    $c.TICK_BAR = 5;
    $c.RENKO = 6;
    $c.KAGI = 7;
    $c.LINE_BREAK = 8;
    z("dc.Filter", ad);
    ad.NO_FILTER = 1;
    ad.WEEKENDS = 2;
    ad.ALL_FLATS = 3;
    z("dc.GridType", bd);
    bd.STATIC = 2;
    bd.ADAPTIVE = 1;
    z("dc.chart.IndicatorEvent", gf);
    gf.prototype.getIndicator = gf.prototype.kb;
    gf.prototype.getRenderedData = gf.prototype.qd;
    gf.prototype.getId = gf.prototype.aa;
    z("dc.chart.i18n.Indicators", H);
    z("dc.IndicatorProvider", IC);
    IC.getIndicator = IC.kb;
    IC.getIndicatorsInGroups = IC.H6;
    IC.getRegisteredIndicatorList = IC.D7;
    z("dc.Indicator", M);
    IC.registerIndicator = IC.tb;
    IC.unregisterIndicator = IC.Pfa;
    IC.getIndicatorMeta = IC.G6;
    z("dc.Indicator.prototype", M.prototype);
    M.prototype.toHash = M.prototype.Zb;
    M.prototype.getIndicatorInfo = M.prototype.lc;
    M.prototype.getOutputs = M.prototype.p7;
    M.prototype.getInputs = M.prototype.J6;
    M.prototype.getInputParameterInfos = M.prototype.I6;
    M.prototype.setInputParameterInfos = M.prototype.oG;
    M.prototype.getInputParameterInfo = M.prototype.FD;
    M.prototype.setInputParameterValue = M.prototype.cn;
    M.prototype.setOptInputParameterInfos = M.prototype.zN;
    M.prototype.getOptInputParameterInfo = M.prototype.XJ;
    M.prototype.setOutputParameterInfos = M.prototype.tG;
    M.prototype.getOutputParameterInfo = M.prototype.Se;
    M.prototype.serialize = M.prototype.lb;
    M.prototype.unserialize = M.prototype.cb;
    z("dc.IndicatorInfo", Oc);
    z("dc.IndicatorInfo.prototype", Oc.prototype);
    Oc.prototype.getName = Oc.prototype.getName;
    Oc.prototype.setName = Oc.prototype.Co;
    Oc.prototype.getLegend = Oc.prototype.Ip;
    Oc.prototype.setLegend = Oc.prototype.ek;
    Oc.prototype.getTitle = Oc.prototype.Nb;
    Oc.prototype.setTitle = Oc.prototype.tf;
    Oc.prototype.getGroupName = Oc.prototype.D6;
    Oc.prototype.setGroupName = Oc.prototype.Eda;
    Oc.prototype.isOscillator = Oc.prototype.Naa;
    Oc.prototype.setOscillator = Oc.prototype.mea;
    Oc.prototype.isUnstablePeriod = Oc.prototype.Saa;
    Oc.prototype.setUnstablePeriod = Oc.prototype.jfa;
    Oc.prototype.isRecalculateAll = Oc.prototype.Oaa;
    Oc.prototype.setRecalculateAll = Oc.prototype.vea;
    Oc.prototype.isSparse = Oc.prototype.Qaa;
    Oc.prototype.setSparse = Oc.prototype.Fea;
    Oc.prototype.getNumberOfInputs = Oc.prototype.i7;
    Oc.prototype.setNumberOfInputs = Oc.prototype.dea;
    Oc.prototype.getNumberOfOptionalInputs = Oc.prototype.j7;
    Oc.prototype.setNumberOfOptionalInputs = Oc.prototype.eea;
    Oc.prototype.getNumberOfOutputs = Oc.prototype.k7;
    Oc.prototype.setNumberOfOutputs = Oc.prototype.fea;
    Oc.prototype.getMinMaxType = Oc.prototype.g7;
    Oc.prototype.setMinMaxType = Oc.prototype.aea;
    z("dc.InputParameterInfo", Qc);
    z("dc.InputParameterInfo.Type", Rc);
    Rc.CANDLE = 0;
    Rc.PRICE = 1;
    z("dc.InputParameterInfo.prototype", Qc.prototype);
    Qc.prototype.getName = Qc.prototype.getName;
    Qc.prototype.setName = Qc.prototype.Co;
    Qc.prototype.getType = Qc.prototype.Kb;
    Qc.prototype.setType = Qc.prototype.ax;
    Qc.prototype.getValue = Qc.prototype.G;
    Qc.prototype.setValue = Qc.prototype.V;
    Qc.prototype.getFilter = Qc.prototype.Mn;
    Qc.prototype.setFilter = Qc.prototype.Zh;
    Qc.prototype.getPeriod = Qc.prototype.W;
    Qc.prototype.setPeriod = Qc.prototype.wj;
    Qc.prototype.getOfferSide = Qc.prototype.Db;
    Qc.prototype.setOfferSide = Qc.prototype.Gi;
    Qc.prototype.getInstrument = Qc.prototype.ma;
    Qc.prototype.setInstrument = Qc.prototype.Ie;
    z("dc.PriceType", jd);
    jd.CLOSE = 1;
    jd.OPEN = 2;
    jd.HIGH = 3;
    jd.LOW = 4;
    jd.MEDIAN = 5;
    jd.TYPICAL = 6;
    jd.WEIGHTED_CLOSE = 7;
    z("dc.OptInputParameterInfo", Pg);
    z("dc.OptInputParameterInfo.prototype", Pg.prototype);
    Pg.prototype.getName = Pg.prototype.getName;
    Pg.prototype.getDescription = Pg.prototype.Gp;
    z("dc.NumberListDescription", Tc);
    z("dc.NumberListDescription.prototype", Tc.prototype);
    Tc.prototype.getDefaultValue = Tc.prototype.w;
    Tc.prototype.getValues = Tc.prototype.mc;
    Tc.prototype.getValueNames = Tc.prototype.F;
    z("dc.NumberRangeDescription", Og);
    z("dc.NumberRangeDescription.prototype", Og.prototype);
    Og.prototype.getDefaultValue = Og.prototype.w;
    Og.prototype.getMax = Og.prototype.pd;
    Og.prototype.getMin = Og.prototype.ld;
    Og.prototype.getSuggestedIncrement = Og.prototype.F;
    z("dc.OutputParameterInfo", L);
    z("dc.OutputParameterInfo.prototype", L.prototype);
    L.prototype.setDrawingStyle = L.prototype.gda;
    L.prototype.getDrawingStyle = L.prototype.w6;
    L.prototype.setShowValueOnChart = L.prototype.wG;
    L.prototype.getShowValueOnChart = L.prototype.L7;
    L.prototype.setName = L.prototype.Co;
    L.prototype.getName = L.prototype.getName;
    L.prototype.setColor = L.prototype.Ab;
    L.prototype.getColor = L.prototype.Jb;
    L.prototype.setOpacity = L.prototype.Sk;
    L.prototype.getOpacity = L.prototype.Fm;
    L.prototype.setShow = L.prototype.vG;
    L.prototype.getShow = L.prototype.I7;
    L.prototype.setLineWidth = L.prototype.jq;
    L.prototype.getLineWidth = L.prototype.Pg;
    L.prototype.setLinePattern = L.prototype.ai;
    L.prototype.getLinePattern = L.prototype.Y6;
    z("dc.OutputParameterInfo.Type", Zn);
    Zn.PRICE = 0;
    Zn.INT = 1;
    Zn.OBJECT = 2;
    z("dc.OutputParameterInfo.DrawingStyle", Vn);
    Vn.CUSTOM = -1;
    Vn.NONE = 0;
    Vn.LINE = 1;
    Vn.DOT_LINE = 2;
    Vn.DASH_LINE = Un;
    Vn.DASHDOT_LINE = 4;
    Vn.DASHDOTDOT_LINE = 5;
    Vn.LEVEL_LINE = 6;
    Vn.LEVEL_DOT_LINE = 7;
    Vn.LEVEL_DASH_LINE = 8;
    Vn.LEVEL_DASHDOT_LINE = 9;
    Vn.LEVEL_DASHDOTDOT_LINE = 10;
    Vn.DOTS = 11;
    Vn.HISTOGRAM = 12;
    Vn.ARROW_SYMBOL_UP = 13;
    Vn.ARROW_SYMBOL_DOWN = 14;
    Vn.PATTERN_BOOL = 15;
    Vn.PATTERN_BULL_BEAR = 16;
    Vn.PATTERN_STRENGTH = 17;
    Vn.CANDLE = 18;
    z("dc.IndicatorResult", Pc);
    ED.prototype.setOptInputParameter = ED.prototype.ja;
    XD.prototype.setOptInputParameter = XD.prototype.ja;
    QC.prototype.setOptInputParameter = QC.prototype.ja;
    OC.prototype.setOptInputParameter = OC.prototype.ja;
    ZD.prototype.setOptInputParameter = ZD.prototype.ja;
    $D.prototype.setOptInputParameter = $D.prototype.ja;
    TC.prototype.setOptInputParameter = TC.prototype.ja;
    dE.prototype.setOptInputParameter = dE.prototype.ja;
    VC.prototype.setOptInputParameter = VC.prototype.ja;
    aD.prototype.setOptInputParameter = aD.prototype.ja;
    gD.prototype.setOptInputParameter = gD.prototype.ja;
    iD.prototype.setOptInputParameter = iD.prototype.ja;
    xD.prototype.setOptInputParameter = xD.prototype.ja;
    AD.prototype.setOptInputParameter = AD.prototype.ja;
    UD.prototype.setOptInputParameter = UD.prototype.ja;
    hD.prototype.setOptInputParameter = hD.prototype.ja;
    cD.prototype.setOptInputParameter = cD.prototype.ja;
    hE.prototype.setOptInputParameter = hE.prototype.ja;
    iE.prototype.setOptInputParameter = iE.prototype.ja;
    lD.prototype.setOptInputParameter = lD.prototype.ja;
    kD.prototype.setOptInputParameter = kD.prototype.ja;
    UC.prototype.setOptInputParameter = UC.prototype.ja;
    TD.prototype.setOptInputParameter = TD.prototype.ja;
    wD.prototype.setOptInputParameter = wD.prototype.ja;
    SC.prototype.setOptInputParameter = SC.prototype.ja;
    vD.prototype.setOptInputParameter = vD.prototype.ja;
    ZC.prototype.setOptInputParameter = ZC.prototype.ja;
    dD.prototype.setOptInputParameter = dD.prototype.ja;
    nD.prototype.setOptInputParameter = nD.prototype.ja;
    WC.prototype.setOptInputParameter = WC.prototype.ja;
    bD.prototype.setOptInputParameter = bD.prototype.ja;
    eD.prototype.setOptInputParameter = eD.prototype.ja;
    fD.prototype.setOptInputParameter = fD.prototype.ja;
    yD.prototype.setOptInputParameter = yD.prototype.ja;
    RC.prototype.setOptInputParameter = RC.prototype.ja;
    KC.prototype.setOptInputParameter = KC.prototype.ja;
    jD.prototype.setOptInputParameter = jD.prototype.ja;
    lE.prototype.setOptInputParameter = lE.prototype.ja;
    gE.prototype.setOptInputParameter = gE.prototype.ja;
    fE.prototype.setOptInputParameter = fE.prototype.ja;
    eE.prototype.setOptInputParameter = eE.prototype.ja;
    kE.prototype.setOptInputParameter = kE.prototype.ja;
    NC.prototype.setOptInputParameter = NC.prototype.ja;
    WD.prototype.setOptInputParameter = WD.prototype.ja;
    aE.prototype.setOptInputParameter = aE.prototype.ja;
    VD.prototype.setOptInputParameter = VD.prototype.ja;
    mE.prototype.setOptInputParameter = mE.prototype.ja;
    nE.prototype.setOptInputParameter = nE.prototype.ja;
    zE.prototype.setOptInputParameter = zE.prototype.ja;
    oE.prototype.setOptInputParameter = oE.prototype.ja;
    pE.prototype.setOptInputParameter = pE.prototype.ja;
    qE.prototype.setOptInputParameter = qE.prototype.ja;
    rE.prototype.setOptInputParameter = rE.prototype.ja;
    sE.prototype.setOptInputParameter = sE.prototype.ja;
    wE.prototype.setOptInputParameter = wE.prototype.ja;
    xE.prototype.setOptInputParameter = xE.prototype.ja;
    vE.prototype.setOptInputParameter = vE.prototype.ja;
    yE.prototype.setOptInputParameter = yE.prototype.ja;
    AE.prototype.setOptInputParameter = AE.prototype.ja;
    BE.prototype.setOptInputParameter = BE.prototype.ja;
    jE.prototype.setOptInputParameter = jE.prototype.ja;
    mD.prototype.setOptInputParameter = mD.prototype.ja;
    uD.prototype.setOptInputParameter = uD.prototype.ja;
    XC.prototype.setOptInputParameter = XC.prototype.ja;
    YC.prototype.setOptInputParameter = YC.prototype.ja;
    ED.prototype.getOptInputParameter = ED.prototype.ya;
    XD.prototype.getOptInputParameter = XD.prototype.ya;
    QC.prototype.getOptInputParameter = QC.prototype.ya;
    OC.prototype.getOptInputParameter = OC.prototype.ya;
    ZD.prototype.getOptInputParameter = ZD.prototype.ya;
    $D.prototype.getOptInputParameter = $D.prototype.ya;
    TC.prototype.getOptInputParameter = TC.prototype.ya;
    dE.prototype.getOptInputParameter = dE.prototype.ya;
    VC.prototype.getOptInputParameter = VC.prototype.ya;
    aD.prototype.getOptInputParameter = aD.prototype.ya;
    gD.prototype.getOptInputParameter = gD.prototype.ya;
    iD.prototype.getOptInputParameter = iD.prototype.ya;
    xD.prototype.getOptInputParameter = xD.prototype.ya;
    AD.prototype.getOptInputParameter = AD.prototype.ya;
    UD.prototype.getOptInputParameter = UD.prototype.ya;
    hD.prototype.getOptInputParameter = hD.prototype.ya;
    cD.prototype.getOptInputParameter = cD.prototype.ya;
    hE.prototype.getOptInputParameter = hE.prototype.ya;
    iE.prototype.getOptInputParameter = iE.prototype.ya;
    lD.prototype.getOptInputParameter = lD.prototype.ya;
    kD.prototype.getOptInputParameter = kD.prototype.ya;
    UC.prototype.getOptInputParameter = UC.prototype.ya;
    TD.prototype.getOptInputParameter = TD.prototype.ya;
    wD.prototype.getOptInputParameter = wD.prototype.ya;
    SC.prototype.getOptInputParameter = SC.prototype.ya;
    vD.prototype.getOptInputParameter = vD.prototype.ya;
    ZC.prototype.getOptInputParameter = ZC.prototype.ya;
    dD.prototype.getOptInputParameter = dD.prototype.ya;
    nD.prototype.getOptInputParameter = nD.prototype.ya;
    WC.prototype.getOptInputParameter = WC.prototype.ya;
    bD.prototype.getOptInputParameter = bD.prototype.ya;
    eD.prototype.getOptInputParameter = eD.prototype.ya;
    fD.prototype.getOptInputParameter = fD.prototype.ya;
    yD.prototype.getOptInputParameter = yD.prototype.ya;
    RC.prototype.getOptInputParameter = RC.prototype.ya;
    KC.prototype.getOptInputParameter = KC.prototype.ya;
    jD.prototype.getOptInputParameter = jD.prototype.ya;
    lE.prototype.getOptInputParameter = lE.prototype.ya;
    gE.prototype.getOptInputParameter = gE.prototype.ya;
    fE.prototype.getOptInputParameter = fE.prototype.ya;
    eE.prototype.getOptInputParameter = eE.prototype.ya;
    kE.prototype.getOptInputParameter = kE.prototype.ya;
    NC.prototype.getOptInputParameter = NC.prototype.ya;
    WD.prototype.getOptInputParameter = WD.prototype.ya;
    aE.prototype.getOptInputParameter = aE.prototype.ya;
    VD.prototype.getOptInputParameter = VD.prototype.ya;
    mE.prototype.getOptInputParameter = mE.prototype.ya;
    nE.prototype.getOptInputParameter = nE.prototype.ya;
    zE.prototype.getOptInputParameter = zE.prototype.ya;
    oE.prototype.getOptInputParameter = oE.prototype.ya;
    pE.prototype.getOptInputParameter = pE.prototype.ya;
    qE.prototype.getOptInputParameter = qE.prototype.ya;
    rE.prototype.getOptInputParameter = rE.prototype.ya;
    sE.prototype.getOptInputParameter = sE.prototype.ya;
    wE.prototype.getOptInputParameter = wE.prototype.ya;
    xE.prototype.getOptInputParameter = xE.prototype.ya;
    vE.prototype.getOptInputParameter = vE.prototype.ya;
    yE.prototype.getOptInputParameter = yE.prototype.ya;
    AE.prototype.getOptInputParameter = AE.prototype.ya;
    BE.prototype.getOptInputParameter = BE.prototype.ya;
    jE.prototype.getOptInputParameter = jE.prototype.ya;
    mD.prototype.getOptInputParameter = mD.prototype.ya;
    uD.prototype.getOptInputParameter = uD.prototype.ya;
    XC.prototype.getOptInputParameter = XC.prototype.ya;
    YC.prototype.getOptInputParameter = YC.prototype.ya;
    z("dc.LineMethod", cd);
    cd.OPEN = 1;
    cd.HIGH = 2;
    cd.LOW = 3;
    cd.CLOSE = 4;
    cd.MEDIAN = 5;
    cd.AVERAGE_OC = 6;
    z("dc.OfferSide", dd);
    dd.ASK = "ASK";
    dd.BUY = "ASK";
    dd.LONG = "ASK";
    dd.BID = "BID";
    dd.SELL = "BID";
    dd.SHORT = "BID";
    z("dc.PackedDataCache", ya.jka);
    z("dc.Period", al);
    z("dc.Period.Predefined", Al);
    al.prototype.toHash = al.prototype.Zb;
    al.prototype.setDateFormat = al.prototype.bda;
    al.prototype.getInterval = al.prototype.Y;
    al.prototype.getUnit = al.prototype.xc;
    al.prototype.getNumberOfUnits = al.prototype.l7;
    al.prototype.getName = al.prototype.getName;
    al.prototype.setUpdateFrequency = al.prototype.J4;
    al.prototype.getUpdateFrequency = al.prototype.p8;
    al.byHash = El;
    al.getByInterval = zl;
    al.factory = yl;
    al.TICK = bl;
    al.ONE_SEC = cl;
    al.TWO_SECS = dl;
    al.TEN_SECS = el;
    al.THIRTY_SECS = fl;
    al.ONE_MIN = gl;
    al.FIVE_MINS = hl;
    al.TEN_MINS = il;
    al.FIFTEEN_MINS = jl;
    al.TWENTY_MINS = kl;
    al.THIRTY_MINS = ll;
    al.ONE_HOUR = ml;
    al.TWO_HOURS = nl;
    al.FOUR_HOURS = ol;
    al.EIGHT_HOURS = pl;
    al.TWELVE_HOURS = ql;
    al.DAILY = rl;
    al.DAILY_SUNDAY_IN_MONDAY = sl;
    al.DAILY_SKIP_SUNDAY = tl;
    al.WEEKLY = bj;
    al.MONTHLY = ul;
    al.ONE_YEAR = wl;
    z("dc.PresentationType", ed);
    ed.AVERAGE = "average";
    ed.CANDLE = "candle";
    ed.BAR = "bar";
    ed.LINE = "line";
    ed.BOX = "box";
    ed.BRICK = "brick";
    ed.WICKSBRICK = "wicksbrick";
    ed.CANDLEBAR = "candlebar";
    ed.WICKSCANDLEBAR = "wickscandlebar";
    z("dc.PriceRange", hd);
    hd.prototype.toHash = hd.prototype.Zb;
    hd.byHash = function (b) {
        return id[b]
    };
    z("dc.PriceRange.Predefined", id);
    id.ONE_PIP = id.CP;
    id.TWO_PIPS = id.k3;
    id.THREE_PIPS = id.e3;
    id.FOUR_PIPS = id.jZ;
    id.FIVE_PIPS = id.iZ;
    id.SIX_PIPS = id.a3;
    pu.prototype.getLegendElement = pu.prototype.U6;
    pu.prototype.getType = pu.prototype.Kb;
    z("dc.Theme", W);
    z("dc.ThemeName", ya.dla);
    z("dc.Theme.Predefined", FG);
    z("dc.Theme.EventType", {Kx: "change"});
    z("dc.Theme.prototype", W.prototype);
    W.prototype.setTickBidColor = W.prototype.Oea;
    W.prototype.setTickAskColor = W.prototype.Kea;
    W.prototype.setTickAvgColor = W.prototype.Lea;
    W.prototype.setTickAvgSolid = W.prototype.Mea;
    W.prototype.setLineUpColor = W.prototype.Wda;
    W.prototype.setLineDownColor = W.prototype.Sda;
    W.prototype.setLineFlatColor = W.prototype.Tda;
    W.prototype.setLineWidth = W.prototype.jq;
    W.prototype.setBarAscColor = W.prototype.Kca;
    W.prototype.setBarDescColor = W.prototype.Lca;
    W.prototype.setBarFlatColor = W.prototype.Mca;
    W.prototype.setCandleDrawBorders = W.prototype.Tca;
    W.prototype.setCandleDojiColor = W.prototype.Sca;
    W.prototype.setCandleBullColor = W.prototype.Rca;
    W.prototype.setCandleBullBorder = W.prototype.Qca;
    W.prototype.setCandleBearColor = W.prototype.Pca;
    W.prototype.setCandleBearBorder = W.prototype.Oca;
    W.prototype.setRenkoPhantomColor = W.prototype.wea;
    W.prototype.setKagiYangColor = W.prototype.Kda;
    W.prototype.setKagiYinColor = W.prototype.Lda;
    W.prototype.setGridLineColor = W.prototype.Bda;
    W.prototype.setGridBackgroundColor = W.prototype.Ada;
    W.prototype.setLastValueTrackingLine = W.prototype.Pda;
    W.prototype.setLastValueTrackingLineColor = W.prototype.Qda;
    W.prototype.setValueLabelBackground = W.prototype.mfa;
    W.prototype.setValueLabelBackgroundSame = W.prototype.ofa;
    W.prototype.setValueLabelBackgroundDown = W.prototype.nfa;
    W.prototype.setAxisLabelColor = W.prototype.Jca;
    W.prototype.setOHLCLabelColor = W.prototype.gea;
    W.prototype.setChartBackgroundColor = W.prototype.Uca;
    W.prototype.setViewportBorderColor = W.prototype.pfa;
    W.prototype.setLegendColor = W.prototype.Rda;
    W.prototype.setValueAxisWidth = W.prototype.lfa;
    W.prototype.setTimeAxisHeight = W.prototype.Pea;
    W.prototype.setLabelFontSize = W.prototype.Oda;
    W.prototype.setLabelFontFamily = W.prototype.Nda;
    W.prototype.setBorderWidth = W.prototype.kN;
    W.prototype.setBorderColor = W.prototype.jN;
    W.prototype.setTimelineHeight = W.prototype.Rea;
    W.prototype.setTimelineStrokeColor = W.prototype.Zea;
    W.prototype.setTimelineFillColor = W.prototype.Qea;
    W.prototype.setTimelineThumbColor = W.prototype.$ea;
    W.prototype.setTimelineThumbHighlightColor = W.prototype.afa;
    W.prototype.setTimelineThumbShadowColor = W.prototype.bfa;
    W.prototype.setTimelineOverlayColor = W.prototype.Tea;
    W.prototype.setTimelineOverlayBorderColor = W.prototype.Sea;
    W.prototype.setTimelineOverlayOpacity = W.prototype.Uea;
    W.prototype.setTimelineScaleDivisionColor = W.prototype.Vea;
    W.prototype.setTimelineScaleLabelColor = W.prototype.Wea;
    W.prototype.setTimelineScalePrimaryDivisionHeight = W.prototype.Xea;
    W.prototype.setTimelineScaleSecondaryDivisionHeight = W.prototype.Yea;
    W.prototype.getTickBidColor = W.prototype.U7;
    W.prototype.getTickAskColor = W.prototype.Q7;
    W.prototype.getTickAvgColor = W.prototype.R7;
    W.prototype.getTickAvgSolid = W.prototype.S7;
    W.prototype.getLineUpColor = W.prototype.a7;
    W.prototype.getLineDownColor = W.prototype.V6;
    W.prototype.getLineFlatColor = W.prototype.W6;
    W.prototype.getLineWidth = W.prototype.Pg;
    W.prototype.getBarAscColor = W.prototype.i6;
    W.prototype.getBarDescColor = W.prototype.j6;
    W.prototype.getBarFlatColor = W.prototype.k6;
    W.prototype.getCandleDrawBorders = W.prototype.q6;
    W.prototype.getCandleDojiColor = W.prototype.p6;
    W.prototype.getCandleBullColor = W.prototype.o6;
    W.prototype.getCandleBullBorder = W.prototype.n6;
    W.prototype.getCandleBearColor = W.prototype.m6;
    W.prototype.getCandleBearBorder = W.prototype.l6;
    W.prototype.getRenkoPhantomColor = W.prototype.E7;
    W.prototype.getKagiYangColor = W.prototype.L6;
    W.prototype.getKagiYinColor = W.prototype.M6;
    W.prototype.getGridLineColor = W.prototype.B6;
    W.prototype.getGridBackgroundColor = W.prototype.A6;
    W.prototype.getLastValueTrackingLine = W.prototype.R6;
    W.prototype.getLastValueTrackingLineColor = W.prototype.S6;
    W.prototype.getValueLabelBackground = W.prototype.q8;
    W.prototype.getValueLabelBackgroundSame = W.prototype.s8;
    W.prototype.getValueLabelBackgroundDown = W.prototype.r8;
    W.prototype.getAxisLabelColor = W.prototype.f6;
    W.prototype.getOHLCLabelColor = W.prototype.n7;
    W.prototype.getChartBackgroundColor = W.prototype.r6;
    W.prototype.getViewportBorderColor = W.prototype.t8;
    W.prototype.getLegendColor = W.prototype.T6;
    W.prototype.getValueAxisWidth = W.prototype.El;
    W.prototype.getTimeAxisHeight = W.prototype.W7;
    W.prototype.getLabelFontSize = W.prototype.P6;
    W.prototype.getLabelFontFamily = W.prototype.O6;
    W.prototype.getBorderWidth = W.prototype.Ln;
    W.prototype.getBorderColor = W.prototype.sv;
    W.prototype.getTimelineHeight = W.prototype.b8;
    W.prototype.getTimelineStrokeColor = W.prototype.j8;
    W.prototype.getTimelineFillColor = W.prototype.a8;
    W.prototype.getTimelineThumbColor = W.prototype.k8;
    W.prototype.getTimelineThumbHighlightColor = W.prototype.l8;
    W.prototype.getTimelineThumbShadowColor = W.prototype.m8;
    W.prototype.getTimelineOverlayColor = W.prototype.d8;
    W.prototype.getTimelineOverlayBorderColor = W.prototype.c8;
    W.prototype.getTimelineOverlayOpacity = W.prototype.e8;
    W.prototype.getTimelineScaleDivisionColor = W.prototype.f8;
    W.prototype.getTimelineScaleLabelColor = W.prototype.g8;
    W.prototype.getTimelineScalePrimaryDivisionHeight = W.prototype.h8;
    W.prototype.getTimelineScaleSecondaryDivisionHeight = W.prototype.i8;
    W.prototype.getDrawingControlPointRadius = W.prototype.$y;
    Cj.prototype.getAsk = Cj.prototype.ed;
    Cj.prototype.getBid = Cj.prototype.fd;
    ez.prototype.tick = ez.prototype.Dfa;
    ez.prototype.ticks = ez.prototype.lO;
    ez.prototype.uniqueLastTick = ez.prototype.Ofa;
    ez.prototype.uniqueLastSortedTicks = ez.prototype.uH;
    ez.prototype.data = ez.prototype.data;
    z("dc.TransportType.FREESERV", 0);
    z("dc.TransportType.THROUGHPUT", 1);
    z("dc.TransportType.CACHING", 2);
    z("dc.Unit", tg);
    tg.factory = function (b, c, d, e, h) {
        return new tg(b, c, d, e, h)
    };
    tg.Millisecond = vg;
    tg.Second = wg;
    tg.Minute = xg;
    tg.Hour = yg;
    tg.Day = zg;
    tg.Week = Ag;
    tg.Month = Bg;
    tg.Year = Cg;
    z("dc.ValueMapper", ac);
    z("dc.ValueMapper.prototype", ac.prototype);
    ac.prototype.v = ac.prototype.qc;
    ac.prototype.y = ac.prototype.y;
    uJ.prototype.getChartObjectList = uJ.prototype.ri;
    uJ.prototype.addObject = uJ.prototype.Jg;
    uJ.prototype.deleteObject = uJ.prototype.Me;
    uJ.prototype.createObject = uJ.prototype.tC;
    uJ.prototype.pickObject = uJ.prototype.jJ;
    uJ.prototype.unpickObject = uJ.prototype.nn;
    uJ.prototype.deletePickedObject = uJ.prototype.zy;
    uJ.prototype.reset = uJ.prototype.reset;
    uJ.prototype.serialize = uJ.prototype.lb;
    uJ.prototype.unserialize = uJ.prototype.cb;
    uJ.prototype.handleEvent = uJ.prototype.handleEvent;
    z("dc.chart.ChartObjectMonitor.EventType.OBJECT_COMPLETE", Cu);
    z("dc.chart.ChartObjectMonitor.EventType.OBJECT_REMOVE", Bu);
    z("dc.chart.OHLCIndex", UI);
    z("dc.chart.OHLCIndex.prototype", UI.prototype);
    UI.prototype.setEnabled = UI.prototype.Ba;
    UI.prototype.isEnabled = UI.prototype.isEnabled;
    UI.prototype.setMagnifier = UI.prototype.JX;
    UI.prototype.isMagnifier = UI.prototype.Maa;
    UI.prototype.setAdvanced = UI.prototype.rX;
    UI.prototype.isAdvanced = UI.prototype.Faa;
    UI.prototype.setLegend = UI.prototype.ek;
    UI.prototype.isLegend = UI.prototype.Laa;
    UI.prototype.setDetached = UI.prototype.iG;
    UI.prototype.isDetached = UI.prototype.X4;
    yM.prototype.allowJump = yM.prototype.J3;
    yM.prototype.allowPan = yM.prototype.Mq;
    yM.prototype.allowZoom = yM.prototype.Mq;
    z("dc.chart.historicalorders.Monitor", tx);
    z("dc.chart.historicalorders.Monitor.prototype", tx.prototype);
    tx.prototype.set = tx.prototype.set;
    tx.prototype.reset = tx.prototype.reset;
    tx.prototype.clearByOrderGroupIds = tx.prototype.i4;
    tx.prototype.clearByOrderGroupId = tx.prototype.zQ;
    tx.prototype.setBlinking = tx.prototype.gG;
    z("dc.chart.iOSDrawingHelper", yu);
    yu.prototype.addMapping = yu.prototype.Y4;
    yu.prototype.getChartObjectById = yu.prototype.uD;
    yu.prototype.getChartObjectList = yu.prototype.ri;
    yu.prototype.createChartObject = yu.prototype.t4;
    yu.prototype.addObject = yu.prototype.Jg;
    yu.prototype.pickObject = yu.prototype.cR;
    yu.prototype.pickObjectById = yu.prototype.Lba;
    yu.prototype.unpickObject = yu.prototype.nn;
    yu.prototype.getPickedObject = yu.prototype.a5;
    yu.prototype.deletePickedObject = yu.prototype.Z4;
    yu.prototype.deleteChartObjectById = yu.prototype.C5;
    yu.prototype.reset = yu.prototype.reset;
    yu.prototype.serialize = yu.prototype.lb;
    yu.prototype.unserialize = yu.prototype.cb;
    yu.prototype.addSerialized = yu.prototype.B3;
    yu.prototype.unserializeById = yu.prototype.uY;
    z("dc.drawing.ChartObject", P);
    P.prototype.getId = P.prototype.aa;
    P.prototype.getType = P.prototype.Kb;
    P.prototype.setTooltip = P.prototype.Gb;
    P.prototype.setColor = P.prototype.Ab;
    P.prototype.setTime = P.prototype.setTime;
    P.prototype.setValue = P.prototype.V;
    P.prototype.setFillOpacity = P.prototype.Mw;
    P.prototype.setStrokeOpacity = P.prototype.Yt;
    P.prototype.setStrokeWidth = P.prototype.Zt;
    P.prototype.setPickable = P.prototype.NX;
    P.prototype.setLockedWithSystemUse = P.prototype.Yda;
    P.prototype.setRequiresConfiguration = P.prototype.FN;
    P.prototype.setSystemUseOnly = P.prototype.Jea;
    P.prototype.getSystemUseOnly = P.prototype.O7;
    P.prototype.setWithImmediateActions = P.prototype.qfa;
    P.prototype.getWithImmediateActions = P.prototype.u8;
    P.prototype.addControlPoint = P.prototype.Gf;
    P.prototype.getControlPoint = P.prototype.Nd;
    P.prototype.setControlPoints = P.prototype.uj;
    P.prototype.getControlPoints = P.prototype.Zs;
    P.prototype.offset = P.prototype.offset;
    P.prototype.isAllowedForRenderedDataType = P.prototype.CE;
    P.prototype.isNeededFirstPoint = P.prototype.LE;
    P.prototype.setRenderable = P.prototype.hs;
    P.prototype.isRenderable = P.prototype.Vp;
    P.prototype.setTextLabel = P.prototype.zG;
    P.prototype.getTextLabel = P.prototype.oT;
    P.prototype.serialize = P.prototype.lb;
    z("dc.drawing.Channel", RA);
    z("dc.drawing.Ellipse", AA);
    z("dc.drawing.GhostFeed", xA);
    xA.prototype.serialize = xA.prototype.lb;
    z("dc.drawing.HorizontalLine", MA);
    MA.prototype.setLinePattern = MA.prototype.ai;
    z("dc.drawing.Image", uC);
    z("dc.drawing.Line", cB);
    cB.prototype.setLinePattern = cB.prototype.ai;
    z("dc.drawing.LinearChannel", dB);
    z("dc.drawing.Order", vC);
    vC.prototype.setLineStyle = vC.prototype.Vda;
    vC.prototype.setPrices = vC.prototype.qea;
    vC.prototype.setOptions = vC.prototype.Wf;
    z("dc.drawing.Polygon", pB);
    pB.prototype.setLinePattern = pB.prototype.ai;
    z("dc.drawing.Polyline", mB);
    mB.prototype.setLinePattern = mB.prototype.ai;
    z("dc.drawing.PriceLabel", NA);
    z("dc.drawing.PriceLevel", OA);
    OA.prototype.getTextLabel = OA.prototype.oT;
    z("dc.drawing.Ray", fB);
    fB.prototype.setLinePattern = fB.prototype.ai;
    z("dc.drawing.Rectangle", tB);
    z("dc.drawing.Segment", gB);
    gB.prototype.setLinePattern = gB.prototype.ai;
    z("dc.drawing.StdDevChannel", SA);
    SA.prototype.isAllowedForRenderedDataType = SA.prototype.CE;
    z("dc.drawing.Text", TE);
    TE.prototype.setFont = TE.prototype.kG;
    TE.prototype.setAutoAlign = TE.prototype.Hca;
    TE.prototype.setPadding = TE.prototype.Uw;
    TE.prototype.setAlignX = TE.prototype.sX;
    TE.prototype.setAlignY = TE.prototype.tX;
    TE.prototype.setText = TE.prototype.Zw;
    z("dc.drawing.TextBox", VE);
    VE.prototype.setPadding = VE.prototype.Uw;
    VE.prototype.getPadding = VE.prototype.Pj;
    VE.prototype.setBackgroundColor = VE.prototype.Iw;
    VE.prototype.getBackgroundColor = VE.prototype.m5;
    VE.prototype.setFrameColor = VE.prototype.tN;
    VE.prototype.getFrameColor = VE.prototype.y6;
    z("dc.drawing.TimeLabel", RB);
    z("dc.drawing.TimeMarker", SB);
    z("dc.drawing.VerticalLine", QB);
    QB.prototype.setLinePattern = QB.prototype.ai;
    z("dc.drawing.GannAngle", jC);
    jC.prototype.serialize = jC.prototype.lb;
    z("dc.drawing.GannGrid", mC);
    mC.prototype.serialize = mC.prototype.lb;
    z("dc.drawing.PitchFork", hB);
    hB.prototype.serialize = hB.prototype.lb;
    z("dc.drawing.HistoricalOrder", Fx);
    z("dc.drawing.HistoricalOrder.Side.BUY", Bx);
    z("dc.drawing.HistoricalOrder.Side.SELL", Cx);
    z("dc.drawing.HistoricalOrder.Direction.OPEN", Dx);
    z("dc.drawing.HistoricalOrder.Direction.CLOSE", Ex);
    Fx.prototype.setSide = Fx.prototype.j5;
    Fx.prototype.getSide = Fx.prototype.Nh;
    Fx.prototype.setDirection = Fx.prototype.i5;
    Fx.prototype.getDirection = Fx.prototype.ef;
    Fx.prototype.setTimePrice = Fx.prototype.UX;
    Fx.prototype.getTimePrice = Fx.prototype.pT;
    z("dc.drawing.Divider", vB);
    z("dc.drawing.Divider.EventType.CHANGE", "change");
    vB.prototype.isNeededFirstPoint = vB.prototype.LE;
    vB.prototype.getValues = vB.prototype.mc;
    vB.prototype.listen = vB.prototype.C;
    vB.prototype.serialize = vB.prototype.lb;
    tB.prototype.setTopBorderColor = tB.prototype.WX;
    tB.prototype.setBottomBorderColor = tB.prototype.yX;
    tB.prototype.setTopBottomBorderColor = tB.prototype.dfa;
    tB.prototype.setTopBorderWidth = tB.prototype.XX;
    tB.prototype.setBottomBorderWidth = tB.prototype.zX;
    tB.prototype.setTopBottomBorderWidth = tB.prototype.efa;
    z("dc.drawing.Triangle", qB);
    z("dc.drawing.SignalUp", PB);
    z("dc.drawing.SignalDown", OB);
    z("dc.drawing.FiboArc", UA);
    z("dc.drawing.FiboExpansion", VA);
    z("dc.drawing.FiboFan", YA);
    z("dc.drawing.FiboRetracements", ZA);
    z("dc.drawing.FiboTimeZones", aB);
    BA.prototype.serialize = BA.prototype.lb;
    hf.prototype.getOriginalEvent = hf.prototype.Ak;
    z("dc.drawing.VolumeProfile", WB);
    z("dc.drawing.Pattern", DC);
    DC.prototype.setPatternStyle = DC.prototype.oea;
    DC.prototype.setPrimaryAsymptoteStyle = DC.prototype.rea;
    DC.prototype.setSecondaryAsymptoteStyle = DC.prototype.xea;
    z("dc.drawing.Pattern.Type", FC);
    FC.ASCENDING_TRIANGLE = 0;
    FC.DESCENDING_TRIANGLE = 1;
    FC.CHANNEL_UP = 2;
    FC.CHANNEL_DOWN = 3;
    FC.DOUBLE_TOP = 4;
    FC.DOUBLE_BOTTOM = 5;
    FC.RISING_WEDGE = 6;
    FC.FALLING_WEDGE = 7;
    FC.TRIPLE_TOP = 8;
    FC.TRIPLE_BOTTOM = 9;
    FC.RECTANGLE = 10;
    FC.TRIANGLE = 11;
    z("dc.drawing.PriceAlert", rB);
    V.prototype.setPrice = V.prototype.Uk;
    V.prototype.getPrice = V.prototype.gf;
    V.prototype.setAccuracy = V.prototype.lR;
    V.prototype.getAccuracy = V.prototype.mJ;
    V.prototype.serialize = V.prototype.lb;
    V.prototype.unserialize = V.prototype.cb;
    z("dc.drawing.PriceAlert.EventType", sB);
    sB.CHANGE = sB.Kx;
    sB.REMOVE = sB.Ox;
    sB.DBLCLICK = sB.KB;
    z("dc.drawing.SLTPOrder", V);
    V.prototype.setOrderId = V.prototype.kea;
    V.prototype.getOrderId = V.prototype.OD;
    V.prototype.setOfferSide = V.prototype.Gi;
    V.prototype.getOfferSide = V.prototype.Db;
    V.prototype.setOrderType = V.prototype.lea;
    V.prototype.getOrderType = V.prototype.iT;
    V.prototype.setExecuted = V.prototype.jda;
    V.prototype.getExecuted = V.prototype.QS;
    V.prototype.setExecutedOrderInfo = V.prototype.kda;
    V.prototype.getExecutedOrderInfo = V.prototype.SS;
    V.prototype.setAmount = V.prototype.k5;
    V.prototype.getAmount = V.prototype.rv;
    V.prototype.setUnit = V.prototype.Eo;
    V.prototype.getUnit = V.prototype.xc;
    V.prototype.setPrice = V.prototype.Uk;
    V.prototype.getPrice = V.prototype.gf;
    V.prototype.setTpShow = V.prototype.ffa;
    V.prototype.setTpPrice = V.prototype.ZX;
    V.prototype.getTpPrice = V.prototype.n8;
    V.prototype.setSlShow = V.prototype.Cea;
    V.prototype.setSlPrice = V.prototype.SX;
    V.prototype.getSlPrice = V.prototype.N7;
    V.prototype.setSlippagePrice = V.prototype.Dea;
    V.prototype.getSlippagePrice = V.prototype.UD;
    V.prototype.setTpId = V.prototype.YX;
    V.prototype.getTpId = V.prototype.qT;
    V.prototype.setSlId = V.prototype.RX;
    V.prototype.getSlId = V.prototype.lT;
    V.prototype.setAccountCurrency = V.prototype.xca;
    V.prototype.getAccountCurrency = V.prototype.vS;
    V.prototype.setAccountCurrencyRateBid = V.prototype.zca;
    V.prototype.getAccountCurrencyRateBid = V.prototype.xS;
    V.prototype.setAccountCurrencyRateAsk = V.prototype.yca;
    V.prototype.getAccountCurrencyRateAsk = V.prototype.wS;
    V.prototype.setAccuracy = V.prototype.lR;
    V.prototype.getAccuracy = V.prototype.mJ;
    V.prototype.setLocked = V.prototype.Xda;
    V.prototype.getLocked = V.prototype.eT;
    V.prototype.setHighlighted = V.prototype.sf;
    V.prototype.getHighlighted = V.prototype.ve;
    V.prototype.setPrecision = V.prototype.l5;
    V.prototype.getPrecision = V.prototype.Lf;
    V.prototype.setMarkerPrecision = V.prototype.$da;
    V.prototype.getMarkerPrecision = V.prototype.WJ;
    V.prototype.removeStopLoss = V.prototype.eca;
    V.prototype.removeTakeProfit = V.prototype.fca;
    V.prototype.serialize = V.prototype.lb;
    V.prototype.unserialize = V.prototype.cb;
    V.prototype.setPrivateModalGroup = V.prototype.sea;
    V.prototype.getPrivateModalGroup = V.prototype.x7;
    V.prototype.setPrivateModalId = V.prototype.tea;
    V.prototype.getPrivateModalId = V.prototype.y7;
    V.prototype.setPrivateOrderType = V.prototype.uea;
    V.prototype.getPrivateOrderType = V.prototype.z7;
    z("dc.drawing.SLTPOrder.OrderType", yB);
    yB.NULL = yB.L2;
    yB.LIMIT = yB.qZ;
    yB.STOP = yB.d3;
    z("dc.drawing.SLTPOrder.EventType", zB);
    zB.ORDER_REMOVE = zB.DP;
    zB.ORDER_TP_REMOVE = zB.FP;
    zB.ORDER_SL_REMOVE = zB.EP;
    z("dc.instrument.Instrument", Fi);
    Fi.prototype.getId = Fi.prototype.aa;
    Fi.prototype.getTitle = Fi.prototype.Nb;
    Fi.prototype.getName = Fi.prototype.getName;
    Fi.prototype.getDescription = Fi.prototype.Gp;
    Fi.prototype.getPipValue = Fi.prototype.jT;
    Fi.prototype.getPipScale = Fi.prototype.$c;
    z("dc.Instrument", J);
    J.prototype.toHash = J.prototype.Zb;
    J.byHash = J.aP;
    J.factory = J.Lx;
    J.AUDUSD = J.va;
    J.EURUSD = J.g;
    J.GBPUSD = J.yi;
    J.NZDUSD = J.Ht;
    J.USDCAD = J.Nt;
    J.USDCHF = J.ou;
    J.USDJPY = J.Ex;
    J.USDNOK = J.Ix;
    J.USDSEK = J.Jx;
    J.USDSGD = J.Du;
    J.XAGUSD = J.Hu;
    J.XAUUSD = J.Iu;
    J.AUDCAD = J.R;
    J.AUDCHF = J.U;
    J.AUDJPY = J.$;
    J.AUDNZD = J.ia;
    J.CADCHF = J.za;
    J.CADJPY = J.La;
    J.CHFJPY = J.Ya;
    J.EURAUD = J.Hb;
    J.EURCAD = J.Rb;
    J.EURCHF = J.Ub;
    J.EURDKK = J.m;
    J.EURGBP = J.sc;
    J.EURHKD = J.w;
    J.EURJPY = J.gc;
    J.EURNOK = J.Li;
    J.EURNZD = J.dd;
    J.EURSEK = J.Yd;
    J.GBPAUD = J.Ee;
    J.GBPCAD = J.Ge;
    J.GBPCHF = J.Ve;
    J.GBPJPY = J.lf;
    J.GBPNZD = J.uh;
    J.NZDCAD = J.Sl;
    J.NZDCHF = J.wt;
    J.NZDJPY = J.yt;
    J.AUDSGD = J.ka;
    J.CADHKD = J.Ea;
    J.CHFSGD = J.ob;
    J.EURDKK = J.m;
    J.EURHKD = J.w;
    J.EURPLN = J.jd;
    J.EURSGD = J.Sd;
    J.EURTRY = J.De;
    J.HKDJPY = J.zi;
    J.SGDJPY = J.It;
    J.USDCNH = J.RH;
    J.USDDKK = J.vu;
    J.USDHKD = J.yu;
    J.USDMXN = J.Hx;
    J.USDPLN = J.F;
    J.USDRUB = J.K;
    J.USDTRY = J.Eu;
    J.USDZAR = J.Gu;
    nk.prototype.getTimeZoneData = nk.prototype.Un;

    function iW(b) {
        Q.call(this);
        this.g = b;
        this.zE = {};
        this.a = {}
    }

    B(iW, Q);
    f = iW.prototype;
    f.oR = new kV;
    f.pR = {"Accept-Charset": "x-user-defined"};
    f.qh = function () {
        return this.Be
    };
    f.load = function () {
        var b = new KH(this.oR), c = this.g + "metadata/HistoryStart.bi5", d = new jQ;
        Xt(b, "complete", va(this.M8, d), !1, this);
        b.send(c, "GET", null, this.pR);
        return d
    };
    f.M8 = function (b, c) {
        this.Be = {};
        for (var d = c.target.Lc.UJ(), e = [], h = 0, k = d.length; h < k; h++) e.push(d.charCodeAt(h) & 255);
        d = 0;
        for (h = e.length; d < h;) {
            for (var k = "", l = +Gb.Dh("H", e, d), d = d + 2; 0 < l--;) k += Gb.Dh("c", e, d++);
            this.Be[k] = {};
            for (var l = +Gb.Dh("D", e, d), d = d + 8, p = 0; p < 2 * l;) {
                var q = +Gb.Dh("D", e, d + 8 * p++), r = Gb.Dh("D", e, d + 8 * p++)[0];
                if (864E5 < q || 0 == q || -1 == q) q = 1E3;
                this.Be[k][q] = new Date(r)
            }
            d += 16 * l
        }
        b.uc(this.Be)
    };

    function WU(b, c) {
        var d = c.aa();
        if (!Yg(b.a, d)) {
            var e = new KH(b.oR), h = b.g + c.xr + "/metadata/HistoryStart.bi5";
            b.a[d] = new jQ;
            Xt(e, "complete", va(b.e$, c), !1, b);
            e.send(h, "GET", null, b.pR)
        }
        return b.a[d]
    }

    f.e$ = function (b, c) {
        for (var d = c.target.Lc.UJ(), e = [], h = {}, k = 0, l = d.length; k < l; k++) e.push(d.charCodeAt(k) & 255);
        k = 0;
        for (d = d.length / 8; k < d; k++) {
            var l = +Gb.Dh("D", e, 8 * k++), p = Gb.Dh("D", e, 8 * k);
            if (864E5 < l || 0 == l) l = 1E3;
            h[l] = new Date(p)
        }
        this.zE[b.xr] = h;
        this.a[b.aa()].uc()
    };

    function jW(b, c, d, e) {
        zK.call(this, e);
        this.Ea = c;
        this.va = d;
        this.ab = b;
        this.m = new MM(this.M());
        this.m.Fi(0);
        this.m.Hg(100);
        this.K = this.M().u(Le);
        this.w = new xL(kW);
        this.R = new xL(lW);
        this.a = new xL(null);
        this.up = new XT(this.ab);
        this.up.Jn = this.Jn;
        $T(this.up) || (this.Ng = new $K(this.va + "/hdf.swf", this.M()), this.Ng.XB = "always", this.Ng.zB = "transparent", this.Ng.bi(178, 52), this.Ng.T(), dk(this.Ng.J(), this.Bb + "-flash"), JF(this.Ng.J(), 1, 1));
        var h = new dN;
        La(YT, function (b, c) {
            h.Va(new zL(b, c), !0)
        });
        this.g = new hN(null,
            h);
        this.S().C(this.ab, "start", this.C9).C(this.ab, "progress", this.B9).C(this.ab, "complete", this.A9).C(this.R, "action", this.E$).C(this.w, "action", this.P8).C(this.g, "action", this.Q9)
    }

    B(jW, zK);
    var kW = y("MSG_CANCEL_DOWNLOAD", {}, "Cancel"), mW = y("MSG_BACK_TO_FORM", {}, "Reset"),
        lW = y("MSG_PREVIEW", {}, "Show on chart\u2026"), nW = y("MSG_SAVE_AS", {}, "Save as %s"),
        oW = y("MSG_OUTPUT_FORMAT", {}, "Select output format."), pW = {};
    pW[2] = y("MSG_DATA_TYPE_CANDLE", {}, "candles");
    pW[3] = y("MSG_DATA_TYPE_PRICE_RANGE", {}, "price ranges");
    pW[4] = y("MSG_DATA_TYPE_POINT_AND_FIGURE", {}, "point and figure");
    pW[1] = y("MSG_DATA_TYPE_TICK", {}, "ticks");
    pW[5] = y("MSG_DATA_TYPE_TICK_BAR", {}, "tick bars");
    var YT = {JH: ".csv", mia: ".hst"};
    f = jW.prototype;
    f.Bb = "a-progress-monitor";
    f.Jn = YT.JH;
    f.te = yc;
    f.u = function () {
        var b = this.M();
        this.Da = b.u(D, this.Bb, this.za = b.u(Fe, this.Bb + "-H"), this.U = b.u(D, this.Bb + "-progress-Y"), this.F = b.u(D, this.Bb + "-save-Y"))
    };
    f.oa = function () {
        var b = this.J();
        this.m.T(this.U);
        this.M().appendChild(this.m.J(), this.K);
        this.w.T(b);
        this.w.tc(this.Bb + "-Vi");
        this.a.T(this.F);
        this.a.tc("mg-Wg-vg-yg-eb");
        this.a.tc(this.Bb + "-save");
        b = this.g;
        b.K = this.a.J();
        b.sw();
        this.g.tc("mg-zg-vg-yg-db");
        this.g.T(this.F);
        this.g.Gb(oW);
        this.R.T(this.F);
        this.R.tc(this.Bb + "-preview");
        var b = this.up, c = this.a;
        $T(b) && (b.sca = c, b.ra.C(b.sca, "action", b.rca));
        this.a.Kc(yh(nW, this.Jn))
    };
    f.C9 = function () {
        var b = new Vj(this.ab.Oj), c = new Vj(this.ab.Ch), d;
        d = "" + qW.format(this.ab.Oj);
        0 !== ak(b, c) && (d = d + " &ndash; " + qW.format(this.ab.Ch));
        d += "; ";
        d += this.ab.ma().Nb() + " ";
        d += this.ab.Db() ? this.ab.Db() + " " : "";
        d += pW[this.ab.Fa()] + " ";
        switch (this.ab.Fa()) {
            case 1:
            case 5:
            case 2:
                d += "(" + this.ab.W() + ")"
        }
        this.za.innerHTML = d;
        O(this.U, !0);
        O(this.F, !1);
        this.m.V(0);
        this.M().ci(this.K, "0.00 %");
        b = (2 === this.ab.Fa() || 5 === this.ab.Fa()) && 6E4 <= this.ab.W().Y();
        this.g.cc().nd(1).Z(b);
        this.g.Z(b);
        this.a.fr("mg-Wg-vg-yg-eb",
            b);
        $T(this.up) || (aL(this.Ng).initLocalTimezone(cU), aL(this.Ng).initGMTTimezone(iU), aL(this.Ng).setTimezone(this.ab.Ic()), aL(this.Ng).setFileName(this.sD()), aL(this.Ng).setParameters("d.m.Y", this.ab.Fa(), this.ab.ma().Nb().replace("/", ""), this.ab.ma().Sb.toString(10).length - 1, Math.round(this.ab.W().Y() / 1E3 / 60)));
        this.w.Kc(kW)
    };
    f.B9 = function (b) {
        b = 1 * b.target.Fg;
        this.m.V(100 * b);
        this.M().ci(this.K, (100 * b).toFixed(2) + " %")
    };
    f.iaa = function (b) {
        b = .5 + .5 * b;
        this.m.V(100 * b);
        this.M().ci(this.K, (100 * b).toFixed(2) + " %")
    };
    f.A9 = function () {
        this.$ = VQ(this.ab.result, function (b) {
            b = b.slice();
            $T(this.up) || aL(this.Ng).appendData([b])
        }, this, v(this.iaa, this));
        az(this.$, function () {
            O(this.U, !1);
            O(this.F, !0);
            this.w.Kc(mW);
            $T(this.up) || (JF(this.Ng.J(), PF(this.a.J())), tu(this.Ng.J(), kG(this.a.J())), ht(this.Ng.J(), "z-index", 100600))
        }, this)
    };
    f.td = null;

    function rW(b, c) {
        b.ka = c
    }

    f.E$ = function () {
        null === this.td || this.td.closed || this.td.close();
        window.w = v(this.D$, this);
        var b = {};
        this.ka && (b.lang = this.ka);
        this.td = Ja(this.Ea, b)
    };
    f.D$ = function (b) {
        var c = this.ab.ma(), d = this.ab.W(), e = d.$k,
            h = this.td.dc.Period.factory(65535, d.name, this.td.dc.Unit.factory(e.interval, e.ON, e.a, e.fw, e.name), d.lg);
        d == bl && (h.toString = qf("TICK"));
        b.setTimezone(this.ab.Ic() === iU ? 0 : (new Date).getTimezoneOffset());
        b.setPreload(!1);
        b.setLive(!1);
        b.setOfferSide(this.ab.Db());
        b.setDataType(this.ab.Fa());
        b.setPeriod(h);
        b.setInstrument(c.aa());
        b.init();
        this.S().C(b, iz, function () {
            var b = this.td.document, c = b.createElement("script"), e = "[" + Sa(this.ab.result, function (b) {
                var c =
                    [];
                E(b, function (b, d) {
                    c[d] = b
                });
                this.ab.Ic() === cU && (c[0] -= 6E4 * (new Date(c[0])).getTimezoneOffset());
                Cl(d, bl) && 1 == this.ab.Fa() ? (c[3] && (c[3] *= 1E6), c[4] && (c[4] *= 1E6)) : c[5] && (c[5] *= 1E6);
                return "[" + c.join(",") + "]"
            }, this).join(",") + "]";
            Cl(d, bl) && 1 == this.ab.Fa() ? c.innerHTML = "var hdfTicks = " + e + ";" : (c.innerHTML = "var hdfData = " + e + ";", this.td.hdfPeriod = h);
            b.body.appendChild(c);
            this.td.loadData()
        })
    };
    f.P8 = function () {
        this.td && this.td.close();
        $T(this.up) || (JF(this.Ng.J(), 1, 1), tu(this.Ng.J(), 0, 0), ht(this.Ng.J(), "z-index", -1E3));
        this.$ && this.$.cancel();
        this.dispatchEvent("cancel")
    };
    f.Q9 = function (b) {
        this.Jn = YT[b.target.G()];
        this.up.Jn = this.Jn;
        $T(this.up) || aL(this.Ng).setExportFormat(this.Jn);
        this.a.Kc(yh(nW, this.Jn))
    };
    var qW = new sk("MMM dd yyyy"), sW = new sk("dd.MM.yyyy");
    jW.prototype.sD = function () {
        var b = this.ab.Db(), c = this.ab.xc(), d = this.ab.eK(), e = this.ab.Oj, h = this.ab.Ch,
            k = this.ab.ma().Nb().replace("/", "") + "_";
        switch (this.ab.Fa()) {
            case 1:
                k += "Ticks_";
                break;
            case 5:
                k += "Tickbar_" + d + "_" + b + "_";
                break;
            case 2:
                k += "Candlestick_" + d + "_" + c.ON + "_" + b + "_"
        }
        return k += sW.format(e) + "-" + sW.format(h)
    };

    function tW(b, c) {
        eS.call(this, b, c);
        this.ej = new eV;
        this.ao = new jV;
        this.ab = new rV(this.N().dJ);
        this.Hz = new iW(this.N().dJ);
        this.zd = new pR(this.N().Om, this.N().uc);
        this.Bt = new yU;
        this.Bt.Tk(this);
        this.tM = new jW(this.ab, this.N().pW, this.N().fY, this.M())
    }

    B(tW, eS);
    tW.prototype.N = function () {
        this.j || (this.j = {
            Dk: !0,
            Om: "//freeserv.dukascopy.com/2.0/?path=common/instruments",
            uc: null,
            dJ: "/datafeed/",
            RR: 0,
            pW: "./chart.html",
            wf: [],
            fY: ".",
            ei: "dfc",
            cY: "https://jp-demo.dukascopy.com/fo/register/demo/?lang=jp",
            eS: "https://jp-demo.dukascopy.com/fo/api/demo/checkAuth.php",
            lS: null,
            qS: null,
            nS: null,
            oS: null,
            pS: null,
            mS: null
        });
        return this.j
    };
    var uW = y("MSG_MAIN_HEADER", {}, "Historical Data Feed");
    eS.prototype.ZS = function () {
        return uW
    };
    f = tW.prototype;
    f.Tn = function () {
        this.$r || (this.$r = {minWidth: 740, minHeight: 340});
        return this.$r
    };
    f.Nw = function (b) {
        this.N().Dk = b;
        this.la && K.enable(this.J(), eS.prototype.Hq + "-re-B", !this.N().Dk)
    };
    f.Jda = function (b) {
        this.N().Om = b
    };
    f.St = function (b) {
        this.N().wf = b
    };
    f.lN = function (b) {
        this.N().uc = b
    };
    f.Yca = function (b) {
        this.N().dJ = b
    };
    f.dda = function (b) {
        this.N().RR = b
    };
    f.pea = function (b) {
        this.N().pW = b
    };
    f.Hea = function (b) {
        this.N().fY = b
    };
    f.Ci = function (b) {
        this.N().ei = b
    };
    f.zea = function (b) {
        this.N().cY = b
    };
    f.pda = function (b) {
        this.N().eS = b
    };
    f.rda = function (b) {
        this.N().lS = b
    };
    f.xda = function (b) {
        this.N().qS = b
    };
    f.uda = function (b) {
        this.N().nS = b
    };
    f.vda = function (b) {
        this.N().oS = b
    };
    f.wda = function (b) {
        this.N().pS = b
    };
    f.sda = function (b) {
        this.N().mS = b
    };

    function UU(b) {
        return b.Hz
    }

    f.te = yc;
    f.Bb = "a-candelabrum";
    f.Tq = "a-candelabrum";
    y("MSG_HEADER_LINK", {}, "Dukascopy Swiss Forex Bank and Marketplace");
    y("MSG_HEADER_TITLE", {}, "Historical Data Feed");
    var vW = y("MSG_LOADING", {}, "Loading\u2026"), wW = y("MSG_ERROR_DATA_LOAD", {}, "Incomplete data for period."),
        xW = y("MSG_ALL_INSTRUMENTS", {}, "All instruments"),
        yW = "dfc" + (wa() + Math.random()).toString(32).replace(".", "");
    f = tW.prototype;
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        tW.P.ua.call(this, b);
        this.Da = b;
        K.add(b, "a-candelabrum");
        b = this.M();
        b.append(this.Aa(), this.ll = b.u(D, this.Tq + "-Hg", this.H8 = b.u(D, this.Tq + "-Uh-Ih"), this.Eaa = b.u(D, this.Tq + "-Gh-Jh-Y")), this.bD = b.u(D, [this.Tq + "-an", this.Tq + "-an-Mk"], b.u(Le, this.Tq + "-an-Eb")), this.Waa = b.u(D, [this.Tq + "-an", this.Tq + "-an-v"], b.createElement(Le), b.u(Fe, null, vW)));
        this.Ky = new ZU;
        this.ko = new bV;
        O(this.bD, !1)
    };
    f.oa = function () {
        tW.P.oa.call(this);
        Sv(this.gg(), "lang") && rW(this.tM, Sv(this.gg(), "lang"));
        this.Ky.T(this.J());
        this.ko.T(this.J());
        this.S().C(this.ej, "change", this.d$).C(this.Bt, "error", function (b) {
            this.Ky.bn(b.message);
            this.Ky.Z(!0)
        }).C(this.Bt, "action", this.B$).C(this.ao, "change", this.f$, !0).C(this.tM, "cancel", this.F$).C(this.ab, "error", function () {
            this.Ky.bn(wW);
            this.Ky.Z(!0)
        });
        this.ej.T(this.H8);
        this.ao.T(this.Eaa);
        this.Bt.T(this.J());
        this.tM.T(this.bD);
        this.zd.load();
        zW(this);
        this.Nw(this.N().Dk)
    };

    function zW(b) {
        var c = b.Hz.load(), d = b.zd.load();
        sx(c, function () {
            sx(d, this.g$, this)
        }, b)
    }

    f.g$ = function () {
        var b = this.Hz.qh(), c = this.zd.ej;
        this.ej.bc(new iV(xW, null), !0);
        this.fN = [];
        E(c, function (c) {
            !c.getParent() && c.vr() && (this.ej.bc(new iV(c.Nb(), c), !0), E(c.Fp(), function (b) {
                this.ej.bc(new gV(b.Nb(), b), !0)
            }, this));
            La(c.qh(), function (e) {
                Yg(b, e.xr) && this.fN.push({Td: e, group: c})
            }, this)
        }, this);
        Ec(this.fN, function (b, c) {
            return wi(b.Td.Nb(), c.Td.Nb())
        });
        O(this.Waa, !1);
        AW(this, this.N().wf)
    };

    function AW(b, c) {
        var d = [], e = [], h = ss("a-Gh-Uh-Jh-Mh"), k = ss("a-Gh-Uh-Jh-Ng");
        BW(b, b.fN);
        cI(b.ao, function (b) {
            var e = c.length && -1 === c.indexOf(b.Sa.aa()), h = b.Oh.aa();
            K.enable(Rs(b.content), "a-candelabrum-hj", e);
            e || -1 !== d.indexOf(h) || d.push(h)
        });
        E(h, function (b) {
            var c = -1 === d.indexOf(bP(b, "group")), h = bP(b, "parent");
            c || -1 !== e.indexOf(h) || e.push(h);
            K.enable(b, "a-candelabrum-hj", c)
        }, b);
        E(k, function (b) {
            var c = bP(b, "group") ? -1 === e.indexOf(bP(b, "group")) : !1;
            K.enable(b, "a-candelabrum-hj", c)
        }, b)
    }

    function BW(b, c) {
        if (c) {
            var d = {};
            b.ao.me(!0);
            b.ao.Sn() && b.ao.Sn().clear();
            ki(b.N().wf) && (b.N().wf = Sa(c, function (b) {
                return b.Td.aa()
            }));
            E(c, function (b) {
                ~this.N().wf.indexOf(b.Td.aa()) && (d[b.Td.aa()] = new tU(zs(D, null, zs(Me, null, b.Td.Nb()), b.Td.Gp()), b.group, b.Td))
            }, b);
            E(b.N().wf, function (b) {
                d[b] && this.ao.bc(d[b])
            }, b)
        }
    }

    f.yl = function () {
        return this.ao
    };
    f.d$ = function (b) {
        0 <= b.target.Mh() && (this.ao.HX(b.target.hc().qa()), this.ao.wY())
    };
    f.f$ = function (b) {
        b = b.target.hc().ma();
        Yg(this.Hz.zE, b.xr) || WU(this.Hz, b)
    };
    f.B$ = function () {
        sx(CW(this), this.A$, this)
    };
    f.A$ = function () {
        var b = TU(this.Bt);
        this.Bt.Z(!1);
        O(this.bD, !0);
        var c = new bk(b.w4), d = new bk(b.y4), e = b.dataType, h = b.mH;
        1 != b.dataType && b.$k != vg && b.$k != wg || d.set(c);
        2 == b.dataType && (e = b.bC.Fa());
        this.ab.Do(h);
        h = this.ab;
        h.Oj = c;
        h.Ch = d;
        this.ab.zh(e);
        this.ab.Ie(b.Td);
        this.ab.Gi(b.Eg);
        this.ab.F = b.Yfa;
        2 == b.dataType ? this.ab.Eo(b.$k, b.count) : 1 == b.dataType ? this.ab.Eo(vg, 1E3) : this.ab.Eo(vg, b.count);
        this.ab.start();
        b = (this.ae().get("dlac") || 0) + 1;
        this.ae().set("dlac", b)
    };
    f.F$ = function () {
        this.ab.stop();
        this.Bt.Z(!0);
        O(this.bD, !1)
    };

    function CW(b) {
        var c = new jQ;
        az(c, function (b) {
            this.yo = b
        }, b);
        var d = "dfc" == b.N().ei && null != window.FxcommLogin || "fo" == b.N().ei || "ownfxcomm" == b.N().ei,
            e = (b.ae().get("dlac") || 0) >= b.N().RR && !b.Nl();
        d && e ? DW(b, c) : c.uc(!0);
        return c
    }

    function DW(b, c) {
        az(c, v(function () {
            this.ko.Z(!1)
        }, b));
        switch (b.N().ei) {
            case "ownfxcomm":
                EW(b, c);
                break;
            case "dfc":
                FW(b, c);
                break;
            case "fo":
                GW(b, c)
        }
    }

    function EW(b, c) {
        b.ko.Z(!0);
        b.ko.tc(b.Bb + "-an-Zm-ownfxcomm");
        b.jo || (b.jo = new lR({
            $I: b.N().lS,
            uri: b.N().qS,
            Zl: b.N().nS,
            kx: b.N().oS,
            rx: b.N().pS,
            Jy: b.N().mS
        }), b.jo.T(b.ko.Aa()));
        b.S().C(b.jo, "auth", function () {
            c.uc(this.jo.Ev())
        })
    }

    function FW(b, c) {
        b.ko.Z(!0);
        b.M().append(b.ko.Aa(), b.M().u(oe, {id: yW, name: yW}));
        (new FxcommLogin).init({iframe: yW, onLogin: v(c.uc, c)})
    }

    function GW(b, c) {
        b.ko.Z(!0);
        b.ko.tc(b.Bb + "-an-Zm-Hc");
        b.KL || (b.KL = new uU(b.N().cY, b.N().eS, b.M()), b.KL.T(b.ko.Aa()));
        b.KL.eq = c
    }

    f.Nl = function () {
        return null != this.yo
    };
    f.ae = function () {
        this.yc || (this.yc = new xh(sF()));
        return this.yc
    };
    f.gg = function () {
        this.Vc || this.Qv();
        return this.Vc
    };
    f.Qv = function () {
        var b = y("MSG_MAIN_SETTINGS", {}, "Main settings"), c = y("MSG_SHOW_HEADER", {}, "Show header"),
            d = y("MSG_SETTINGS_AVAILABLE_INSTRUMENTS", {}, "Available instruments");
        this.Vc = new Qv;
        this.nq = new Pv(this.Tn().minWidth, this.Tn().minHeight);
        Rv(this.Vc, this.nq);
        this.Vc.Qs(this.Fo = new lv(b));
        this.Fo.Xa(new rv("header", c, null, this.N().Dk));
        this.Fo.Xa(this.vw = new Mv("availableInstruments", d, null, this.N().wf));
        this.S().C(this.Fo, "change", this.EK)
    };
    f.EK = function (b) {
        if (b.target !== this.vw) this["set" + b.target.getName()[0].toUpperCase() + b.target.getName().slice(1)](b.target.G()); else b.target.WD() ? HW(this, b.target.WD()) : this.St(b.target.yE), IW(this), AW(this, this.N().wf)
    };

    function HW(b, c) {
        ka(c) && sx(b.zd.load(), function () {
            var b = this.zd.mL[c];
            b && this.St(Sa(b.qh(), function (b) {
                return b.aa()
            }))
        }, b)
    }

    function IW(b) {
        if (!ia(b.N().wf)) switch (b.N().wf.toString().substring(0, 1)) {
            case "t":
                HW(b, b.N().wf.toString().substring(2));
                break;
            case "l":
                b.N().wf = Ra(b.N().wf.toString().substring(2).split(","), vc)
        }
        ki(b.N().wf) && (b.N().wf = Sa(b.zd.yl(), function (b) {
            return b.aa()
        }))
    };z("dc.hdf.Candelabrum", tW);
    z("dc.hdf.Candelabrum.prototype", tW.prototype);
    tW.prototype.render = tW.prototype.T;
    tW.prototype.getSettings = tW.prototype.gg;
    tW.prototype.setHeader = tW.prototype.Nw;
    tW.prototype.setInstrumentUri = tW.prototype.Jda;
    tW.prototype.setCallback = tW.prototype.lN;
    tW.prototype.setDataFeedUri = tW.prototype.Yca;
    tW.prototype.setDownloadAttemptsWOAuth = tW.prototype.dda;
    tW.prototype.setPopupUri = tW.prototype.pea;
    tW.prototype.setStandaloneAssetPath = tW.prototype.Hea;
    tW.prototype.setAuthType = tW.prototype.Ci;
    tW.prototype.setSignupUri = tW.prototype.zea;
    tW.prototype.setFoAuthUri = tW.prototype.pda;
    tW.prototype.setFxcommCountriesUri = tW.prototype.rda;
    tW.prototype.setFxcommUri = tW.prototype.xda;
    tW.prototype.setFxcommReturnUri = tW.prototype.uda;
    tW.prototype.setFxcommSocialReturnUri = tW.prototype.vda;
    tW.prototype.setFxcommTermsUri = tW.prototype.wda;
    tW.prototype.setFxcommDownloadTermsUri = tW.prototype.sda;
    z("dc.hdf.AuthType.NONE", "none");
    z("dc.hdf.AuthType.OWNFXCOMM", "ownfxcomm");
    z("dc.hdf.AuthType.DFC", "dfc");
    z("dc.hdf.AuthType.FO", "fo");

    function JW(b, c, d, e, h) {
        this.qb = b;
        this.wc = c || (Cl(b, bl) ? 1 : 2);
        this.Ai = d;
        this.Vf = e;
        this.Pl = h
    }

    f = JW.prototype;
    f.W = function () {
        return this.qb
    };
    f.Fa = function () {
        return this.wc
    };
    f.hf = function () {
        return this.Ai
    };
    f.ad = function () {
        return this.Vf
    };
    f.$d = function () {
        return this.Pl
    };
    var KW = y("MSG_RENKO", {}, "Renko"), LW = y("MSG_POINT_AND_FIGURE", {}, "P&F"), MW = y("MSG_KAGI", {}, "Kagi"),
        NW = y("MSG_LINE_BREAK", {}, "Line Break"), OW = y("MSG_TICK", {}, "Tick");
    JW.prototype.toString = function () {
        switch (this.wc) {
            case 6:
                return KW + " (" + this.Ai.xi() + ")";
            case 3:
                return this.Ai.toString();
            case 4:
                return LW + "(" + this.Ai + "\u00a0\u00d7\u00a0" + this.Vf + ")";
            case 7:
                return MW + " (" + this.Vf + ")";
            case 8:
                return this.Pl + " " + NW;
            case 1:
                return OW;
            case 2:
                return this.qb.lg + "\u00a0" + this.qb.xc().name
        }
    };

    function PW(b, c, d) {
        var e, h, k;
        (3 === b || 6 === b || 4 === b || 7 === b || 8 === b) && 2 < arguments.length && (e = arguments[2], 3 < arguments.length && 6 !== b && (h = arguments[3]), 4 < arguments.length && 8 === b && (k = arguments[4]));
        return ah(function (d) {
            var p = d.wc === b && d.qb === c;
            e && (p = p && d.Ai === e);
            h && (p = p && d.Vf === h);
            k && (p = p && d.Pl === k);
            return p
        }, this)
    }

    var bh = {
        VP: new JW(bl, 1),
        Kja: new JW(cl, 2),
        Nka: new JW(el, 2),
        Rka: new JW(fl, 2),
        Jja: new JW(gl, 2),
        Yha: new JW(hl, 2),
        Mka: new JW(il, 2),
        Wha: new JW(jl, 2),
        Qka: new JW(ll, 2),
        M2: new JW(ml, 2),
        bia: new JW(ol, 2),
        hha: new JW(rl, 2),
        qla: new JW(bj, 2),
        Yia: new JW(ul, 2)
    };
    var QW = {pn: "dfc", P2: "ownfxcomm"};

    function RW(b, c, d, e, h) {
        this.Ib = b;
        this.Ff = c;
        this.Le = d;
        this.Rh = e;
        this.Xd = h
    }

    f = RW.prototype;
    f.aa = function () {
        return this.Ib
    };
    f.$h = function (b) {
        this.Ib = b
    };
    f.Kb = function () {
        return this.Ff
    };
    f.ax = function (b) {
        this.Ff = b
    };
    f.Nb = function () {
        return this.Le
    };
    f.tf = function (b) {
        this.Le = b
    };
    f.Al = function () {
        return this.Rh
    };
    f.ie = function () {
        return this.Xd
    };
    f.bi = function (b) {
        this.Xd = b
    };
    f.fn = function () {
        return null
    };
    f.ad = function () {
        return null
    };
    f.Ao = function () {
        return null
    };
    f.$d = function () {
        return null
    };
    f.Zb = function () {
        return this.Ff + ";" + this.Rh + ";" + this.Xd
    };

    function SW(b, c, d, e, h) {
        RW.call(this, b, c, d, e, 1);
        this.Vf = h
    }

    B(SW, RW);
    SW.prototype.ad = function () {
        return this.Vf
    };
    SW.prototype.fn = function (b) {
        this.Vf = b
    };
    SW.prototype.Zb = function () {
        return SW.P.Zb.call(this) + ";" + this.Vf
    };

    function TW(b, c, d, e, h) {
        RW.call(this, b, c, d, e, 1);
        this.Pl = h
    }

    B(TW, RW);
    TW.prototype.$d = function () {
        return this.Pl
    };
    TW.prototype.Ao = function (b) {
        this.Pl = b
    };
    TW.prototype.Zb = function () {
        return TW.P.Zb.call(this) + ";" + this.Pl
    };

    function UW(b, c, d, e, h, k) {
        RW.call(this, b, c, d, e, h);
        this.Vf = k
    }

    B(UW, RW);
    UW.prototype.ad = function () {
        return this.Vf
    };
    UW.prototype.fn = function (b) {
        this.Vf = b
    };
    UW.prototype.Zb = function () {
        return UW.P.Zb.call(this) + ";" + this.Vf
    };

    function VW() {
        this.a = {};
        this.a[WW + ";" + gl] = new RW(WW + ";" + gl, WW, XW[WW], gl, 10);
        this.a[YW + ";" + gl] = new UW(YW + ";" + gl, YW, XW[YW], gl, 1, 1);
        this.a[ZW + ";" + gl] = new SW(ZW + ";" + gl, ZW, XW[ZW], gl, 10);
        this.a[$W + ";" + gl] = new TW($W + ";" + gl, $W, XW[$W], gl, 2);
        this.init()
    }

    var WW = 6, YW = 4, ZW = 7, $W = 8, aX = {};
    aX[WW] = "R";
    aX[YW] = "P&F";
    aX[ZW] = "K";
    aX[$W] = "LB";
    var XW = {};
    XW[WW] = y("MSG_PRICE_BASED_CHARTS_RENKO", {}, "Renko");
    XW[YW] = y("MSG_PRICE_BASED_CHARTS_POINT_AND_FIGURE", {}, "P&F");
    XW[ZW] = y("MSG_PRICE_BASED_CHARTS_KAGI", {}, "Kagi");
    XW[$W] = y("MSG_PRICE_BASED_CHARTS_LINE_BREAK", {}, "Line Break");
    VW.prototype.ae = function () {
        return null
    };
    VW.prototype.init = function () {
        if (this.ae()) {
            var b = this.ae().get("charts.list");
            b && (b = JSON.parse(b), b.length && (b[0].id && b[0].type == +b[0].type && b[0].length && b[0].size ? (this.a = {}, E(b, function (b) {
                this.a[b.id] = new RW(b.id, b.type, XW[b.type], Al[b.length], b.size)
            }, this)) : this.ae().remove("charts.list")))
        }
    };
    VW.prototype.update = function (b) {
        var c = this.ae();
        c && c.set("charts.list", b);
        this.init()
    };
    var bX = {U: el, N2: gl, M2: ml, R: rl};

    function cX(b) {
        Q.call(this);
        this.ca = b;
        this.Za = !0;
        this.nh = {x: NaN, y: NaN};
        this.lo = {TI: !1, UI: !1, qF: !1}
    }

    B(cX, Q);
    f = cX.prototype;
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.ig = function () {
        return this.ca
    };
    f.X = function () {
        return X(this.ig())
    };
    f.LD = function () {
        return this.ig().LD()
    };
    f.ga = function () {
        return this.X().ga()
    };
    f.Qe = function () {
        return this.ig().Qe()
    };
    f.Ba = function (b) {
        this.Za = b;
        this.lr() ? this.bf() : this.im()
    };
    f.lr = function () {
        return this.Za
    };
    f.bf = function () {
        this.im();
        this.S().C(this.X(), "mousemove", this.jg).C(this.X(), "mouseout", this.nU).Qf(this.X(), FJ, function () {
            this.S().C(this.X(), "middlemousedown", this.w9)
        }).C(ps(this.ig().J()), "keydown", this.Km).C(ps(this.ig().J()), "keyup", this.hE)
    };
    f.im = function () {
        this.S().wa(this.X(), "mousemove", this.jg).wa(this.X(), "mouseout", this.nU).wa(ps(this.ig().J()), "keydown", this.Km).wa(ps(this.ig().J()), "keyup", this.hE)
    };
    f.jg = function (b) {
        this.nh.x = b.offsetX;
        this.nh.y = b.offsetY
    };
    f.nU = function () {
        this.nh.x = NaN;
        this.nh.y = NaN
    };
    f.w9 = function (b) {
        b.preventDefault();
        b.stopPropagation();
        this.nh.x && this.nh.y && (this.X().dispatchEvent(rx), this.ga().tC(new vB), this.X().Ia())
    };
    f.Km = function (b) {
        var c = this.lo.TI || this.lo.UI;
        switch (!0) {
            case 90 == b.keyCode && b.shiftKey && b.ctrlKey:
            case 90 == b.keyCode && b.shiftKey && c:
            case 89 == b.keyCode && b.ctrlKey:
            case 89 == b.keyCode && c:
                var d = this.LD();
                d && dX(d);
                break;
            case 90 == b.keyCode && b.ctrlKey:
            case 90 == b.keyCode && c:
                (d = this.LD()) && eX(d);
                break;
            case 67 == b.keyCode && b.ctrlKey:
            case 67 == b.keyCode && c:
                (this.nl = this.ga().a) && this.Qe() && this.Qe().F[fX(this.Qe()).IB.name].Zj();
                break;
            case 86 == b.keyCode && b.ctrlKey:
            case 86 == b.keyCode && c:
                if (this.nl || this.Qe() &&
                    this.Qe().K[X(this.ca).aa()]) if (this.nh.x || this.nh.y) {
                    var c = this.nh.x, e = this.nh.y,
                        h = this.nl ? this.nl : this.Qe() ? this.Qe().K[X(this.ca).aa()] : null;
                    if ((b = this.X().Hm(c, e)) && h) {
                        var k = b.Ha, c = this.X().pa - h.Im() + c, l = e - k.top, e = Math.round(b.Qa().t(c)),
                            k = b.vb().qc(l), e = h.Io(this.X(), e);
                        if (!this.Qe() || this.Qe().K[X(this.ca).aa()]) if (this.Qe() && this.Qe().K[X(this.ca).aa()]) this.Qe().m = b, this.Qe().a.x = c, this.Qe().a.y = l, this.Qe().a.time = e, this.Qe().a.value = k, this.Qe().F[fX(this.Qe()).Iq.name].Zj(); else {
                            var h = [],
                                l = this.nl.Zs(), p, q, r;
                            "GhostFeed" == this.nl.Kb() && (l = this.nl.We);
                            for (p = 0; p < l.length; p++) 0 === p ? (d = c - b.Qa().x(l[p].time), q = k - l[p].value, h.push({
                                time: e,
                                value: k
                            })) : (r = b.Qa().x(l[p].time) + d, h.push({
                                time: this.nl.Io(this.X(), Math.round(b.Qa().t(r))),
                                value: l[p].value + q
                            }));
                            d = new (Fu[this.nl.Kb()]);
                            d.Xh(this.X().ga());
                            d.cb(this.nl.lb());
                            "GhostFeed" == this.nl.Kb() && (d.We = h);
                            d.uj(h);
                            d.Yr = b;
                            d.ck();
                            this.X().ga().Jg(d, b)
                        }
                    }
                }
                break;
            case 72 == b.keyCode && b.altKey:
            case 72 == b.keyCode && this.lo.qF:
                this.nh.x && this.nh.y && (d = new OA([{
                    time: this.X().Qa().t(this.nh.x +
                        this.X().pa), value: this.X().vb().qc(this.nh.y)
                }]), (q = AJ(this.ga(), d)) && d.Ab(q), d.ck(), this.ga().Jg(d));
                break;
            case 86 == b.keyCode && b.altKey:
            case 86 == b.keyCode && this.lo.qF:
                this.nh.x && this.nh.y && (this.X().W(), d = this.X().vb().qc(this.nh.y), q = this.X().Qa().t(this.nh.x + this.X().pa), q = vj(this.X().W(), q, this.X().ul), d = new SB([{
                    time: q,
                    value: d
                }]), (q = AJ(this.ga(), d)) && d.Ab(q), d.ck(), this.ga().Jg(d));
                break;
            case 91 == b.keyCode:
                this.lo.TI = !0;
                break;
            case 93 == b.keyCode:
                this.lo.UI = !0;
                break;
            case 18 == b.keyCode:
                this.lo.qF =
                    !0
        }
    };
    f.hE = function (b) {
        switch (!0) {
            case 91 == b.keyCode:
                this.lo.TI = !1;
                break;
            case 93 == b.keyCode:
                this.lo.UI = !1;
                break;
            case 18 == b.keyCode:
                this.lo.qF = !1
        }
    };
    f.nl = null;

    function gX(b, c, d, e) {
        this.Ff = b;
        this.fR = c;
        this.Uba = d;
        this.eR = e
    }

    gX.prototype.Kb = function () {
        return this.Ff
    };

    function hX(b) {
        Q.call(this);
        this.ca = b;
        this.sL = [];
        this.Za = !0;
        this.GC = 20
    }

    B(hX, Q);
    f = hX.prototype;
    f.Ba = function (b) {
        this.Za = b
    };
    f.lr = function () {
        return this.Za
    };
    f.ig = function () {
        return this.ca
    };
    f.X = function () {
        return X(this.ig())
    };
    f.ga = function () {
        return this.X().ga()
    };
    f.ae = function () {
        var b = this.X().aa();
        this.sL[b] || (this.sL[b] = new nh(this.GC));
        return this.sL[b]
    };
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };

    function iX(b, c, d) {
        c = null != c ? c : -1 < b.ae().aj();
        null == d && (d = b.ae(), d = d.aj() < d.ae().length() - 1);
        b.ig().zx.Ba(c);
        b.ig().xw.Ba(d)
    }

    function jX(b) {
        b.Ik = !0;
        b.S().wa(b.X(), ["indicatoradd", "indicatorupdate", "indicatorremove"], b.dU).wa(b.ga(), Du, b.wT)
    }

    f.subscribe = function () {
        this.Ik = !0;
        this.lr() && (this.S().C(this.X(), ["indicatoradd", "indicatorupdate", "indicatorremove"], this.dU).C(this.ga(), Du, this.wT), iX(this))
    };
    f.dU = function (b) {
        this.Ik && this.lr() && (this.ae().add(new gX(b.type, b.kb(), b.kb().YJ(), b.kb().lb())), iX(this, !0, !1))
    };
    f.wT = function (b) {
        this.Ik && this.lr() && (b = b.target.Ms, b.FN(!1), ~Ta(oA).indexOf(b.Uu) && (this.ae().add(new gX(b.Uu, b, b.YJ(), b.lb())), iX(this, !0, !1)))
    };

    function eX(b) {
        if (b.lr()) {
            var c = b.ae().dA();
            if (c) {
                var d = c.Kb(), e = c.fR, h = c.eR, c = c.Uba;
                b.Ik = !1;
                switch (d) {
                    case "indicatoradd":
                        b.X().xh(e);
                        break;
                    case "indicatorupdate":
                        b.X().xh(e);
                        e.cb(c);
                        b.X().Ni(e);
                        kX(b.ig());
                        break;
                    case "indicatorremove":
                        e.cb(h);
                        b.X().Ni(e);
                        kX(b.ig());
                        break;
                    case oA.QB:
                    case oA.RB:
                        b.ga().Me(e);
                        e.cb(c);
                        b.ga().Jg(e);
                        lX(b.ig());
                        break;
                    case oA.NH:
                        b.ga().Me(e);
                        e.cb(c);
                        b.ga().Jg(e);
                        lX(b.ig());
                        break;
                    case oA.Wo:
                        b.ga().Me(e)
                }
                b.Ik = !0;
                iX(b, -1 < b.ae().aj(), !0);
                b.X().yH()
            }
        }
    }

    function dX(b) {
        if (b.lr()) {
            var c = b.ae().next();
            if (c) {
                var d = c.Kb(), e = c.fR, c = c.eR;
                b.Ik = !1;
                switch (d) {
                    case "indicatoradd":
                        e.cb(c);
                        b.X().Ni(e);
                        kX(b.ig());
                        break;
                    case "indicatorupdate":
                        b.X().xh(e);
                        e.cb(c);
                        b.X().Ni(e);
                        kX(b.ig());
                        break;
                    case "indicatorremove":
                        b.X().xh(e);
                        break;
                    case oA.QB:
                    case oA.RB:
                        b.ga().Me(e);
                        e.cb(c);
                        b.ga().Jg(e);
                        lX(b.ig());
                        break;
                    case oA.NH:
                        b.ga().Me(e);
                        break;
                    case oA.Wo:
                        b.ga().Me(e), e.cb(c), b.ga().Jg(e), lX(b.ig())
                }
                b.Ik = !0;
                iX(b, !0);
                b.X().yH()
            }
        }
    };

    function mX(b, c, d) {
        Q.call(this);
        this.bd = b || "//freeserv.dukascopy.com/2.0/?path=common/timestamp";
        this.Jj = c || "jsonp";
        this.nw = d || {};
        this.mY = null
    }

    B(mX, Q);
    mX.prototype.load = function () {
        this.Vj || (this.Vj = new jQ, this.de = this.de || new PQ(this.bd, this.Jj), this.de.send(this.nw, v(this.eaa, this), v(this.daa, this)));
        return this.Vj
    };
    mX.prototype.eaa = function (b) {
        this.mY = b.timestamp;
        this.Vj.uc(!0)
    };
    mX.prototype.daa = function () {
        this.Vj.Ne(!1)
    };

    function nX(b, c, d) {
        oK.call(this, b.prototype.lc().Nb(), c || XJ(VJ, oX + "-Jh-Mh"), d);
        this.fe(b)
    }

    B(nX, oK);

    function pX(b, c) {
        lM.call(this, "a-Xg", !0, c);
        this.ca = b;
        this.w = {nO: 0, tO: 10, sO: 10}
    }

    B(pX, lM);
    f = pX.prototype;
    f.sM = [];
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        pX.P.ua.call(this, b);
        dk(this.J(), "a-fl-Xg");
        b = y("MSG_CHARTUI_PAN_DIALOG_PERIOD_SELECT", {}, "Period");
        var c = y("MSG_CHARTUI_PAN_DIALOG_TIME_REFERENCE_POINT", {}, "Time reference point"),
            d = y("MSG_CHARTUI_PAN_DIALOG_TIME_FRAME_LEGEND", {}, "Time frame"),
            e = y("MSG_CHARTUI_PAN_DIALOG_UNITS_BEFORE_REFERENCE_POINT", {}, "Units before reference point"),
            h = y("MSG_CHARTUI_PAN_DIALOG_UNITS_AFTER_REFERENCE_POINT", {}, "Units after reference point"),
            k = y("MSG_CHARTUI_PAN_DIALOG_TITLE", {}, "Select custom time frame");
        this.tf(k);
        k = this.M();
        k.append(this.Aa(), this.dd = k.u(D, "a-fl-Xg-gl-Y", k.u(te, null, b)), this.jd = k.u(D, "a-fl-Xg-C-reference-point-Y", k.u(te, null, c)), k.u(D, "a-fl-Xg-C-hl-Y", k.u(Le, null, d), this.gc = k.u(D, "a-fl-Xg-il-jl-Y", k.u(te, null, e), this.Rb = k.u(D, "a-fl-Xg-C-jl-Y")), this.sc = k.u(D, "a-fl-Xg-il-kl-Y", k.u(te, null, h), this.ob = k.u(D, "a-fl-Xg-C-kl-Y"))));
        this.Ya = new eN(null, this.M());
        this.Ya.T(this.Aa());
        this.Xb = new jP(b, this.Ya, gN.Ka(), this.M(), aN.Ka());
        La(bh, function (b) {
            this.Xb.bc(new zL(b.toString(), b, this.M()),
                !0)
        }, this);
        qX(this);
        this.Xb.V(this.ca.$J.call(this.ca, this.Xb.Sn().Em()));
        this.za = new hQ;
        this.F = new zN;
        this.F.V(0);
        this.g = new uI;
        this.g.setAttribute("size", 2);
        this.g.V(0);
        this.K = new zN;
        this.K.V(0);
        this.a = new uI;
        this.a.setAttribute("size", 2);
        this.a.V(0)
    };
    f.oa = function () {
        pX.P.oa.call(this);
        this.Xb.T(this.dd);
        this.za.T(this.jd);
        this.F.T(this.gc);
        this.g.T(this.gc);
        this.K.T(this.sc);
        this.a.T(this.sc);
        this.S().C(this.ca.GO, "resize", function () {
            this.F.Z(!0);
            this.K.Z(!0)
        }).C(this.Zi(), "click", this.I4).C(this, ZL, this.sh).C(this.ca.X(), LJ, this.vO).C(this.Xb, "action", this.QK).C(this.g, "change", this.NT).C(this.F, "change", this.NT).C(this.a, "change", this.KT).C(this.K, "change", this.KT)
    };
    f.aq = function () {
        qX(this);
        this.Xb.V(this.ca.$J.call(this.ca, this.Xb.Sn().Em()));
        pX.P.aq.call(this)
    };

    function qX(b) {
        E(b.sM, function (b) {
            this.Xb.removeItem(b, !0)
        }, b);
        b.sM = [];
        E(Ta(b.ca.uw.a), function (b) {
            b = new zL(b.Nb(), new JW(b.Al(), b.Kb(), new hd(b.ie(), b.ie()), b.ad(), b.$d()), this.M());
            this.sM.push(b);
            this.Xb.bc(b, !0)
        }, b)
    }

    f.NT = function (b) {
        if (!this.al) {
            b.stopPropagation();
            b.preventDefault();
            this.al = !0;
            var c = parseInt(b.currentTarget.G());
            b.currentTarget === this.F && (c = this.m - c);
            b = Math.max(c + parseInt(this.a.G()) - this.m, 0);
            c = Math.max(Math.min(c, this.m), 0);
            b = Math.max(parseInt(this.a.G()) - b, 0);
            this.g.V(c);
            this.F.V(this.m - c);
            this.a.V(b);
            this.K.V(b);
            rX(this, c, b);
            this.al = !1
        }
    };
    f.KT = function (b) {
        if (!this.al) {
            b.stopPropagation();
            b.preventDefault();
            this.al = !0;
            var c = parseInt(b.currentTarget.G());
            b = Math.max(c + parseInt(this.g.G()) - this.m, 0);
            c = Math.max(Math.min(c, this.m), 0);
            b = Math.max(parseInt(this.g.G()) - b, 0);
            this.g.V(b);
            this.F.V(this.m - b);
            this.a.V(c);
            this.K.V(c);
            rX(this, b, c);
            this.al = !1
        }
    };

    function rX(b, c, d) {
        b.La = void 0 === c ? b.La : c;
        b.Ea = void 0 === d ? b.Ea : d;
        c = b.Xb.G().W().Y() / 1E3;
        d = b.Xb.G().Fa();
        6 === d || 4 === d || 7 === d || 8 === d ? (Ts(b.Rb, ""), Ts(b.ob, "")) : (Ts(b.Rb, Xh(b.La * c)), Ts(b.ob, Xh(b.Ea * c)))
    }

    f.vO = function () {
        this.m = Math.floor(this.ca.X().je().width / 1);
        this.la && (this.F.Hg(this.m), this.K.Hg(this.m))
    };
    f.QK = function () {
        rX(this)
    };
    f.sh = function (b) {
        if ("ok" === b.key) {
            var c = this.ca.X(), d = this.Xb.G(), e = d.W().Y(), h = this.za.G();
            b = Cl(d.W(), c.W()) && 6 !== d.Fa() && 4 !== d.Fa() && 7 !== d.Fa() && 8 !== d.Fa();
            var k = c.Ec();
            this.w.nO = h.getTime();
            this.w.tO = this.g.G();
            this.w.sO = this.a.G();
            c.zh(d.Fa());
            c.wj(d.W(), k, h.getTime());
            b || (b = c.reload());
            sx(b, function () {
                var b = {}, k = 6E4 * c.Ic().Un().std_offset, q = 6E4 * h.getTimezoneOffset(),
                    r = vj(d.W(), h.getTime() - (k ? 0 : q));
                6 === d.Fa() || 4 === d.Fa() || 7 === d.Fa() || 8 === d.Fa() ? (c.Di(!1), c.vF(r), sx(c.mq(r - this.g.G() * e, r + this.a.G() *
                    e), v(this.tca, this, c, r), this)) : (b.referencePoint = h.getTime() - (k ? 0 : q), b.leftLimit = r - this.g.G() * e, b.rightLimit = r + this.a.G() * e, sX(this, b), Xt(c, qx, v(this.gX, this, b)), c.Di(!1), c.vF(r - c.Af() * e), c.mq(r - this.g.G() * e, r + this.a.G() * e))
            }, this)
        }
    };
    f.gX = function (b) {
        var c = this.ca.X(), d, e;
        c.mq(b.leftLimit, b.rightLimit);
        d = c.Qa().x(b.leftLimit);
        e = Math.floor(c.pa + c.je().width / 2);
        b = Math.floor((c.Qa().x(b.leftLimit) + c.Qa().x(b.rightLimit)) / 2);
        d -= Math.abs(e - b);
        c.Dd(d);
        c.resize()
    };
    f.tca = function (b, c) {
        var d = [], e = b.eb(), h = hA(e, c), k = +this.g.G(), l = +this.a.G();
        if (e.ta[h]) {
            var p = e.ta[h - k], e = e.ta[h + l];
            d.referencePoint = c;
            p && (d.leftLimit = (p.Bf() + p.$i()) / 2);
            e && (d.rightLimit = (e.Bf() + e.$i()) / 2);
            sX(this, d);
            b.pN(k + l);
            this.gX(d)
        }
    };

    function sX(b, c) {
        var d = b.ca.X(), e = d.W(), h = d.Hm(0, 0), k = Ra(Ta(c), function (b, c, d) {
            return d.indexOf(b) == c
        });
        b.ka && La(b.ka, function (b) {
            d.ga().Me(b)
        }, b);
        b.ka = {};
        E(k, function (b) {
            var c = !0;
            E(Ua(this.ka), function (d) {
                Math.abs(d - b) < e.Y() && (c = !1)
            });
            if (c) {
                var k = new SB;
                k.uj([{time: b, value: 1}]);
                d.ga().Jg(k, h);
                this.ka[b] = k
            }
        }, b)
    }

    f.I4 = function (b) {
        this.Z(!1);
        b.stopPropagation()
    };
    f.Z = function (b) {
        pX.P.Z.call(this, b);
        var c = this.ca.X();
        b = c.je().width;
        if (this.w.nO) b = new Date(this.w.nO); else {
            b = new Date(c.Qa().t(c.pa + b));
            var c = 6E4 * c.Ic().Un().std_offset, d = 6E4 * b.getTimezoneOffset();
            b = new Date(b.getTime() + d + c)
        }
        this.za.V(b);
        this.vO();
        this.a.V(this.w.sO);
        this.K.V(this.w.sO);
        this.g.V(this.w.tO);
        this.F.V(this.m - this.w.tO);
        this.vO()
    };

    function tX(b, c) {
        YH.call(this, c);
        this.ca = b
    }

    B(tX, YH);
    f = tX.prototype;
    f.N = function () {
        this.j || (this.j = {Ho: !0});
        return this.j
    };
    f.Yw = function (b) {
        this.N().Ho = b;
        this.la && O(this.K, this.N().Ho)
    };
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        var c = this.M(), d = y("MSG_CHART_SETTINGS_TIMEZONE", {}, "Time zone"),
            e = y("MSG_CHART_SETTINGS_FILTER_FLATS", {}, "Filter flats"),
            h = y("MSG_CHART_SETTINGS_DAY_START_TIME", {}, "Day start time"),
            k = y("MSG_CHART_SETTINGS_TABS", {}, "Tabs"),
            l = y("MSG_CHART_SETTINGS_RANDOM_COLOR_CAPTION", {}, "Drawing Objects Random Color");
        this.Da = b;
        c.append(this.Aa(), c.u(D, "a-b-cn-b-Hh-cn-Y", c.u(D, "a-b-cn-b-Hh-cn-Mh-X", c.u(D, "a-b-cn-b-Hh-cn-Mh-Y", c.u(te, null, d), this.ob = c.u(D, "a-b-cn-b-Hh-cn-Mh"))), c.u(D, "a-b-cn-b-Hh-cn-Mh-X",
            c.u(D, "a-b-cn-b-Hh-cn-Mh-Y", c.u(te, null, e), this.La = c.u(D, "a-b-cn-b-Hh-cn-Mh"))), c.u(D, "a-b-cn-b-Hh-cn-Mh-X", c.u(D, "a-b-cn-b-Hh-cn-Mh-Y", c.u(te, null, h), this.Ea = c.u(D, "a-b-cn-b-Hh-cn-Mh"))), this.K = c.u(D, "a-b-cn-b-Hh-cn-Mh-X", c.u(D, "a-b-cn-b-Hh-cn-Mh-Y", c.u(te, null, k), this.Xk = c.u(D, "a-b-cn-b-Hh-cn-Mh"))), c.u(D, "a-b-cn-b-Hh-cn-Mh-X", c.u(D, ["a-b-cn-b-Hh-cn-Mh-Y", "a-b-cn-b-Hh-cn-Mh-Y-ng"], this.ka = c.u(D, "a-b-cn-b-Hh-cn-Mh"), this.za = c.u(te, "a-b-cn-b-Hh-cn-fi", l)))));
        uX(this);
        vX(this);
        wX(this);
        xX(this);
        this.w =
            new yK(jK, this.M());
        this.w.yA(this.za);
        O(this.K, this.N().Ho)
    };
    f.oa = function () {
        tX.P.oa.call(this);
        this.F.T(this.ob);
        this.a.T(this.La);
        this.m.T(this.Ea);
        this.g.T(this.Xk);
        this.w.T(this.ka)
    };
    f.Ra = function () {
        this.F && this.F.Ra();
        this.a && this.a.Ra();
        this.m && this.m.Ra();
        this.g && this.g.Ra();
        this.w && this.w.Ra();
        tX.P.Ra.call(this)
    };

    function uX(b) {
        var c = y("MSG_CHART_SETTINGS_TIMEZONE_CAPTION", {}, "Select time zone"), d = new eN;
        d.T(b.Aa());
        b.F = new jP(c, d, gN.Ka(), b.M(), aN.Ka());
        b.F.Gb(c);
        E([[yX, zX], [AX, BX]], function (b) {
            this.F.bc(new lL(b[1], b[0], this.M()))
        }, b)
    }

    function vX(b) {
        var c = y("MSG_CHART_SETTINGS_FILTER_FLATS_CAPTION", {}, "Select flats filter"),
            d = y("MSG_CHART_SETTINGS_FILTER_FLATS_ALL", {}, "All"),
            e = y("MSG_CHART_SETTINGS_FILTER_FLATS_WEEKENDS", {}, "Weekends"),
            h = y("MSG_CHART_SETTINGS_FILTER_FLATS_DISABLE", {}, "Disable"), k = new eN;
        k.T(b.Aa());
        b.a = new jP(c, k, gN.Ka(), b.M(), aN.Ka());
        b.a.Gb(c);
        E([[3, d], [2, e], [1, h]], function (b) {
            this.a.bc(new lL(b[1], b[0], this.M()))
        }, b);
        b.a.V(3)
    }

    function wX(b) {
        var c = y("MSG_CHART_SETTINGS_DAY_START_TIME_CAPTION", {}, "Select day start time"),
            d = y("MSG_CHART_SETTINGS_DAY_START_TIME_EET", {}, "EET"),
            e = y("MSG_CHART_SETTINGS_DAY_START_TIME_UTC", {}, "UTC"), h = new eN;
        h.T(b.Aa());
        b.m = new jP(c, h, gN.Ka(), b.M(), aN.Ka());
        E([[0, d], [1, e]], function (b) {
            this.m.bc(new lL(b[1], b[0], this.M()))
        }, b);
        b.m.V(0)
    }

    function xX(b) {
        var c = y("MSG_CHART_SETTINGS_TABS_CAPTION", {}, "Select tabs position"),
            d = y("MSG_CHART_SETTINGS_TABS_TOP", {}, "Top"), e = y("MSG_CHART_SETTINGS_TABS_BOTTOM", {}, "Bottom"),
            h = y("MSG_CHART_SETTINGS_TABS_DISABLE", {}, "Disable"), k = new eN;
        k.T(b.Aa());
        b.g = new jP(c, k, gN.Ka(), b.M(), aN.Ka());
        E([[CX, d], [DX, e], [-1, h]], function (b) {
            this.g.bc(new lL(b[1], b[0], this.M()))
        }, b);
        b.g.V(CX)
    }

    f.wu = function () {
        var b = X(this.ca).Ic().Un();
        this.F.V(0 == b.std_offset ? yX : AX);
        this.ca.j.lq ? this.g.V(this.ca.Qb.Vl.G()) : this.g.V(-1);
        this.a.V(this.ca.X().Mn());
        this.m.V(this.ca.X().Fe() ? 0 : 1);
        this.w.Tb(this.ca.X().gA)
    };
    f.gg = function () {
        return {
            timezone: this.Ic(),
            filterFlats: this.bz(),
            dayStartTime: this.yD(),
            tabs: this.ft(),
            randomColors: this.PD()
        }
    };
    f.Ic = function () {
        return this.F.G()
    };
    f.bz = function () {
        return this.a.G()
    };
    f.yD = function () {
        return this.m.G()
    };
    f.PD = function () {
        return this.w.Cf()
    };
    f.ft = function () {
        return this.g.G()
    };

    function EX(b, c) {
        YH.call(this, c);
        this.ca = b
    }

    B(EX, YH);
    f = EX.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        var c = this.M(), d = y("MSG_CHART_SETTINGS_PERIOD_TAB_SESSION_LENGTH", {}, "Session length"),
            e = y("MSG_CHART_SETTINGS_PERIOD_TAB_BOX_SIZE", {}, "Box size"),
            h = y("MSG_CHART_SETTINGS_PERIOD_TAB_REVERSAL_AMOUNT", {}, "Reversal amount"),
            k = y("MSG_CHART_SETTINGS_PERIOD_TAB_LINE_AMOUNT", {}, "Lines");
        this.Da = b;
        c.append(this.Aa(), this.Ya = c.u(D, "a-b-cn-gl-Hh-cn-ej-X"), c.u(D, "a-b-cn-gl-Hh-cn-Y", c.u(D, ["a-b-cn-gl-Hh-cn-Mh-X", "a-b-cn-gl-Hh-cn-Mh-X-ng"], this.ka = c.u(D, "a-b-cn-gl-Hh-cn-Mh-Y", c.u(te, null, e), this.La =
            c.u(D, "a-b-cn-gl-Hh-cn-Mh")), this.Ea = c.u(D, "a-b-cn-gl-Hh-cn-Mh-Y", c.u(te, null, h), this.Rb = c.u(D, "a-b-cn-gl-Hh-cn-Mh")), this.za = c.u(D, "a-b-cn-gl-Hh-cn-Mh-Y", c.u(te, null, k), this.ob = c.u(D, "a-b-cn-gl-Hh-cn-Mh"))), c.u(D, "a-b-cn-gl-Hh-cn-Mh-X", c.u(D, "a-b-cn-gl-Hh-cn-Mh-Y", c.u(te, null, d), this.gc = c.u(D, "a-b-cn-gl-Hh-cn-Mh")))));
        FX(this);
        GX(this);
        HX(this);
        IX(this);
        JX(this)
    };
    f.oa = function () {
        EX.P.oa.call(this);
        this.g.T(this.Ya);
        this.K.T(this.gc);
        this.m.T(this.La);
        this.F.T(this.Rb);
        this.w.T(this.ob);
        this.S().C(this.g, "action", function (b) {
            var c = b.target.qa() instanceof SW, d = b.target.qa() instanceof UW, e = b.target.qa() instanceof TW;
            cI(this.g, function (b) {
                b.Hi(!1)
            });
            b.target.Hi(!0);
            this.a = b.target;
            this.K.V(b.target.qa().Al());
            this.m.V(b.target.qa().ie());
            O(this.ka, !1);
            O(this.Ea, !1);
            O(this.za, !1);
            if (d || c) O(this.Ea, !0), this.F.V(b.target.qa().ad());
            e && (O(this.za, !0), this.w.V(b.target.qa().$d()));
            c || e || (O(this.ka, !0), this.m.V(b.target.qa().ie()))
        })
    };
    f.Ra = function () {
        this.g && this.g.Ra();
        this.K && this.K.Ra();
        this.m && this.m.Ra();
        this.F && this.F.Ra();
        this.w && this.w.Ra();
        EX.P.Ra.call(this)
    };

    function JX(b) {
        var c = Ta(b.ca.uw.a), d = 0;
        b.g = b.g || new zK;
        b.g.me(!0);
        b.sc = c;
        E(c, function (b, c) {
            b.Kb() === X(this.ca).Fa() && (d = c);
            var k = new jL(KX(b), b);
            k.IA(!0);
            k.Hi(!1);
            this.g.Va(k, !0)
        }, b);
        b.g.nd(0).Hi(!0);
        b.a = b.g.nd(d);
        b.K.V(b.a.qa().Al());
        b.m.V(b.a.qa().ie());
        b.F.V(b.a.qa().ad());
        b.w.V(b.a.qa().$d())
    }

    function KX(b) {
        var c = 1 < b.ie() ? " Pips" : " Pip";
        return b instanceof UW ? b.Nb() + " (" + b.ie() + c + " x " + b.ad() + ")" : b instanceof SW ? b.Nb() + " (" + b.ad() + ")" : b instanceof TW ? b.$d() + " " + b.Nb() : b.Nb() + " (" + b.ie() + ")"
    }

    function FX(b) {
        var c = y("MSG_CHART_SETTINGS_PERIOD_TAB_SESSION_LENGTH_CAPTION", {}, "Select session length"), d = new eN;
        d.T(b.Aa());
        b.K = new jP(c, d, gN.Ka(), b.M(), aN.Ka());
        b.K.Gb(c);
        La(bX, function (b) {
            this.K.bc(new lL(b.toString(), b, this.M()))
        }, b);
        b.K.V(bX.N2);
        b.S().C(b.K, "action", function (b) {
            if (this.a) {
                var c = this.a.qa();
                b = b.target.G();
                c.Rh = b;
                this.a.Kc(KX(c))
            }
        })
    }

    function GX(b) {
        var c = y("MSG_CHART_SETTINGS_PERIOD_TAB_BOX_SIZE_CAPTION", {}, "Enter box size");
        b.m = new xP("number");
        b.m.setAttribute("title", c);
        b.m.setAttribute("min", "1");
        b.m.setAttribute("max", "10000");
        b.m.setAttribute("step", "1");
        b.m.V("5");
        b.S().C(b.m, "input", function () {
            if (this.a) {
                var b = this.a.qa();
                b.bi(this.m.G());
                this.a.Kc(KX(b))
            }
        })
    }

    function HX(b) {
        var c = y("MSG_CHART_SETTINGS_PERIOD_TAB_REVERSAL_AMOUNT_CAPTION", {}, "Enter reversal amount");
        b.F = new xP("number");
        b.F.setAttribute("title", c);
        b.F.setAttribute("min", "1");
        b.F.setAttribute("max", "50");
        b.F.setAttribute("step", "1");
        b.F.V("1");
        b.S().C(b.F, "input", function () {
            if (this.a) {
                var b = this.a.qa();
                b.fn(this.F.G());
                this.a.Kc(KX(b))
            }
        })
    }

    function IX(b) {
        var c = y("MSG_CHART_SETTINGS_PERIOD_TAB_LINE_AMOUNT_CAPTION", {}, "Enter lines number");
        b.w = new xP("number");
        b.w.setAttribute("title", c);
        b.w.setAttribute("min", "2");
        b.w.setAttribute("max", "10");
        b.w.setAttribute("step", "1");
        b.w.V("2");
        b.S().C(b.w, "input", function () {
            if (this.a) {
                var b = this.a.qa();
                b.Ao(this.w.G());
                this.a.Kc(KX(b))
            }
        })
    }

    f.wu = function () {
        LX(this)
    };

    function MX(b) {
        var c = [];
        cI(b.g, function (b) {
            b = b.qa();
            c.push({id: b.aa(), type: b.Kb(), length: b.Al().pf, size: b.ie(), XM: b.ad(), zL: b.$d()})
        });
        b.ca.uw.update(JSON.stringify(c))
    }

    function LX(b) {
        var c = 0;
        JX(b);
        MX(b);
        cI(b.g, function (b, d) {
            b.qa().Kb() === X(this.ca).Fa() && (c = d);
            b.Hi(!1)
        }, b);
        b.g.nd(c).Hi(!0);
        b.a = b.g.nd(c);
        var d = b.a.qa(), e = d instanceof SW, h = d instanceof TW;
        O(b.Ea, d instanceof UW || e);
        O(b.za, h);
        O(b.ka, !e && !h)
    }

    f.gg = function () {
        return {list: this.sc}
    };
    f.ad = function () {
        return +this.F.G()
    };
    f.$d = function () {
        return +this.w.G()
    };

    function NX(b, c, d, e) {
        lM.call(this, void 0, !0, e);
        this.ca = b;
        this.w = null != c ? c : !0;
        this.F = null != d ? d : !0;
        this.K = !0;
        b = new mM(this.M());
        b.set("ok", OX);
        b.set($L, PX);
        YL(this, b);
        QX(this)
    }

    B(NX, lM);
    var RX = y("MSG_CHARTUI_SETTINGS_DIALOG_COMMON_TITLE", {}, "Chart settings"),
        SX = y("MSG_CHARTUI_SETTINGS_DIALOG_CHART_TITLE", {}, "Chart settings"),
        TX = y("MSG_CHARTUI_SETTINGS_DIALOG_PERIOD_TITLE", {}, "Period settings"),
        OX = y("MSG_CHART_SETTINGS_APPLY_BUTTON", {}, "Apply"),
        PX = y("MSG_CHART_SETTINGS_CANCEL_BUTTON", {}, "Cancel"), UX = {Fu: "chart", ys: "period"}, VX = [];
    VX[UX.Fu] = y("MSG_CHART_SETTING_TABS_CHART", {}, "Chart");
    VX[UX.ys] = y("MSG_CHART_SETTING_TABS_PERIOD", {}, "Period");

    function QX(b) {
        b.w && b.F ? b.tf(RX) : b.w ? b.tf(SX) : b.F && b.tf(TX)
    }

    function WX(b) {
        var c = {};
        c[UX.Fu] = b.g;
        c[UX.ys] = b.m;
        La(b.re, function (b, d) {
            b.gm.Ra();
            b.Ob().Ra();
            var k = this.a;
            DI(k);
            if (k.re[b.getName()]) delete k.re[b.getName()]; else throw Error("Can't remove not existing tab");
            k.la && (EI(k), FI(k));
            k.dispatchEvent("remove");
            c[d].Ra();
            delete this.re[d];
            delete c[d]
        }, b);
        La(UX, function (b) {
            XX(this, b) && (this.re[b] = this.a.As(VX[b], b), b == UX.Fu && (this.g = new tX(this.ca, this.M()), this.g.Yw(this.K), c[b] = this.g), b == UX.ys && (this.m = new EX(this.ca, this.M()), c[b] = this.m), c[b].T(this.re[b].Ob().J()),
                c[b].wu())
        }, b);
        var d = Ua(b.re);
        b.$m(d[0]);
        b.la && (O(b.a.cO, 1 < d.length), O(b.a.dO, 1 < d.length), ht(b.a.bO, "top", 1 < d.length ? "40px" : 0))
    }

    function XX(b, c) {
        return c === UX.Fu ? b.w : c === UX.ys ? b.F : !1
    }

    f = NX.prototype;
    f.isEnabled = function () {
        return this.w || this.F
    };
    f.Ba = function (b) {
        this.F = this.w = b;
        QX(this);
        this.la && (WX(this), this.im(), b && this.bf())
    };
    f.ae = function () {
        return this.yc
    };
    f.bf = function () {
        this.S().C(this.Zi(), "click", this.dR).C(this, ZL, this.WT)
    };
    f.im = function () {
        this.S().wa(this.Zi(), "click", this.dR).wa(this, ZL, this.WT)
    };
    f.dR = function (b) {
        this.Z(!1);
        b.stopPropagation()
    };
    f.WT = function (b) {
        "ok" === b.key && (this.m && MX(this.m), this.dispatchEvent("change"))
    };
    f.u = function () {
        NX.P.u.call(this);
        this.a = new CI;
        this.re = [];
        La(UX, function (b) {
            XX(this, b) && (this.re[b] = this.a.As(VX[b], b))
        }, this);
        this.g = new tX(this.ca, this.M());
        this.g.Yw(this.K);
        this.m = new EX(this.ca, this.M())
    };
    f.oa = function () {
        NX.P.oa.call(this);
        var b = Ua(this.re);
        K.add(QL(this), "a-b-cn-Xg");
        K.add(this.Zi(), "a-b-cn-Xg");
        this.$m(b[0]);
        II(this.a, Sb.HB);
        JI(this.a, Tb.HB);
        this.a.T(this.Aa());
        XX(this, UX.Fu) && this.g.T(this.re[UX.Fu].Ob().J());
        XX(this, UX.ys) && this.m.T(this.re[UX.ys].Ob().J());
        O(this.a.cO, 1 < b.length);
        O(this.a.dO, 1 < b.length);
        ht(this.a.bO, "top", 1 < b.length ? "40px" : 0);
        this.im();
        (this.w || this.F) && this.bf()
    };
    f.$m = function (b) {
        XX(this, b) && this.a.$m(this.re[b])
    };
    f.Yw = function (b) {
        this.K = b;
        this.g && this.g.Yw(this.K)
    };
    f.wu = function () {
        this.Z(!0);
        this.g && this.g.la && this.g.wu();
        this.m && this.m.la && this.m.wu()
    };
    f.gg = function () {
        return {chart: this.g.gg(), period: this.m.gg()}
    };
    f.Ic = function () {
        return this.g.Ic()
    };
    f.bz = function () {
        return this.g.bz()
    };
    f.yD = function () {
        return this.g.yD()
    };
    f.ft = function () {
        return this.g.ft()
    };
    f.PD = function () {
        return this.g.PD()
    };

    function YX(b) {
        YH.call(this, b);
        this.xf = {}
    }

    B(YX, YH);
    var ZX = y("MSG_SOCIAL_SHARING_FACEBOOK_TITLE", {}, "Share on Facebook"),
        $X = y("MSG_SOCIAL_SHARING_TWITTER_TITLE", {}, "Share on Twitter"),
        aY = y("MSG_SOCIAL_SHARING_LINKEDIN_TITLE", {}, "Share on LinkedIn"),
        bY = y("MSG_SOCIAL_SHARING_VK_TITLE", {}, "Share on VK"),
        cY = y("MSG_SOCIAL_SHARING_WEIBO_TITLE", {}, "Share on Weibo"), dY = {
            Uha: {
                enabled: !0,
                xz: "href",
                Nu: {
                    target: "_blank",
                    id: "facebook",
                    title: ZX,
                    "class": "Qm-Em-vg",
                    href: "http://www.facebook.com/sharer.php?u="
                },
                title: !1
            },
            bla: {
                enabled: !0, xz: "href", Nu: {
                    target: "_blank",
                    id: "twitter", title: $X, "class": "zf-Em-vg", href: "https://twitter.com/share?url="
                }, title: !1
            },
            Hia: {
                enabled: !0,
                xz: "href",
                Nu: {
                    target: "_blank",
                    id: "linkedin",
                    title: aY,
                    "class": "kd-Em-vg",
                    href: "http://www.linkedin.com/shareArticle?mini=true&url="
                },
                title: !1
            },
            jla: {
                enabled: !0,
                xz: "href",
                Nu: {target: "_blank", id: "vk", title: bY, "class": "Rm-Em-vg", href: "https://new.vk.com/share.php?url="},
                title: !1
            },
            rla: {
                enabled: !0,
                xz: "href",
                Nu: {
                    target: "_blank",
                    id: "weibo",
                    title: cY,
                    "class": "Sm-Em-vg",
                    href: "http://service.weibo.com/share/share.php?url="
                },
                title: !0
            }
        };
    YX.prototype.u = function () {
        this.ua(this.M().u(D))
    };
    YX.prototype.ua = function (b) {
        this.Da = b;
        var c = this.M();
        La(dY, function (d, e) {
            d.enabled && c.append(b, this.xf[e] = c.u(Ud, d.Nu))
        }, this)
    };
    YX.prototype.oa = function () {
        YX.P.oa.call(this);
        La(this.xf, function (b) {
            this.S().C(b, "click", function (b) {
                Va(b.target.href, {width: 600, height: 600});
                b.preventDefault()
            })
        }, this)
    };
    YX.prototype.zA = function (b) {
        La(this.xf, function (c, d) {
            c.setAttribute(dY[d].xz, dY[d].Nu.href + encodeURIComponent(b) + (dY[d].title ? "&title=Chart layout" : ""))
        }, this)
    };

    function eY(b, c, d) {
        lM.call(this, "a-b-Fi-Om-Xg", !0, d);
        this.ca = b;
        this.bd = c;
        YL(this, new KL)
    }

    B(eY, lM);
    var fY = y("MSG_SOCIAL_SHARING_DIALOG_TITLE", {}, "Share workspace");
    f = eY.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        eY.P.ua.call(this, b);
        b = this.M();
        var c = y("MSG_SOCIAL_SHARING_INITIALIZATION", {}, "Generating link..."),
            d = y("MSG_SOCIAL_SHARING_ERROR", {}, "Error while link generation"),
            e = y("MSG_SOCIAL_SHARING_LINK_TITLE", {}, "Link"),
            h = y("MSG_SOCIAL_SHARING_COPY_TO_CLIPBOARD", {}, "Copy to clipboard");
        b.append(this.Aa(), this.qe = b.u(D, "a-b-Fi-Om-Xg-v-X", b.u(Fe, null, c)), this.Vi = b.u(D, "a-b-Fi-Om-Xg-xl-X", b.u(Fe, null, d)), this.m = b.u(D, "a-b-Fi-Om-Xg-Hg-X", b.u(te, "a-b-Fi-Om-Xg-fi", e), b.u(D, "a-b-Fi-Om-Xg-mh-Y",
            this.ka = b.u(D, "a-b-Fi-Om-Xg-mh-X"), this.K = b.u(D, "a-b-Fi-Om-Xg-Pm-vg-X"))), this.g = b.u(D, "a-b-Fi-Om-Xg-Fi-Zg-X"));
        O(this.qe, !0);
        O(this.Vi, !1);
        O(this.m, !1);
        O(this.g, !1);
        this.F = new YX;
        this.a = new xP(zP, null, null, b);
        this.w = new uL(h)
    };
    f.oa = function () {
        eY.P.oa.call(this);
        this.tf(fY);
        this.a.T(this.ka);
        this.w.T(this.K);
        this.F.T(this.g);
        this.S().C(this.w, "action", this.c9)
    };
    f.zA = function (b) {
        this.a.V(b);
        this.F.zA(b);
        O(this.qe, !1);
        O(this.Vi, !1);
        O(this.m, !0);
        O(this.g, !0);
        this.a.focus();
        this.a.Zc().setSelectionRange(0, this.a.G().length)
    };
    f.Z = function (b) {
        eY.P.Z.call(this, b);
        gY(this.ca, this.J());
        gY(this.ca, this.Zi());
        O(this.qe, !0);
        O(this.Vi, !1);
        O(this.m, !1);
        O(this.g, !1)
    };
    f.bn = function (b) {
        b && (O(this.qe, !1), O(this.Vi, !0), O(this.m, !1), O(this.g, !1))
    };
    f.c9 = function () {
        this.a.focus();
        this.a.Zc().setSelectionRange(0, this.a.G().length);
        document.execCommand && document.execCommand("copy")
    };

    function hY(b, c) {
        eY.call(this, b, c)
    }

    B(hY, eY);
    var iY = y("MSG_SOCIAL_SHARING_DIALOG_TITLE", {}, "Share snapshot");
    hY.prototype.oa = function () {
        hY.P.oa.call(this);
        this.tf(iY)
    };

    function jY(b, c) {
        lM.call(this, "a-Lk-Xg", !0, c);
        this.ca = b;
        var d = y("MSG_CHARTUI_WORKSPACE_DIALOG_TITLE", {}, "Import JForex workspace");
        this.tf(d);
        YL(this, JL(new KL, ML, !0, !0))
    }

    B(jY, lM);
    f = jY.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        jY.P.ua.call(this, b);
        b = this.M();
        b.append(this.Aa(), this.Nv = b.u(D, "a-Lk-Xg-mj-wm-xm", "Drop Workspace.xml here\u2026"));
        this.Ct = new zK(UJ, PJ(OJ, "a-Lk-Xg-b-Jh-Y"), b);
        this.Ct.Ei(!1);
        this.Ct.WB = !0;
        this.Va(this.Ct, !0)
    };
    f.oa = function () {
        jY.P.oa.call(this);
        this.S().C(this, ZL, this.sh).C(this.Ct, "action", this.b9)
    };
    f.b9 = function (b) {
        this.ca.X().cb(Ig(b.target.qa()));
        this.Z(!1)
    };
    f.sh = function () {
    };
    f.Z = function (b) {
        jY.P.Z.call(this, b)
    };

    function kY(b, c) {
        b.jA("a-Lk-Xg-ym-mj");
        b.Ct.me(!0);
        E(c, b.A3, b)
    }

    f.r4 = XJ(VJ, "a-Lk-Xg-pi");
    f.A3 = function (b) {
        var c = b.options, c = new oK(c.instrument + ", " + Al[c.period] + ", " + c.offerSide, this.r4);
        c.fe(b);
        this.Ct.Va(c, !0)
    };

    function lY(b, c, d, e) {
        lM.call(this, "a-b-Lk-Mk-Am-Xg", !0, e);
        this.ca = b;
        this.bd = c;
        this.tg = d || QW.pn;
        this.w = [];
        this.ug = new mY(this.ca.Ae.yo, this.bd, this.tg);
        this.a = new lM("a-b-Lk-Mk-Am-Xg-Nm-tj");
        this.a.la || this.a.T(this.ca.Aa());
        this.a.tf(nY);
        ht(this.a.Zi(), {"z-index": 1051});
        ht(QL(this.a), {"z-index": 1052});
        YL(this.a, kM());
        YL(this, JL(JL(new KL, LL, !0, !0), ML, !0, !0))
    }

    B(lY, lM);
    var nY = y("MSG_CHART_WORKSPACE_DIALOG_SAME_TITLE", {}, "Save chart workspace");
    f = lY.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        lY.P.ua.call(this, b);
        b = this.M();
        var c = y("MSG_ENTER_WORKSPACE_TITLE", {}, "Enter your workspace name"),
            d = y("MSG_LOADING_WORKSPACES_ERROR", {}, "Error while initialization workspaces list"),
            e = y("MSG_WORKSPACE_INITIALIZATION", {}, "Initialization ...");
        b.append(this.Aa(), this.qe = b.u(D, "a-b-Lk-Mk-Am-Xg-v-X", b.u(Fe, null, e)), this.Vi = b.u(D, "a-b-Lk-Mk-Am-Xg-xl-X", b.u(Fe, null, d)), this.m = b.u(D, "a-b-Lk-Mk-Am-Xg-Hg-X", b.u(te, "a-b-Lk-Mk-Am-Xg-fi", c), this.ka = b.u(D, "a-b-Lk-Mk-Am-Xg-mh-X")));
        O(this.qe,
            !0);
        O(this.Vi, !1);
        O(this.m, !1);
        this.g = new xP(zP, this.ca.yv() ? this.ca.yv() : "Workspace", null, b)
    };
    f.oa = function () {
        lY.P.oa.call(this);
        var b = y("MSG_CHARTUI_WORKSPACE_DIALOG_TITLE_EXPORT", {}, "Save chart workspace");
        this.tf(b);
        this.g.T(this.ka);
        this.K = this.F = !1;
        this.w = [];
        this.ug.load();
        this.S().C(this.ug, oY, this.b5).C(this.ug, pY, this.gR).C(this, ZL, this.sh)
    };
    f.b5 = function (b) {
        !1 === b.target.gz().result ? this.gR() : (this.w = this.ug.gz(), O(this.qe, !1), O(this.Vi, !1), O(this.m, !0))
    };
    f.gR = function () {
        this.w = [];
        this.F = !0;
        O(this.qe, !1);
        O(this.Vi, !0);
        O(this.m, !1)
    };
    f.sh = function (b) {
        if (this.ca.Ae.Nl() && "ok" === b.key) if (b = Ra(this.w, function (b) {
            return b.title === this.g.G()
        }, this), ki(b)) this.save(); else {
            b = b[0];
            var c = this;
            setTimeout(function () {
                c.Z(!0)
            }, 1);
            this.a.la || this.a.T(this.ca.Aa());
            this.S().Qf(this.a, ZL, v(this.z$, this, b));
            NL(this.a, Dq("There is already a workspace with the same name. Update workspace?"));
            this.a.Z(!0)
        }
    };
    f.z$ = function (b, c) {
        this.ca.Ae.Nl() && ("yes" !== c.key ? this.Z(!0) : (this.Z(!1), this.save(b.id, this.g.G(), b.version, b.privacy_level)))
    };
    f.save = function (b, c, d, e) {
        var h = void 0 === b ? null : b;
        b = void 0 === c || null === c ? this.g.G() : c;
        d = void 0 === d ? null : d;
        var k = void 0 === e ? 0 : e;
        this.K = !0;
        e = y("MSG_WORKSPACE_DB_SAVING", {}, "Saving chart workspace ...");
        c = y("MSG_WORKSPACE_DB_UPDATING", {}, "Updating chart workspace ...");
        b = {
            id: h, privacyLevel: k, format: "0.2.0", title: b, version: d, description: null, options: {
                instrument: X(this.ca).ma().aa(),
                offerSide: X(this.ca).Db(),
                period: X(this.ca).W().getName(),
                startTime: X(this.ca).Qa().t(X(this.ca).pa),
                endTime: X(this.ca).Qa().t(X(this.ca).pa +
                    X(this.ca).je().width)
            }, data: JSON.parse(this.ca.lb())
        };
        this.Ua || (this.Ua = new GH(X(this.ca)), this.Ua.setPosition("righttop"));
        this.Ua.clear();
        this.Ua.Nk("rgba(97,97,97,.9)");
        HH(this.Ua, 1E6);
        this.Ua.Rk(h ? c : e);
        JH(this.Ua);
        bz(az(this.$M(Ig(b)), function () {
            var b = y("MSG_WORKSPACE_SUCCESSFULLY_SAVED", {}, "Workspace successfully saved"),
                c = y("MSG_WORKSPACE_SUCCESSFULLY_UPDATED", {}, "Workspace successfully updated");
            qY = {};
            HH(this.Ua, 3E3);
            this.Ua.Nk("#6BA583");
            this.Ua.clear();
            this.Ua.Rk(h ? c : b);
            JH(this.Ua);
            this.K =
                !1
        }, this), function (b) {
            HH(this.Ua, 3E3);
            this.Ua.Nk("#D75442");
            this.Ua.clear();
            this.Ua.Rk(b);
            JH(this.Ua)
        }, this);
        this.F = !0
    };
    f.$M = function (b) {
        var c = new jQ, d = new aF, e = new Ka(this.bd);
        wr(e, "path", "persistence/saveXD");
        wr(e, "session", this.ca.Ae.yo);
        wr(e, "type", "workspace");
        wr(e, "authType", this.tg);
        b = {chart: b};
        Qt(d, "complete", function (b) {
            d.co() ? b.currentTarget.Ym.result.error ? c.Ne(b.currentTarget.Ym.result.error) : c.uc(b.currentTarget.Ym.result) : c.Ne("Communication error");
            d.reset()
        });
        d.cs(e.toString(), "POST", b);
        return c
    };
    f.Z = function (b) {
        b && this.K || (lY.P.Z.call(this, b), this.g.la && (this.ca.yv() ? this.g.V(this.ca.yv()) : this.g.G() || this.g.V("Workspace"), this.g.focus(), this.g.Zc().setSelectionRange(0, this.g.G().length)))
    };

    function rY(b, c) {
        lM.call(this, "a-b-Lk-mj-zm-Xg", !0, c);
        this.ca = b;
        var d = y("MSG_IMPORT_DIALOG_BROWSE", {}, "Browse"), e = new mM(this.M());
        e.set("continue", d, !1, !1, !0);
        e.set($L, bM);
        YL(this, e);
        this.gr = null
    }

    B(rY, lM);

    function sY(b) {
        b.gr && b.gr.la && b.gr.J().remove();
        b.gr = new xP("file");
        b.gr.tc("Hm");
        b.gr.T(b.Aa())
    }

    f = rY.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        rY.P.ua.call(this, b);
        sY(this);
        b = this.M();
        b.append(this.Aa(), this.Nv = b.u(D, "a-b-Lk-mj-zm-Xg-mj-wm-xm", "Drop workspace.json here\u2026"), this.zr = b.u(D, "a-b-Lk-mj-zm-Xg-mj-Bm-xl"));
        O(this.zr, !1)
    };
    f.oa = function () {
        rY.P.oa.call(this);
        var b = y("MSG_CHARTUI_WORKSPACE_DIALOG_TITLE", {}, "Load chart workspace");
        this.tf(b);
        this.S().C(this, ZL, this.sh)
    };
    f.sh = function (b) {
        Ts(this.zr, "");
        O(this.zr, !1);
        "continue" === b.key && (b = document.createEvent("MouseEvent"), b.initEvent("click", !0, !0), this.gr.Zc().dispatchEvent(b))
    };
    f.Z = function (b) {
        rY.P.Z.call(this, b)
    };
    f.bn = function (b) {
        var c = y("MSG_JSON_ERROR", {}, "Invalid file type or corrupted .json file");
        b || O(this.zr, b);
        Ts(this.zr, c);
        O(this.zr, b)
    };

    function tY(b, c) {
        YH.call(this, c);
        this.o = b
    }

    B(tY, YH);
    f = tY.prototype;
    f.If = function (b) {
        this.o = b;
        this.ay()
    };
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        this.Da = b;
        dk(b, "a-b-N-b-h-Xk");
        var c = this.M();
        c.append(b, this.vq = c.u(Fe, "a-b-N-b-h-Xk-L"), this.g = uY("a-ib-Sj"), this.a = uY("a-ib-Tj"))
    };
    f.oa = function () {
        tY.P.oa.call(this);
        vY(this);
        this.S().C(this.g, "click", this.wK, !0).C(this.a, "click", this.rK, !0);
        this.ay()
    };
    f.ay = function () {
        this.S().C(this.o, "mousedown", function (b) {
            if (b.target === this.g || b.target === this.a) b.stopPropagation(), b.preventDefault();
            return !1
        }, !0).C(this.o.ga(), "objectpick", function (b) {
            var c = WA(this.o.ga(), b.target);
            this.Jw(b.target);
            b = c.Qh;
            this.la ? (this.detach(), this.M().append(b, this.J()), vY(this)) : this.T(b)
        }).C(this.o.ga(), "objectunpick", function () {
            this.detach()
        })
    };
    f.detach = function () {
        this.M().removeNode(this.J())
    };
    f.Ep = function () {
        return this.xd
    };
    f.Jw = function (b) {
        this.xd = b;
        vY(this)
    };

    function vY(b) {
        b.xd && b.la && (ht(b.vq, "color", b.xd.Jb()), b.M().ci(b.vq, b.xd.toString()))
    }

    f.wK = function (b) {
        b.stopPropagation();
        b.preventDefault();
        this.dispatchEvent("edit")
    };
    f.rK = function (b) {
        b.stopPropagation();
        b.preventDefault();
        this.dispatchEvent("delete")
    };

    function wY(b, c) {
        Q.call(this);
        this.ca = b;
        this.bd = c;
        this.Za = !1;
        this.Ot = null
    }

    B(wY, Q);
    var xY = y("MSG_SHARING_LOGIN_HEADER", {}, "Log in to share chart workspace");
    f = wY.prototype;
    f.HD = function () {
        return xY
    };
    f.Ba = function (b) {
        this.Za = b
    };
    f.isEnabled = function () {
        return this.Za
    };
    f.fk = function (b) {
        this.bd = b
    };
    f.tg = QW.pn;
    f.Ci = function (b) {
        this.tg = b
    };
    f.Yy = function () {
        return this.tg
    };

    function yY(b) {
        if (b.isEnabled() && b.ca.Ae.Nl()) {
            var c = X(b.ca).ma().getName() + ", ",
                c = c + (Cl(X(b.ca).W(), bl) ? "1T, " : X(b.ca).W().lg + ug(X(b.ca).W().xc()) + ", "),
                c = c + (X(b.ca).Db() + ", " + (new Date).toLocaleString().replace(",", "")), d = {
                    id: null,
                    privacyLevel: 0,
                    format: "0.2.0",
                    title: c,
                    version: null,
                    description: null,
                    options: {
                        instrument: X(b.ca).ma().aa(),
                        offerSide: X(b.ca).Db(),
                        period: X(b.ca).W().getName(),
                        startTime: X(b.ca).Qa().t(X(b.ca).pa),
                        endTime: X(b.ca).Qa().t(X(b.ca).pa + X(b.ca).je().width)
                    },
                    data: JSON.parse(b.ca.lb())
                };
            setTimeout(function () {
                bz(az(b.$M(Ig(d)), function (c) {
                    b.Ot = new Ka(b.bd);
                    wr(b.Ot, "path", "chart/workspace");
                    wr(b.Ot, "token", c[0].hash + c[0].id);
                    b.Ot && (b.Wk.zA(b.Ot.toString()), b.Ot = null)
                }, b), function () {
                    b.Ot = null;
                    b.Wk.bn(!0)
                }, b)
            }, 1)
        }
    }

    f.$M = function (b) {
        var c = new jQ, d = new aF, e = new Ka(this.bd);
        lr(e, null);
        wr(e, "path", "persistence/saveXD");
        wr(e, "session", this.ca.Ae.yo);
        wr(e, "type", "workspace");
        wr(e, "authType", this.Yy());
        b = {chart: b};
        Qt(d, "complete", function (b) {
            d.co() ? b.currentTarget.Ym.result.error ? c.Ne(b.currentTarget.Ym.result.error) : c.uc(b.currentTarget.Ym.result) : c.Ne("Communication error")
        });
        d.cs(e.toString(), "POST", b);
        return c
    };

    function zY(b, c, d) {
        Q.call(this);
        this.bd = c;
        this.a = d;
        this.rl = new hY(b);
        this.rl.Z(!0)
    }

    B(zY, Q);

    function AY(b) {
        var c = new aF, d = new Ka(b.bd);
        lr(d, null);
        wr(d, "path", "persistence/saveSnapshot");
        var e = {img: b.a};
        Qt(c, "complete", function (b) {
            if (c.co()) if (b = b.currentTarget.Ym.result, !b.success && b.message) console.error(b.message), this.rl.Z(!1); else if (b.success) {
                var d = new Ka(this.bd);
                wr(d, "path", "chart/snapshot");
                wr(d, "id", b.id);
                this.rl.zA(d.toString())
            } else console.error("saveSnapshot: Something went wrong!"), this.rl.Z(!1); else this.rl.Z(!1), console.error("ShareSnapshot saveSnapshot method: Communication error",
                b)
        }.bind(b));
        c.cs(d.toString(), "POST", e)
    };

    function BY(b, c) {
        YH.call(this, c);
        this.yc = sF("chart.tab-bar.position");
        this.ca = b;
        this.Ji = {};
        this.gH = {};
        this.Afa = "tab";
        this.kY = 0;
        this.pC = {};
        this.oj = CX;
        this.yc && this.yc.get("position") ? this.setPosition(this.yc.get("position")) : this.yc && this.yc.set("position", CX);
        this.as = 1;
        this.jX = 1.1;
        this.Pa = {};
        this.sm = {};
        this.$aa = 5;
        this.Vaa = !1
    }

    B(BY, YH);
    var CY = y("MSG_MAX_TABS", {}, "You can not open more than 5 tabs"), CX = "top", DX = "bottom",
        DY = y("MSG_TOP_POSITION", {}, "Top"), EY = y("MSG_BOTTOM_POSITION", {}, "Bottom");

    function FY(b, c) {
        (void 0 === c ? 0 : c) || b.kY++;
        return b.Afa + b.kY
    }

    f = BY.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        this.Da = b;
        var c = this.M();
        K.enable(b, "a-b-Dl-Y", !0);
        c.append(b, this.gO = c.u(D, "a-b-Dl-Sl-Sg", this.Xk = c.u(D, "a-b-Dl-Sl"), this.C3 = c.u(D, ["a-b-Dl-Hh-Y", "a-b-Dl-Tl"], c.u(D, "a-b-Dl-Hh-Y-jl"), c.u(D, "a-b-Dl-Hh", "+"))), this.aN = c.u(D, "a-b-Dl-Kk-Y", this.hX = c.u(Le, ["a-b-Dl-Kk-db", "mg-ng-og", "a-ib", "a-ib-Qg-db"]), this.iX = c.u(Le, ["a-b-Dl-Kk-eb", "mg-ng-og", "a-ib", "a-ib-Qg-eb"])), this.qW = c.u(D, "a-b-Dl-Ul-Y"));
        La(this.Ji, function (b) {
            c.append(this.Xk, b)
        }, this);
        this.Vk(Ua(this.Ji)[0]);
        O(this.aN, !1);
        O(this.qW, !1)
    };
    f.oa = function () {
        BY.P.oa.call(this);
        var b = y("MSG_POSITION_SELECT", {}, "Select position");
        this.rW = new eN(null, this.M());
        this.rW.T(this.ca.Aa());
        this.Vl = new pP(uY("a-ib-Sj"), this.rW);
        this.Vl.Zp.a = 13;
        this.Vl.Gb(b);
        this.Vl.T(this.qW);
        GY(this);
        this.S().C(this.C3, "click", this.I8).C(this.Vl, "action", this.R8).C(window, "resize", this.jy).C(this.hX, ["mousedown", "touchstart"], this.O$).C(this.hX, ["mouseup", "mouseout", "touchend"], this.DU).C(this.iX, ["mousedown", "touchstart"], this.P$).C(this.iX, ["mouseup", "mouseout",
            "touchend"], this.FU).C(this.gO, "touchmove", function (b) {
            if (this.fO) {
                var d = b.clientX - this.Rr;
                window.TouchEvent && b.Pe() instanceof TouchEvent && Math.abs(d) < Math.abs(b.clientY - this.Ft) && (this.fO = !1);
                !1 !== b.cancelable && (b.preventDefault(), 0 < d ? HY(this, d) : IY(this, -d), this.Rr = b.clientX, this.Ft = b.clientY)
            }
        }).C(this.gO, "touchstart", function (b) {
            this.fO = !0;
            this.Rr = b.clientX;
            this.Ft = b.clientY
        }).C(this.gO, "touchend", function () {
            this.fO = !1;
            this.Ft = this.Rr = null
        });
        JY(this)
    };
    f.O$ = function (b) {
        b.stopPropagation();
        b.preventDefault();
        this.as = 1;
        this.Uaa = setInterval(function (b) {
            HY(b, b.as);
            b.as *= b.jX
        }, 20, this)
    };

    function HY(b, c) {
        var d = xG(b.Xk, "margin");
        d.left + c >= b.Jr ? (b.DU(), ht(b.Xk, "margin-left", b.Jr + "px")) : ht(b.Xk, "margin-left", d.left + c + "px")
    }

    f.DU = function () {
        clearInterval(this.Uaa)
    };
    f.P$ = function (b) {
        b.stopPropagation();
        b.preventDefault();
        0 == this.Ko && this.jy();
        this.as = 1;
        this.pca = setInterval(function (b) {
            IY(b, b.as);
            b.as *= b.jX
        }, 20, this)
    };

    function IY(b, c) {
        var d = xG(b.Xk, "margin"), e = PF(b.J()).width - b.fH - (b.Ko - b.pu);
        e >= d.left - c ? (b.FU(), e <= b.Jr && ht(b.Xk, "margin-left", e + "px")) : ht(b.Xk, "margin-left", d.left - c + "px")
    }

    f.FU = function () {
        clearInterval(this.pca)
    };

    function GY(b) {
        E([[CX, DY], [DX, EY]], function (b) {
            this.Vl.bc(new lL(b[1], b[0], this.M()))
        }, b);
        b.Vl.V(b.oj);
        KY(b);
        LY(b);
        b.Vl.ge(!0);
        b.Vl.ge(!1)
    }

    function KY(b) {
        b.Vl.Kc(uY("a-ib-Sj"))
    }

    function JY(b) {
        La(b.Ji, function (b, d) {
            $t(this.Ji[d], "click");
            $t(this.pC[d], "click");
            this.S().C(this.Ji[d], "click", function (b) {
                this.WK(b, d)
            }).C(this.pC[d], "click", function (b) {
                MY(this, b, d)
            })
        }, b)
    }

    f.WK = function (b, c) {
        this.Ua && this.Ua.clear();
        this.Vk(c)
    };

    function MY(b, c, d) {
        c && c.stopPropagation();
        b.Ua && b.Ua.clear();
        1 !== Ua(b.Ji).length && (b.hca = d, Ls(b.Ji[d]), delete b.Ji[d], delete b.pC[d], b.dispatchEvent("remove"), b.$l === d ? b.Vk(Ua(b.Ji)[Ua(b.Ji).length - 1]) : b.Vk(b.$l), b.la && (b.jy(), c = PF(b.J()).width - b.fH - (b.Ko - b.pu), c = c > b.Jr ? b.Jr : c, ht(b.Xk, "margin-left", c + "px")))
    }

    f.I8 = function () {
        this.As()
    };
    f.As = function (b) {
        if (this.Vaa && Ua(this.Ji).length >= this.$aa) return this.Ua ? this.Ua.If(X(this.ca)) : (this.Ua = new GH(X(this.ca)), this.Ua.Rk(CY), this.Ua.setPosition("righttop")), this.Ua.clear(), JH(this.Ua), this;
        var c = this.M(), d,
            e = c.u(D, "a-b-Dl-Hh-Y", c.u(D, "a-b-Dl-Hh-Y-jl"), c.u(D, "a-b-Dl-Hh", this.gH[FY(this)] = c.u(Le, null, String.fromCharCode(160)), d = c.u(D, "a-b-Dl-Yg", uY("a-ib-Tj"))));
        this.la && c.append(this.Xk, e);
        this.Ji[FY(this, !0)] = e;
        this.pC[FY(this, !0)] = d;
        JY(this);
        this.Vk(FY(this, !0), !1);
        this.dispatchEvent("add");
        this.dispatchEvent("change");
        this.la && (this.jy(), c = PF(this.J()).width - this.fH - (this.Ko - this.pu), c <= this.Jr && ht(this.Xk, "margin-left", c + "px"));
        this.sm[FY(this, !0)] = this.sm[FY(this, !0)] || {};
        this.sm[FY(this, !0)].jS = function () {
        };
        this.sm[FY(this, !0)].$R = !0;
        this.sm[FY(this, !0)].Fba = b;
        return this
    };
    f.GX = function (b) {
        this.sm[FY(this, !0)].jS = b;
        return this.Pa[FY(this, !0)]
    };

    function NY(b, c) {
        b.sm[c] && (b.sm[c].$R && b.sm[c].jS.call(b.Pa[c]), b.sm[c].Fba && (b.sm[c].$R = !1))
    }

    function OY(b, c, d) {
        b.Pa[c] = d;
        PY(b)
    }

    function QY(b, c) {
        if (!b.Pa[c]) if (console) console.warn("No binded chart"); else throw Error("No binded chart");
        return b.Pa[c]
    }

    function PY(b) {
        La(b.Ji, function (b, d) {
            this.Pa[d] ? Ts(this.gH[d], RY(this.Pa[d])) : (Ts(this.gH[d], ""), Ds(this.gH[d], Ld.Gla("&nbsp;")))
        }, b)
    }

    f.jy = function () {
        this.pu = this.Ko = 0;
        La(this.Ji, function (b) {
            this.Ko += +PF(b).width;
            this.pu += 10;
            this.oj == DX && (this.Ko += 20, this.pu += 2)
        }, this);
        0 != this.Ko && (this.oj == DX ? (this.fH = 72, this.Jr = 16) : (this.fH = 85, this.Jr = 5), this.Ko > PF(this.J()).width - 70 ? O(this.aN, !0) : O(this.aN, !1))
    };
    f.R8 = function () {
        this.oj = this.Vl.G();
        KY(this);
        this.yc && this.yc.set("position", this.oj);
        LY(this)
    };
    f.setPosition = function (b) {
        this.oj = b;
        this.yc && this.yc.set("position", this.oj);
        this.la && (this.Vl.V(b), KY(this), LY(this))
    };
    f.Vk = function (b, c) {
        c = void 0 === c ? !0 : c;
        this.$l !== b && (this.$l = b, La(this.Ji, function (c, e) {
            K.enable(c, "a-b-Dl-wg", e === b)
        }, this), c && this.dispatchEvent("change"), this.ca.eO = this.Pba || this.$l, this.Pba = this.$l)
    };

    function LY(b) {
        var c = Rs(b.J()), d = b.oj, e = b.ca.J();
        K.enable(c, "a-b-Dl-El", d === DX);
        K.enable(e, "a-b-Dl-Fl", d === CX);
        K.enable(e, "a-b-Dl-El", d === DX);
        b.ca.resize();
        b.jy();
        ht(b.Xk, "margin-left", b.Jr + "px")
    }

    function RY(b) {
        if (!b) return "";
        switch (b.Fa()) {
            case 5:
            case 2:
                return [b.ma(), b.W(), b.Db()].join(", ");
            case 1:
                return [b.ma(), b.W()].join(", ");
            default:
                return [b.ma(), b.Db()].join(", ")
        }
    }

    f.ft = function () {
        return this.Ji
    };

    function SY(b) {
        dO.call(this, b)
    }

    B(SY, dO);

    function TY() {
        lO.call(this)
    }

    B(TY, lO);

    function UY(b, c, d) {
        Q.call(this);
        this.ca = b;
        this.N().uri = c;
        this.N().wq = d;
        this.Xf = new AN(new YH, new YH, "horizontal");
        this.Xf.aV = 0;
        b = this.N().YK;
        this.Xf.Lv = b;
        this.Za = !1;
        this.Eq = !0
    }

    B(UY, Q);
    f = UY.prototype;
    f.Cp = null;
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.N = function () {
        this.j || (this.j = {
            uri: null,
            wq: "",
            bG: "freeserv",
            Pz: 15,
            language: "en",
            Fx: !1,
            minWidth: 130,
            YK: 7,
            gba: 200
        });
        return this.j
    };
    f.KA = function (b) {
        this.N().Fx = b
    };
    f.Gc = function (b) {
        this.Xf.Gc(b);
        b = Ms(this.Xf.J());
        var c = this.ca.M();
        this.Ry = b[0];
        this.cN = b[1];
        this.lu = b[2];
        c.append(this.Ry, c.u(D, "a-ll-Ok-Vj-X", this.Lk = c.u(D, "a-ll-Ok-Vj-Vj-Y")));
        this.xH();
        VY(this)
    };
    f.cu = function (b) {
        this.Eq = b;
        this.xH()
    };
    f.xH = function () {
        this.Ry && O(this.Ry, this.Eq);
        this.lu && O(this.lu, this.Eq);
        if (this.Xf) {
            EN(this.Xf, 0);
            var b = this.Eq ? this.N().YK : 0;
            this.Xf.Lv = b;
            this.cN && !this.Eq && ht(this.cN, "left", 0)
        }
    };

    function VY(b) {
        b.S().C(b.Xf, ["handle_drag", "handle_snap"], function () {
            var b = PF(this.ca.J()).width || 0, d = b - WY(this);
            this.Xf.Bm <= this.N().minWidth ? EN(this.Xf, 0) : b && this.Xf.Bm > d && EN(this.Xf, d);
            this.ca.qv();
            this.Xf.Bm == this.uC || this.Xf.Bm * this.uC || XY(this.ca);
            this.uC = this.Xf.Bm
        })
    }

    function WY(b) {
        return b.N().gba + b.N().YK
    }

    function YY(b) {
        var c = PF(b.ca.J()).width || 0, d = c - WY(b);
        b.Gk = !0;
        if (c < WY(b) + b.N().minWidth) {
            if (!1 === b.Gk) return !1;
            EN(b.Xf, 0);
            O(b.lu, !1);
            ht(b.cN, "left", 0);
            b.Gk = !1
        } else {
            if (!0 === b.Gk) return !0;
            b.Xf.Bm > d && EN(b.Xf, d);
            O(b.lu, !0);
            b.Gk = !0
        }
        return b.Gk
    }

    f.uC = 0;
    f.bH = 0;
    f.toggle = function () {
        if (this.Eq) {
            var b = PF(this.ca.J()).width;
            this.bH = b ? Math.round(b / 3) : this.N().minWidth;
            this.bH < this.N().minWidth && (this.bH = this.N().minWidth);
            this.Xf.Bm ? EN(this.Xf, 0) : EN(this.Xf, this.bH);
            this.uC = this.Xf.Bm;
            this.ca.qv();
            XY(this.ca)
        }
    };

    function ZY(b) {
        ht(b.Ry, "background", b.ca.X().fa().j.wd);
        ht(b.Ry, "color", b.ca.X().fa().j.Yc);
        ht(b.lu, "background", b.ca.X().fa().j.Mo);
        ht(b.lu, "border-color", b.ca.X().fa().j.vx);
        ht(Ms(Ms(b.lu)[0])[0], "border-left-color", b.ca.X().fa().j.Yc)
    }

    f.FG = function (b) {
        this.N().wq = b
    };
    f.Vg = !1;
    f.am = function (b) {
        this.N().language = b;
        this.Cp && this.Cp.am(this.N().language)
    };
    f.isEnabled = function () {
        return this.Za
    };

    function $Y() {
    }

    B($Y, VJ);
    ea($Y);
    $Y.prototype.xa = function () {
        return "a-ll-ml-Kg"
    };
    $Y.prototype.u = function (b) {
        var c = b.M(), c = c.u(D, this.fg(b).join(" "), c.u(D, this.xa() + "-Hg", b.Ob()));
        bK(this, b, c);
        return c
    };
    $Y.prototype.Kc = function (b, c) {
        $Y.P.Kc.call(this, b.firstChild, c)
    };

    function aZ(b, c, d) {
        Q.call(this);
        this.Ib = b;
        this.Kg = c;
        this.a = null;
        this.Fc = d
    }

    B(aZ, Q);
    f = aZ.prototype;
    f.Ob = function () {
        return this.Kg
    };

    function bZ(b) {
        return b.a || b.Kg
    }

    f.Kc = function (b) {
        this.Kg = b;
        this.dispatchEvent("update")
    };

    function cZ(b, c) {
        b.a = c;
        b.dispatchEvent("update")
    }

    f.qa = function () {
        return this.Fc
    };
    f.aa = function () {
        return this.Ib || this.Fc.toString()
    };
    f.Tv = !1;
    f.Ag = function () {
        return this.Tv
    };
    f.bm = function (b) {
        this.Tv != b && (this.Tv = b, this.dispatchEvent(this.Tv ? "persists" : "expire"))
    };
    f.Uv = !1;
    f.QE = function () {
        return this.Uv
    };
    f.Hi = function (b) {
        this.Uv != b && (this.Uv = b, this.dispatchEvent(this.Uv ? "select" : "unselect"))
    };

    function dZ(b, c, d) {
        oK.call(this, b.Ob(), c || $Y.Ka(), d);
        this.fe(b);
        this.vd(16, !0);
        tK(this, 16)
    }

    B(dZ, oK);
    dZ.prototype.bm = function (b) {
        this.qa().bm(b)
    };
    dZ.prototype.Ag = function () {
        return this.qa().Ag()
    };
    dZ.prototype.Ob = function () {
        return this.qa().Ob()
    };

    function eZ() {
        Q.call(this);
        this.ze = [];
        this.a = 0
    }

    B(eZ, Q);
    f = eZ.prototype;
    f.add = function (b) {
        this.contains(b) || (this.ze.push(b), this.a++, b.Je(this), this.dispatchEvent(new cf("add", b)))
    };
    f.replace = function (b) {
        for (var c = b.aa(), d = -1, e = 0, h = this.ze.length; e < h; ++e) if (this.ze[e].aa() === c) {
            d = e;
            break
        }
        0 > d ? this.add(b) : (this.ze[d] = b, b.Je(this), this.dispatchEvent(new cf("update", b)))
    };
    f.remove = function (b) {
        mi(this.ze, b) && (this.a++, this.dispatchEvent(new cf("remove", b)))
    };
    f.contains = function (b) {
        return ji(this.ze, b)
    };
    f.Em = function () {
        return this.ze
    };
    f.zk = function () {
        return this.ze.length
    };
    f.mc = function () {
        return [].concat(this.ze)
    };
    f.Fj = function () {
        var b = 0, c = this.ze, d = this.a, e = this, h = new cp;
        h.next = function () {
            for (; ;) {
                if (d != e.a) throw Error("The collection has changed since the iterator was created");
                if (b >= c.length) throw bp;
                return c[b++]
            }
        };
        return h
    };

    function fZ(b, c, d) {
        dZ.call(this, b, c || $Y.Ka(), d);
        this.a = new bO(null, XJ(rL, this.fc().xa() + "-nl"));
        uK(this.a, 16);
        this.a.Tb(this.qa().Ag());
        this.a.vd(32, !1)
    }

    B(fZ, dZ);
    fZ.prototype.oa = function () {
        fZ.P.oa.call(this);
        this.a.tc("a-ib");
        this.a.T(this.J());
        this.g();
        this.S().C(this.a.J(), "mouseup", function (b) {
            b.stopPropagation()
        }).C(this.a, "check", v(this.bm, this, !0)).C(this.a, "uncheck", v(this.bm, this, !1)).C(this.a, ["check", "uncheck"], this.g)
    };
    fZ.prototype.Ob = function () {
        return bZ(this.qa())
    };
    fZ.prototype.g = function () {
        gk(this.a.J(), "a-ib-qk-rk", !this.Ag());
        gk(this.a.J(), "a-ib-qk", this.Ag())
    };

    function gZ(b, c, d) {
        aZ.call(this, b, c, d)
    }

    B(gZ, aZ);
    f = gZ.prototype;
    f.Tv = !1;
    f.Ag = function () {
        return this.Tv
    };
    f.bm = function () {
    };
    f.Uv = !1;
    f.QE = function () {
        return this.Uv
    };
    f.Hi = function () {
    };

    function hZ(b, c, d) {
        dZ.call(this, b, c || $Y.Ka(), d)
    }

    B(hZ, dZ);
    hZ.prototype.oa = function () {
        hZ.P.oa.call(this)
    };
    hZ.prototype.Ob = function () {
        return bZ(this.qa())
    };

    function iZ() {
    }

    B(iZ, VJ);
    ea(iZ);
    iZ.prototype.xa = function () {
        return "a-ll-ml"
    };
    iZ.prototype.u = function (b) {
        return b.M().u(D, this.xa() + " mg-ng-og")
    };

    function jZ(b, c, d) {
        oK.call(this, null, c || iZ.Ka(), d);
        this.ca = b;
        this.yc = kZ;
        this.Na = new SM;
        this.Na.Je(this);
        this.a = new eZ;
        this.vd(32, !1);
        this.hb = new eN(null, this.M())
    }

    B(jZ, oK);
    ({}).kka;
    var kZ = {get: zc, set: zc, remove: zc};

    function lZ(b, c) {
        b.yc = c
    }

    f = jZ.prototype;
    f.Na = null;
    f.oa = function () {
        jZ.P.oa.call(this);
        var b = this.M();
        this.Uf = new zK(TJ, PJ(OJ, this.fc().xa() + "-Jh"), b);
        this.Uf.Ei(!1);
        this.Uf.WB = !0;
        this.$e = new bO(" ", XJ(rL, this.fc().xa() + "-nl-vg"), b);
        tK(this.$e, 16);
        this.zm = new qL("", XJ(rL, this.fc().xa() + "-Bg-vg"), b);
        uK(this.zm, 32);
        this.Uf.T(this.J());
        dk(this.Uf.J(), "mg-ng-og");
        this.$e.T(this.J());
        this.zm.T(this.J());
        this.hb.Z(!1);
        this.ca ? this.ca.j.Tm ? this.hb.T() : this.hb.T(this.ca.J()) : this.hb.T();
        this.g = new gH(this.$e.J(), 9, !1, !0);
        this.S().C(this.a, "add", function (b) {
            mZ(this,
                b.target)
        }).C(this.a, "update", function (b) {
            b = b.target;
            var d = this.hb.Cm(b.aa()), e = this.Uf.Cm(b.aa());
            d.fe(b);
            d.Kc(bZ(b));
            e && (e.fe(b), e.Kc(b.Ob()));
            this.Na.hc().aa() === b.aa() && this.Na.og(b);
            this.$e.fe(null);
            nZ(this)
        }).C(this.a, "remove", function (b) {
            oZ(this.hb, b.target)
        }).C(this.a, "persists", function (b) {
            this.bm(b.target, !0);
            nZ(this);
            pZ(this, b.target);
            qZ(this);
            rZ(this)
        }).C(this.a, "expire", function (b) {
            this.bm(b.target, !1);
            nZ(this);
            sZ(this, b.target);
            qZ(this);
            rZ(this)
        }).C(this.Uf, "action", function (b) {
            this.Na.hc() ==
            b.target.qa() ? this.Hr && !this.$e.Wa() && b.target.qa() == this.Hr.qa() && this.pO() : this.Na.og(b.target.qa())
        }).C(this.hb, "action", function (b) {
            b.target instanceof hZ ? (this.hb.Z(!1), this.dispatchEvent({
                type: "simpleaction",
                target: b.target.qa().qa()
            })) : this.Na.og(b.target.qa())
        }).C(this.$e, "action", function () {
            this.pO();
            rZ(this)
        }).C(this.zm, "action", this.pO).C(this.zm, "enter", this.L5).C(this.zm, "leave", this.K5).C(this.hb.J(), "mousedown", function (b) {
            b.stopPropagation()
        }).C(this.ca.Ud.J().firstChild, "mousedown",
            function () {
                this.hb.Z(!1)
            }).C(ct(this.M()), "mousedown", function (b) {
            if (b.target != this.$e.J() && b.target != this.zm.J() && b.target != Ms(this.$e.J())[0]) {
                if (this.Hr) {
                    var d = Ms(this.Hr.J())[0];
                    if (b.target == d || b.target == Ms(d)[0]) return
                }
                this.hb.Z(!1)
            }
        }).C(this.Na, "select", this.sh);
        ep(this.a, function (b) {
            mZ(this, b)
        }, this);
        this.sh();
        tZ(this)
    };

    function rZ(b) {
        var c = 0;
        cI(b.hb, function (b) {
            this.Ag(b.qa()) && c++
        }, b);
        K.enable(b.$e.J(), b.fc().xa() + "-qg-wg", 0 < c && b.$e.Cf())
    }

    f.L5 = function () {
        uZ(this, !0)
    };
    f.K5 = function () {
        uZ(this, !1)
    };

    function uZ(b, c) {
        var d = ss(b.fc().xa() + "-jn-persistant", b.J());
        d && d.length && (d = d[d.length - 1]);
        b.$e.Wa() ? (d && K.enable(d, b.fc().xa() + "-ol", !1), K.enable(b.$e.J(), b.fc().xa() + "-ol", c)) : (K.enable(b.$e.J(), b.fc().xa() + "-ol", !1), d && K.enable(d, b.fc().xa() + "-ol", c))
    }

    f.bc = function (b, c) {
        var d;
        d = b instanceof aZ ? b : new aZ(b + ";" + c.toString(), b, c);
        d.bm(this.Ag(d));
        this.bm(d, d.Ag());
        this.a.add(d);
        d instanceof gZ || this.Na.bc(d);
        return d
    };

    function vZ(b) {
        b.hb.Va(new bN(b.M()), !0)
    }

    f.Em = function () {
        return this.a ? this.a.Em() : []
    };
    f.kQ = function (b) {
        E(b, function (b) {
            this.bc(b.content, b.no)
        })
    };

    function wZ(b) {
        E(b.a.mc(), function (b) {
            this.a.remove(b)
        }, b);
        b.Uf && cI(b.Uf, function (b) {
            this.Uf.removeChild(b, !0)
        }, b)
    }

    function mZ(b, c) {
        var d = c instanceof gZ ? new hZ(c, null, b.M()) : new fZ(c, null, b.M());
        d.$h(c.aa());
        b.hb.Va(d, !0);
        d = new dZ(c, null, b.M());
        d.tc("mg-ng-og");
        d.$h(c.aa());
        b.Uf.Va(d, !0);
        d.Z(b.Ag(c))
    }

    function xZ(b) {
        var c;
        b.Uf && (cI(b.Uf, function (b) {
            b.Ag() && b.Wa() && (c = b)
        }), c && K.enable(c.J(), b.fc().xa() + "-jn-persistant", !0));
        b.la && K.enable(b.J(), b.fc().xa() + "-re-Jg", !c)
    }

    function pZ(b, c) {
        var d;
        cI(b.Uf, function (b) {
            b.qa() == c && b.Z(!0);
            b.Ag() && b.Wa() && (d = b)
        });
        d && K.enable(d.J(), b.fc().xa() + "-jn-persistant", !0);
        K.enable(b.J(), b.fc().xa() + "-re-Jg", !d)
    }

    function sZ(b, c) {
        var d;
        cI(b.Uf, function (b) {
            b.qa() == c && b.Z(!1);
            b.Ag() && b.Wa() && (d = b)
        });
        d && K.enable(d.J(), b.fc().xa() + "-jn-persistant", !0);
        K.enable(b.J(), b.fc().xa() + "-re-Jg", !d)
    }

    f.bm = function (b, c) {
        this.yc.set(b.aa(), c)
    };
    f.Ag = function (b) {
        if (!b) return !1;
        switch ((this.yc.get(b.aa()) || "false").toLowerCase()) {
            case "false":
            case "no":
            case "0":
            case "":
                return !1;
            default:
                return !0
        }
    };
    f.hc = function () {
        return this.Na.hc()
    };
    f.og = function (b) {
        this.Na.og(b)
    };

    function yZ(b, c) {
        ep(b.a, function (b) {
            b.qa() == c && this.Na.hc() != b && this.Na.og(b)
        }, b)
    }

    f.V = function (b) {
        yZ(this, b)
    };
    f.G = function () {
        var b = this.hc();
        return b ? b.qa() : null
    };
    f.Ba = function (b) {
        jZ.P.Ba.call(this, b);
        this.la && tZ(this)
    };

    function tZ(b) {
        var c = b.isEnabled();
        b.$e.Ba(c);
        b.zm.Ba(c);
        cI(b.Uf, function (b) {
            b.Ba(c)
        })
    }

    f.Mh = function () {
        return this.Na.Mh()
    };
    f.Xw = function (b) {
        this.Na.Xw(b)
    };
    f.Hr = null;
    f.sh = function () {
        this.hb.Z(!1);
        var b = this.hc();
        cI(this.Uf, function (c, d) {
            this.Ag(c.qa()) && (this.Hr = c, this.oV = d);
            c.Tb(c.qa() == b)
        }, this);
        cI(this.hb, function (c) {
            c.Tb(c.qa() == b)
        });
        nZ(this);
        rZ(this)
    };

    function nZ(b) {
        var c = b.hc(), d = !0;
        if (c) {
            if (!b.Ag(c) || !b.$e.qa()) {
                if (!b.$e.qa() && b.Ag(c) && b.Hr) {
                    c = b.Uf.nd(b.oV + 1);
                    if (!c || c.qa() instanceof gZ) c = b.Uf.nd(b.oV);
                    c = c.qa();
                    d = !1
                }
                b.$e.fe(c);
                var e = c.Ob();
                b.$e.Kc(oa(e.cloneNode) ? e.cloneNode(!0) : e);
                b.$e.tc(b.fc().xa() + "-nl-vg-wg")
            }
            b.$e.Tb(!b.Ag(c) && d)
        }
    }

    f.fu = function () {
        this.hb.Z(!0);
        qZ(this)
    };
    f.pO = function () {
        this.hb.Z(!this.hb.Wa());
        qZ(this)
    };

    function qZ(b) {
        b.g.element = qG(b.$e.J()) ? b.$e.J() : b.Hr ? b.Hr.J() : b.zm.J();
        b.g.xe(b.hb.J(), 8)
    }

    function oZ(b, c) {
        var d = [];
        cI(b, function (b) {
            b.qa() == c && d.push(b)
        });
        E(d, function (c) {
            b.removeChild(c, !0)
        })
    }

    function zZ(b) {
        b.Uf && b.Uf.J() && (b.Uf.me(!0), b.M().me(b.Uf.J()))
    }

    f.cc = function () {
        return this.hb
    };

    function AZ(b, c) {
        this.m = b;
        this.R = c || new os;
        this.a = this.M().u(ae);
        this.g = this.a.getContext("2d");
        this.g.scale(BZ(this), BZ(this));
        this.F = new Image;
        CZ(this)
    }

    function CZ(b) {
        b.K = X(b.m).K;
        b.jc = X(b.m).je()
    }

    function DZ(b, c) {
        null === c && (b.w = null);
        b.w = new Image;
        b.w.crossOrigin = "anonymous";
        b.w.src = c
    }

    function BZ(b) {
        return X(b.m).ob
    }

    AZ.prototype.fa = function () {
        return X(this.m).fa()
    };
    AZ.prototype.M = function () {
        return this.R
    };
    AZ.prototype.toDataURL = function () {
        CZ(this);
        var b = this.g;
        this.a.setAttribute("width", this.K.width * BZ(this));
        this.a.setAttribute("height", this.K.height * BZ(this));
        var c = this.g;
        c.save();
        c.fillStyle = this.fa().j.wd;
        c.fillRect(0, 0, this.K.width * BZ(this), this.K.height * BZ(this));
        c.beginPath();
        c.rect(-1, -1, this.jc.width * BZ(this) + 1.5, this.jc.height * BZ(this) + 1.5);
        c.closePath();
        c.fillStyle = this.fa().j.ke;
        c.fill();
        c.restore();
        var c = {}, d = X(this.m).Nc, e;
        for (e in d) if (d.hasOwnProperty(e) && d[e].Wa()) {
            var h = d[e];
            if ("I" !==
                h.type) {
                var k = h, l = this.g;
                l.save();
                this.F.src = XO(k.mk);
                var p = k.Ha;
                l.beginPath();
                l.rect(p.left - 1, p.top - 1, p.width + 1.5, p.height + 1.5);
                l.closePath();
                "O" !== k.type && (l.fillStyle = l.createPattern(this.F, "repeat"), l.fillRect(p.left - 1, p.top - 1, p.width + 1.5, p.height + 1.5));
                l.fillStyle = this.fa().j.le;
                l.fillRect(p.left - 1, p.top - 1, p.width, 1);
                l.restore()
            }
            k = c;
            l = h.Ha;
            p = [l.left, l.top, l.width, l.height].join(";");
            k[p] = k[p] || {rm: l, UW: []};
            k[p].UW.push(h)
        }
        this.w && (e = this.g, d = this.K.width * BZ(this), h = this.K.height * BZ(this), k = Math.min(this.w.width,
            .65 * this.K.width), l = Math.min(this.w.height, .65 * this.K.height), e.save(), e.globalAlpha = .05, e.fillStyle = this.fa().j.wd, e.drawImage(this.w, d / 2 - k / 2, h / 2 - l / 2, k, l), e.restore());
        e = this.g;
        e.beginPath();
        e.rect(-1, -1, this.jc.width * BZ(this) + 1.5, this.jc.height * BZ(this) + 1.5);
        e.closePath();
        e.stroke();
        b.drawImage(X(this.m).a, 0, 0);
        La(c, this.U, this);
        return this.a.toDataURL(window.G_vmlCanvasManager ? "image/jpeg" : "image/png", 1)
    };
    AZ.prototype.U = function (b) {
        var c = b.rm;
        b = b.UW;
        this.g.save();
        for (var d = 0, e = b.length; d < e; d++) {
            var h = c.left + 5, k = c.top + 20 * (d + 1), l = b[d], p = this.g, q = X(this.m).fa(), r = l.od(), t = [];
            if (r instanceof yj || r instanceof Bj || r instanceof zj) t.push({
                text: uu(l),
                color: q.j.hj,
                font: "12px Arial, sans-serif"
            }); else if (1 < r.wi() && !(r instanceof qc)) {
                t.push({text: uu(l), color: q.j.hj, font: "12px Arial, sans-serif"});
                t.push({text: ": ", color: q.j.hj, font: "12px Arial, sans-serif"});
                for (var l = 0, u = r.wi(); l < u; l++) {
                    var x = r.Lh(l);
                    t.push({
                        text: x.getName(),
                        color: x.Jb(), font: "12px Arial, sans-serif"
                    });
                    t.push({text: ", ", color: q.j.hj, font: "12px Arial, sans-serif"})
                }
                t.pop()
            } else t.push({text: uu(l), color: r.Lh(0).Jb(), font: "12px Arial, sans-serif"});
            r = q = 0;
            for (l = t.length; r < l; r++) u = t[r], p.font = u.font, p.fillStyle = u.color, p.fillText(u.text, h + q, k), q += p.measureText(u.text).width
        }
        this.g.restore()
    };

    function EZ(b) {
        YH.call(this, b);
        this.rg = new zN(this.M());
        this.Ja = new xP("number", "", null, this.M());
        this.Va(this.Ja, !0);
        this.Va(this.rg, !0)
    }

    B(EZ, YH);
    f = EZ.prototype;
    f.u = function () {
        this.ua(this.M().createElement(D))
    };
    f.ua = function (b) {
        EZ.P.ua.call(this, b);
        dk(this.J(), "a-N-qi")
    };
    f.oa = function () {
        EZ.P.oa.call(this);
        this.rg.Od() && this.Ja.Zc().setAttribute("min", this.rg.Od());
        this.rg.Gd() && this.Ja.Zc().setAttribute("max", this.rg.Gd());
        this.rg.pe() && this.Ja.Zc().setAttribute("step", this.rg.pe());
        this.S().C(this.rg, "change", function () {
            this.Ja.V(this.rg.G().toString(10))
        }).C(this.Ja, ["change", "input"], function () {
            this.Ja.G() < this.rg.Od() && this.Ja.V(this.rg.Od());
            1 > this.rg.pe() ? this.rg.V(+this.Ja.G()) : this.rg.V(parseInt(this.Ja.G(), 10))
        })
    };
    f.G = function () {
        return this.rg.G()
    };
    f.V = function (b) {
        this.Ja.V(b);
        this.rg.V(b)
    };
    f.Fi = function (b) {
        this.rg.Fi(b);
        this.Ja.setAttribute("min", b.toString(10))
    };
    f.Hg = function (b) {
        this.rg.Hg(b);
        this.Ja.setAttribute("max", b.toString(10))
    };
    f.qg = function (b) {
        this.rg.qg(b);
        this.Ja.setAttribute("step", b)
    };

    function FZ(b, c) {
        lM.call(this, void 0, !0, c);
        this.ca = b;
        this.Lg = [];
        this.Sc = {}
    }

    B(FZ, lM);
    f = FZ.prototype;
    f.u = function () {
        FZ.P.u.call(this);
        var b = this.M();
        b.append(this.Aa(), this.$n = b.u(D))
    };
    f.oa = function () {
        FZ.P.oa.call(this);
        K.add(this.J(), "a-cl-Xg");
        this.S().C(this.ca.GO, "resize", function () {
            E(this.Lg, function (b) {
                b.la && b instanceof EZ && b.rg.Z(!0)
            }, this)
        }).C(this, ZL, this.sh)
    };
    f.Jw = function (b) {
        this.xd = b;
        this.xd.ck();
        GZ(this);
        b = ud(this.xd.bK(), function (b, d) {
            return d instanceof lv ? b + ov(d) + 1 : b + 1
        }, 0);
        ht(this.J(), {"max-height": 49 * b + 108 + "px"});
        E(this.Lg, function (b) {
            b.la && b instanceof EZ && b.rg.Z(!0)
        }, this);
        this.xe();
        this.tf(this.xd.toString())
    };

    function GZ(b) {
        E(b.Lg, function (b) {
            this.S().wa(b);
            b.Ra()
        }, b);
        b.Lg.length = 0;
        b.M().me(b.$n);
        E(b.xd.bK(), function (b, d) {
            b instanceof lv ? (0 < d && HZ(this), IZ(this, b, "a-cl-Xg-Ag"), b.Ty(this.SW, this)) : this.SW(b)
        }, b)
    }

    f.SW = function (b) {
        switch (b.Kb()) {
            case 2:
                JZ(this, b);
                break;
            case 14:
                KZ(this, b);
                break;
            case 3:
                LZ(this, b);
                break;
            case 13:
                MZ(this, b);
                break;
            case 4:
                NZ(this, b);
                break;
            case 28:
                OZ(this, b);
                break;
            case 10:
                PZ(this, b);
                break;
            case 8:
                QZ(this, b);
                break;
            case 12:
                RZ(this, b);
                break;
            case 22:
                SZ(this, b);
                break;
            case 26:
                TZ(this, b);
                break;
            case 27:
                UZ(this, b);
                break;
            case 23:
                VZ(this, b)
        }
    };

    function HZ(b) {
        var c = b.M(), d = c.u(Zd, null);
        c.append(b.$n, d)
    }

    function IZ(b, c, d, e) {
        var h = ["a-cl-Xg-Wl"], k = c instanceof qv;
        e = null != e ? e : k ? c.Ad : c.Nb();
        null != d && h.push(d);
        c instanceof qv && c.sd && h.push("a-cl-Xg-ng-og");
        c = b.M();
        h = c.u(D, h, c.u(te, null, e));
        c.append(b.$n, h);
        return h
    }

    function LZ(b, c) {
        var d = b.M(), e = IZ(b, c), h = new eN(null, b.M());
        h.T(b.Aa());
        var k = new jP(c.Ad, h, iP.Ka(), d), d = b.xd.aa();
        b.Sc[d] = b.Sc[d] || [];
        b.Sc[d].push({bk: c, value: c.G()});
        K.add(e, "a-cl-Xg-em");
        k.T(e);
        var e = c.mc(), l = c.KD();
        E(e, function (b, c) {
            k.bc(new zL(l[c], b))
        }, b);
        k.V(c.G());
        b.S().C(k, "change", function () {
            c.V(k.G());
            this.ca.Yl()
        });
        b.Lg.push(k)
    }

    function PZ(b, c) {
        var d = b.M(), e, h = b.xd.aa();
        b.Sc[h] = b.Sc[h] || [];
        b.Sc[h].push({bk: c, value: c.G()});
        e = new EZ(d);
        ha(c.ld()) && e.Fi(c.ld());
        ha(c.pd()) && e.Hg(c.pd());
        ha(c.pe()) && e.qg(c.pe());
        e.V(parseFloat(c.G()));
        d = IZ(b, c);
        e.T(d);
        b.S().C(e, "change", function () {
            c.V(e.G())
        });
        b.Lg.push(e)
    }

    function NZ(b, c) {
        var d = b.M(), e, h = b.xd.aa();
        b.Sc[h] = b.Sc[h] || [];
        b.Sc[h].push({bk: c, value: c.G()});
        e = new xP("number", c.G(), null, d);
        ha(c.ld()) && e.setAttribute("min", c.ld());
        ha(c.pd()) && e.setAttribute("max", c.pd());
        ha(c.pe()) && e.setAttribute("step", c.pe());
        d = IZ(b, c);
        e.T(d);
        b.S().C(e, "change", function () {
            c.V(e.G())
        });
        b.Lg.push(e)
    }

    function OZ(b, c) {
        var d = b.M(), e = y("MSG_CHARTUI_DRAWINGDIALOG_NUMERIC_SHOW", {}, "Show"),
            h = y("MSG_CHARTUI_DRAWINGDIALOG_NUMERIC_HIDE", {}, "Hide"), k = c.isEnabled() ? mK : jK, l, p,
            q = b.xd.aa();
        b.Sc[q] = b.Sc[q] || [];
        b.Sc[q].push({bk: c, enabled: c.isEnabled(), value: c.G()});
        q = IZ(b, c, "a-cl-Xg-Kg-Yl-Wl");
        p = new yK(k);
        p.T(q);
        p.J().setAttribute("title", k ? h : e);
        l = new xP("number", c.G(), null, d);
        ha(c.ld()) && l.setAttribute("min", c.ld());
        ha(c.pd()) && l.setAttribute("max", c.pd());
        ha(c.pe()) && l.setAttribute("step", c.pe());
        l.T(q);
        l.Ba(k);
        b.S().C(p, "change", function (b) {
            b = b.target.Cf();
            p.J().setAttribute("title", b ? h : e);
            l.Ba(b);
            c.Ba(b);
            c.V(l.G())
        }).C(l, "change", function () {
            l.G() || l.V(0);
            c.V(l.G())
        });
        b.Lg.push(p);
        b.Lg.push(l)
    }

    function QZ(b, c) {
        var d = b.M(), e, h = b.xd.aa();
        b.Sc[h] = b.Sc[h] || [];
        b.Sc[h].push({bk: c, value: c.G()});
        e = new VP(c.G(), null, d);
        d = IZ(b, c);
        e.T(d);
        e.eN();
        b.S().C(e, ["input"], function () {
            c.V(e.G())
        });
        b.Lg.push(e)
    }

    function RZ(b, c) {
        var d = b.M(), e, h = y("MSG_CHARTUI_DRAWINGDIALOG_TEXT_LABEL", {}, "Drawing tool text label"), k = b.xd.aa();
        b.Sc[k] = b.Sc[k] || [];
        b.Sc[k].push({bk: c, value: c.G()});
        e = new xP(zP, c.G(), null, d);
        e.setAttribute("placeholder", h);
        d = IZ(b, c, "a-cl-Xg-fi-mh");
        e.T(d);
        e.eN();
        b.S().C(e, ["input"], function () {
            c.V(e.G())
        });
        b.Lg.push(e)
    }

    function SZ(b, c) {
        var d = b.M(), e, h;
        h = b.xd.aa();
        b.Sc[h] = b.Sc[h] || [];
        b.Sc[h].push({bk: c, value: c.G()});
        h = new eN(null, b.M());
        h.T(b.Aa());
        e = new jP(null, h, iP.Ka());
        e.tc("a-cl-Xg-Bj-Zl-Vg");
        E(c.mc(), function (b) {
            e.bc(new jL(d.u(Le, {
                "class": "a-cl-Xg-Bj-Zl-Kg",
                style: "height:" + b.toString(10) + "px"
            }, b.toString(10)), b))
        }, b);
        e.V(c.G());
        K.add(e.cc().J(), "a-cl-Xg-Bj-Zl-zg");
        h = IZ(b, c);
        e.T(h);
        b.S().C(e, "change", function () {
            c.V(e.G())
        });
        b.Lg.push(e)
    }

    function TZ(b, c) {
        var d = b.M(), e, h;
        h = b.xd.aa();
        b.Sc[h] = b.Sc[h] || [];
        b.Sc[h].push({bk: c, value: c.G()});
        h = new eN(null, b.M());
        h.T(b.Aa());
        e = new jP(null, h, iP.Ka());
        e.tc("a-cl-Xg-Bj-am-Vg");
        E(c.mc(), function (b) {
            e.bc(new jL(d.u(Le, {
                "class": "a-cl-Xg-Bj-am-Kg",
                style: "border-top: 2px " + b + " #000;"
            }, b[0].toUpperCase() + b.slice(1)), b))
        }, b);
        e.V(c.G());
        K.add(e.cc().J(), "a-cl-Xg-Bj-am-zg");
        h = IZ(b, c);
        e.T(h);
        b.S().C(e, "change", function () {
            c.V(e.G())
        });
        b.Lg.push(e)
    }

    function UZ(b, c) {
        var d = b.M(), e = new hQ, h = new xP("number", c.G().gf(), null, d), d = b.xd.aa(),
            k = 6E4 * b.ca.X().Ic().Un().std_offset, l = b.xd.DS(c.aj());
        iQ(e);
        Hv(c.G(), new Date(l.time));
        c.G().Uk(l.value.toFixed(5));
        b.Sc[d] = b.Sc[d] || [];
        b.Sc[d].push({bk: c, value: c.G()});
        e.V(new Date(Gv(c.G()).getTime() + k), "UTC");
        d = IZ(b, c, "a-cl-Xg-Xl-db", "Time " + c.Ad);
        e.T(d);
        O(d, Iv(c.G()));
        c.G().pe() && h.setAttribute("step", c.G().pe());
        h.V(c.G().gf());
        d = IZ(b, c, "a-cl-Xg-Xl-eb", "Price " + c.Ad);
        HZ(b);
        h.T(d);
        O(d, Jv(c.G()));
        b.S().C(e, "change",
            function () {
                var b = Lc(c.G()), d = b.GV;
                d && e.G().getTime() < d.getTime() ? (d = new Date(d.getTime() - k), b.Vq = d, e.V(new Date(b.Vq.getTime() + k), "UTC")) : (d = new Date(e.G().getTime() - k), b.Vq = d);
                c.V(b)
            }).C(h, "change", function () {
            var b = Lc(c.G());
            b.Uk(h.G());
            c.V(b)
        });
        b.Lg.push(e);
        b.Lg.push(h)
    }

    function VZ(b, c) {
        var d = b.M(), e = IZ(b, c), h = c.G() ? mK : jK, k = [], l, p, q, r, t, u = b.xd.aa();
        b.Sc[u] = b.Sc[u] || [];
        b.Sc[u].push({bk: c, value: c.G()});
        K.add(e, "a-cl-Xg-fm-h");
        l = new yK(h);
        l.T(e);
        k.push(l);
        p = new xP("number", c.qM);
        p.T(e);
        k.push(p);
        h = new oM;
        h.dt().Ab(Fn(parseInt(c.Jb().substr(1, 2), 16), parseInt(c.Jb().substr(3, 2), 16), parseInt(c.Jb().substr(5, 2), 16), c.Fm()));
        h.T(b.J());
        q = new pM("", h);
        q.T(e);
        k.push(q);
        h = new eN(null, b.M());
        h.T(b.Aa());
        r = new jP(null, h, iP.Ka());
        r.tc("a-cl-Xg-Bj-Zl-Vg");
        for (h = 1; 10 >= h; ++h) r.bc(new jL(d.u(Le,
            {"class": "a-cl-Xg-Bj-Zl-Kg", style: "height:" + h.toString(10) + "px"}, h.toString(10)), h));
        r.V(c.hg());
        K.add(r.cc().J(), "a-cl-Xg-Bj-Zl-zg");
        r.T(e);
        k.push(r);
        h = new eN(null, b.M());
        h.T(b.Aa());
        t = new jP(null, h, iP.Ka());
        t.tc("a-cl-Xg-Bj-Zl-Vg");
        La(Hc, function (b) {
            t.bc(new jL(d.u(Le, {
                "class": "a-cl-Xg-Bj-am-Kg",
                style: "border-top: 2px " + b + " #000;"
            }, b[0].toUpperCase() + b.slice(1))), b)
        }, b);
        t.V(c.rd()[0].toUpperCase() + c.rd().slice(1));
        K.add(t.cc().J(), "a-cl-Xg-Bj-Zl-zg");
        t.T(e);
        k.push(t);
        b.S().C(l, "change", function () {
            c.V(l.Cf());
            this.ca.Yl()
        }).C(p, ["change", "action"], function () {
            parseFloat(p.G()) != p.G() ? c.FA(0) : (c.FA(parseFloat(p.G())), this.ca.Yl())
        }).C(q, "action", function () {
            var b = Bn(sI(q.dt().dt())).slice(5, -1).split(",");
            c.Ab(zn(b).substring(0, 7));
            c.Sk(b[b.length - 1]);
            this.ca.Yl()
        }).C(r, "change", function () {
            c.Zt(r.G());
            this.ca.Yl()
        }).C(t, "change", function () {
            c.yG(t.G());
            this.ca.Yl()
        });
        E(k, function (b) {
            this.Lg.push(b)
        }, b)
    }

    function JZ(b, c) {
        var d = new oM, e = b.xd.aa();
        b.Sc[e] = b.Sc[e] || [];
        b.Sc[e].push({bk: c, value: c.G()});
        d.dt().Ab(c.G());
        d.T(b.J());
        var h = new pM("", d);
        h.T(IZ(b, c));
        b.S().C(h, "action", function () {
            c.V(Bn(sI(h.dt().dt())))
        });
        b.Lg.push(h)
    }

    function KZ(b, c) {
        var d = new hQ;
        iQ(d);
        var e = b.xd.aa();
        b.Sc[e] = b.Sc[e] || [];
        b.Sc[e].push({bk: c, value: c.G()});
        var h = 6E4 * b.ca.X().Ic().Un().std_offset;
        d.V(new Date(c.G() + h), "UTC");
        d.T(IZ(b, c));
        b.S().C(d, "change", function () {
            c.V(d.G().getTime() - h)
        });
        b.Lg.push(d)
    }

    function MZ(b, c) {
        var d = b.M(), e = new eN(null, b.M());
        e.T(b.Aa());
        var h = new nP(c.Ad, iP.Ka(), d, e), d = b.xd.aa();
        b.Sc[d] = b.Sc[d] || [];
        b.Sc[d].push({bk: c, value: c.G()});
        h.T(IZ(b, c));
        h.V(c.G());
        b.S().C(h, "change", function () {
            c.V(h.G())
        });
        b.Lg.push(h)
    }

    f.sh = function (b) {
        "ok" !== b.key && this.xd ? (La(this.Sc[this.xd.aa()], function (b) {
            null != b.enabled && b.bk.Ba(b.enabled);
            b.bk.V(b.value)
        }, this), this.ca.Yl()) : (this.xd.Vm(oA.RB), this.xd.ga().dispatchEvent(new cf(Eu, this.xd)))
    };
    f.Z = function (b) {
        FZ.P.Z.call(this, b)
    };

    function WZ(b) {
        this.ca = b
    }

    WZ.prototype.a = function (b) {
        b = Et(b.getElementsByTagName("preferences")[0], '//node[@name="charts"]/node');
        return Sa(b, function (b) {
            return {options: XZ(this, b), Bla: YZ(this, b), Pv: ZZ(this, b)}
        }, this)
    };

    function XZ(b, c) {
        var d = $Z(c), e = b.ca, h = {};
        E([{key: "offerSideName", name: "offerSide"}, {
            key: "instrumentName",
            name: "instrument"
        }, {
            key: "dataUnitWidth", name: "dataUnitWidth", op: function (b) {
                return parseInt(b, 10) + 2
            }
        }, {
            key: "dataType", op: function (b) {
                return {TICKS: 1, TIME_PERIOD_AGGREGATION: 2}[b]
            }
        }, {
            key: "candleType", name: "presentationType", test: function (b) {
                return "TIME_PERIOD_AGGREGATION" === b.dataType
            }, op: function (b) {
                return {BAR: "bar", CANDLE: "candle", LINE: "line"}[b]
            }
        }, {
            key: "tickType", name: "presentationType", test: function (b) {
                return "TICKS" ===
                    b.dataType
            }, op: function (b) {
                return {BAR: "bar", LINE: "line"}[b]
            }
        }, {
            key: "periodUnit", name: "period", test: function (b) {
                return "TIME_PERIOD_AGGREGATION" === b.dataType
            }, apply: function (b, c) {
                var d = ~+b.periodUnitsCount ? +b.periodUnitsCount : 1,
                    e = {Second: wg, Minute: xg, Hour: yg, Day: zg, Week: Ag, Year: Cg}[b.periodUnit];
                c.period = (zl(d * e.Y()) || new al(-1, d.toString(10) + e.toString(), e, d)).Zb()
            }
        }, {
            key: "periodUnit", name: "period", test: function (b) {
                return "TICKS" === b.dataType
            }, op: function () {
                return bl.Zb()
            }
        }, {
            key: "filter", name: "flatFilter",
            op: function (b) {
                return {ALL_FLATS: 3, NO_FILTER: 1, WEEKENDS: 2}[b]
            }
        }, {
            key: "endTime", test: function (b) {
                return 0 < parseInt(b.endTime)
            }, op: function (b) {
                return parseInt(b, 10)
            }
        }, {
            key: "endTime", name: "startTime", test: function (b) {
                return 0 < parseInt(b.endTime)
            }, op: function () {
                var b = h.endTime, c = e.X().je().width / (h.dataUnitWidth || e.X().Ca()) | 0,
                    d = Al[h.period] || e.X().W();
                return b - d.Y() * c
            }
        }, {key: "theme"}], function (b) {
            var c = {
                key: b.key, name: b.name || b.key, op: function (b) {
                    return b
                }, apply: function (b, c) {
                    c[this.name] = this.op(b[this.key],
                        this.key, b)
                }, test: function (b) {
                    return b.hasOwnProperty(this.key)
                }
            };
            jh(c, b);
            c.test(d) && c.apply(d, h)
        });
        return h
    }

    function YZ(b, c) {
        return Ig(Sa(Ra(Sa(Et(c, 'node[@name="drawings"]/node'), function (b) {
            var c = {id: b.getAttribute("name")}, h = $Z(b);
            c.type = {
                CHANNEL: "LinearChannel",
                RECTANGLE: "Rectangle",
                POLY_LINE: "Polyline",
                SHORT_LINE: "Segment",
                TIMEMARKER: "TimeMarker",
                TRIANGLE: "Polygon",
                RAY_LINE: "Ray",
                PRICEMARKER: "PriceLevel",
                VLINE: "VerticalLine",
                HLINE: "HorizontalLine",
                ELLIPSE: "Ellipse"
            }[h.type];
            c.color = nn(a_(h.fillColor || h.color));
            c.fillOpacity = parseFloat(h.fillAlpha || "0.35");
            c.strokeOpacity = parseFloat(h.alpha || "1.0");
            c.strokeWidth = parseFloat(h.strokeWidth || "1.0");
            var k = Dt(b, 'node[@name="strokeDashArray"]');
            k && (c.linePattern = Sa(b_(k), parseFloat));
            k = Dt(b, 'node[@name="prices"]');
            b = Dt(b, 'node[@name="times"]');
            if (k && b) {
                var l = b_(k);
                b = b_(b);
                c.controlPointList = Sa(b, function (b, c) {
                    return {time: parseInt(b, 10), value: parseFloat(l[c])}
                })
            }
            if ("Ellipse" === c.type) {
                var p = c.controlPointList;
                b = xb(p[0].time, p[1].time);
                var k = xb(p[0].value, p[1].value), q = yb(p[0].time, p[1].time), p = yb(p[0].value, p[1].value);
                c.controlPointList = [{
                    time: q + (b -
                        q) / 2, value: k
                }, {time: b, value: p + (k - p) / 2}]
            }
            "LinearChannel" === c.type && (p = c.controlPointList, p.push({
                time: p[1].time + parseInt(h.deltaTime),
                value: p[1].value + parseFloat(h.deltaPrice)
            }));
            c.pickable = !0;
            return c
        }, b), function (b) {
            return void 0 !== b.type
        }), pb(Ig, 1)))
    }

    function ZZ(b, c) {
        return Sa(Ra(Sa(Et(c, 'node[@name="indicators"]/node'), function (b) {
                var c = Sa(c_(Dt(b, 'node[@name="indicatorColors"]')), tf(nn, a_)),
                    h = Sa(b_(Dt(b, 'node[@name="indicatorOpacityAlphas"]')), sf(parseFloat, 1)), k = d_(b), l = e_(b),
                    p = Sa(c_(Dt(b, 'node[@name="indicatorLineWidths"]')), sf(parseFloat, 1));
                return {
                    id: b.getAttribute("name"),
                    DW: $Z(b),
                    zaa: f_(this, b),
                    na: Sa(Di(c, h, k, l, p), sf(ob(Ai, function (b, c) {
                        return ["color", "opacity", "show", "lastValueOnChart", "lineWidth"][c]
                    }), 1))
                }
            }, b), function (b) {
                return IC.Paa(b.DW.yaa)
            }),
            function (b) {
                var c = IC.kb(b.DW.yaa);
                E(b.zaa, function (b, d) {
                    c.ja(d, b)
                });
                E(b.na, function (b, d) {
                    var l = c.Se(d);
                    l.vG(b.show);
                    l.wG(b.lastValueOnChart);
                    l.jq(b.lineWidth);
                    l.Ab(b.color);
                    l.Sk(b.opacity)
                });
                return c.lb()
            })
    }

    function d_(b) {
        return Sa(b_(Dt(b, 'node[@name="indicatorShowOutput"]')), function (b) {
            return "true" === b
        })
    }

    function e_(b) {
        return Sa(b_(Dt(b, 'node[@name="indicatorValuesOnChart"]')), function (b) {
            return "true" === b
        })
    }

    function a_(b) {
        return [b >> 16 & 255, b >> 8 & 255, b >> 0 & 255, (b >> 24 & 255) / 255]
    }

    function f_(b, c) {
        var d = [];
        E(Et(c, 'node[@name="indicatorParameters"]/node'), function (b) {
            var c = 1 * b.getAttribute("name");
            b = $Z(b);
            switch (b.paramType) {
                case "BOOLEAN":
                    d[c] = "true" === b.paramValue;
                    break;
                case "INTEGER":
                case "DOUBLE":
                    d[c] = 1 * b.paramValue;
                    break;
                default:
                    throw Error("Unknown indicator parameter type: " + b.paramType);
            }
        }, b);
        return d
    }

    function $Z(b) {
        var c = {};
        E(Et(b, "map/entry"), function (b) {
            c[b.getAttribute("key")] = b.getAttribute("value")
        });
        return c
    }

    function b_(b) {
        var c = [];
        E(Et(b, "map/entry"), function (b) {
            var e = parseInt(b.getAttribute("key"));
            isNaN(e) || (c[e] = b.getAttribute("value"))
        });
        return c
    }

    function c_(b) {
        var c = [];
        E(Et(b, "node"), function (b) {
            var e = parseInt(b.getAttribute("name"), 10);
            c[e] = Dt(b, "map/entry").getAttribute("value")
        });
        return c
    };

    function g_(b) {
        Q.call(this);
        this.ca = b;
        this.rl = new jY(this.ca);
        this.rl.Z(!1);
        this.rl.T(this.ca.Aa());
        this.gW = new WZ(this.ca)
    }

    B(g_, Q);
    f = g_.prototype;
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.Za = !1;
    f.Ba = function (b) {
        this.Za != b && ((this.Za = b) ? this.by() : this.yx())
    };
    f.by = function () {
        this.S().C(document.body, "dragenter", this.tK).C(document.body, "dragover", this.uK).C(document.body, "drop", this.vK)
    };
    f.yx = function () {
        this.S().wa(document.body, ["dragenter", "dragover", "drop"])
    };
    f.tK = function (b) {
        b.stopPropagation();
        b.preventDefault()
    };
    f.uK = function (b) {
        b.stopPropagation();
        b.preventDefault()
    };
    f.vK = function (b) {
        b.stopPropagation();
        b.preventDefault();
        b = b.Pe();
        b.dataTransfer && b.dataTransfer.files && sx(this.LF(b.dataTransfer.files), tf(this.gE, ob(pb(Ra, 2), ka), Ci), this)
    };
    f.LF = function (b) {
        for (var c = [], d = 0; d < b.length; d++) {
            var e = b[d];
            e.type.match(/text\/xml/) && c.push(XQ(e))
        }
        return new BS(c)
    };
    f.gE = function (b) {
        b = Ra(Sa(b, Ct), function (b) {
            return "preferences" === b.documentElement.nodeName
        });
        b = Ci(Sa(b, this.gW.a, this.gW));
        kY(this.rl, b);
        this.rl.Z(0 < b.length)
    };

    function uY(b) {
        return zs(Le, ["a-ib", "mg-ng-og"].concat(b).join(" "), "\u00a0")
    };

    function h_(b, c, d) {
        CO.call(this, b, c, void 0, d)
    }

    B(h_, CO);
    h_.prototype.ua = function (b) {
        h_.P.ua.call(this, b);
        b = this.g;
        this.M().append(b, uY(["a-ib-Qg-eb", "a-j-Xg-Uh-hm"]), uY(["a-ib-Qg-Kj", "a-j-Xg-Uh-im"]))
    };
    h_.prototype.rR = function () {
        return "a-j-Xg-Uh"
    };

    function i_(b, c) {
        lM.call(this, void 0, !0, c);
        this.ca = b;
        var d = new mM(this.M());
        d.set("ok", j_);
        YL(this, d);
        d = y("MSG_CHARTUI_INDICATOR_DIALOG_TITLE", {}, "Indicator");
        this.tf(d);
        this.m = {}
    }

    B(i_, lM);

    function k_(b, c) {
        b.Ea = c;
        if (1 === b.Ea) {
            var d = new mM(b.M());
            d.set("ok", j_);
            d.set($L, l_);
            d.set("delete", m_);
            YL(b, d);
            b.jA(oX + "-wi");
            b.tc(oX + "-Ml")
        }
        0 === b.Ea && (d = new mM(b.M()), d.set("ok", n_), d.set($L, l_), YL(b, d), b.tc(oX + "-wi"), b.jA(oX + "-Ml"))
    }

    var oX = "a-j-Xg", o_ = y("MSG_INDICATOR_INPUT_PARAMETERS_", {}, "Input parameters"),
        p_ = y("MSG_INDICATOR_OUTPUT_PARAMETERS_", {}, "Output parameters"),
        n_ = y("MSG_INDICATOR_DIALOG_BUTTON_CREATE_", {}, "Add"),
        j_ = y("MSG_INDICATOR_DIALOG_BUTTON_APPLY_", {}, "Apply"),
        m_ = y("MSG_INDICATOR_DIALOG_BUTTON_DELETE_", {}, "Delete"),
        l_ = y("MSG_INDICATOR_DIALOG_BUTTON_CANCEL_", {}, "Cancel"), q_ = {};
    q_[2] = y("MSG_PRICE_TYPE_OPEN", {}, "Open");
    q_[3] = y("MSG_PRICE_TYPE_HIGH", {}, "High");
    q_[4] = y("MSG_PRICE_TYPE_LOW", {}, "Low");
    q_[1] = y("MSG_PRICE_TYPE_CLOSE", {}, "Close");
    q_[5] = y("MSG_PRICE_TYPE_MEDIAN", {}, "Median (HL/2)");
    q_[6] = y("MSG_PRICE_TYPE_TYPICAL", {}, "Typical (HLC/3)");
    q_[7] = y("MSG_PRICE_TYPE_WEIGHTED_CLOSE", {}, "Weighted close (HLCC/4)");
    f = i_.prototype;
    f.oa = function () {
        i_.P.oa.call(this);
        var b = new mH(this.nv);
        Id(this, b);
        this.S().C(this.Zi(), "click", this.G4).C(this, ZL, this.tba).C(this.g, "action", function (b) {
            r_(this, IC.kb(b.target.qa().prototype.lc().getName()))
        }).C(b, "input", this.G5);
        dk(this.J(), oX)
    };
    f.G4 = function (b) {
        this.Z(!1);
        b.stopPropagation()
    };
    f.u = function () {
        i_.P.u.call(this);
        y("MSG_CHARTUI_INDICATOR_LIST", {}, "Available indicators");
        var b = y("MSG_CHARTUI_INDICATOR_LIST_FILTER", {}, "Search\u2026"), c = this.M();
        c.append(this.Aa(), c.u(D, oX + "-Yh-Y", c.u(ne, "dc-icon dc-icon-search"), c.u(D, oX + "-Yh-mh-Y", this.nv = c.u(qe, {placeholder: b}))), this.za = c.u(D, oX + "-Jh-Y"), c.u(D, "a-zi-Y", this.K = c.u(Me, oX + "-zi-L"), this.ka = c.u(fe, "a-zi")));
        this.g = new YH(c);
        this.g.T(this.za);
        dk(this.g.J(), oX + "-Jh");
        s_(this)
    };
    f.tba = function (b) {
        "ok" == b.key && (this.Pd && (this.Pd.ck(), E(this.a, function (b) {
            var d = Sa(b.Zf, function (b) {
                return oa(b) ? b.call() : b
            });
            b.Kh.apply(this.Pd, d)
        }, this), this.ca.X().Ni(this.Pd), kX(this.ca)), this.Pd = null, t_(this));
        "delete" === b.key && (this.ca.X().xh(this.Pd), this.Pd = null, t_(this))
    };
    f.G5 = function () {
        var b = Dh(tP(this.nv).toLowerCase());
        La(this.m, function (c, d) {
            var e = c.Dp().toLowerCase(), h = d.toLowerCase();
            gk(c.J(), oX + "-Jh-Mh-gm", !~e.indexOf(b) && !~h.indexOf(b))
        }, this);
        cI(this.g, function (c) {
            var d = c.dz().toLowerCase(), e = c.eg();
            cI(c, function (b) {
                var c = oX + "-Jh-Mh-gm";
                ji(ck(b.J()), c) && e--
            }, this);
            gk(c.J(), oX + "-Uh-gm", 0 == e && !~d.indexOf(b));
            0 < e && !~d.indexOf(b) ? c.expand() : c.collapse()
        }, this)
    };

    function r_(b, c) {
        b.ca.X().W() && co(c, b.ca.X().W());
        b.Pd = c;
        var d = c.lc();
        u_(b);
        b.a = [];
        b.F = ud(c.Ga.slice(0, c.lc().numberOfOutputs), function (b, c) {
            return b || c.N().cF
        }, !1);
        b.w = ud(c.Ga.slice(0, c.lc().numberOfOutputs), function (b, c) {
            return b || c.N().ng
        }, !1);
        var e = b.M();
        E(rs(e.Wb, D, oX + "-Jh-Mh-i", b.za), function (b) {
            ek(b, oX + "-Jh-Mh-i")
        });
        d = b.m[d.getName()];
        dk(d.J(), oX + "-Jh-Mh-i");
        d.getParent().expand();
        t_(b);
        b.xe()
    }

    function u_(b) {
        var c = b.ca.X(), d = c.Md, e = b.Pd;
        b = e.lc();
        if (!c.Rp(e) && !c.gA && (c = Ua(Ug(d, function (b) {
            return b.lc().getName() === e.lc().getName()
        })), 0 < c.length ? c = c[c.length - 1] : c = -1, d[c])) if (e.Ab(d[c].Jb()), fo(e, d[c].OJ()), 1 === b.numberOfOutputs) e.Se(0).Ab(e.Jb()); else if (1 < b.numberOfOutputs) for (d = 0, b = b.numberOfOutputs; d < b; ++d) e.OJ()[d] && e.Se(d).Ab(e.OJ()[d])
    }

    function s_(b) {
        b.g.me(!0);
        dh(b.m);
        La(IC.Zn, function (b, d) {
            if (!GF(this.ca.X()) || d != H.ws) {
                var e = new h_(d, null, this.M());
                this.g.Va(e, !0);
                La(b, function (b) {
                    var c = new nX(b, null, this.M());
                    this.m[b.prototype.lc().getName()] = c;
                    e.Va(c, !0)
                }, this)
            }
        }, b)
    }

    function t_(b) {
        var c = b.M();
        c.me(b.ka);
        c.ci(b.K, "");
        if (b.Pd) {
            c.ci(b.K, b.Pd.lc().Nb());
            var d = b.Pd, e = d.Lb, h = d.Bv();
            if (e.length || h.length) {
                var k = c.u(ee, "a-Vl", c.u(ue, "a-Xk", o_));
                E(e || [], va(b.L3, k), b);
                E(h || [], va(b.N3, k), b);
                1 < k.childNodes.length && c.append(b.ka, k)
            }
            d = d.Ga.slice(0, d.lc().numberOfOutputs);
            d.length && (e = c.u(ee, "a-Vl", c.u(ue, "a-Xk", p_)), h = v_(b), E(d, va(b.O3, rs(c.Wb, "tbody", null, h)[0]), b), c.append(e, h), c.append(b.ka, e))
        }
    }

    f.L3 = function (b, c, d) {
        if (0 != c.Kb()) {
            var e = this.M(), h = e.u(D, "a-Wl-Y", e.u(te, "a-fi", c.getName())), k, l;
            1 == c.Kb() && (l = new eN(null, this.M()), l.T(this.Aa()), k = new jP(null, l, iP.Ka()), La(q_, function (b, c) {
                k.bc(new jL(b, Number(c)))
            }), k.V(c.G()), k.T(h));
            this.a.push({Kh: this.Pd.cn, Zf: [d, v(k.G, k)]});
            e.append(b, h)
        }
    };
    f.N3 = function (b, c, d) {
        var e = this.M(), h = e.u(D, "a-Wl-Y", e.u(te, "a-fi", c.name)), k, l;
        switch (!0) {
            case c.description instanceof Og:
                k = new EZ;
                k.Fi(c.description.min);
                k.Hg(c.description.max);
                k.qg(c.description.g);
                break;
            case c.description instanceof Tc:
                l = new eN(null, this.M()), l.T(this.Aa()), k = new jP(null, l, iP.Ka()), E(c.description.values, function (b) {
                    k.bc(new jL(c.description.m[b], c.description.values[b]))
                })
        }
        k.V(this.Pd.ya(d) || c.description.a);
        this.a.push({Kh: this.Pd.ja, Zf: [d, v(k.G, k)]});
        k.T(h);
        e.append(b, h)
    };
    f.O3 = function (b, c, d) {
        var e = this.M(), h = e.createElement(Ze), k = {show: !0, label: !0, color: !0};
        this.w && (k.secondarycolor = !0);
        this.F && (k["line-style"] = !0, k["line-width"] = !0);
        for (var l in k) if (k.hasOwnProperty(l)) {
            var p = e.createElement(Re);
            e.append(h, p);
            if (k[l]) switch (l) {
                case "show":
                    var q = new yK;
                    q.Tb(c.show);
                    q.T(p);
                    this.a.push({
                        Kh: function () {
                            this.Se(d).vG(q.Cf())
                        }, Zf: []
                    });
                    break;
                case "label":
                    e.appendChild(p, e.createTextNode(c.name));
                    break;
                case "color":
                    var r = new oM;
                    r.T(this.J());
                    r.Ab(c.Jb());
                    qI(r.Ue, c.Fm());
                    var t = e.u(D, "a-Kl-vg-lh", e.createTextNode("\u00a0")),
                        u = new qL(e.u(D, "a-Kl-vg-Eb", t), yL.Ka());
                    u.tc("a-Kl-vg");
                    u.T(p);
                    w_(t, sI(r.Ue));
                    r.Hf(u.J());
                    Qt(r, "action", function () {
                        w_(t, sI(r.Ue))
                    });
                    this.a.push({
                        Kh: function () {
                            var b = this.Se(d), c = sI(r.Ue), c = vn(c).dj;
                            b.Ab(Dn(c, 0, 7));
                            b.Sk(parseInt(Dn(c, 7, 9), 16) / 255)
                        }, Zf: []
                    });
                    break;
                case "secondarycolor":
                    if (!c.N().ng) break;
                    var x = new oM;
                    x.T(this.J());
                    x.Ab(c.ng);
                    qI(x.Ue, c.Pt);
                    var A = e.u(D, "a-Kl-vg-lh", e.createTextNode("\u00a0")),
                        u = new qL(e.u(D, "a-Kl-vg-Eb", A), yL.Ka());
                    u.tc("a-Kl-vg");
                    u.T(p);
                    w_(A, sI(x.Ue));
                    x.Hf(u.J());
                    Qt(x, "action", function () {
                        w_(A, sI(x.Ue))
                    });
                    this.a.push({
                        Kh: function () {
                            var b = this.Se(d), c = sI(x.Ue), c = vn(c).dj, e = Dn(c, 0, 7);
                            b.ng = e;
                            c = parseInt(Dn(c, 7, 9), 16) / 255;
                            b.Pt = c
                        }, Zf: []
                    });
                    break;
                case "line-style":
                    if (!c.N().cF) break;
                    u = new eN(null, this.M());
                    u.T(this.Aa());
                    var C = new jP(null, u, iP.Ka());
                    this.S().C(C, "change", v(x_, C));
                    C.tc("a-Bj-am-Vg");
                    C.bc(new jL(y_(this, {"border-top": "2px solid rgb(0, 0, 0)"}), Hc.Px));
                    C.bc(new jL(y_(this, {"border-top": "2px dotted rgb(0, 0, 0)"}),
                        Hc.Xo));
                    C.bc(new jL(y_(this, {"border-top": "2px dashed rgb(0, 0, 0)"}), Hc.Ej));
                    dk(C.cc().J(), "a-Bj-am-zg");
                    C.V(c.a ? c.a : Yn(c, c.Rc));
                    C.T(p);
                    x_.call(C, new cf("change", C));
                    this.a.push({
                        Kh: function () {
                            this.Se(d).ai(C.G())
                        }, Zf: []
                    });
                    break;
                case "line-width":
                    if (!c.N().cF) break;
                    u = new eN(null, this.M());
                    u.T(this.Aa());
                    var I = new jP(null, u, iP.Ka());
                    this.S().C(I, "change", v(z_, I));
                    I.tc("a-Bj-Zl-Vg");
                    for (u = 1; 10 >= u; u++) I.bc(new jL(A_(this, u), u));
                    dk(I.cc().J(), "a-Bj-Zl-zg");
                    I.V(c.Pg());
                    I.T(p);
                    z_.call(I, new cf("change",
                        I));
                    this.a.push({
                        Kh: function () {
                            this.Se(d).jq(I.G())
                        }, Zf: []
                    })
            } else e.appendChild(p, e.createTextNode("\u00a0"))
        }
        e.append(b, h)
    };

    function z_(b) {
        this.Kc(b ? b.target.G() + "px" : this.a)
    }

    function x_(b) {
        this.Kc(b ? b.target.G() == Hc.Px ? "Solid" : b.target.G() == Hc.Xo ? "Dotted" : "Dashed" : this.a)
    }

    function w_(b, c) {
        ht(b, "background-color", Dn(c, 0, 7));
        pG(b, parseInt(Dn(c, 7, 9), 16) / 255)
    }

    function v_(b) {
        var c = b.M();
        b = B_(b);
        return c.u(Pe, "a-j-km-lm", Sa(b, function (b) {
            return c.u(be, {width: b.width + "%"})
        }), c.u(Xe, null, c.u(Ze, null, Sa(b, function (b) {
            return c.u(Ve, null, b.title)
        }))), c.createElement(Qe))
    }

    function B_(b) {
        var c = y("MSG_INDICATOR_OUTPUT_PARAMETER_NAME", {}, "Name"),
            d = y("MSG_INDICATOR_OUTPUT_PARAMETER_COLOR", {}, "Color"),
            e = y("MSG_INDICATOR_OUTPUT_PARAMETER_LINE_STYLE", {}, "Line style"),
            h = y("MSG_INDICATOR_OUTPUT_PARAMETER_LINE_WIDTH", {}, "Line width"),
            k = y("MSG_INDICATOR_OUTPUT_PARAMETER_COLOR_TREND_UP", {}, "Trend up"),
            l = y("MSG_INDICATOR_OUTPUT_PARAMETER_COLOR_TREND_DOWN", {}, "Trend down"),
            p = [{title: "\u00a0", width: 5}];
        b.F ? (p = b.w ? p.concat([{title: c, width: 25}, {title: k, width: 15}, {title: l, width: 15}]) :
            p.concat([{title: c, width: 25}, {title: d, width: 30}]), p = p.concat([{title: e, width: 20}, {
            title: h,
            width: 20
        }])) : p = b.w ? p.concat([{title: c, width: 50}, {title: k, width: 45}, {
            title: l,
            width: 45
        }]) : p.concat([{title: c, width: 50}, {title: d, width: 45}]);
        return p
    }

    var C_ = "a-Bj-Zl-0 a-Bj-Zl-mm a-Bj-Zl-nm a-Bj-Zl-om a-Bj-Zl-pm a-Bj-Zl-qm a-Bj-Zl-rm a-Bj-Zl-sm a-Bj-Zl-tm a-Bj-Zl-um a-Bj-Zl-vm".split(" ");

    function A_(b, c) {
        return b.M().u(Le, "a-Bj-Zl-Kg " + C_[c], "\u00a0")
    }

    function y_(b, c) {
        var d = b.M().u(Le, "a-Bj-am-Kg", "\u00a0");
        ht(d, c);
        return d
    };

    function D_(b, c) {
        YH.call(this, c);
        this.ca = b;
        this.zs = {};
        this.zs[E_(this.ca)] = !0
    }

    B(D_, YH);
    D_.prototype.Uj = !1;
    var F_ = y("MSG_CHART_UI_OBJECT_PANE_TYPE_INDICATOR", {}, "Indicators"),
        G_ = y("MSG_CHART_UI_OBJECT_PANE_TYPE_DRAWING", {}, "Drawings"),
        H_ = [{name: F_, type: 2}, {name: G_, type: 4}];
    f = D_.prototype;
    f.ig = function () {
        return this.ca
    };
    f.QN = !1;

    function I_(b) {
        b.QG.Z(b.QN);
        gk(b.J(), "a-b-h-cj-Oh-mj", b.QN)
    }

    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        this.Da = b;
        var c = y("MSG_CHART_UI_OBJECT_PANE_FILTER", {}, "Filter\u2026"),
            d = y("MSG_CHART_UI_OBJECT_PANE_REMOVE_ALL", {}, "Remove all"),
            e = y("MSG_CHART_UI_OBJECT_PANE_SHOW_ALL", {}, "Show all"),
            h = y("MSG_CHART_UI_OBJECT_PANE_HIDE_ALL", {}, "Hide all"),
            k = y("MSG_CHART_UI_OBJECT_PANE_SHOW_IMPORT", {}, "Import Workspace.xml\u2026"),
            l = y("MSG_OHLC_HEADER", {}, "OHLC Menu"), p = y("MSG_CHART_OBJECTS", {}, "Chart objects"), q = this.M();
        dk(b, "a-b-h-cj");
        q.append(b, q.u(D, "a-b-h-cj-ih"), this.$K = q.u(D, "a-b-h-cj-B",
            l));
        O(this.$K, this.Uj);
        this.Hba = new TF(b, this.$K);
        this.Am = new zK(TJ, PJ(OJ, "a-b-h-cj-Yh-Y"), q);
        this.nv = new xP("search");
        this.nv.setAttribute("placeholder", c);
        this.tY = new eN(null, this.M());
        this.tY.T(this.ca.Aa());
        this.xx = new hN(uY("a-ib-Qg-Kj"), this.tY, XJ(hP, "a-b-h-cj-ej-Bg-vg"), this.M());
        E(H_, function (b) {
            b = new mL(b.name, b.type);
            b.Tb(!0);
            this.xx.bc(b)
        }, this);
        this.xx.Zp.a = 13;
        this.nf = new YH(q);
        this.An = new zK(TJ, PJ(OJ, "a-b-h-cj-fj-Y"), q);
        this.An.Ei(!1);
        this.An.WB = !0;
        this.du = new qL(e, sL.Ka(), q);
        this.du.tc("a-b-h-cj-gj-jj");
        this.du.Z(!1);
        this.Mv = new qL(h, sL.Ka(), q);
        this.Mv.tc("a-b-h-cj-ij-jj");
        this.NM = new qL(d, sL.Ka(), q);
        this.NM.tc("a-b-h-cj-kj-jj");
        this.QG = new qL(k, sL.Ka(), q);
        this.QG.tc("a-b-h-cj-gj-mj");
        q.append(b, this.EI = q.u(D, "a-b-h-cj-nj-oj"));
        q.append(b, this.OI = q.u(D, "a-b-h-cj-b-qj-oj", p, this.kC = q.u(Le, null, uY("a-ib-Qg-Kj"))));
        O(this.OI, this.Uj);
        this.Va(this.Am, !0);
        this.Am.Va(this.nv, !0);
        this.Am.Va(this.xx, !0);
        O(this.Am.J(), !this.Uj);
        this.Va(this.nf, !0);
        this.Va(this.An, !0);
        this.An.Va(this.du, !0);
        this.An.Va(this.Mv,
            !0);
        this.An.Va(this.NM, !0);
        this.An.Va(this.QG, !0);
        O(this.An.J(), !this.Uj);
        I_(this);
        O(this.nf.J(), !this.Uj);
        q.append(b, this.lA = q.u(D, "a-b-h-cj-x"))
    };

    function J_(b) {
        var c = !0, d = !0;
        cI(b.nf, function (b) {
            K_(b) ? c = !1 : d = !1;
            L_(b)
        });
        if (c || d) b.du.Z(c), b.Mv.Z(!c), b.zs[E_(b.ca)] = c
    }

    f.oa = function () {
        D_.P.oa.call(this);
        dk(this.nf.J(), "a-b-h-cj-Jh");
        this.la && O(this.J(), this.Xr);
        this.S().C(this.Am, "input", this.dS).C(this.xx, "action", this.dS).C(this.nf, M_, this.T$).C(this.nf, N_, this.U9).C(this.nf, O_, this.wK).C(this.nf, P_, this.rK).C(this.nf, Q_, this.sh).C(this.Mv, "action", v(this.$X, this, !1)).C(this.du, "action", v(this.$X, this, !0)).C(this.NM, "action", this.dca).C(this.QG, "action", this.vfa).C(this.OI, "click", this.S$);
        R_(this)
    };

    function R_(b) {
        b.S().C(X(b.ca), "indicatoradd", b.W9).C(X(b.ca), "indicatorremove", b.Y9).C(X(b.ca), "chartobjectadd", b.ur).C(X(b.ca), "chartobjectevent", b.dE).C(X(b.ca), "chartobjectremove", b.eE);
        b.nf.me(!0);
        La(X(b.ca).Md, function (b) {
            S_(this, b)
        }, b);
        E(X(b.ca).ga().ri(), function (b) {
            b.eh || S_(this, b)
        }, b);
        b.Am.dispatchEvent("input");
        void 0 === b.zs[E_(b.ca)] && (b.zs[E_(b.ca)] = !0);
        b.du.Z(!b.zs[E_(b.ca)]);
        b.Mv.Z(b.zs[E_(b.ca)])
    }

    f.S$ = function () {
        var b = !qG(this.nf.J());
        O(this.nf.J(), b);
        O(this.Am.J(), b);
        O(this.An.J(), b);
        this.kw = b ? 330 : 189;
        this.jw = b ? nG(dG(this.J())).height : 189;
        T_(this.J(), "min-height", this.kw);
        T_(this.J(), "max-height", this.jw);
        T_(this.lA, "top", PF(this.J()).height - (b ? 222 : 200));
        K.enable(Ns(this.kC), "a-ib-Qg-Kj", !b);
        K.enable(Ns(this.kC), "a-ib-Qg-Lj", b);
        U_(this)
    };
    f.$X = function (b) {
        cI(this.nf, function (c) {
            var d = c.qa();
            switch (!0) {
                case d instanceof M:
                    YV(X(this.ca), d, b);
                    break;
                case d instanceof P:
                    d.hs(b)
            }
            L_(c)
        }, this);
        X(this.ca).Ia();
        this.du.Z(!b);
        this.Mv.Z(b);
        this.zs[E_(this.ca)] = b
    };
    f.dca = function () {
        X(this.ca).iA();
        X(this.ca).ga().reset()
    };
    f.vfa = function () {
        var b = this.ca.HO, c = b.rl;
        c.Ct.me(!0);
        c.tc("a-Lk-Xg-ym-mj");
        b.rl.Z(!0)
    };

    function V_(b) {
        return (b instanceof M ? "ind" : "cdo") + qa(b)
    }

    function S_(b, c) {
        var d = V_(c);
        b.nf.Cm(d) ? b.nf.Cm(d).Ax() : b.nf.Va(new W_(c, b.M()), !0)
    }

    function X_(b, c) {
        var d = b.nf.Cm(V_(c));
        d && b.nf.removeChild(d, !0)
    }

    f.W9 = function (b) {
        S_(this, b.kb());
        this.Am.dispatchEvent("input")
    };
    f.Y9 = function (b) {
        X_(this, b.kb())
    };
    f.ur = function (b) {
        b.Ep() instanceof fC || (b.Ep().eh || S_(this, b.Ep()), this.Am.dispatchEvent("input"))
    };
    f.dE = function (b) {
        b = V_(b.Ep());
        if (b = this.nf.Cm(b)) L_(b), b.Ax(), Y_(b)
    };
    f.eE = function (b) {
        X_(this, b.Ep())
    };
    f.T$ = function (b) {
        b = b.target.qa();
        switch (!0) {
            case b instanceof M:
                YV(X(this.ca), b, !0);
                break;
            case b instanceof P:
                b.hs(!0)
        }
        J_(this);
        X(this.ca).Ia()
    };
    f.U9 = function (b) {
        b = b.target.qa();
        switch (!0) {
            case b instanceof M:
                YV(X(this.ca), b, !1);
                break;
            case b instanceof P:
                b.hs(!1)
        }
        J_(this);
        X(this.ca).Ia()
    };
    f.wK = function (b) {
        b = b.target.qa();
        switch (!0) {
            case b instanceof M:
                Z_(this.ca, b);
                break;
            case b instanceof P:
                $_(this.ca, b)
        }
    };
    f.rK = function (b) {
        b = b.target.qa();
        switch (!0) {
            case b instanceof M:
                X(this.ca).xh(b);
                break;
            case b instanceof P:
                X(this.ca).ga().Me(b)
        }
    };
    f.sh = function (b) {
        b = b.target.qa();
        switch (!0) {
            case b instanceof P:
                b = vA(b);
                b = (b[0] + b[2]) / 2;
                var c = X(this.ca).Qa();
                X(this.ca).Dd(c.x(b) - X(this.ca).je().width / 2 | 0)
        }
    };
    f.dS = function () {
        for (var b = this.nv.G().toLowerCase(), c = 0, d = 0, e = this.xx.ez(); d < e; d++) {
            var h = this.xx.mr(d);
            h.Cf() && (c += h.qa())
        }
        cI(this.nf, function (d) {
            var e = d.qa(), h = d.Ob().toLowerCase(), h = 0 == h.length || ~h.indexOf(b),
                e = e instanceof M && c & 2 || e instanceof P && c & 4;
            d.Z(h && e)
        })
    };
    f.md = !1;
    f.Z = function (b) {
        this.md = b;
        gk(this.J(), "a-b-h-cj-Ug", this.md);
        gk(this.J(), "a-b-h-cj-dj", !this.md)
    };
    f.hs = function (b) {
        this.Xr = b;
        this.la && O(this.J(), this.Xr)
    };

    function a0(b, c) {
        b.Uj = c;
        Js(b.EI);
        K.enable(b.J(), "a-b-h-cj-W", b.Uj);
        O(b.$K, b.Uj);
        O(b.OI, b.Uj);
        O(b.nf.J(), !b.Uj);
        O(b.Am.J(), !b.Uj);
        O(b.An.J(), !b.Uj);
        K.enable(Ns(b.kC), "a-ib-Qg-Lj", !1);
        K.enable(Ns(b.kC), "a-ib-Qg-Kj", !0);
        cI(b.nf, function (b) {
            Js(b.zO)
        });
        b.Uj ? (b.jw = nG(dG(b.J())).height, b.kw = 189, T_(b.J(), "max-height", b.kw), T_(b.J(), "min-height", b.kw), U_(b), b.S().C(b.lA, "mousedown", b.yU).C(X(b.ca), "capturedata", b.eC)) : (tu(b.J(), "", ""), JF(b.J(), "", ""), ht(b.J(), "max-height", ""), ht(b.lA, "top", ""), b.S().wa(b.lA,
            "mousedown", b.yU).wa(b.ca.J(), "mouseup", b.BU).wa(X(b.ca), lx, b.eC));
        b0(b)
    }

    function b0(b) {
        b.Uj ? b.S().C(X(b.ca), "capturedata", b.eC) : b.S().wa(X(b.ca), lx, b.eC)
    }

    f.eC = function () {
        var b = this.M(), c, d;
        this.iy = this.ca.nj.ka[0];
        this.Of = {};
        this.Nm = {};
        Js(this.EI);
        for (var e = 0, h = this.iy.length; e < h; e++) {
            var k = this.iy[e];
            switch (!0) {
                case oa(k):
                    break;
                case ia(k):
                    b.append(this.EI, b.u(D, "a-b-h-cj-nj-oj-Th", b.u(D, "a-b-h-cj-nj-oj-tj", k[0]), b.u(D, "a-b-h-cj-nj-oj-pj", k[1])))
            }
        }
        E(this.ca.nj.ka[1], function (b) {
            oa(b) ? d = b() : b[1] ? c && (this.Nm[c] = this.Nm[c] || [], this.Nm[c].push(d), this.Of[c] = this.Of[c] || [], this.Of[c].push(b)) : c = b[0].toLowerCase()
        }, this);
        cI(this.nf, function (c) {
            var d = c.Ob().toLowerCase();
            if (this.Of[d]) {
                var e = zs(D, null);
                E(this.Of[d], function (c, h) {
                    var k;
                    b.append(e, k = b.u(D, null, b.u(D, "a-b-h-cj-sj-oj-tj", c[0]), b.u(D, "a-b-h-cj-sj-oj-pj", c[1])));
                    this.Nm[d][h] && ht(k, "color", this.Nm[d][h])
                }, this);
                c0(c, e)
            }
        }, this)
    };
    f.yU = function () {
        this.S().C(this.ca.J(), "mousemove", this.zU).C(this.ca.J(), "mouseup", this.BU)
    };
    f.BU = function () {
        this.S().wa(this.ca.J(), "mousemove", this.zU)
    };
    f.zU = function (b) {
        var c = b.clientX - oG(this.J()).left, d = b = b.clientY - oG(this.J()).top;
        this.jw = qG(this.nf.J()) ? nG(dG(this.J())).height : 189;
        d > this.jw && (d = this.jw);
        d < this.kw && (d = this.kw);
        d -= qG(this.Am.J()) ? 220 : 198;
        T_(this.lA, "top", d);
        JF(this.J(), c, b);
        U_(this);
        T_(this.J(), "max-height", this.jw)
    };

    function T_(b, c, d) {
        ht(b, c, d ? d + "px" : "")
    }

    function U_(b) {
        UF(b.Hba, new Ip(0, 0, nG(dG(b.J())).width - PF(b.J()).width, nG(dG(b.J())).height - PF(b.J()).height))
    }

    function W_(b, c) {
        YH.call(this, c);
        this.fe(b);
        this.Va(this.aY = new qL(uY("a-ib-Wj-Xj"), this.fC), !0);
        this.Va(this.UU = new qL(uY("a-ib-Wj-Ug"), this.fC), !0);
        this.Va(this.XR = new qL(uY("a-ib-Sj"), this.fC), !0);
        this.Va(this.wR = new qL(uY("a-ib-Tj"), this.fC), !0);
        this.aY.tc("a-b-h-cj-Jh-Mh-gj");
        this.UU.tc("a-b-h-cj-Jh-Mh-ij");
        this.XR.tc("a-b-h-cj-Jh-Mh-Ml");
        this.wR.tc("a-b-h-cj-Jh-Mh-Nk")
    }

    B(W_, YH);
    W_.prototype.fC = XJ(rL, "a-b-h-cj-Jh-Mh-vg");
    W_.prototype.u = function () {
        this.ua(this.M().u(D, "a-b-h-cj-Jh-Mh"))
    };
    W_.prototype.Aa = function () {
        return this.Wu
    };
    W_.prototype.ua = function (b) {
        this.Da = b;
        var c = this.M();
        c.append(b, this.HI = c.u(D, "a-b-h-cj-Jh-Mh-Ag", this.Ob()), this.Wu = c.u(D, "a-b-h-cj-Jh-Mh-fj"), this.zO = c.u(D, "a-b-h-cj-Jh-Mh-rj"))
    };

    function c0(b, c) {
        Js(b.zO);
        b.M().append(b.zO, c)
    }

    function L_(b) {
        gk(b.J(), "a-b-h-cj-Jh-Mh-S", K_(b));
        gk(b.J(), "a-b-h-cj-Jh-Mh-hj", !K_(b))
    }

    function K_(b) {
        var c = b.qa();
        b = X(b.getParent().getParent().ig());
        switch (!0) {
            case c instanceof M:
                return b.Rp(c) && b.qd(c.Zb()).Wa();
            case c instanceof P:
                return b = Gx(b.ga().o), c.Vp(b ? b.Qa() : null, b ? b.vb() : null, b ? b.Ha : null)
        }
    }

    var M_ = "show", N_ = "hide", O_ = "edit", P_ = "delete", Q_ = "select";
    f = W_.prototype;
    f.fe = function (b) {
        W_.P.fe.call(this, b);
        this.$h(V_(b));
        this.es(this.Ob())
    };
    f.es = function (b) {
        this.la && this.M().ci(this.HI, b)
    };
    f.Ax = function () {
        this.es(this.Ob())
    };

    function Y_(b) {
        b.la && ht(b.HI, "color", b.Jb())
    }

    f.Jb = function () {
        var b = this.qa();
        switch (!0) {
            case b instanceof M:
                return b.Se(0).Jb();
            case b instanceof P:
                return b.Jb()
        }
    };
    f.Ob = function () {
        return (this.qa() || "").toString()
    };
    f.oa = function () {
        W_.P.oa.call(this);
        L_(this);
        Y_(this);
        this.S().C(this.J(), "click", function (b) {
            b.target != this.J() && b.target != this.HI || this.dispatchEvent(Q_)
        }).C(this.aY, "action", v(this.dispatchEvent, this, M_)).C(this.UU, "action", v(this.dispatchEvent, this, N_)).C(this.XR, "action", v(this.dispatchEvent, this, O_)).C(this.wR, "action", v(this.dispatchEvent, this, P_))
    };
    f.Z = function (b) {
        O(this.J(), b)
    };

    function d0(b) {
        this.w = b.M();
        this.ca = b;
        this.o = X(b);
        this.$ = {};
        this.K = {};
        this.F = {};
        this.R = {};
        this.a = {x: 0, y: 0, time: 0, value: 0};
        this.ia = !1
    }

    B(d0, Q);

    function e0(b) {
        return b.$[b.o.aa()]
    }

    function f0(b, c) {
        c ? b.$[b.o.aa()] = c : delete b.$[b.o.aa()]
    }

    function g0(b) {
        return b.K[b.o.aa()]
    }

    function h0(b, c) {
        c ? b.K[b.o.aa()] = c : delete b.K[b.o.aa()]
    }

    function i0(b, c) {
        Yt(b.o.R, "contextmenu", v(b.jK, b));
        Yt(b.o.Kl, "indicatorobjectpick", v(b.yK, b));
        Yt(b.o.Kl, "indicatorobjectunpick", v(b.zK, b));
        Yt(b.o.ga(), "objectpick", v(b.KK, b));
        Yt(b.o.ga(), "objectunpick", v(b.NK, b));
        b.o = c;
        Qt(b.o.R, "contextmenu", v(b.jK, b));
        Qt(b.o.Kl, "indicatorobjectpick", v(b.yK, b));
        Qt(b.o.Kl, "indicatorobjectunpick", v(b.zK, b));
        Qt(b.o.ga(), "objectpick", v(b.KK, b));
        Qt(b.o.ga(), "objectunpick", v(b.NK, b))
    }

    f = d0.prototype;
    f.init = function () {
        Qt(this.o.R, "contextmenu", v(this.jK, this));
        this.Qe().Hf(this.o.R, void 0, void 0, !0);
        j0(this)
    };
    f.M = function () {
        return this.w
    };
    f.jK = function (b) {
        this.m = this.o.Hm(b.offsetX, b.offsetY);
        var c = this.o.pa + b.offsetX;
        b = b.offsetY - this.m.Ha.top;
        this.a.x = c;
        this.a.y = b;
        this.a.value = this.m.vb().qc(b);
        this.a.time = Math.round(this.m.Qa().t(c))
    };
    f.Qe = function () {
        if (this.g) return this.g;
        this.g = new kN;
        var b = {};
        La(fX(), function (c) {
            "function" === typeof c.LQ ? (this.F[c.name] = c.LQ.call(this, c), b[c.name] = this.F[c.name]) : this.F[c.name] = new jL(this.w.u(D, null, this.w.u(Le, null, Cm(c.caption)), this.w.u(Le, "el-eb", Cm(c.Dc))), c.name);
            this.g.Va(this.F[c.name], !0);
            if (c.name == fX().Iq.name || c.name == fX().cI.name) this.R[c.name] = new bN(this.M()), this.g.Va(this.R[c.name], !0)
        }, this);
        this.ia ? this.g.T() : (this.g.T(this.ca.J()), k0(this, b));
        K.add(this.g.J(), "chart-context-menu");
        K.add(this.g.J(), "b-yn-zg");
        return this.g
    };

    function l0(b) {
        var c = fX();
        La(b.F, function (b) {
            var e = !e0(this), h = e0(this) instanceof P, k = e0(this) instanceof M;
            switch (b.G()) {
                case c.XO.name:
                case c.$O.name:
                case c.OP.name:
                    e = !!e0(this) && k;
                    break;
                case c.WO.name:
                case c.IB.name:
                case c.ZO.name:
                    e = !!e0(this) && h;
                    break;
                case c.Ox.name:
                    e = !!e0(this) && h && !e0(this).eh;
                    break;
                case c.Iq.name:
                    h = g0(this) ? Cm(c.Iq.caption) + " " + g0(this).getTypeName() : Cm(c.Iq.caption);
                    b.es(this.w.u(D, null, this.w.u(Le, null, h), this.w.u(Le, "el-eb", Cm(c.Iq.Dc))));
                    b.Ba(!!g0(this));
                    this.R[b.G()].Z(e);
                    break;
                case c.bP.name:
                    this.w.QJ("mg-Pg-Qg", b.J())[0].innerHTML = "";
                    break;
                case c.cP.name:
                    break;
                case c.IP.name:
                    b.Ba(m0(this));
                    break;
                case c.LP.name:
                    b.Ba(!ch(this.o.Md));
                    break;
                case c.cI.name:
                    b.Ba(m0(this) || !ch(this.o.Md));
                    this.R[b.G()].Z(e);
                    break;
                case c.LO.name:
                    e = !h && !k;
                    break;
                default:
                    e = !1
            }
            b.Z(e)
        }, b)
    }

    function m0(b) {
        return !ki(Ra(b.o.ga().ri(), function (b) {
            return !b.eh
        }, b))
    }

    function j0(b) {
        Qt(b.o.Kl, "indicatorobjectpick", v(b.yK, b));
        Qt(b.o.Kl, "indicatorobjectunpick", v(b.zK, b));
        Qt(b.o.ga(), "objectpick", v(b.KK, b));
        Qt(b.o.ga(), "objectunpick", v(b.NK, b));
        Qt(b.Qe(), "beforeshow", v(function () {
            l0(this)
        }, b));
        var c = v(function (b) {
            var c = fX();
            switch (b.target.G()) {
                case c.XO.name:
                    Z_(this.ca, e0(this));
                    break;
                case c.$O.name:
                    YV(this.o, e0(this), !1);
                    e0(this).zC = !1;
                    J_(this.ca.Qi);
                    break;
                case c.OP.name:
                    this.xh();
                    break;
                case c.IB.name:
                    Yt(this.o.ga(), Bu, n0(this));
                    h0(this, e0(this));
                    Qt(this.o.ga(),
                        Bu, n0(this));
                    break;
                case c.ZO.name:
                    e0(this).hs(!1);
                    this.o.ga().nn(e0(this));
                    J_(this.ca.Qi);
                    break;
                case c.WO.name:
                    this.ca.mh.la || this.ca.mh.T(this.ca.Aa());
                    this.ca.mh.Z(!0);
                    this.ca.mh.Jw(e0(this));
                    break;
                case c.Ox.name:
                    this.o.ga().Me(e0(this));
                    break;
                case c.Iq.name:
                    var h;
                    b = [];
                    var c = g0(this).Zs(), k, l, p;
                    "GhostFeed" == g0(this).Kb() && (c = g0(this).We);
                    for (k = 0; k < c.length; k++) 0 === k ? (h = this.a.x - this.m.Qa().x(c[k].time), l = this.a.value - c[k].value, b.push({
                            time: g0(this).Io(this.o, this.a.time),
                            value: this.a.value
                        })) :
                        (p = this.m.Qa().x(c[k].time) + h, b.push({
                            time: g0(this).Io(this.o, Math.round(this.m.Qa().t(p))),
                            value: c[k].value + l
                        }));
                    h = new (Fu[g0(this).Kb()]);
                    h.Xh(this.o.ga());
                    h.cb(g0(this).lb());
                    "GhostFeed" == g0(this).Kb() && (h.We = b);
                    h.uj(b);
                    h.Yr = this.m;
                    h.ck();
                    this.o.ga().Jg(h, this.m);
                    break;
                case c.IP.name:
                    o0(this);
                    break;
                case c.LP.name:
                    this.o.iA();
                    break;
                case c.cI.name:
                    o0(this);
                    this.o.iA();
                    break;
                case c.cP.name:
                    this.ca.EW.dispatchEvent("action");
                    break;
                case c.LO.name:
                    this.ca.bg.dispatchEvent("action")
            }
        }, b);
        Qt(b.Qe(), "action",
            c)
    }

    f.yK = function (b) {
        e0(this) instanceof P || f0(this, b.target)
    };
    f.zK = function () {
        e0(this) instanceof P || f0(this, null)
    };
    f.KK = function (b) {
        var c = b.target.qd() || Gx(this.o), d = c.Qa(), e = c.vb();
        b.target.Vp(d, e, c.Ha) && f0(this, b.target)
    };
    f.NK = function () {
        f0(this, null)
    };

    function n0(b) {
        if (b.U) return b.U;
        b.U = v(function (b) {
            g0(this) === b.target && (h0(this, null), Yt(this.o.ga(), Bu, this.U))
        }, b);
        return b.U
    }

    f.xh = function () {
        this.o.xh(e0(this))
    };

    function o0(b) {
        var c = pi(b.o.ga().ri());
        E(c, function (b) {
            b.eh || this.o.ga().Me(b)
        }, b)
    }

    f.p4 = function (b) {
        b = new LN(b.caption, b.name);
        b.Bo(this.ca.tl);
        b.lV = !0;
        Qt(b, "action", v(function (b) {
            this.g.wr();
            this.ca.gv.dispatchEvent(b)
        }, this));
        return b
    };

    function k0(b, c) {
        var d = fX();
        La(c, function (b, c) {
            switch (c) {
                case d.bP.name:
                    Qt(b.cc(), "hide", v(function () {
                        ht(b.cc().J(), "margin-top", "0px")
                    }, this)), Qt(b, "enter", v(function (d) {
                        d.target.qa() == c && ht(b.cc().J(), "margin-top", "2px")
                    }, this))
            }
        }, b)
    }

    function fX() {
        var b = y("MSG_CONTEXT_MENU_FORMAT", {}, "Format"),
            c = y("MSG_CONTEXT_MENU_FORMAT_INDICATOR", {}, "Format indicator"),
            d = y("MSG_CONTEXT_MENU_COPY", {}, "Copy"), e = y("MSG_CONTEXT_MENU_HIDE", {}, "Hide"),
            h = y("MSG_CONTEXT_MENU_HIDE_INDICATOR", {}, "Hide indicator"),
            k = y("MSG_CONTEXT_MENU_REMOVE", {}, "Remove"),
            l = y("MSG_CONTEXT_MENU_REMOVE_INDICATOR", {}, "Remove indicator"),
            p = y("MSG_CONTEXT_MENU_PASTE", {}, "Paste"), q = y("MSG_CONTEXT_MENU_DRAWING_TOOLS", {}, "Drawings"),
            r = y("MSG_CONTEXT_MENU_INSERT_INDICATOR", {},
                "Insert indicator"), t = y("MSG_CONTEXT_MENU_REMOVE_ALL_DRAWING_TOOLS", {}, "Remove all drawings"),
            u = y("MSG_CONTEXT_MENU_REMOVE_ALL_INDICATORS", {}, "Remove all indicators"),
            x = y("MSG_CONTEXT_MENU_REMOVE_ALL_OBJECTS", {}, "Remove all"),
            A = y("MSG_CONTEXT_MENU_CHART_SETTINGS", {}, "Settings");
        return {
            XO: {name: "format_indicator", caption: c, Dc: ""},
            $O: {name: "hide_indicator", caption: h, Dc: ""},
            OP: {name: "remove_indicator", caption: l, Dc: ""},
            WO: {name: "format", caption: b, Dc: ""},
            IB: {name: "copy", caption: d, Dc: "Ctrl + C"},
            ZO: {
                name: "hide",
                caption: e, Dc: ""
            },
            Ox: {name: "remove", caption: k, Dc: ""},
            Iq: {name: "paste", caption: p, Dc: "Ctrl + V"},
            bP: {name: "insert_drawing_tools", caption: q, LQ: d0.prototype.p4, Dc: ""},
            cP: {name: "insert_indicator", caption: r, Dc: ""},
            IP: {name: "remove_all_drawing_tools", caption: t, Dc: ""},
            LP: {name: "remove_all_indicators", caption: u, Dc: ""},
            cI: {name: "remove_all_objects", caption: x, Dc: ""},
            LO: {name: "chart_settings", caption: A, Dc: ""}
        }
    }

    f.rG = function (b) {
        this.ia = b
    };

    function p0(b, c, d) {
        Q.call(this);
        this.ew = b;
        this.ij = c;
        this.zz = d
    }

    B(p0, Q);
    f = p0.prototype;
    f.tg = QW.pn;
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.N = function () {
        this.j || (this.j = {
            fxcommCountriesUri: null,
            fxcommUri: null,
            fxcommReturnUri: null,
            fxcommSocialReturnUri: null,
            fxcommTermsUri: null,
            fxcommDownloadTermsUri: null
        });
        return this.j
    };
    f.Wf = function (b) {
        pa(b) && La(b, function (b, d) {
            this.N()[d] = b
        }, this)
    };
    f.Ci = function (b) {
        this.tg = b
    };
    f.ae = function () {
        this.yc || (this.yc = new xh(sF()));
        return this.yc
    };
    f.Nl = function () {
        return null != this.yo
    };

    function q0(b) {
        var c = new jQ, d = b.tg === QW.pn;
        K.enable(b.ij, "a-ti-bn", d);
        d ? r0(b, c) : s0(b, c);
        return c
    }

    function r0(b, c) {
        null == window.FxcommLogin || (b.ae().get("loginac") || 0) < b.ew || b.Nl() ? c.uc(!0) : (O(b.ij, !0), b.kS || (b.kS = new FxcommLogin, b.kS.init({
            iframe: t0,
            onLogin: v(function (b) {
                this.yo = encodeURIComponent(b);
                c.uc(!0);
                O(this.ij, !1)
            }, b)
        })))
    }

    function s0(b, c) {
        (b.ae().get("loginac") || 0) < b.ew || b.Nl() ? c.uc(!0) : (O(b.ij, !0), b.jo || (b.jo = new lR({
            $I: b.N().fxcommCountriesUri,
            uri: b.N().fxcommUri,
            Zl: b.N().fxcommReturnUri,
            kx: b.N().fxcommSocialReturnUri,
            rx: b.N().fxcommTermsUri,
            Jy: b.N().fxcommDownloadTermsUri
        }), Js(b.zz), b.jo.T(b.zz), b.S().C(b.jo, "auth", function () {
            this.yo = encodeURIComponent(this.jo.Ev());
            c.uc(!0);
            O(this.ij, !1)
        })), b.jo.focus())
    };

    function mY(b, c, d) {
        this.bd = c || "//freeserv.dukascopy.com/2.0/index.php";
        this.tg = d || QW.pn;
        this.wca = b;
        Q.call(this);
        this.de = new PQ(this.bd, "callback");
        this.de.Zk = 5E3;
        this.Jl = this.Vg = !1;
        this.OQ = {};
        this.rF = 1
    }

    B(mY, Q);
    var oY = "loaded", pY = "error";
    mY.prototype.Jk = function (b, c) {
        if (!this.Vg) {
            this.Vg = !0;
            var d = {path: "persistence/list", session: this.wca, type: "workspace", authType: this.tg};
            b && (d.p = +b);
            c && (d.s = c);
            this.fG = this.de.send(d, v(this.cj, this), v(this.k$, this))
        }
    };
    var qY = {};
    f = mY.prototype;
    f.cj = function (b) {
        this.Vg = !1;
        b && void 0 !== b.list && void 0 !== b.cnt ? (qY[this.DI] = b, this.OQ = b.list, this.rF = b.cnt, this.Jl = !1, this.dispatchEvent(oY)) : (this.Jl = !0, this.dispatchEvent(pY))
    };
    f.k$ = function () {
        this.Vg = !1;
        this.Jl = !0;
        this.dispatchEvent(pY)
    };
    f.gz = function () {
        return this.OQ
    };
    f.load = function (b, c) {
        this.DI = [b, c].join(" ");
        qY[this.DI] ? this.cj(qY[this.DI]) : this.Jk(b, c)
    };
    f.cancel = function () {
        this.fG && this.de.cancel(this.fG)
    };

    function u0(b) {
        this.Rs = b
    }

    var v0 = new sk("dd-MMM-yy HH:mm:ss");
    u0.prototype.aa = function () {
        return this.Rs.id
    };
    u0.prototype.Nb = function () {
        return this.Rs.title
    };
    u0.prototype.ma = function () {
        return this.Rs.instrument
    };

    function w0(b) {
        return 1 * b.Rs.version
    };

    function x0() {
        oR.call(this, null, null)
    }

    B(x0, oR);
    x0.prototype.setData = function (b) {
        y0(this, b)
    };

    function y0(b, c) {
        var d = {};
        La(c, function (b, c) {
            d[c] = d[c] || {};
            d[c].id = b.id;
            d[c].title = b.title;
            d[c].hash = b.hash;
            d[c].privacy_level = b.privacy_level;
            d[c].instrument = b.instrument;
            d[c].version = 1 * b.version
        });
        var e = Sa(Ta(d), function (b) {
            return new u0(b)
        });
        x0.P.setData.call(b, e)
    };

    function z0(b, c, d, e, h) {
        lM.call(this, "a-b-Lk-mj-Am-Xg", !0, h);
        this.ca = b;
        this.bd = c;
        this.zt = 1;
        this.eG = "";
        this.mM = this.Ya = !1;
        this.XK = nb(this.XK, 1E3);
        this.tg = e || QW.pn;
        this.ju = d;
        this.K = new lM("a-b-Lk-Mk-Am-Xg-Nm-tj");
        this.K.tf(A0);
        YL(this.K, kM());
        this.de = new PQ(this.bd);
        YL(this, JL(JL(new KL, {key: "ok", caption: B0}, !0, !0), ML, !0, !0))
    }

    B(z0, lM);
    var A0 = y("MSG_CHART_WORKSPACE_DIALOG_REMOVE_TITLE", {}, "Remove workspace"),
        B0 = y("MSG_LOAD_WORKSPACE_TITLE", {}, "Load"), C0 = y("MSG_WORKSPACE_TITLE_COLUMN", {}, "Workspace name"),
        D0 = y("MSG_WORKSPACE_INSTRUMENT_COLUMN", {}, "Instrument"),
        E0 = y("MSG_WORKSPACE_VERSION_COLUMN", {}, "Last modified");
    f = z0.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.ua = function (b) {
        z0.P.ua.call(this, b);
        b = this.M();
        var c = y("MSG_LOADING_WORKSPACES", {}, "Loading workspaces list ..."),
            d = y("MSG_LOADING_WORKSPACES_ERROR", {}, "Error while loading workspaces list"),
            e = y("MSG_NO_DATA_FOR_CURRENT_FILTER_WORKSPACES", {}, "No data for current filter"),
            h = y("MSG_WORKSPACES_LIST_NO_DATA", {}, "No data"), k = y("MSG_WORKSPACES_PAGE", {}, "page"),
            l = y("MSG_WORKSPACES_PAGE_OF", {}, "of"), p = y("MSG_WORKSPACES_PREVIOUS_PAGE", {}, "Previous page"),
            q = y("MSG_WORKSPACES_NEXT_PAGE", {}, "Next page");
        b.append(this.Aa(),
            this.Xz = b.u(D, "a-b-Lk-mj-Am-Xg-rk-X"), this.qe = b.u(D, "a-b-Lk-mj-Am-Xg-v-X", b.u(Fe, null, c)), this.Vi = b.u(D, "a-b-Lk-mj-Am-Xg-xl-X", b.u(Fe, null, d)), b.u(D, "a-b-Lk-mj-Am-Xg-Dm-X", this.jd = b.u(D, "a-b-Lk-mj-Am-Xg-Dm-X-fb")), this.Gx = b.u(D, "a-b-Lk-mj-Am-Xg-Jh-X"), this.Py = b.u(D, "a-b-Lk-mj-Am-Xg-Yh-Cm", b.u(Fe, null, e)), this.oo = b.u(D, "a-b-Lk-mj-Am-Xg-Yh-Cm", b.u(Fe, null, h)));
        b.append(this.tD(), this.La = b.u(D, "a-b-Lk-mj-Am-Xg-Km-X", this.Rb = b.u(D, "a-b-Lk-mj-Am-Xg-Mm-Km"), k, this.dd = b.u(D, "a-b-Lk-mj-Am-Xg-Km"), l, this.gc =
            b.u(D, "a-b-Lk-mj-Am-Xg-Km-Lm"), this.ob = b.u(D, "a-b-Lk-mj-Am-Xg-hk-Km")));
        this.Rb.setAttribute("title", p);
        this.ob.setAttribute("title", q);
        uG(this.La, !0);
        O(this.La, !1);
        O(this.qe, !0);
        O(this.Xz, !1);
        O(this.Vi, !1);
        O(this.Gx, !1);
        O(this.Py, !1);
        O(this.oo, !1);
        this.F = new xP(zP);
        this.F.setAttribute("placeholder", "Search...");
        this.ka = new x0;
        this.w = new $v;
        this.w.Xt(this.ka);
        this.m = new jI(this.w);
        this.m.Zh(v(this.E8, this));
        mI(this.m, v(this.G8, this));
        this.g = {};
        this.m.y3(this.g.oY = new ix("title", C0, "a-b-Lk-mj-Am-Xg-Vh-L"),
            this.g.dV = new ix("instrument", D0, "a-b-Lk-mj-Am-Xg-Vh-Gh"), this.g.EO = new vP(new ix("version", E0, "a-b-Lk-mj-Am-Xg-Vh-Gm")), this.g.sfa = new ix("share", "", "a-b-Lk-mj-Am-Xg-Vh-Em"), this.g.OW = new ix("remove", "", "a-b-Lk-mj-Am-Xg-Vh-kj"));
        this.g.oY.bu(v(this.nJ, this));
        this.g.dV.bu(v(this.nJ, this));
        this.g.EO.bu(v(this.nJ, this));
        this.g.OW.bu(v(this.u5, this));
        this.g.sfa.bu(v(this.v5, this));
        this.g.oY.Lw(function (b) {
            return b.Nb()
        });
        this.g.dV.Lw(function (b) {
            return b.ma()
        });
        this.g.EO.Lw(function (b) {
            return v0.format(new Date(b.Rs.version))
        });
        this.g.OW.Lw(function () {
            return ""
        })
    };
    f.oa = function () {
        z0.P.oa.call(this);
        var b = y("MSG_CHARTUI_WORKSPACE_DIALOG_TITLE_IMPORT", {}, "Load chart workspace");
        this.tf(b);
        this.ug = new mY(this.ca.Ae.yo, this.bd, this.tg);
        this.TE = !1;
        this.F.T(this.jd);
        this.m.T(this.Gx);
        this.a = new xP("number", this.zt);
        this.a.T(this.dd);
        this.S().C(this.a, "input", v(tf(function () {
            this.mM = !0
        }, this.Q8), this)).C(this.Rb, "click", this.x5).C(this.ob, "click", this.vaa).C(this.ug, oY, this.c5).C(this.ug, pY, this.hR).C(this, ZL, this.sh).C(this.F, "input", this.XK).C(this.g.EO, "change",
            this.gaa)
    };
    f.Q8 = function () {
        F0(this)
    };

    function F0(b, c) {
        var d = +b.a.G(), e = b.ug.rF;
        d > e && b.a.V(e);
        1 > d && b.a.V(1);
        b.a.G() != b.zt && (c ? b.vT() : nb(v(b.vT, b), 700)())
    }

    f.vT = function () {
        K.enable(this.qe, "a-b-Lk-mj-Am-Xg-Nh", !0);
        this.zt = +this.a.G();
        this.a.Ba(!1);
        this.F.Ba(!1);
        this.Z(!0)
    };
    f.x5 = function () {
        this.a.isEnabled() && (this.a.V(+this.a.G() - 1), F0(this, !0))
    };
    f.vaa = function () {
        this.a.isEnabled() && (this.a.V(+this.a.G() + 1), F0(this, !0))
    };
    f.c5 = function (b) {
        if (!1 === b.target.gz().result) this.hR(); else {
            this.gc.innerHTML = this.ug.rF;
            this.a.Ba(!0);
            this.F.Ba(!0);
            1 < this.ug.rF && O(this.La, !0);
            this.mM && this.a.focus();
            this.Ya && this.F.focus();
            this.mM = this.Ya = !1;
            K.enable(this.qe, "a-b-Lk-mj-Am-Xg-Nh", !1);
            O(this.qe, !1);
            O(this.Xz, !1);
            O(this.Vi, !1);
            O(this.Py, !1);
            O(this.oo, !1);
            delete this.ka;
            this.ka = new x0;
            this.ka.setData(this.ug.gz());
            this.w.Xt(this.ka);
            O(this.Gx, !0);
            this.m.zw();
            b = this.oo;
            var c;
            c = this.m;
            c = 0 == c.w.filter(c.yk).length ? !0 : !1;
            O(b, c)
        }
    };
    f.hR = function () {
        O(this.qe, !1);
        O(this.Xz, !1);
        O(this.Vi, !0);
        O(this.Gx, !1);
        O(this.Py, !1);
        O(this.oo, !1)
    };
    f.sh = function (b) {
        if (this.ca.Ae.Nl() && "ok" === b.key) {
            b = y("MSG_WORKSPACE_LOADING", {}, "Loading Chart workspace ...");
            var c = y("MSG_SELECT_WORKSPACE", {}, "Workspace must be selected"),
                d = y("MSG_ERROR_WORKSPACE_LOADING", {}, "Error workspace loading");
            this.Ua || (this.Ua = new GH(X(this.ca)), this.Ua.setPosition("righttop"));
            this.za && this.Ea ? (this.Ua.clear(), this.Ua.Nk("rgba(97,97,97,.9)"), HH(this.Ua, 1E6), this.Ua.Rk(b), JH(this.Ua), this.TE = !0, bz(az(G0(this, this.ca.Ae.yo, this.za, this.Ea), function () {
                    this.TE = !1
                }, this),
                function () {
                    HH(this.Ua, 3E3);
                    this.Ua.Nk("#D75442");
                    this.Ua.clear();
                    this.Ua.Rk(d);
                    JH(this.Ua);
                    this.TE = !1
                }, this)) : (this.Ua.clear(), this.Ua.Nk("#D75442"), HH(this.Ua, 3E3), this.Ua.Rk(c), JH(this.Ua))
        }
    };

    function G0(b, c, d, e) {
        var h = new jQ;
        b.de.send({
            path: "persistence/load",
            type: "workspace",
            authType: b.tg,
            session: c,
            id: d,
            version: e
        }, v(function (b) {
            b.hasOwnProperty("result") && !1 === b.result ? h.Ne(b.error) : h.uc(H0(this, b))
        }, b), function () {
            h.Ne()
        });
        return h
    }

    function I0(b, c) {
        if (b.Ua) if (c) {
            var d = y("MSG_ERROR_WORKSPACE_CONTENT", {}, "You have an errors in your workspace data");
            HH(b.Ua, 3E3);
            b.Ua.Nk("#D75442");
            b.Ua.clear();
            b.Ua.Rk(d);
            JH(b.Ua)
        } else b.Ua.clear()
    }

    function H0(b, c) {
        b.Ua && b.Ua.clear();
        try {
            var d = JSON.parse(c.data).data
        } catch (e) {
            I0(b, !0);
            return
        }
        if (d && d.charts && d.ui) {
            for (var h in d.charts) if (d.charts.hasOwnProperty(h) && !(d.charts[h].options && d.charts[h].drawings && d.charts[h].indicators)) {
                I0(b, !0);
                return
            }
            I0(b, !1);
            b.ca.cb(JSON.stringify(d));
            b.FL = b.za;
            b.JL = b.Ea;
            b.HL = b.sc;
            b.dispatchEvent("loaded")
        } else I0(b, !0)
    }

    f.XK = function () {
        this.eG != this.F.G() && (K.enable(this.qe, "a-b-Lk-mj-Am-Xg-Nh", !0), this.Ya = !0, this.zt = 1, this.a.V(this.zt), this.eG = this.F.G(), this.a.Ba(!1), this.F.Ba(!1), this.Z(!0))
    };
    f.gaa = function (b) {
        this.Sd = b.target.mx;
        this.la && this.m.zw()
    };
    f.Z = function (b) {
        this.ug && this.ug.cancel();
        b && this.TE || (z0.P.Z.call(this, b), b && this.ug && (O(this.qe, !0), O(this.Xz, !1), O(this.Vi, !1), O(this.Gx, !1), O(this.Py, !1), O(this.oo, !1), this.ug.load(this.zt - 1, this.eG)))
    };
    f.E8 = function () {
        return !0
    };
    f.G8 = function (b, c) {
        var d = w0(b), e = w0(c);
        switch (this.Sd) {
            case "up":
                return d <= e ? 1 : -1;
            case "down":
                return d >= e ? 1 : -1;
            default:
                return d = this.w, d.ta = pi(d.Ur), 0
        }
    };
    f.nJ = function (b, c) {
        var d = this.M().u(D, null, b);
        this.S().C(d, "click", function () {
            var b = Rs(d), b = Rs(b), h = K.contains(b, "a-b-Lk-mj-Am-Xg-wg"), k = qs(Ze, "a-b-Lk-mj-Am-Xg-wg");
            E(k, function (b) {
                K.remove(b, "a-b-Lk-mj-Am-Xg-wg")
            }, this);
            K.enable(b, "a-b-Lk-mj-Am-Xg-wg", !h);
            h ? this.Ea = this.sc = this.za = null : (this.za = c.aa(), this.sc = c.Nb(), this.Ea = w0(c))
        });
        return d
    };
    f.v5 = function (b, c) {
        var d = this.M().u(D, null, uY("a-ib-Lk")), e = y("MSG_SHARE_WORKSPACE", {}, "Share workspace");
        d.setAttribute("title", e);
        0 != c.Rs.privacy_level && O(d, !1);
        this.S().C(d, "click", function () {
            var b = new Ka(this.ju);
            wr(b, "path", "chart/workspace");
            wr(b, "token", c.Rs.hash + c.aa());
            this.Wk = this.Wk || new eY(this.ca, this.ju);
            this.Wk.la || this.Wk.T(this.ca.Aa());
            ht(this.Wk.Zi(), {"z-index": 1050});
            this.Wk.Z(!0);
            this.Wk.zA(b.toString())
        });
        return d
    };
    f.u5 = function (b, c) {
        var d = this.M().u(D, null, uY("a-ib-Nk"));
        us(d, {title: "Remove workspace"});
        this.S().C(d, "click", function () {
            this.K.la || this.K.T(this.ca.Aa());
            ht(this.K.Zi(), {"z-index": 1050});
            this.S().Qf(this.K, ZL, v(this.L$, this, c.aa(), w0(c)));
            NL(this.K, Dq("Are you sure you want to delete selected workspace?"));
            this.K.Z(!0)
        });
        return d
    };
    f.L$ = function (b, c, d) {
        this.ca.Ae.Nl() && "yes" === d.key && (d = y("MSG_WORKSPACE_REMOVING", {}, "Workspace removing..."), this.Ua || (this.Ua = new GH(X(this.ca)), this.Ua.setPosition("righttop")), this.Ua.clear(), this.Ua.Nk("rgba(97,97,97,.9)"), HH(this.Ua, 1E6), this.Ua.Rk(d), JH(this.Ua), bz(az(J0(this, b, c), function () {
            var b = y("MSG_WORKSPACE_SUCCESSFULLY_REMOVED", {}, "Workspace successfully removed");
            HH(this.Ua, 3E3);
            this.Ua.Nk("#6BA583");
            this.Ua.clear();
            this.Ua.Rk(b);
            JH(this.Ua);
            this.ug && (O(this.qe, !0), O(this.Xz, !1),
                O(this.Vi, !1), O(this.Gx, !1), O(this.Py, !1), O(this.oo, !1), this.ug.load(this.zt - 1, this.eG))
        }, this), function (b) {
            HH(this.Ua, 3E3);
            this.Ua.Nk("#D75442");
            this.Ua.clear();
            this.Ua.Rk(b);
            JH(this.Ua);
            this.Z(!0)
        }, this))
    };

    function J0(b, c, d) {
        var e = new jQ, h = new aF, k = new Ka(b.bd);
        wr(k, "path", "persistence/removeXD");
        wr(k, "session", b.ca.Ae.yo);
        wr(k, "type", "workspace");
        wr(k, "authType", b.tg);
        b = {id: c, version: d};
        Qt(h, "complete", function (b) {
            h.co() ? b.currentTarget.Ym.result ? e.uc(b.currentTarget.Ym.result) : e.Ne(b.currentTarget.Ym.result.error) : e.Ne("Communication error");
            h.reset()
        });
        h.cs(k.toString(), "POST", b);
        return e
    }

    f.bT = function () {
        return this.FL
    };
    f.yv = function () {
        return this.HL
    };
    f.cT = function () {
        return this.JL
    };

    function K0(b, c) {
        Q.call(this);
        this.ca = b;
        this.bd = c
    }

    B(K0, Q);
    var L0 = y("MSG_LOGIN_TO_EXPORT_HEADER", {}, "Log in to save chart workspace");
    f = K0.prototype;
    f.HD = function () {
        return L0
    };
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.Za = !1;
    f.Ba = function (b) {
        this.Za != b && ((this.Za = b) ? this.by() : this.yx())
    };
    f.fk = function (b) {
        this.bd = b
    };
    f.tg = QW.pn;
    f.Ci = function (b) {
        this.tg = b
    };
    f.Yy = function () {
        return this.tg
    };
    f.by = function () {
        this.S()
    };
    f.yx = function () {
        this.S()
    };
    f.action = function (b) {
        if (b !== M0 || this.Za && this.ca.Ae.Nl()) {
            var c = this.ca.lb();
            b === N0 ? (b = new Blob([c], {type: "application/json"}), eb(new Xa, b, "workspace.json")) : (this.Ly = this.Ly || new lY(this.ca, this.bd, this.Yy()), this.Ly.la || this.Ly.T(this.ca.Aa()), b = this.Ly, b.K || (b.F && (b.w = [], b.ug && b.ug.cancel(), b.ug.load(), O(b.qe, !0), O(b.Vi, !1), O(b.m, !1)), b.F = !1), this.Ly.Z(!0))
        }
    };

    function O0(b, c) {
        Q.call(this);
        this.ca = b;
        this.bd = c
    }

    B(O0, Q);
    var P0 = y("MSG_LOGIN_TO_IMPORT_HEADER", {}, "Log in to load chart workspace");
    f = O0.prototype;
    f.HD = function () {
        return P0
    };
    f.S = function () {
        return this.ra || (this.ra = new fu(this))
    };
    f.Za = !1;
    f.Ba = function (b) {
        this.Za != b && (this.Za = b)
    };
    f.fk = function (b) {
        this.bd = b
    };
    f.tg = QW.pn;
    f.Ci = function (b) {
        this.tg = b
    };
    f.Yy = function () {
        return this.tg
    };
    f.by = function () {
        var b = this.Wg.Nv;
        this.S().C(b, "dragenter", this.tK).C(b, "dragleave", this.E9).C(b, "dragover", this.uK).C(b, "drop", this.vK).C(this.Wg.gr, "change", function (b) {
            b.stopPropagation();
            b.preventDefault();
            sx(this.LF(b.target.files), tf(function (b) {
                sY(this.Wg);
                this.gE(b)
            }, ob(pb(Ra, 2), ka), Ci), this)
        })
    };
    f.yx = function () {
        this.S().wa(this.Wg.Nv, ["dragenter", "dragleave", "dragover", "drop"])
    };
    f.action = function (b) {
        if (b !== M0 || this.Za && this.ca.Ae.Nl()) b === N0 ? (this.Wg || (this.Wg = new rY(this.ca), this.Wg.Z(!1)), this.Wg.la || this.Wg.T(this.ca.Aa()), this.Za ? (this.yx(), this.by()) : this.yx(), this.Wg.Z(!0)) : (this.vm ? this.vm.ju = this.ju : (this.vm = new z0(this.ca, this.bd, this.ju, this.Yy()), this.vm.Z(!1), this.S().wa(this.vm, "loaded", this.cU).C(this.vm, "loaded", this.cU)), this.vm.la || this.vm.T(this.ca.Aa()), this.vm.Z(!0))
    };
    f.cU = function () {
        var b = this.ca, c = this.vm.bT();
        b.pk = b.pk || {};
        b.pk.FL = c;
        b = this.ca;
        c = this.vm.yv();
        b.pk = b.pk || {};
        b.pk.HL = c;
        b = this.ca;
        c = this.vm.cT();
        b.pk = b.pk || {};
        b.pk.JL = c
    };
    f.tK = function (b) {
        b.stopPropagation();
        b.preventDefault();
        K.enable(this.Wg.Nv, "ol", !0);
        Ts(this.Wg.zr, "");
        O(this.Wg.zr, !1)
    };
    f.E9 = function (b) {
        b.stopPropagation();
        b.preventDefault();
        K.enable(this.Wg.Nv, "ol", !1)
    };
    f.uK = function (b) {
        b.stopPropagation();
        b.preventDefault()
    };
    f.vK = function (b) {
        b.stopPropagation();
        b.preventDefault();
        K.enable(this.Wg.Nv, "ol", !1);
        b = b.Pe();
        b.dataTransfer && b.dataTransfer.files && sx(this.LF(b.dataTransfer.files), tf(this.gE, ob(pb(Ra, 2), ka), Ci), this)
    };
    f.LF = function (b) {
        for (var c = [], d = 0; d < b.length; d++) {
            var e = b[d];
            (e.name.match(/.+\.json$/i) || e.type.match(/application\/json/)) && c.push(XQ(e))
        }
        return new BS(c)
    };
    f.gE = function (b) {
        try {
            var c = JSON.parse(b[0])
        } catch (d) {
            this.Wg.bn(!0);
            return
        }
        if (c && c.charts && c.ui) {
            for (var e in c.charts) if (c.charts.hasOwnProperty(e) && !(c.charts[e].options && c.charts[e].drawings && c.charts[e].indicators)) {
                this.Wg.bn(!0);
                return
            }
            this.Wg.bn(!1);
            b = this.Wg;
            try {
                b.ca.cb(JSON.stringify(c)), b.bn(!1), b.Z(!1)
            } catch (h) {
                b.bn(!0), b.Z(!0)
            }
        } else this.Wg.bn(!0)
    };
    var N0 = "local", M0 = "db";

    function Z(b, c) {
        YH.call(this, c);
        wV++;
        this.QI = new jQ;
        this.nt = new jQ;
        this.sp = new eI(this.M());
        this.sp.T();
        fI(this.sp, new Zv([".a-Rg-Y .a-ll-ml-Kg-Hg"], [this.Gfa = new Uv("color", "#000")]));
        fI(this.sp, new Zv([".a-Rg-Y .a-N-Rg-zg-vg-Ag"], [this.Ifa = new Uv("color", "#000")]));
        fI(this.sp, new Zv([".a-Rg-Y .a-N-mh"], [this.Hfa = new Uv("color", "#000")]));
        fI(this.sp, new Zv([".a-Rg-Y .a-ib:before"], [this.rY = new Uv("color", "#000")]));
        fI(this.sp, new Zv(["." + (Q0 + "-Y")], [this.cy = new Uv("border", "none", "important")]));
        this.Be = Ua(J.a);
        this.Qv();
        this.j = {
            bo: qR,
            Ux: !0,
            Wx: !0,
            Vx: !0,
            bh: !0,
            cm: !0,
            XA: !0,
            TA: !0,
            LG: !0,
            RG: !0,
            Rd: !0,
            $A: !1,
            fx: !0,
            kq: !0,
            XG: !0,
            OA: !1,
            ls: !0,
            ks: !0,
            eu: !0,
            js: !0,
            lang: null,
            WA: !1,
            JG: !1,
            lC: "./popup.html",
            Om: null,
            lH: "//freeserv.dukascopy.com/2.0/?path=common/timestamp",
            YA: !0,
            gx: !1,
            hu: !1,
            Lq: !0,
            Kq: !0,
            PC: "src/main/assets/standalone/downloadify.png",
            QC: "src/main/assets/standalone/downloadify.swf",
            nA: !1,
            zu: null,
            Ol: 0,
            lq: !0,
            Ho: !0,
            vn: !1,
            ew: 0,
            AB: "//freeserv.dukascopy.com/2.0/",
            Tm: !1,
            Sq: !0,
            ow: !0,
            lx: "https://freeserv.dukascopy.com/2.0/",
            Bs: !0,
            WG: !0,
            hx: !0,
            Lu: !0,
            ei: QW.pn,
            qD: {
                fxcommCountriesUri: null,
                fxcommUri: null,
                fxcommReturnUri: null,
                fxcommSocialReturnUri: null,
                fxcommTermsUri: null,
                fxcommDownloadTermsUri: null
            },
            jk: 0,
            language: "en",
            sS: "https://www.dukascopy.com/fxspider",
            rS: "asGFt457kgHqqqg68vdgjJHFtDG6lghy7cdHHfqh",
            VF: !0,
            po: !0,
            lF: 20,
            Wv: !0,
            ht: !1,
            OG: !1,
            JC: "/2.0/?path=common/disclaimer",
            vs: !0
        };
        this.kp = {
            drawing: !0,
            panOffset: 5,
            timeOffset: 0,
            objectOperationMonitorEnabled: this.j.po,
            indicatorMonitorEnabled: !0
        };
        var d = null !=
        b ? b : {};
        if (ka(d)) {
            var e = d;
            this.gg().fW(e);
            d = this.gg().oO();
            d.availableInstruments = 2 === d.availableInstruments.split(":").length ? d.availableInstruments : d.availableInstruments.split(",");
            d.period && (d.dataType = Al[d.period] === bl ? 1 : 2);
            d.hasOwnProperty("timezone") && (d.timezone = parseInt(d.timezone) === yX ? 0 : (new Date).getTimezoneOffset());
            var e = new or(e), h = e.mc("dateInterval");
            0 < h.length && (d.dateInterval = Sa(h, sf(parseInt, 1)));
            h = e.mc("dataUnitCount");
            0 < h.length && (d.dataUnitCount = parseInt(h[0], 10));
            h = e.mc("initialDataUnitCount");
            0 < h.length && (d.initialDataUnitCount = parseInt(h[0], 10));
            h = e.mc("dataType");
            0 < h.length && (d.dataType = parseInt(h[0], 10));
            h = e.mc("live");
            0 < h.length && (d.live = "false" !== h[0]);
            h = e.mc("indicators");
            0 < h.length && (d.indicators = h[0]);
            h = e.mc("allowZoomOnScrolling");
            0 < h.length && (d.allowZoomOnScrolling = "false" !== h[0]);
            h = e.mc("panLock");
            0 < h.length && (d.panLock = "false" !== h[0]);
            e = e.mc("eet");
            0 < e.length && (d.eet = "false" !== e[0])
        }
        La(d, function (b, c) {
            if (oa(this[c])) this[c](b); else this.kp[c] = b
        }, this);
        this.zd = new pR(this.j.Om);
        rR(this.zd, this.j.bo);
        this.Pa = {};
        this.Sz = "disabled";
        this.YR = !0;
        this.lB = {};
        this.uw = new VW
    }

    B(Z, YH);
    var wV = 0, Q0 = "a-b-N", yX = 0, AX = 1;
    f = Z.prototype;
    f.Tn = function () {
        this.$r || (this.$r = {minWidth: 200, minHeight: 275});
        return this.$r
    };
    f.ZB = function () {
        X(this) || (K.enable(this.wn, "a-b-N-Tm-Vm-Wm", !this.uM.G() && this.yM.G()), K.enable(this.wn, "a-b-N-Tm-Vm-F", this.uM.G() && !this.yM.G()), K.enable(this.wn, "a-b-N-Tm-Vm-Xm", !this.uM.G() && !this.yM.G()));
        K.enable(this.wn, "a-b-N-Tm-Vm-Ym-cb", !X(this).j.tx);
        K.enable(this.wn, "a-b-N-Tm-Vm-Wm", !X(this).j.Ij && X(this).j.hm);
        K.enable(this.wn, "a-b-N-Tm-Vm-F", X(this).j.Ij && !X(this).j.hm);
        K.enable(this.wn, "a-b-N-Tm-Vm-Xm", !X(this).j.Ij && !X(this).j.hm)
    };
    f.gg = function () {
        this.Vc || this.Qv();
        return this.Vc
    };
    f.init = function () {
        sx(this.Fd().load(), function () {
            if (0 != this.j.jk) X(this).init(); else {
                var b = new mX(this.j.lH);
                sx(b.load(), function () {
                    this.setTime(b.mY);
                    X(this).init()
                }, this)
            }
        }, this)
    };
    f.Qv = function () {
        this.Vc = new Qv;
        this.nq = new Pv(this.Tn().minWidth, this.Tn().minHeight);
        Rv(this.Vc, this.nq);
        Tv(this.Vc, v(function () {
            function b(c) {
                var d = {};
                c.Ty(function (b) {
                    d[b.getName()] = b.YD()
                });
                return d
            }

            var c = {};
            jh(c, b(this.yj), b(this.di), b(this.hn));
            c.availableInstruments = this.vw.YD();
            c.instrument = this.ww.G();
            c.period = this.vM.G();
            c.theme = this.LW.G();
            if (this.Qb && X(this)) {
                var d = Ta(Vg(X(this).Md || [], function (b) {
                    return b.lb()
                })).join(",");
                0 < d.length && (c.indicators = TO("[" + d + "]"))
            }
            return c
        }, this));
        this.Vc.showDateInputs =
            v(function (b) {
                if (!this.to || !this.Xm) {
                    var c, d = X(this) ? X(this).xD() : (c = +new Date, [c, c]);
                    this.hn.Xa(this.to = new wv("dateFrom", "Start date", null, new Date(d[0])));
                    this.to.Z(!1);
                    this.hn.Xa(this.Xm = new wv("dateTo", "End date", null, new Date(d[1])));
                    this.Xm.Z(!1);
                    this.S().C(this.to, "change", this.OT).C(this.Xm, "change", this.OT).C(this.to, "change", this.k9).C(this.Xm, "change", this.o9).C(this.to, "change", this.jU).C(this.Xm, "change", this.jU)
                }
                this.to.Z(b);
                this.Xm.Z(b)
            }, this);
        var b = y("MSG_CHARTUI_SETTINGS_TOOLBAR",
            {}, "Toolbar"), c = y("MSG_CHARTUI_SETTINGS_SHOW_UI", {}, "Show UI"),
            d = y("MSG_CHARTUI_SETTINGS_SHOW_TABBAR", {}, "Show tab bar"),
            e = y("MSG_CHARTUI_SETTINGS_SHOW_PARAMETER_TOOLBAR", {}, "Show parameter toolbar"),
            h = y("MSG_CHARTUI_SETTINGS_SHOW_OFFER_SIDE", {}, "Show offer side"),
            k = y("MSG_CHARTUI_SETTINGS_SHOW_ADDITIONAL_TOOLBAR", {}, "Show additional toolbar"),
            l = y("MSG_CHARTUI_SETTINGS_ALLOW_INSTRUMENT_CHANGE", {}, "Allow instrument change"),
            p = y("MSG_CHARTUI_SETTINGS_ALLOW_PERIOD_CHANGE", {}, "Allow period change"), q =
                y("MSG_CHARTUI_SETTINGS_ALLOW_OFFER_SIDE_CHANGE", {}, "Allow offer side change"),
            r = y("MSG_CHARTUI_SETTINGS_SHOW_DETACH_BUTTON", {}, "Show detach button"),
            t = y("MSG_CHARTUI_SETTINGS_SHOW_EXPORT_IMPORT_WORKSPACE", {}, "Show save/load workspace"),
            u = y("MSG_CHARTUI_SETTINGS_SHOW_SHARING", {}, "Show sharing"),
            x = y("MSG_CHARTUI_SETTINGS_SHOW_UNDO_REDO_BUTTONS", {}, "Show undo/redo buttons");
        this.yj = new lv(b);
        this.yj.Xa(this.JW = new rv("showUI", c, null, !0));
        this.yj.Xa(this.KF = new rv("showTabs", d, null, !0));
        this.yj.Xa(this.xM =
            new rv("showParameterToolbar", e, null, !0));
        this.yj.Xa(this.aca = new rv("showOfferSide", h, null, !0, 24));
        this.yj.Xa(this.Vba = new rv("allowInstrumentChange", l, null, !0, 24));
        this.yj.Xa(this.Yba = new rv("allowPeriodChange", p, null, !0, 24));
        this.yj.Xa(this.Wba = new rv("allowOfferSideChange", q, null, !0, 24));
        this.yj.Xa(this.wM = new rv("showAdditionalToolbar", k, null, !0));
        this.yj.Xa(this.IW = new rv("showExportImportWorkspace", t, null, !0, 24));
        this.yj.Xa(this.FW = new rv("allowSocialSharing", u, null, !0, 24));
        this.yj.Xa(new rv("showUndoRedoButtons",
            x, null, !0, 24));
        this.yj.Xa(new rv("showDetachButton", r, null, !1));
        this.Vc.Qs(this.yj);
        this.S().C(this.yj, "change", function (b) {
            this[b.target.getName()](b.target.G());
            b.target != this.IW && b.target != this.FW && (this.aca.Ba(this.j.cm && this.j.bh), this.Vba.Ba(this.j.cm && this.j.bh), this.Yba.Ba(this.j.cm && this.j.bh), this.Wba.Ba(this.j.cm && this.j.bh), this.KF.Ba(this.j.bh), this.xM.Ba(this.j.bh), this.wM.Ba(this.j.bh), this.IW.Ba(this.j.Rd && this.j.bh), this.FW.Ba(this.j.Rd && this.j.bh), b.target == this.KF || b.target == this.xM ||
            b.target == this.wM) && (this.KF.G() || this.xM.G() || this.wM.G() || !this.JW.G() || this.JW.V(!1))
        });
        b = y("MSG_CHARTUI_SETTINGS_DATA", {}, "Data properties");
        this.hn = new lv(b);
        this.hn.Xa(this.vw = new Mv("availableInstruments", "Instrument list", null, Ua(J.a)));
        this.hn.Xa(this.ww = new xv("instrument", "Default instrument", null, J.g));
        this.ww.Xe(Ta(Vg(J.a, function (b) {
            return b
        })), Ta(Vg(J.a, function (b) {
            return b
        })));
        this.hn.Xa(this.vM = new xv("period", "Period", null, gl.Zb()));
        (function () {
            var b = [], c = [];
            La(bh, function (d) {
                b.push(d.W().Zb());
                c.push(d.toString())
            });
            this.vM.Xe(b, c)
        }).call(this);
        this.hn.Xa(this.HW = new xv("offerSide", "Offer side", null, "BID"));
        this.HW.Xe(["ASK", "BID"], ["ASK", "BID"]);
        this.hn.Xa(this.NW = new xv("timezone", "Time zone", null, 0));
        this.NW.Xe([yX, AX], [zX, BX]);
        this.hn.Xa(this.Zba = new rv("live", "Update last price", null, !0));
        this.hn.Xa(this.Xba = new rv("allowPan", "Allow panning", null, !0));
        this.Vc.Qs(this.hn);
        this.S().C(this.vw, "change", function (b) {
            this.j.Om && sx(this.Fd().load(), v(this.N8, this, b), this)
        }).C(this.NW, "change",
            function (b) {
                b = b.target.G();
                this.la && this.X().Do(b === yX ? 0 : (new Date).getTimezoneOffset())
            }).C(this.Zba, "change", function (b) {
            this.la && (La(this.Pa, function (c) {
                c.Pw(b.target.G())
            }, this), this.X().reload())
        }).C(this.Xba, "change", function (b) {
            this.la ? this.X().uX(b.target.G()) : this.kp.allowPan = b.target.G()
        }).C(this.HW, "change", function (b) {
            this.la && (this.X().setOfferSide(b.target.G()), this.X().reload(), PY(this.Qb))
        }).C(this.ww, "change", function (b) {
            this.la && (this.X().setInstrument(b.target.G()), this.X().reload(),
                PY(this.Qb))
        }).C(this.vM, "change", function (b) {
            this.la && (b = El(b.target.G()), this.X().setDataType(b === bl ? 1 : 2), this.X().setPeriod(b), this.X().reload())
        });
        b = y("MSG_CHARTUI_SETTINGS_CHART_ELEMENTS", {}, "Chart presentation");
        this.di = new lv(b);
        this.di.Xa(this.$ba = new xv("presentationType", "Presentation type", null, "candle"));
        this.$ba.Xe(["candle", "bar", "line"], ["Candle", "Bar", "Line"]);
        this.di.Xa(this.uM = new rv("axisX", "Show time axis", null, !0));
        this.di.Xa(this.JF = new rv("axisY", "Show value axis", null, !0));
        this.di.Xa(new rv("legend", "Show legend", null, !0));
        this.di.Xa(this.yM = new rv("timeline", "Show timeline", null, !0));
        this.di.Xa(new rv("showDateSeparators", "Show date separator", null, !0));
        this.di.Xa(new rv("showZoom", "Show zoom buttons", null, !0));
        this.di.Xa(new rv("showScrollButtons", "Show scroll buttons", null, !0));
        this.di.Xa(new rv("showAutoShiftButton", "Show auto shift button", null, !0));
        this.di.Xa(new rv("crosshair", "Show crosshair", null, !0));
        this.di.Xa(new sv("borders", "Show borders", null, !1));
        this.di.Xa(new rv("freeMode",
            "Free mode", null, !1));
        this.di.Xa(this.LW = new xv("theme", "Theme", "", "Pastelle"));
        this.LW.Xe(Ta(DG), Ta(DG));
        this.Vc.Qs(this.di);
        this.di.Xa(this.bca = new vv("uiColor", "UI accent color", "", this.rY.G()));
        this.S().C(this.di, "change", function (b) {
            if ("borders" == b.target.getName()) this[b.target.getName()](b.target.G()); else this.la && (La(this.Pa, function (c) {
                if ("showZoom" == b.target.getName()) this.ls(b.target.G()); else if ("showScrollButtons" == b.target.getName()) this.ks(b.target.G()); else if ("showAutoShiftButton" ==
                    b.target.getName()) this.eu(b.target.G()); else {
                    "axisY" == b.target.getName() && (K.enable(this.wn, "a-b-N-Tm-Um", !this.JF.G()), R0(this));
                    this.ZB();
                    if (oa(c["set" + Fb(b.target.getName())])) c["set" + Fb(b.target.getName())](b.target.G());
                    "crosshair" == b.target.getName() && (this.tk.Tb(X(this).j.um), this.tk.Gb(S0(this)))
                }
            }, this), "freeMode" == b.target.getName() && this.Po(), "theme" == b.target.getName() && this.Ze && ZY(this.Ze))
        }).C(this.bca, "change", function (b) {
            this.rY.V(b.target.G());
            this.Ifa.V(b.target.G());
            this.Gfa.V(b.target.G());
            this.Hfa.V(b.target.G())
        });
        b = y("MSG_CHARTUI_SETTINGS_INDICATORS", {}, "Indicators");
        c = y("MSG_CHARTUI_SETTINGS_ADD_INDICATOR", {}, "Add indicator\u2026");
        this.ex = new lv(b);
        pv(this.ex, this.Go = new lv("Applied indicators"));
        this.ex.Z(!1);
        this.Go.ax(1);
        this.Go.Z(!1);
        this.ex.Xa(this.EW = new tv(null, c));
        this.Vc.Qs(this.ex);
        this.S().C(this.EW, "action", function () {
            this.Pf.la || this.Pf.T(this.Aa());
            k_(this.Pf, 0);
            this.Pf.Z(!0)
        }).C(this.Go, "action", function (b) {
            this.Pf.la || this.Pf.T(this.Aa());
            k_(this.Pf, 1);
            r_(this.Pf,
                b.target.G());
            this.Pf.Z(!0)
        });
        this.Qb && X(this) && T0(this)
    };

    function U0(b) {
        return ia(b) ? Sa(b, function (b) {
            return b.aa()
        }) : Ua(b)
    }

    f.N8 = function () {
        var b = [], c = [], d = V0(this, this.vw.G());
        E(d, function (d) {
            var h = this.Fd().qh()[d];
            b.push(d);
            c.push(h ? h.toString() : d)
        }, this);
        0 === b.length ? this.vw.V([J.g]) : (this.wf(d), this.ww.Xe(b, c), ji(b, this.ww.G()) || this.ww.V(0 < b.length ? b[0] : null));
        this.la && this.Ud.Pk(null)
    };
    f.OT = function (b) {
        if (this.la) {
            var c = this.X(), d = b.target.G().getTime(), c = vj(c.W(), d);
            d != c && (b.stopPropagation(), b.preventDefault(), b.target.V(new Date(c)))
        }
    };
    f.k9 = function (b) {
        if (this.la) {
            var c = this.X(), d = this.to.G().getTime(), c = this.Xm.G().getTime() - 10 * c.W().Y();
            d > c && (b.stopPropagation(), b.preventDefault(), this.to.V(new Date(c)))
        }
    };
    f.o9 = function (b) {
        if (this.la) {
            var c = this.X(), d = this.to.G().getTime() + 10 * c.W().Y(), c = vj(c.W(), (new Date).valueOf()),
                e = this.Xm.G().getTime();
            e < d && (b.stopPropagation(), b.preventDefault(), this.Xm.V(new Date(d)));
            e > c && (b.stopPropagation(), b.preventDefault(), this.Xm.V(new Date(c)))
        }
    };
    f.jU = function () {
        this.la && this.X().mq(this.to.G().getTime(), this.Xm.G().getTime())
    };
    f.XU = !1;

    function T0(b) {
        b.XU || (b.S().C(b.ex, "show", function () {
            this.Go.Z(0 < ov(this.Go));
            this.Vc.dispatchEvent("change")
        }).C(X(b), "indicatoradd", b.W8).C(X(b), "indicatorremove", b.X8).C(X(b), ["indicatoradd", "indicatorremove"], b.V8), b.XU = !0)
    }

    f.W8 = function (b) {
        var c = b.kb();
        b = new tv(null, c.sa.Ip(), null, b.kb());
        this.Go.Xa(b)
    };
    f.X8 = function (b) {
        var c;
        this.Go.Ty(function (d) {
            d.G() == b.kb() && (c = d)
        });
        c && this.Go.removeProperty(c)
    };
    f.V8 = function () {
        this.Go.Z(this.ex.Wa() && 0 < ov(this.Go));
        this.Vc.dispatchEvent("change")
    };
    y("MSG_CHART_LOADING", {}, "Loading\u2026");
    var W0 = y("MSG_CHART_INIT_DATA_LOAD_ERROR", {}, "Unable to load data from server");
    f = Z.prototype;
    f.u = function () {
        this.ua(this.M().u(D))
    };
    f.oa = function () {
        Z.P.oa.call(this);
        this.bj() && (this.Sf = new hX(this), this.Sf.Ba(this.j.po), this.Sf.GC = this.j.lF);
        X0(this);
        this.wH();
        this.j.Wv && (this.ot = new cX(this), this.ot.Ba(this.j.Wv));
        this.nL = this.Fd().load();
        sx(this.nL, function () {
            this.wf(this.j.wf)
        }, this);
        Y0(this);
        Z0(this);
        X(this) && this.S().C(X(this), "finishunserialize", v(this.ZB, this));
        $0(this)
    };
    f.LD = function () {
        return this.Sf
    };

    function $0(b) {
        b.S().Qf(X(b), FJ, b.mF).C(X(b), "initdataloaderror", b.eM).Qf(X(b), FJ, b.lK).Qf(X(b), FJ, b.kL).C(X(b), LJ, b.OK).C(X(b), qu, b.mK).C(X(b), px, b.fE).C(X(b), xF, b.oK).C(X(b), "autoshiftchange", b.tB).C(X(b), "changeohlctype", b.nK).C(X(b), RF, v(function () {
            this.Qd.V("disabled")
        }, b)).C(X(b), "changetimeline", b.JI).C(X(b), "freemodechange", b.Po)
    }

    f.OK = function () {
        this.Yz && (UF(this.Yz, a1(this)), b1(this), R0(this))
    };
    f.lK = function () {
        this.QI.vl || (sx(this.nL, this.bf, this), this.QI.uc())
    };
    f.mK = function () {
        X(this).ma() && this.Ud && this.Ud.V(X(this).ma())
    };
    f.fE = function () {
        this.Xb.V(this.$J(this.Xb.Em()));
        c1(this);
        this.Xb.G().hf() && X(this).Vw(this.Xb.G().hf());
        this.Xb.G().ad() && X(this).fn(this.Xb.G().ad());
        this.Xb.G().$d() && X(this).Ao(this.Xb.G().$d())
    };
    f.$J = function (b) {
        var c, d = PW(X(this).Fa(), X(this).W(), X(this).hf(), X(this).ad(), X(this).$d());
        if (!d) for (var e = 0, h = b.length; e < h; ++e) if (!(b[e] instanceof gZ)) {
            var k = b[e].qa();
            c || k.Fa() !== X(this).Fa() || (c = k);
            if (k.W() === X(this).W() && k.Fa() === X(this).Fa() && k.hf().xi() === X(this).hf().xi() && k.ad() === X(this).ad() && k.$d() === X(this).$d()) {
                d = k;
                break
            }
        }
        return d || c
    };
    f.oK = function (b) {
        this.Tf.V(b.target.Db())
    };
    f.nK = function () {
        this.Qd.V(X(this).j.Mr);
        this.nj && d1(this, X(this).j.Mr)
    };
    f.JI = function () {
        this.ZB()
    };

    function e1(b, c) {
        var d = b.Pa[c];
        d && (b.S().wa(d, FJ, b.mF).wa(d, FJ, b.lK).wa(d, FJ, b.kL).wa(d, LJ, b.OK).wa(d, "initdataloaderror", b.eM).wa(d, "changeohlctype", b.nK).wa(d, "changetimeline", b.JI).wa(d, "freemodechange", b.Po).wa(d, qu, b.mK).wa(d, "autoshiftchange", b.tB).wa(d, xF, b.oK).wa(d, px, b.fE).wa(d, "chartobjectadd", b.ur).wa(d, "indicatoradd", b.kK).wa(d, XI, b.gM).wa(d, "active", b.Tz).wa(d, "indicatoradd", b.it).wa(d, "indicatorupdate", b.it).wa(d, "indicatorremove", b.it).wa(d, "changenewsstatus", b.II).wa(d.ga(), "callchartobjectdialog",
            b.MI).wa(d.Kl, "callindicatordialog", b.iL), Yt(d, FJ, b.mF), Yt(d, FJ, b.lK), Yt(d, FJ, b.kL), Yt(d, LJ, b.OK), Yt(d, "initdataloaderror", b.eM), Yt(d, "changeohlctype", b.nK), Yt(d, "changetimeline", b.JI), Yt(d, "freemodechange", b.Po), Yt(d, qu, b.mK), Yt(d, "autoshiftchange", b.tB), Yt(d, xF, b.oK), Yt(d, px, b.fE), Yt(d, "chartobjectadd", b.ur), Yt(d, "indicatoradd", b.kK), Yt(d, XI, b.gM), Yt(d, "active", b.Tz), Yt(d, "indicatoradd", b.it), Yt(d, "indicatorupdate", b.it), Yt(d, "indicatorremove", b.it), Yt(d, "changenewsstatus", b.II), Yt(d.ga(), "callchartobjectdialog",
            b.MI), Yt(d.Kl, "callindicatordialog", b.iL))
    }

    f.MI = function (b) {
        !b.target || b.target instanceof uJ || !this.mh || (this.mh.la || this.mh.T(this.Aa()), this.mh.Z(!0), this.mh.Jw(b.target), this.X().ga().nn())
    };
    f.iL = function (b) {
        b.target && b.target instanceof M && this.Pf && Z_(this, b.target)
    };
    f.X = function () {
        return this.Pa[this.Qb.$l]
    };
    f.wf = function (b) {
        this.j.wf = b;
        this.j.Om && sx(this.Fd().load(), v(this.U3, this, this.j.wf), this)
    };

    function V0(b, c) {
        if (ia(c)) return c;
        var d = [], d = c ? c.split(":") : "";
        if (2 === d.length) if ("t" == d[0]) var e = b.Fd(),
            d = U0(e.mL[d[1]].qh()); else d = d[1].split(","); else d = d.split(",");
        1 === d.length && "" === d[0] && (d = U0(b.Fd().qh()));
        return d
    }

    f.U3 = function (b) {
        b = V0(this, b);
        this.Be = {};
        this.j.wf = b;
        for (var c = 0, d = b.length; c < d; c++) {
            var e = b[c], h;
            if (ka(e)) (h = this.Fd().qh()[e]) || (h = new Fi(e, e, "", 1E-4)); else if (e instanceof Fi) h = e, e = e.aa(); else throw Error("Could not parse available instrument list entry " + c + ": " + e);
            e == this.kp.instrument && (X(this).Ie(h), this.Qb && PY(this.Qb));
            this.Be[e] = h
        }
        this.la && this.Ud.St(Ua(this.Be))
    };
    f.e6 = function () {
        return this.Be
    };
    f.Pv = function (b) {
        this.j.Pv = b;
        sx(this.QI, this.Aaa, this)
    };
    f.Aaa = function () {
        var b;
        ka(this.j.Pv) ? (b = UO(this.j.Pv), b = Gg(b)) : b = this.j.Pv;
        b && E(b, function (b) {
            var d = IC.kb(b[0]);
            d.cb(Ig(b));
            X(this).Ni(d)
        }, this)
    };
    f.bo = function (b) {
        this.j.bo = b;
        this.zd && (rR(this.zd, this.j.bo), !ch(this.Pa) && X(this) && (b = X(this), b.Nt = this.j.bo, b.zd && rR(b.zd, b.Nt)))
    };
    f.Ux = function (b) {
        this.j.Ux = b;
        Z0(this)
    };
    f.Wx = function (b) {
        this.j.Wx = b;
        Z0(this)
    };
    f.Vx = function (b) {
        this.j.Vx = b;
        Z0(this)
    };
    f.bh = function (b) {
        this.j.bh !== b && (this.j.bh = b, this.KF.V(b), Z0(this))
    };
    f.cm = function (b) {
        this.j.cm = b;
        Z0(this)
    };
    f.XA = function (b) {
        this.j.XA = b;
        Z0(this)
    };
    f.TA = function (b) {
        this.j.TA = b;
        Z0(this)
    };
    f.Rd = function (b) {
        this.j.Rd = b;
        Z0(this)
    };
    f.$A = function (b) {
        this.j.$A = b;
        Z0(this)
    };
    f.gx = function (b) {
        this.j.gx = b;
        Z0(this)
    };
    f.YA = function (b) {
        this.j.YA = b;
        Z0(this)
    };
    f.hu = function (b) {
        this.j.hu = b;
        Z0(this)
    };
    f.Lq = function (b) {
        this.j.Lq = b;
        Z0(this)
    };
    f.Kq = function (b) {
        this.j.Kq = b;
        Z0(this)
    };
    f.ufa = function (b) {
        this.j.Lq = b;
        this.j.Kq = b;
        Z0(this)
    };
    f.Bs = function (b) {
        this.j.Bs = b;
        Z0(this)
    };
    f.WG = function (b) {
        this.j.WG = b;
        Z0(this)
    };
    f.hx = function (b) {
        this.j.hx = b;
        this.Tw(this.j.hx);
        Z0(this)
    };
    f.Lu = function (b) {
        this.j.Lu = b;
        this.Pa && this.Qb && X(this) ? X(this).vX(this.j.Lu) : this.kp.allowZoom = this.j.Lu
    };
    f.Ci = function (b) {
        this.j.ei = b;
        this.Ae && this.Ae.Ci(this.j.ei);
        this.jl && this.jl.Ci(this.j.ei);
        this.lp && this.lp.Ci(this.j.ei);
        this.ms && this.ms.Ci(this.j.ei)
    };
    f.tda = function (b) {
        this.j.qD = b;
        this.Ae && this.Ae.Wf(this.j.qD)
    };
    f.setTime = function (b) {
        this.j.jk = wa() - b;
        this.kp.timeOffset = this.j.jk;
        this.Pa && La(this.Pa, function (b) {
            b.JA(this.j.jk)
        }, this)
    };
    f.am = function (b) {
        this.j.language = b
    };
    f.zda = function (b) {
        this.j.sS = b
    };
    f.yda = function (b) {
        this.j.rS = b
    };
    f.dn = function (b) {
        this.j.VF = b;
        this.la && this.X() && this.X().dn(this.j.VF)
    };
    f.Tw = function (b) {
        this.j.po = b;
        !this.Sf && this.j.po && this.la && (this.Sf = new hX(this), this.Sf.GC = this.j.lF);
        this.Sf && this.Sf.Ba(this.j.po);
        this.j.po && this.nt.vl && this.la && (jX(this.Sf), this.Sf.subscribe())
    };
    f.jea = function (b) {
        this.j.lF = b;
        this.Sf && (this.Sf.GC = this.j.lF)
    };
    f.bj = function () {
        return this.j.po
    };
    f.Mda = function (b) {
        this.j.Wv = b;
        !this.ot && this.j.Wv && this.la && (this.ot = new cX(this));
        this.ot && this.ot.Ba(this.j.Wv)
    };
    f.EX = function (b) {
        this.j.ht = b;
        this.la && (this.Np.Ba(!1), this.lz && JF(this.lz, 1, 0), this.j.ht ? (f1(this, this.j.ht), this.qo(), this.Np.Ba(!0)) : setTimeout(v(function () {
            f1(this, this.j.ht);
            this.qo();
            this.Np.Ba(!0)
        }, this), 1E3))
    };
    f.OG = function (b) {
        this.j.OG = b
    };
    f.JC = function (b) {
        this.j.JC = b
    };
    f.IG = function (b) {
        this.j.vs = b
    };
    f.fx = function (b) {
        this.j.fx = b;
        Z0(this)
    };
    f.kq = function (b) {
        this.j.kq = b;
        Z0(this)
    };
    f.XG = function (b) {
        this.j.XG = b;
        Z0(this)
    };
    f.OA = function (b) {
        this.j.OA = b;
        Z0(this)
    };
    f.ls = function (b) {
        this.j.ls = b;
        Z0(this)
    };
    f.ks = function (b) {
        this.j.ks = b;
        Z0(this)
    };
    f.eu = function (b) {
        this.j.eu = b;
        Z0(this)
    };
    f.WA = function (b) {
        this.j.WA = b;
        Z0(this)
    };
    f.js = function (b) {
        this.j.js = b;
        this.Ze && this.Ze.KA(!this.j.js);
        Z0(this)
    };
    f.lang = function (b) {
        this.j.lang = b;
        Z0(this)
    };
    f.PC = function (b) {
        this.j.PC = b
    };
    f.QC = function (b) {
        this.j.QC = b
    };
    f.nA = function (b) {
        this.j.nA = b;
        Z0(this)
    };
    f.zu = function (b) {
        this.j.zu = b;
        this.Gw && this.j.zu && DZ(this.Gw, this.j.zu)
    };
    f.lq = function (b) {
        this.j.lq = b;
        this.la && (K.enable(this.J(), "a-b-re-Dl", !this.j.bh || !this.j.lq), this.qo())
    };
    f.Ho = function (b) {
        this.j.Ho = b;
        this.bg && this.bg.qa() && this.bg.qa().Yw(this.j.Ho)
    };
    f.vn = function (b) {
        this.j.vn = b;
        this.j.vn ? this.cy.V("1px solid " + this.j.vn) : this.cy.V("none");
        this.la && this.qo()
    };
    f.Zda = function (b) {
        this.j.ew = b
    };
    f.rfa = function (b) {
        this.j.AB = b;
        this.jl && this.jl.fk(this.j.AB);
        this.lp && this.lp.fk(this.j.AB)
    };
    f.Eea = function (b) {
        this.j.lx = b;
        this.ms && this.ms.fk(this.j.lx);
        this.jl && (this.jl.ju = this.j.lx)
    };
    f.rG = function (b) {
        this.j.Tm = b;
        this.ml && this.ml.rG(this.j.Tm)
    };
    f.Sq = function (b) {
        this.j.Sq = b;
        Z0(this)
    };
    f.ow = function (b) {
        this.j.ow = b;
        Z0(this)
    };
    f.JG = function (b) {
        this.j.JG = b
    };
    f.LG = function (b) {
        this.j.LG = b
    };
    f.RG = function (b) {
        this.j.RG = b
    };
    f.lC = function (b) {
        this.j.lC = b
    };
    f.Om = function (b) {
        this.j.Om = b;
        this.zd = new pR(this.j.Om);
        rR(this.zd, this.j.bo);
        this.Qb && X(this) ? (X(this).IX(b), PY(this.Qb)) : this.kp.instrumentUri = b
    };
    f.lH = function (b) {
        this.j.lH = b
    };
    f.Fd = function () {
        this.zd || (this.zd = new pR(this.j.Om), rR(this.zd, this.j.bo));
        return this.zd
    };
    f.nQ = function (b) {
        jh(this.kp, b)
    };
    f.P3 = function (b) {
        var c, d;
        if (b) {
            if ("string" == typeof b) try {
                b = Gg(b)
            } catch (e) {
                b = {}
            }
            if (b) {
                if (b.ui) {
                    try {
                        La(b.ui, function (b, c) {
                            if (oa(this[c])) this[c](b); else this.j[c] = b
                        }, this)
                    } catch (h) {
                        console.error("applyWorkspace", "uioptions", h)
                    }
                    b.ui = null
                }
                b.charts ? (c = Ua(b.charts)[0], c = b.charts[c]) : c = b;
                c && c.options && (b.charts = null, c.options.autoShift = !!c.options.autoShift, b = c.options.startTime, (d = c.options.endTime) && delete c.options.endTime, c.options.dataServerURI && delete c.options.dataServerURI, c.options.newsServerURI &&
                delete c.options.newsServerURI, c.options.dateInterval = c.options.dateInterval || [NaN, NaN], b && (isNaN(c.options.dateInterval[0]) || b < c.options.dateInterval[0]) && (b < c.options.dateInterval[0] && (c.options.startTime = c.options.dateInterval[0]), c.options.dateInterval[0] = b), d && (isNaN(c.options.dateInterval[1]) || d > c.options.dateInterval[1]) && (c.options.dateInterval[1] = d), d = new Date, d.setMilliseconds(0), d.setSeconds(0), d = +d, c.options.dateInterval[1] && !isNaN(c.options.dateInterval[1]) && c.options.dateInterval[1] >
                d && (c.options.dateInterval[1] = d), isNaN(c.options.dateInterval[1]) && (c.options.dateInterval[1] = d), c.options.workspace_ = JSON.stringify(c), c.options.dataUnitCount && delete c.options.dataUnitCount, b && delete c.options.startTime, this.nQ(Lc(c.options)), c = b = null)
            }
        }
    };

    function g1(b) {
        var c = new xI;
        c.T(b.J());
        return c.J()
    }

    function X0(b) {
        var c = b.M(), d = y("MSG_CLOSE_LOGIN_FORM", {}, "Close");
        dk(b.J(), Q0);
        us(b.J(), {id: "N-unique-gd-" + wV});
        b.ym = new IQ(b.j.JC, b.M());
        b.ym.la || b.ym.T(b.Aa());
        b.Fb = c.u(D, Q0 + "-Y" + (b.j.bh ? "" : " a-N-hj"), b.bga = c.u(D, Q0 + "-X", b.Bfa = c.u(D, "a-b-Dl-X"), c.u(D, "a-Rg-X", b.uu = c.u(D, "a-Rg-Y"), b.kX = c.u(D, "a-Rg-cb-Y", c.u(D, "a-Rg-cb", b.Jfa = uY(["a-ib-Qg-db", "a-Rg-Kk-db"]), b.Kfa = uY(["a-ib-Qg-eb", "a-Rg-Kk-eb"]))), b.e4 = c.u(D, "a-b-cn-Y")), b.Wj = g1(b), b.ZR = c.u(D, ["a-b-ab", "a-xl-yl"], c.u(Le, "a-b-ab-mi", W0)), b.jC = c.u(D,
            ["a-b-vl-X", "mg-Al"], c.u(D, "mg-Al-Bl-Y"), b.xn = c.u(D, ["chartContainer", "mg-Al-Cl-Y"], b.wn = c.u(D, "a-b-N-El-b-fj-Y", b.dy = c.u(D, "a-b-N-El-b-fj-Y-fb"))), zs(D, "mg-Al-ih", zs(D, "mg-Al-ih-vg", zs(D, null))))));
        O(b.Wj, !0);
        c.appendChild(b.J(), b.Fb);
        c.appendChild(b.J(), b.ij = c.u(D, ["a-b-ab", "a-b-Zm-an"], b.b4 = c.createElement(Le), c.u(D, null, b.zV = c.u(ie, null, ""), b.yV = c.u(D, ["a-Zm-zi-Yg", "a-ib", "a-ib-Tj"]), b.zz = c.u(D, "a-Zm-iframe-X", c.u(oe, {
            id: t0,
            name: t0
        })))));
        b.yV.setAttribute("title", d);
        K.enable(b.J(), "a-b-re-Dl",
            !b.j.bh || !b.j.lq);
        O(b.ij, !1);
        b.Qb = new BY(b, b.M());
        b.Qb.As();
        b.Pa[h1(b)] = new R(b.xn, b.kp, b.j.bo, b.Fd());
        vV(b.Pa[h1(b)]);
        b.Pa[h1(b)].dn(b.j.VF);
        b.Pa[h1(b)].$h(h1(b));
        b.Pa[h1(b)].JA(b.j.jk);
        b.Pa[h1(b)].IG(b.j.vs);
        zV(b.Pa[h1(b)], b.ym);
        OY(b.Qb, b.Qb.$l, X(b));
        i1(b, h1(b));
        b.S().C(b.Pa[h1(b)], "activated", function (b) {
            b = b.target.aa();
            this.Sf && this.bj() && this.Sf.subscribe();
            i1(this, b);
            j1(this);
            k1(this, l1(this, b))
        });
        X(b).setActive(!0);
        b.Vc && T0(b);
        b.Gw = new AZ(b, b.M());
        b.j.zu && DZ(b.Gw, b.j.zu);
        b.Jc = new jO(null, null,
            b.M());
        b.Jc.dW = !1;
        b.Jc.Ei(!1);
        b.Pr = c.u(D, "a-fl-ih");
        c.append(b.bga, b.Pr);
        b.Ud = new XR(b.Fd(), b.M());
        b.j.Tm || cS(b.Ud, b.Aa());
        b.Ud.St(Ua(b.Be));
        b.Ud.pY = !0;
        c = y("MSG_OFFER_SIDE_SELECT_TITLE", {}, "Offer side");
        b.Lr = m1(b, {ASK: {title: "ASK", no: null}, BID: {title: "BID", no: null}});
        b.Lr.Rt(!1);
        b.j.Tm ? b.Lr.T() : b.Lr.T(b.Aa());
        b.Tf = new pP(c, b.Lr, jN.Ka(), b.M());
        b.Tf.tc("a-tl-Vg");
        b.bg = new uL(uY("a-ib-Sj"), null, b.M());
        b.bg.Gb(n1);
        b.bg.fe(new NX(b, b.j.Sq, b.j.ow));
        b.bg.qa().Yw(b.j.Ho);
        b.Xb = new jZ(b, null, b.M());
        lZ(b.Xb,
            sF("chart.period"));
        b.Xb.tc("a-gl-Vg");
        b.rf = new jZ(b, null, b.M());
        lZ(b.rf, sF("chart.presentationtype"));
        b.rf.tc("a-Hl-Vg");
        o1(b, X(b).Fa());
        b.rf.V(X(b).Te());
        c = y("MSG_INDICATORS", {}, "Indicators");
        b.uE = new wL(uY("a-ib-Bk"), null, b.M());
        b.uE.Gb(c);
        b.iw = new nO(uY("a-ib-zg"), null, b.M());
        b.mj = new nO(uY("a-ib-Uj-Vj"), null, b.M());
        b.mj.Gb(p1(b));
        b.mj.Tb(X(b).nr());
        c = y("MSG_ONLINE_NEWS", {}, "Online news");
        b.Or = new nO(uY("a-ib-Ok-Vj"), null, b.M());
        b.Or.Gb(c);
        b.Eh = b.Eh || {};
        b.Eh[E_(b)] = IC.kb("VOLUME");
        b.nk = new nO(uY("a-ib-tk"),
            null, b.M());
        b.nk.Gb(q1(b));
        b.tk = new nO(uY("a-ib-Jk"), null, b.M());
        b.tk.Tb(X(b).j.um);
        b.tk.Gb(S0(b));
        c = y("MSG_ZOOM_IN", {}, "Zoom in");
        b.Au = new wL("", XJ(rL, "a-ib-vk-kd"), b.M());
        b.Au.Gb(c);
        c = y("MSG_ZOOM_OUT", {}, "Zoom out");
        b.Bu = new wL("", XJ(rL, "a-ib-vk-xk"), b.M());
        b.Bu.Gb(c);
        c = y("MSG_SCROLL_LEFT", {}, "Scroll left");
        b.pA = new wL("", XJ(rL, "a-ib-Kk-db"), b.M());
        b.pA.Gb(c);
        c = y("MSG_SCROLL_RIGHT", {}, "Scroll right");
        b.qA = new wL("", XJ(rL, "a-ib-Kk-eb"), b.M());
        b.qA.Gb(c);
        c = y("MSG_DRAWING_TOOLS", {}, "Drawing tools");
        b.tl = r1(b);
        b.tl.Rt(!1);
        b.j.Tm ? b.tl.T() : b.tl.T(b.jC);
        b.gv = new gP(uY(["a-uj-ib", "a-ib-yk"]), b.tl, null, b.M());
        b.gv.Gb(c);
        K.add(b.tl.J(), "cl-dl-zg");
        b.Qd = new jZ(b, null, b.M());
        tK(b.Qd, 16);
        b.Qd.vd(16, !0);
        lZ(b.Qd, sF("chart.ohlctype"));
        b.Qd.tc("a-Il-Vg");
        s1(b, X(b).W());
        b.Qd.V(X(b).j.Mr);
        b.nj = X(b).Rx(new UI);
        b.nj.Ba("disabled" != b.Qd.G());
        c = y("MSG_DETACH", {}, "Open in new window");
        b.cv = new wL(uY("a-ib-Ik"), XJ(rL, "a-zl-b"), b.M());
        b.cv.Gb(c);
        b.qt = new wL([uY("a-ib-Zj-ek"), uY("a-ib-Zj-dk")], null, b.M());
        t1(b);
        c =
            y("MSG_PAN_TO_START", {}, "Pan to start");
        b.uF = new wL(uY("a-ib-Zj-fk"), null, b.M());
        b.uF.Gb(c);
        c = y("MSG_PAN_TO_END", {}, "Pan to end");
        b.tF = new wL(uY("a-ib-Zj-bk"), null, b.M());
        b.tF.Gb(c);
        c = y("MSG_AUTO_SHIFT", {}, "Auto shift");
        b.Ou = new nO(b.S3 = uY("a-ib-Zj-gk-hk"), null, b.M());
        b.Ou.Gb(c);
        b.tB();
        b.pD = new wL(b.iS = uY(""), null, b.M());
        b.pD.Gb(u1);
        b.Po();
        c = y("MSG_PAN_TO_CUSTOM", {}, "Show custom time range");
        b.sF = new wL(uY("a-ib-vk-wk"), null, b.M());
        b.sF.Gb(c);
        c = y("MSG_CHARTUI_SELECT_THEME_BUTTON", {}, "Select theme");
        b.bs = v1(b);
        b.bs.Rt(!1);
        b.j.Tm ? b.bs.T() : b.bs.T(b.jC);
        b.xo = new pP(uY("a-ib-Vk-Wk"), b.bs, jN.Ka(), b.M());
        b.xo.Gb(c);
        c = y("MSG_CHARTUI_LAYERS_BUTTON", {}, "Chart layers");
        b.xL = w1(b);
        j1(b);
        b.xL.T(b.Aa());
        b.aw = new qP(uY("a-ib-Wj-Ug"), b.xL, jN.Ka(), b.M());
        b.aw.Gb(c);
        rP(b.aw, l1(b, X(b).aa()));
        c = y("MSG_CHARTUI_UNDO", {}, "Undo (Ctrl + Z)");
        b.zx = new wL(uY("a-ib-Pk"), null, b.M());
        b.zx.Gb(c);
        c = y("MSG_CHARTUI_REDO", {}, "Redo (Ctrl + Shift + Z)");
        b.xw = new wL(uY("a-ib-Qk"), null, b.M());
        b.xw.Gb(c);
        c = y("MSG_SCREENSHOT", {}, "Take screenshot");
        b.oA = new wL(null, null, b.M());
        b.oA.Gb(c);
        b.oA.tc("a-pl-vg");
        b.jl = new O0(b, b.j.AB);
        b.jl.Ci(b.j.ei);
        b.jl.ju = b.j.lx;
        b.jl.Ba(b.j.Lq);
        b.lp = new K0(b, b.j.AB);
        b.lp.Ci(b.j.ei);
        b.lp.Ba(b.j.Kq);
        b.ms = new wY(b, b.j.lx);
        b.ms.Ci(b.j.ei);
        b.ms.Ba(b.j.Bs);
        b.eY = m1(b, [{title: x1, no: {Ll: b.ms, action: "shareworkspace"}}, {
            title: y1,
            no: {Ll: null, action: "sharesnapshot"}
        }, {title: z1, no: {Ll: null, action: "savesnapshot"}}]);
        b.eY.T(b.Aa());
        b.aH = new gP(uY("a-ib-Lk"), b.eY, iN.Ka(), b.M());
        b.aH.Gb(A1);
        b.bX = m1(b, [{title: B1, no: {Ll: b.lp, action: M0}},
            {title: C1, no: {Ll: b.lp, action: N0}}]);
        b.bX.T(b.Aa());
        b.$F = new gP(uY("a-ib-Lk-Mk"), b.bX, iN.Ka(), b.M());
        b.$F.Gb(D1);
        b.vV = m1(b, [{title: E1, no: {Ll: b.jl, action: M0}}, {title: F1, no: {Ll: b.jl, action: N0}}]);
        b.vV.T(b.Aa());
        b.dF = new gP(uY("a-ib-Lk-mj"), b.vV, iN.Ka(), b.M());
        b.dF.Gb(G1);
        b.Np = new nO(uY("a-ib-Zk"), null, b.M());
        b.Np.Gb(H1(b));
        b.Np.Tb(b.j.ht);
        b.Jc.Va(b.iw, !0);
        b.Ud.XL = !0;
        b.Jc.Va(b.Ud, !0);
        b.Xb.XL = !0;
        b.Jc.Va(b.Xb, !0);
        b.Tf.XL = !0;
        b.Jc.Va(b.Tf, !0);
        b.Jc.Va(b.rf, !0);
        b.Jc.Va(b.gv, !0);
        b.Jc.Va(b.uE, !0);
        b.Jc.Va(b.Qd,
            !0);
        b.Jc.Va(b.qt, !0);
        b.Jc.Va(b.uF, !0);
        b.Jc.Va(b.tF, !0);
        b.Jc.Va(b.nk, !0);
        b.Jc.Va(b.mj, !0);
        b.Jc.Va(b.Or, !0);
        b.Jc.Va(b.pD, !0);
        b.Jc.Va(b.tk, !0);
        b.Jc.Va(b.sF, !0);
        b.Jc.Va(b.oA, !0);
        b.Jc.Va(b.$F, !0);
        b.Jc.Va(b.dF, !0);
        b.Jc.Va(b.aH, !0);
        b.Jc.Va(b.xo, !0);
        b.Jc.Va(b.aw, !0);
        b.Jc.Va(b.zx, !0);
        b.Jc.Va(b.xw, !0);
        b.Jc.Va(b.Np, !0);
        b.zx.Ba(!1);
        b.xw.Ba(!1);
        b.Qb.T(b.Bfa);
        b.Jc.T(b.uu);
        b.bg.T(b.e4);
        b.j.Tm && b.bg.qa().T();
        I1(b);
        J1(b);
        xZ(b.Xb);
        xZ(b.rf);
        xZ(b.Qd);
        b.cv.T(b.xn);
        b.pA.T(b.dy);
        b.Bu.T(b.dy);
        b.Ou.T(b.dy);
        b.Au.T(b.dy);
        b.qA.T(b.dy);
        K.add(b.Ou.J(), "a-b-N-Gl-vg");
        b.JF && K.enable(b.wn, "a-b-N-Tm-Um", !b.JF.G());
        b.Pf = new i_(b, b.M());
        b.Pf.GJ = !0;
        b.mh = new FZ(b, b.M());
        b.mh.GJ = !0;
        b.nM = new pX(b, b.M());
        b.Qi = new D_(b, b.M());
        b.Qi.T(b.xn);
        b.HO = new g_(b);
        b.HO.Ba(b.j.hu);
        b.Rq = new tY(X(b), b.M());
        b.Rq.T();
        b.Rq.detach();
        b.Ze = new UY(b, b.j.sS, b.j.rS);
        b.Ze.KA(!b.j.js);
        b.Ze.am(b.j.language);
        b.Ze.Gc(b.jC);
        b.Ze.cu(b.j.kq && b.j.Rd);
        b.qo();
        t1(b);
        b.S().C(b.Ud.ED(), "mouseup", function (b) {
            b.stopPropagation();
            b.preventDefault()
        }, b)
    }

    function f1(b, c) {
        b.iK && (Ls(b.iK), delete b.iK);
        if (c) {
            var d = b.M();
            d.append(b.jC, b.iK = d.u(D, "a-ll-vn-X", b.lz = d.u(D, "a-ll-vn-wn"), b.kz = uY("a-ib-Yk")));
            ht(b.kz, "color", X(b).fa().j.Yc)
        }
    }

    var K1 = y("MSG_LIVE_ON", {}, "Stop automatic chart updates"),
        L1 = y("MSG_LIVE_OFF", {}, "Resume automatic chart updates");

    function t1(b) {
        b.qt.la && (K.enable(b.qt.J(), "a-Ol-Pl-Ql", X(b).Cg), K.enable(b.qt.J(), "a-Ol-Pl-Rl", !X(b).Cg), b.qt.Gb(X(b).Cg ? K1 : L1))
    }

    Z.prototype.tB = function () {
        gk(this.S3, "a-auto-shift-Rl", !X(this).j.Hj);
        this.Ou.Tb(X(this).j.Hj)
    };
    var u1 = y("MSG_FREE_LOCK_MODE", {}, "Free/Lock mode");
    f = Z.prototype;
    f.Po = function () {
        gk(this.iS, "a-ib-Ak-Ug", X(this).j.Yi);
        gk(this.iS, "a-ib-Ak-dj", !X(this).j.Yi)
    };
    f.bf = function () {
        function b(b, c) {
            var h;
            this.S().C(b, ["mousedown", "touchstart"], function (b) {
                c();
                h = setInterval(c, 5);
                b.stopPropagation();
                b.preventDefault()
            }).C(b, ["mouseup", "mouseout", "touchend"], function () {
                clearInterval(h)
            })
        }

        this.S().C(this.rf, "select", function () {
            X(this).EN(this.rf.G())
        }).C(this.Tf, "action", function () {
            X(this).Gi(this.Tf.G());
            X(this).reload();
            PY(this.Qb)
        }).C(this.Ud, "select", function () {
            var b = this.Ud.G();
            if (b.aa && X(this).ma().aa && b.aa() != X(this).ma().aa() || !b.aa && !X(this).ma().aa && b !=
                X(this).ma()) {
                var c = this.j.vs && (sR(this.Fd(), b.aa(), "US") || sR(this.Fd(), b.aa(), "ETF_CFD_US"));
                sx(this.ym.confirm(c), function () {
                    X(this).Ie(b);
                    X(this).reload();
                    PY(this.Qb)
                }, this);
                this.Ud.V(X(this).ma())
            }
        }).C(this.Xb, "select", function () {
            var b = this.Xb.G(), c = b.Fa(), h = b.hf(), k = b.ad(), l = b.$d(), p = c != X(this).Fa(),
                h = h && h instanceof hd ? X(this).hf().xi() === h.xi() : X(this).hf() === h, k = X(this).ad() === k,
                l = X(this).$d() === l;
            Cl(b.W(), X(this).W()) && X(this).Fa() === c && h && k && l || (X(this).zh(c), X(this).Ec() && (X(this).Vw(b.hf()),
                X(this).fn(b.ad()), X(this).Ao(b.$d())), X(this).wj(b.W(), p), this.Tf.Ba(1 !== c, !0), X(this).reload(), o1(this, c), s1(this, b.W()), this.rf.V(X(this).Te()), PY(this.Qb), xZ(this.Xb), xZ(this.rf), xZ(this.Qd))
        }).C(this.Xb, "simpleaction", function (b) {
            b = b.target;
            var c = b.isEnabled();
            !b.la && c && b.T(this.Aa());
            c && (b.wu(), b.$m(UX.ys), b.Z(!0))
        }).C(this.uE, "action", function (b) {
            b.stopPropagation();
            this.Pf.la || this.Pf.T(this.Aa());
            this.Pf.Z(!0);
            k_(this.Pf, 0)
        }).C(this.iw, "action", function (b) {
            b.stopPropagation();
            M1(this, b.target.Cf())
        }).C(this.mj,
            "action", function (b) {
                b.stopPropagation();
                X(this).Sw(b.target.Cf());
                this.mj.Gb(p1(this))
            }, !0).C(this.Or, "action", function () {
            this.Ze.toggle()
        }, !0).C(this.nk, "action", function (b) {
            b.stopPropagation();
            this.qY()
        }, !0).C(this.tk, "action", function (b) {
            b.stopPropagation();
            N1(this)
        }, !0);
        this.I5 = TS.Ka().Gc(this.oA.Aa(), {
            width: 20,
            height: 20,
            tE: this.j.PC,
            dataType: "base64",
            $N: this.j.QC,
            data: v(this.v6, this),
            filename: v(this.OS, this)
        });
        this.M().append(this.I5.J(), uY("a-ib-nk"));
        var c = new fu(this);
        this.S().C(this.gv,
            "action", function (b) {
                var e = b.target, h;
                if (cK(b.target, 16) && !b.target.Cf()) c.ud(); else {
                    cK(b.target, 16) || cI(this.gv.cc(), function (b) {
                        b.Tb(!1)
                    });
                    dk(this.J(), "a-b-cl-ul");
                    b.stopPropagation();
                    X(this).ga().nn();
                    var k = b.target.G();
                    c.ud();
                    var l = k.prototype.LE() ? Nx : lx;
                    b = v(cK(b.target, 16) ? c.C : c.Qf, c);
                    b(ps(this.J()), "keydown", function (b) {
                        27 == b.keyCode && (e.Tb(!1), c.ud())
                    }, !0);
                    b(X(this), l, function (b) {
                        K.remove(this.J(), "a-b-cl-ul");
                        var c = X(this).Hm(b.offsetX, b.offsetY), d = h ? h.Jb() : null;
                        k.prototype.CE(c && c.Kb() ||
                            "D") && (h = new k, d && h.Ab(d), X(this).ga().tC(h, c), X(this).ga().handleEvent(b))
                    }, !0)
                }
            });
        this.S().C(this.Qd, "select", function () {
            d1(this, this.Qd.G(), !0)
        });
        this.Qd.dispatchEvent("select");
        this.S().C(this.pD, "action", function () {
            X(this).Ok(!X(this).j.Yi);
            this.Po()
        });
        this.S().C(this.sF, "action", function () {
            this.nM.la || this.nM.T(this.Aa());
            this.nM.Z(!0)
        });
        this.S().C(this.zx, "action", function () {
            this.Sf && this.bj() && eX(this.Sf)
        });
        this.S().C(this.xw, "action", function () {
            this.Sf && this.bj() && dX(this.Sf)
        });
        this.S().C(this.Np,
            "action", function (b) {
                this.EX(b.target.Cf());
                this.Np.Gb(H1(this))
            });
        this.S().C(this.qt, "action", function () {
            X(this).Pw(!X(this).Cg);
            t1(this)
        });
        this.S().C(this.Ou, "action", function (b) {
            X(this).Di(b.target.Cf());
            this.tB();
            b = X(this);
            b.wb && GM(b.wb)
        }, !1);
        this.S().C(this.pA.J(), "mousedown", this.RK).C(this.qA.J(), "mousedown", this.UK).C(this.pA.J(), ["mouseup", "mouseleave"], this.oz).C(this.qA.J(), ["mouseup", "mouseleave"], this.oz);
        this.S().C(this.cv, "action", function () {
            O1(this)
        });
        this.S().C(this.Au, "action", v(X(this).FH,
            X(this)), !1);
        this.S().C(this.Bu, "action", v(X(this).IH, X(this)), !1);
        this.S().C(this.uF, "action", function () {
            X(this).Di(!1);
            X(this).Dd(0 - X(this).j.Yg * X(this).Ca())
        }, !1);
        this.S().C(this.tF, "action", function () {
            X(this).Dd(X(this).Jd);
            var b = X(this);
            b.wb && GM(b.wb)
        }, !1);
        this.GO = new GE(dt(this.M()));
        this.S().C(this.GO, "resize", this.qo);
        this.S().C(this.Rq, "edit", function () {
            $_(this, this.Rq.Ep())
        }).C(this.Rq, "delete", function () {
            X(this).ga().Me(this.Rq.Ep())
        });
        this.S().C(this.uu, "touchmove", function (b) {
            this.qO &&
            (window.TouchEvent && b.Pe() instanceof TouchEvent && Math.abs(b.clientX - this.Rr) < Math.abs(b.clientY - this.Ft) && (this.qO = !1), !1 !== b.cancelable && (b.preventDefault(), this.dG(b.clientX - this.Rr), this.Rr = b.clientX, this.Ft = b.clientY))
        }).C(this.uu, "touchstart", function (b) {
            this.qO = !0;
            this.Rr = b.clientX;
            this.Ft = b.clientY
        }).C(this.uu, "touchend", function () {
            this.qO = !1;
            this.Ft = this.Rr = null
        });
        b.call(this, this.Jfa, v(this.dG, this, 1));
        b.call(this, this.Kfa, v(this.dG, this, -1));
        this.dispatchEvent("ready");
        this.S().C(this.Qb,
            "change", this.WK).C(this.Qb, "add", this.V$).C(this.Qb, "remove", this.Y$);
        this.S().C(this.$F, "action", this.SU).C(this.dF, "action", this.SU).C(this.aH, "action", function (b) {
            switch (b.target.qa().action) {
                case "shareworkspace":
                    P1(this, b);
                    break;
                case "sharesnapshot":
                    b = this.Gw.toDataURL().replace(/data:[^;]+;base64,/, "");
                    AY(new zY(this, this.j.lx, b));
                    break;
                case "savesnapshot":
                    b = this.Gw.toDataURL().replace(/data:[^;]+;base64,/, "");
                    b = atob(b);
                    for (var c = Array(b.length), h = 0; h < b.length; h++) c[h] = b.charCodeAt(h);
                    b = new Uint8Array(c);
                    b = new Blob([b], {type: "image/png"});
                    eb(new Xa, b, this.OS())
            }
        }).C(this.ij, "keydown", function (b) {
            27 == b.keyCode && O(this.ij, !1)
        }).C(this.yV, "click", function () {
            O(this.ij, !1)
        }).C(this.b4, "click", function () {
            O(this.ij, !1)
        });
        this.S().C(this.xo, "change", function (b) {
            this.X().$w(FG[b.target.G()]);
            this.wH();
            this.kz && ht(this.kz, "color", X(this).fa().j.Yc);
            Q1(this, this.X().aa(), b.target.G());
            R1(this)
        }).C(this.xo, "action", function (b) {
            this.pV = b.target.G();
            R1(this)
        });
        this.xo.V(this.X().fa().getName());
        this.pV = this.X().fa().getName();
        this.S().C(this.aw, "multiselectaction", function (b) {
            k1(this, b.target.getSelection())
        });
        this.S().C(this.bg, "action", function (b) {
            b = b.target.qa();
            var c = b.isEnabled();
            !b.la && c && b.T(this.Aa());
            c && (b.wu(), b.Z(!0))
        }).C(this.bg.qa(), "change", function (b) {
            this.j.ow && E(Ta(this.uw.a), function (b) {
                if (this.Xb) {
                    var c = this.Xb;
                    b = S1(b);
                    b.bm(c.Ag(b));
                    c.a.replace(b)
                }
            }, this);
            if (this.j.Sq) {
                var c = b.target.Ic();
                this.X().Do(c === yX ? 0 : (new Date).getTimezoneOffset());
                -1 !== b.target.ft() ? (this.lq(!0), this.Qb.setPosition(b.target.ft())) :
                    this.lq(!1);
                this.X().Mn() != b.target.bz() && (this.X().Zh(b.target.bz()), this.X().reload());
                c = 0 == b.target.yD();
                this.X().Fe() !== c && (this.X().Yh(c), this.X().reload(!0));
                b = b.target.PD();
                this.X().gA !== b && (this.X().gA = b)
            }
        });
        this.ay()
    };

    function XY(b) {
        b.Or.Tb(b.Ze ? !b.Ze.isEnabled() : !b.Or.Cf());
        if (b.Ze) {
            var c = b.Ze;
            c.Za = b.Or.Cf();
            c.Za ? c.Cp ? (b = c.Cp, GT(b), b.Cd && tT(b.Cd)) : (c.Cp = new xT({
                Dk: !1,
                uri: c.N().uri,
                wq: c.N().wq,
                Pz: c.N().Pz,
                av: c.N().language
            }), c.Cp.KA(c.N().Fx), c.Cp.T(c.Lk)) : c.Cp && FT(c.Cp)
        }
    }

    function d1(b, c, d) {
        var e = !1, h = !1, k = !0, l = !1, p = !1, q = !1;
        b.nj.Ba(!1);
        switch (c) {
            case "legend":
                e = !0;
                break;
            case "disabled":
                k = !1;
                break;
            case "detached":
                h = !0;
                break;
            case "advanced":
                p = !0;
                break;
            case "detached_advanced":
                h = p = !0;
                break;
            case "side_menu":
                q = !0;
                break;
            case "magnifier":
                l = !0
        }
        b.Sz = c;
        b.nj.Ba(k);
        b.nj.ek(e);
        b.nj.JX(l);
        b.nj.rX(p);
        b.nj.iG(h);
        hJ(b.nj, q);
        d && (X(b).yN(c), a0(b.Qi, q), q && setTimeout(v(function () {
            this.iw.Tb(!0);
            this.iw.dispatchEvent("action")
        }, b), 0))
    }

    function M1(b, c) {
        b.Qi.Z(c);
        if (c) {
            var d = v(function () {
                this.S().wa(this.xn, "click", d);
                this.iw.Tb(!1);
                this.Qi.Z(!1)
            }, b);
            b.S().C(b.xn, "click", d);
            b.S().C(b.Qi.J(), "click", function (b) {
                b.stopPropagation()
            })
        }
    }

    function T1(b, c) {
        var d, e = d = b.M().u(ie, null, c), h = b.zV, k = h.parentNode;
        k && k.replaceChild(e, h);
        b.zV = d
    }

    f.RK = function () {
        var b = this;
        X(this).Di(!1);
        X(this).Dd(X(this).pa - X(this).Ca());
        this.Zx = setInterval(function () {
            X(b).Dd(X(b).pa - X(b).Ca())
        }, 10)
    };
    f.UK = function () {
        var b = this;
        X(this).Di(!1);
        X(this).Dd(X(this).pa + X(this).Ca());
        this.Zx = setInterval(function () {
            X(b).Dd(X(b).pa + X(b).Ca())
        }, 10)
    };
    f.oz = function () {
        clearInterval(this.Zx)
    };
    f.ay = function () {
        this.S().C(X(this), "chartobjectadd", this.ur).C(X(this), "indicatoradd", this.kK).C(X(this), XI, this.gM).C(X(this), "active", this.Tz).C(X(this), FJ, this.mF).C(X(this), ["indicatoradd", "indicatorupdate", "indicatorremove"], this.it).C(X(this), "changenewsstatus", this.II).C(X(this).ga(), "callchartobjectdialog", this.MI).C(X(this).Kl, "callindicatordialog", this.iL)
    };
    f.ur = function (b) {
        this.lk || b.target.lk || (lX(this), b = b.Ep(), b.XF && (this.mh.la || this.mh.T(this.Aa()), this.mh.Z(!0), this.mh.Jw(b)))
    };
    f.kK = function (b) {
        var c = b.kb();
        b = b.qd().Qh;
        var d = uY("a-ib-Sj"), e = uY("a-ib-Tj");
        Ds(b, d, e);
        Qt(d, "click", function () {
            Z_(this, c)
        }, null, this);
        Qt(e, "click", function () {
            X(this).xh(c)
        }, null, this)
    };
    f.it = function (b) {
        b.kb() === this.Eh[E_(this)] && this.nk.Tb(X(this).Rp(this.Eh[E_(this)]))
    };
    f.II = function (b) {
        this.mj.Tb(b.target.nr());
        this.mj.Gb(p1(this))
    };
    f.P7 = function () {
        return this.Qb
    };
    f.WK = function () {
        var b = this.Qb.$l, c = QY(this.Qb, b);
        c && (c.$w(FG[this.lB[b]]), this.wH(), c.Ia());
        this.Sf && this.bj() && jX(this.Sf);
        La(this.Pa, function (b, c) {
            this.Pa[c] && e1(this, c)
        }, this);
        c && (this.ml && i0(this.ml, X(this)), $0(this), this.ay(), this.ot && this.ot.Ba(this.j.Wv), Y0(this), this.nj.If(X(this)), this.Rq.If(X(this)), this.Eh[E_(this)] ? this.nk.Tb(X(this).Rp(this.Eh[E_(this)])) : this.nk.Tb(!1), this.nk.Gb(q1(this)), this.tk.Tb(X(this).j.um), this.tk.Gb(S0(this)), this.Eh[E_(this)] || (this.Eh[E_(this)] = IC.kb("VOLUME")),
            this.mj.Tb(X(this).nr()), this.mj.Gb(p1(this)), R_(this.Qi), b0(this.Qi), $t(this.Au, "action"), $t(this.Bu, "action"), this.S().wa(this.Au, "action", v(X(this).FH, X(this)), !1), this.S().wa(this.Bu, "action", v(X(this).IH, X(this)), !1), this.S().C(this.Au, "action", v(X(this).FH, X(this)), !1), this.S().C(this.Bu, "action", v(X(this).IH, X(this)), !1), this.Po(), X(this).Pw(X(this).Cg), t1(this), this.kz && ht(this.kz, "color", X(this).fa().j.Yc), U1(this, this.X().fa().getName()), this.Ze && ZY(this.Ze), this.Sz && (this.Qd.V(this.Sz),
            this.Qd.dispatchEvent("select")), La(this.Pa, function (c, e) {
            this.Pa[e] && this.Pa[e].setActive(e === b)
        }, this))
    };
    f.V$ = function () {
        var b = this.Qb.$l;
        this.Dz || (this.Dz = {});
        O(this.Wj, !0);
        ek(this.xn, "a-b-Y-wl");
        ek(this.J(), "a-b-N-wl");
        var c = Lc(this.kp);
        jh(c, this.Dz);
        this.Pa[b] = new R(this.xn, c, this.j.bo, this.Fd());
        this.Pa[b].sH = wV;
        this.Pa[b].dn(this.j.VF);
        this.Pa[b].$h(b);
        this.Pa[b].IG(this.j.vs);
        this.Pa[b].ym = this.ym;
        this.S().C(this.Pa[b], "activated", function (b) {
            b = b.target.aa();
            this.Sf && this.bj() && this.Sf.subscribe();
            i1(this, b);
            j1(this);
            k1(this, l1(this, b))
        });
        this.Pa[b].JA(this.j.jk);
        c.dateInterval && this.Pa[b].fs(c.dateInterval);
        Q1(this, b, this.lB[b] || this.pV || this.X().fa().getName());
        U1(this, this.lB[b]);
        h1(this) && (ch(this.Dz) && (this.Pa[b].EN(this.Pa[h1(this)].Te()), this.Pa[b].wX(this.Pa[h1(this)].j.Ij), this.Pa[b].xX(this.Pa[h1(this)].j.qn), this.Pa[b].ek(this.Pa[h1(this)].Ip()), this.Pa[b].QX(this.Pa[h1(this)].j.ry)), this.Pa[b].NN(this.Pa[h1(this)].j.hm), this.Pa[b].DG(this.Pa[h1(this)].j.tx));
        this.Dz = {};
        $0(this);
        this.pJ = this.Pa[b].Ip();
        this.Pa[b].ek(!1);
        this.Pa[b].init();
        La(this.Pa, function (c, e) {
            this.Pa[e] && this.Pa[e].setActive(e ===
                b)
        }, this);
        OY(this.Qb, b, this.Pa[b]);
        this.nj.If(X(this));
        this.Rq.If(X(this));
        this.Eh[E_(this)] ? this.nk.Tb(X(this).Rp(this.Eh[E_(this)])) : this.nk.Tb(!1);
        this.tk.Tb(X(this).j.um);
        this.Eh[E_(this)] || (this.Eh[E_(this)] = IC.kb("VOLUME"));
        X(this).Sw(!1);
        this.mj.Tb(!1);
        this.mj.Gb(p1(this))
    };
    f.Y$ = function () {
        var b = this.Qb.hca;
        e1(this, b);
        this.Pa[b].setActive(!1);
        this.Pa[b].Pw(!1);
        this.Pa[b].wb.S().ud();
        this.Pa[b].wb.S().Ra();
        au(this.Pa[b].wb);
        this.Pa[b].wb.Ra();
        this.Pa[b].cancelAnimationFrame();
        this.Pa[b].S().ud();
        this.Pa[b].S().Ra();
        au(this.Pa[b]);
        WV(this.Pa[b]);
        this.Pa[b].Ra();
        this.Pa[b].eb().kA();
        au(this.Pa[b].eb());
        this.Pa[b].eb().Ra();
        this.Pa[b].ql.S().ud();
        this.Pa[b].ql.S().Ra();
        au(this.Pa[b].ql);
        this.Pa[b].ql.Ra();
        au(this.Pa[b].Ld);
        this.Pa[b].Ld.Ra();
        au(this.Pa[b].ib);
        this.Pa[b].ib.Ra();
        La(this.Pa[b].Nc, function (b) {
            b.Ra()
        });
        E(this.Pa[b].ga().ri(), function (b) {
            b.Ra()
        });
        au(this.Pa[b].ga());
        this.Pa[b].ga().Ra();
        this.Pa[b].we.ra.ud();
        this.Pa[b].we.ra.Ra();
        au(this.Pa[b].we);
        this.Pa[b].we.Ra();
        this.Eh[b] && delete this.Eh[b];
        delete this.Pa[b];
        delete this.lB[b];
        delete this.Sm[b]
    };

    function h1(b) {
        void 0 === b.eO && (b.eO = b.Qb.$l);
        return b.eO
    }

    function Z_(b, c) {
        b.Pf.la || b.Pf.T(b.Aa());
        b.Pf.Z(!0);
        k_(b.Pf, 1);
        r_(b.Pf, c)
    }

    function $_(b, c) {
        b.mh.la || b.mh.T(b.Aa());
        b.mh.Z(!0);
        b.mh.Jw(c)
    }

    function V1(b) {
        var c = vG(b.Aa()).width, d = vG(b.Jc.Aa()).width;
        O(b.kX, d + 33 > c);
        b.dG(0)
    }

    f.dG = function (b) {
        var c = xG(this.uu, "margin"), d = vG(this.Aa()).width, e = vG(this.Jc.Aa()).width + vG(this.kX).width + 33;
        ht(this.uu, "margin-left", yb(xb(c.left + 1 * b, yb(d - e, 0)), 0).toString(10) + "px")
    };

    function O1(b) {
        if (b.YR) {
            var c = b.X().ma(), d = b.gg().oO();
            d.showUI = !0;
            d.showTabs = !1;
            d.showTabsSettings = !1;
            d.showDetachButton = !1;
            d.showNewsButton = b.j.fx;
            d.showOnlineNewsButton = b.j.kq;
            d.instrument = c.fsrvId || c.Ela || c.aa() || c.toString();
            d.period = b.X().W().Zb();
            d.dataType = b.X().Fa();
            d.offerSide = b.X().Db();
            d.presentationType = b.X().Te();
            d.availableInstruments && delete d.availableInstruments;
            var e = Ja(b.j.lC, d), h = b.X().ga().lb(), k = v(function () {
                if (e.chart) {
                    var b = e.ui, c = e.chart;
                    b.availableInstruments(Ua(this.Be));
                    c.setFilter(this.X().Mn());
                    c.setEet(this.X().Fe());
                    c.setTheme(this.X().fa().getName());
                    b.updateThemeUIStyles();
                    var d = function () {
                        c.ga().cb(h);
                        var b = this.X();
                        b.W().Zb() === c.getPeriod().toHash() && (c.setDataUnitCount(b.Af() + b.j.Yg), c.setPanOffset(b.j.Yg), c.panToTime(b.Qa().t(b.pa - b.Ca() / 2)));
                        c.removeEventListener(FJ, d, !1, this)
                    };
                    c.addEventListener(FJ, d, !1, this)
                } else setTimeout(k, 10)
            }, b);
            k()
        }
    }

    f.kL = function () {
        this.Yz || (this.Yz = new TF(this.Pr, null, a1(this)), this.S().C(this.Yz, "drag", function () {
            X(this).LX(X(this).jc.width - aG(this.Yz.target).x - PF(this.Pr).width)
        }));
        b1(this)
    };

    function a1(b) {
        var c = X(b).je();
        return new Ip((c.width / 2 | 0) - PF(b.Pr).width, b.j.bh ? PF(b.uu).height : 0, c.width / 2 | 0, 0)
    }

    function b1(b) {
        var c = aG(b.Pr);
        c.x = X(b).jc.width - X(b).j.Yg - PF(b.Pr).width;
        tu(b.Pr, c)
    }

    function Y0(b) {
        b.fE();
        b.Ud.V(X(b).ma());
        b.Tf.V(X(b).Db());
        b.rf.V(X(b).Te());
        b = X(b);
        b.Ex = window.requestAnimationFrame(b.Xx)
    }

    function Z0(b) {
        if (b.Fb) {
            gk(b.Fb, "a-Nl-b", b.j.js);
            gk(b.Fb, "a-Nl-sd", b.j.js && "jp" == b.j.lang);
            b.Ud.Ba(b.j.Ux);
            b.Xb.Ba(b.j.Wx);
            b.Tf.Ba(b.j.Vx);
            b.j.bh ? ji(ck(b.Fb), "a-N-hj") && (ek(b.Fb, "a-N-hj"), b.qo()) : ji(ck(b.Fb), "a-N-hj") || (dk(b.Fb, "a-N-hj"), b.qo());
            O(b.Pr, b.j.$A);
            b.Ud.Z(b.j.cm && b.j.TA);
            b.Xb.Z(b.j.cm);
            b.Tf.Z(b.j.cm && b.j.XA);
            b.rf.Z(b.j.Rd);
            b.mj.Z(b.j.fx && b.j.Rd);
            b.Or.Z(b.j.kq && b.j.Rd);
            b.Ze && b.Ze.cu(b.j.kq && b.j.Rd);
            b.nk.Z(b.j.Rd);
            b.tk.Z(b.j.LG && b.j.Rd);
            b.uE.Z(b.j.RG && b.j.Rd);
            b.iw.Z(b.j.Rd && b.j.gx);
            b.Au.Z(b.j.ls);
            b.Bu.Z(b.j.ls);
            b.pA.Z(b.j.ks);
            b.qA.Z(b.j.ks);
            b.Ou.Z(b.j.eu);
            O(b.wn, b.j.ls || b.j.ks || b.j.eu);
            b.sF.Z(b.j.Rd && b.j.YA);
            b.uF.Z(!1);
            b.tF.Z(!1);
            b.qt.Z(b.j.WA && b.j.Rd);
            b.pD.Z(b.j.Rd);
            b.oA.Z(b.j.Rd && b.j.nA);
            b.gv.Z(b.j.Rd);
            b.Qd.Z(b.j.Rd);
            b.cv.Z(b.j.OA);
            b.Qi.hs(b.j.gx && b.j.Rd);
            var c = b.Qi;
            c.QN = b.j.hu;
            c.la && I_(c);
            b.HO.Ba(b.j.hu);
            b.jl.Ba(b.j.Lq);
            b.lp.Ba(b.j.Kq);
            b.bg.Z(b.j.Sq && b.j.Rd);
            b.bg.Ba(b.j.Sq);
            c = b.bg.qa();
            c.w = b.j.Sq;
            QX(c);
            c.la && (WX(c), c.im(), (c.w || c.F) && c.bf());
            c = b.bg.qa();
            c.F = b.j.ow;
            QX(c);
            c.la && (WX(c), c.im(),
            (c.w || c.F) && c.bf());
            b.aH.Z(b.j.Bs && b.j.Rd);
            b.xo.Z(b.j.WG && b.j.Rd);
            b.aw.Z(b.j.Rd);
            b.zx.Z(b.j.hx && b.j.Rd);
            b.xw.Z(b.j.hx && b.j.Rd);
            b.Np.Z(b.j.OG);
            b.$F.Z(b.j.Kq && b.j.Rd);
            b.dF.Z(b.j.Lq && b.j.Rd);
            b.ms.Ba(b.j.Bs);
            K.enable(b.J(), "a-b-re-Rg", !b.j.Rd && !b.j.cm);
            b.qv()
        }
    }

    f.ida = function (b) {
        this.YR = b
    };
    f.u6 = function () {
        return this.cv
    };

    function m1(b, c) {
        var d = new eN(null, b.M());
        La(c, function (b) {
            b = new lL(b.title.toString(), b.no, this.M());
            d.Va(b, !0)
        }, b);
        return d
    }

    function J1(b) {
        b.Xb.me(!0);
        wZ(b.Xb);
        zZ(b.Xb);
        La(bh, function (b) {
            var d = b.Fa() + ";" + b.W().toString(), d = new aZ(d, b.W().toString(), b);
            cZ(d, b.toString());
            this.Xb.bc(d)
        }, b);
        vZ(b.Xb);
        E(Ta(b.uw.a), function (b) {
            this.Xb.bc(S1(b))
        }, b);
        vZ(b.Xb);
        W1(b)
    }

    function W1(b) {
        var c = y("MSG_CHARTUI_PERIOD_SELECT_PERIOD_SETTINGS", {}, "Period settings ...");
        b.Xb.bc(new gZ("period-settings", c, b.bg.qa()))
    }

    function S1(b) {
        var c = b.Al(), d = new hd(b.ie().toString(), b.ie()), e = b.ad(), h = b.$d(), c = new JW(c, X1(b), d, e, h),
            c = new aZ(b.aa(), c.toString(), c);
        c.Kc(Y1(b, !0));
        cZ(c, Y1(b, !1));
        return c
    }

    function Y1(b, c) {
        if (b instanceof TW) return c ? aX[b.Kb()] + b.$d() : b.$d() + " " + XW[b.Kb()];
        if (b instanceof SW) return c ? aX[b.Kb()] + b.ad() : XW[b.Kb()] + " (" + b.ad() + ")";
        if (b instanceof UW) {
            if (c) return aX[b.Kb()] + "(" + b.ie() + "x" + b.ad() + ")";
            var d = 1 < b.ie() ? " Pips" : " Pip";
            return XW[b.Kb()] + " (" + b.ie() + d + " x " + b.ad() + ")"
        }
        return c ? aX[b.Kb()] + b.ie() : XW[b.Kb()] + " (" + b.ie() + ")"
    }

    function X1(b) {
        switch (b.Kb()) {
            case WW:
                return 6;
            case YW:
                return 4;
            case ZW:
                return 7;
            case $W:
                return 8;
            default:
                return 2
        }
    }

    var Z1 = {
        bar: "a-ib-b-Kh",
        candle: "a-ib-b-Mj",
        line: "a-ib-b-Bj",
        brick: "a-ib-b-Nj",
        wicksbrick: "a-ib-b-Oj",
        candlebar: "a-ib-b-Pj",
        wickscandlebar: "a-ib-b-Qj",
        box: "a-ib-b-Tg"
    }, $1 = {};
    $1.candle = y("MSG_PRESENTATION_TYPE_CANDLE", {}, "Candle");
    $1.bar = y("MSG_PRESENTATION_TYPE_BAR", {}, "Bar");
    $1.line = y("MSG_PRESENTATION_TYPE_LINE", {}, "Line");
    $1.brick = y("MSG_PRESENTATION_TYPE_BRICK", {}, "Brick");
    $1.wicksbrick = y("MSG_PRESENTATION_TYPE_WICKSBRICK", {}, "Brick with wicks");
    $1.candlebar = y("MSG_PRESENTATION_TYPE_BRICK", {}, "Bar");
    $1.wickscandlebar = y("MSG_PRESENTATION_TYPE_WICKSBRICK", {}, "Wick");
    $1.box = y("MSG_PRESENTATION_TYPE_BOX", {}, "Box");
    var a2 = {};
    a2.legend = y("MSG_OHLC_TYPE_LEGEND", {}, "OHLC in legend");
    a2.disabled = y("MSG_OHLC_TYPE_DISABLED", {}, "Disabled OHLC");
    a2.simple = y("MSG_OHLC_TYPE_SIMPLE", {}, "OHLC Index");
    a2.detached = y("MSG_OHLC_TYPE_DETACHED", {}, "Detached OHLC Index");
    a2.advanced = y("MSG_OHLC_TYPE_ADVANCED", {}, "Advanced OHLC Index");
    a2.detached_advanced = y("MSG_OHLC_TYPE_DETACHED_ADVANCED", {}, "Detached advanced OHLC Index");
    a2.side_menu = y("MSG_OHLC_TYPE_SIDE_MENU", {}, "OHLC Index in side menu");
    a2.magnifier = y("MSG_OHLC_TYPE_MAGNIFIER", {}, "Magnifying Glass");
    var b2 = {
        1: ["line", "bar"],
        5: ["candle", "bar"],
        2: ["candle", "bar", "line"],
        6: ["brick", "wicksbrick"],
        4: ["box", "bar"],
        7: ["line"],
        8: ["candlebar", "wickscandlebar"]
    }, c2 = {
        legend: "a-ib-W-kd-Xk",
        disabled: "a-ib-Hk",
        simple: "a-ib-lk",
        detached: "a-ib-lk",
        side_menu: "a-ib-lk",
        advanced: "a-ib-Gk",
        detached_advanced: "a-ib-Gk",
        magnifier: "a-ib-ci-di"
    };

    function o1(b, c) {
        var d = b.M();
        b.rf.me(!0);
        wZ(b.rf);
        zZ(b.rf);
        E(b2[c], function (b) {
            var c = new aZ(b, uY(Z1[b]), b);
            cZ(c, d.u(Le, null, uY(Z1[b]), $1[b]));
            this.rf.bc(c)
        }, b)
    }

    function s1(b, c) {
        var d = b.M();
        c = ka(c) ? Al[c] : c;
        var e = ["legend", "disabled", "simple", "detached"];
        switch (!0) {
            case !!~[bl, cl, dl].indexOf(c):
            case 1 == X(b).j.rH:
                break;
            default:
                e.push("advanced", "detached_advanced")
        }
        e.push("magnifier");
        b.Qd.me(!0);
        wZ(b.Qd);
        zZ(b.Qd);
        E(e, function (b) {
            var c = new aZ(b, uY(c2[b] ? c2[b] : ""), b);
            cZ(c, d.u(Le, null, uY(c2[b]), a2[b]));
            this.Qd.bc(c)
        }, b);
        -1 !== e.indexOf(b.Sz) ? b.Qd.V(b.Sz) : "advanced" === X(b).j.Mr ? b.Qd.V("simple") : "detached_advanced" === X(b).j.Mr ? b.Qd.V("detached") : b.Qd.V(X(b).j.Mr);
        b.nj && b.nj.Ba("disabled" != b.Qd.G())
    }

    function d2(b, c) {
        return b.M().u(Le, ["mg-Cg-ib"].concat(c).join(" "), "\u00a0")
    }

    function r1(b) {
        var c = new eN(null, b.M()), d = y("MSG_DRAWINGS_LINE", {}, "Line"), e = y("MSG_DRAWINGS_PENCIL", {}, "Pencil"),
            h = y("MSG_DRAWINGS_RAY", {}, "Ray"), k = y("MSG_DRAWINGS_SEGMENT", {}, "Segment"),
            l = y("MSG_DRAWINGS_POLYLINE", {}, "Polyline"), p = y("MSG_DRAWINGS_RECTANGLE", {}, "Rectangle"),
            q = y("MSG_DRAWINGS_TRIANGLE", {}, "Triangle"), r = y("MSG_DRAWINGS_ELLIPSE", {}, "Ellipse"),
            t = y("MSG_DRAWINGS_POLYGON", {}, "Polygon"), u = y("MSG_DRAWINGS_SIGNAL_UP", {}, "Signal up"),
            x = y("MSG_DRAWINGS_SIGNAL_DOWN", {}, "Signal down"), A = y("MSG_DRAWINGS_PRICE_LEVEL",
            {}, "Price level"), C = y("MSG_DRAWINGS_TIME_MARKER", {}, "Time marker"),
            I = y("MSG_DRAWINGS_CHANNEL", {}, "Channel"), N = y("MSG_DRAWINGS_STDDEV_CHANNEL", {}, "StdDev channel"),
            S = y("MSG_DRAWINGS_GHOST_FEED", {}, "Ghost feed"), T = y("MSG_DRAWINGS_TEXT_LABEL", {}, "Text label"),
            U = y("MSG_DRAWINGS_TEXT_BOX", {}, "Text box"), Y = y("MSG_DRAWINGS_GANN_ANGLE", {}, "Gann angle"),
            fa = y("MSG_DRAWINGS_GANN_GRID", {}, "Gann grid"),
            na = y("MSG_DRAWINGS_FIBONACCI_FAN_LINES", {}, "Fibonacci Fan Lines"),
            xa = y("MSG_DRAWINGS_FIBONACCI_FAN_ARCS", {},
                "Fibonacci Fan Arcs"), vb = y("MSG_DRAWINGS_FIBONACCI_RETRACEMENTS", {}, "Fibonacci Retracements"),
            zb = y("MSG_DRAWINGS_FIBONACCI_TIME_ZONES", {}, "Fibonacci Time Zones"),
            Gf = y("MSG_DRAWINGS_FIBONACCI_EXPANSION", {}, "Fibonacci Expansion"),
            Za = y("MSG_DRAWINGS_ANDREWS_PITCHFORK", {}, "Andrews' Pitchfork"),
            Aa = y("MSG_DRAWINGS_DIVIDER", {}, "Divider"), hb = y("MSG_DRAWINGS_VOLUME_PROFILE", {}, "Volume Profile");
        E([[{he: tJ, title: e, icon: "a-ib-Uk", Dc: "", multiple: !0}, {
                he: cB,
                title: d,
                icon: "a-ib-Bj",
                Dc: "",
                multiple: !1
            }, {
                he: fB, title: h,
                icon: "a-ib-Gj", Dc: "", multiple: !1
            }, {he: gB, title: k, icon: "a-ib-Ij", Dc: "", multiple: !1}, {
                he: mB,
                title: l,
                icon: "a-ib-Dj",
                Dc: "",
                multiple: !1
            }], [{he: tB, title: p, icon: "a-ib-Hj", Dc: "", multiple: !1}, {
                he: qB,
                title: q,
                icon: "a-ib-al",
                Dc: "",
                multiple: !1
            }, {he: AA, title: r, icon: "a-ib-yj", Dc: "", multiple: !1}, {
                he: pB,
                title: t,
                icon: "a-ib-Cj",
                Dc: "",
                multiple: !1
            }], [{he: PB, title: u, icon: "a-ib-Qg-Lj", Dc: "", multiple: !1}, {
                he: OB,
                title: x,
                icon: "a-ib-Qg-Kj",
                Dc: "",
                multiple: !1
            }], [{he: OA, title: A, icon: "a-ib-Ej-Fj", Dc: "Alt + H", multiple: !1}, {
                he: SB,
                title: C, icon: "a-ib-C-Fj", Dc: "Alt + V", multiple: !1
            }], [{he: dB, title: I, icon: "a-ib-vj", Dc: "", multiple: !1}, {
                he: SA,
                title: N,
                icon: "a-ib-vj-wj-xj",
                Dc: "",
                multiple: !1
            }], [{he: xA, title: S, icon: "a-ib-b-Mj", Dc: "", multiple: !1}], [{
                he: TE,
                title: T,
                icon: "a-ib-mi",
                Dc: "",
                multiple: !1
            }, {he: VE, title: U, icon: "a-ib-mi-Tg", Dc: "", multiple: !1}], [{
                he: jC,
                title: Y,
                icon: "a-ib-zj-Aj",
                Dc: "",
                multiple: !1
            }, {he: mC, title: fa, icon: "a-ib-zj-Rh", Dc: "", multiple: !1}], [{
                he: YA,
                title: na,
                icon: "",
                Dc: "",
                multiple: !1
            }, {he: UA, title: xa, icon: "", Dc: "", multiple: !1},
                {he: ZA, title: vb, icon: "", Dc: "", multiple: !1}, {
                    he: aB,
                    title: zb,
                    icon: "",
                    Dc: "",
                    multiple: !1
                }, {he: VA, title: Gf, icon: "", Dc: "", multiple: !1}], [{
                he: hB,
                title: Za,
                icon: "a-ib-Dk",
                Dc: "",
                multiple: !1
            }], [{he: vB, title: Aa, icon: "a-ib-Fk", Dc: "", multiple: !1}], [{
                he: WB,
                title: hb,
                icon: "a-ib-bl",
                Dc: "",
                multiple: !1
            }]], function (b, d) {
                0 < d && c.Va(new bN(this.M()), !0);
                E(b, function (b) {
                    var d = new kL(this.M().u(Le, null, d2(this, [b.icon, "a-ib", "a-uj-ib"]), b.title, this.M().u(Le, "el-eb", b.Dc)), b.he, this.M());
                    d.vd(16, b.multiple);
                    c.Va(d, !0)
                }, this)
            },
            b);
        return c
    }

    function v1(b) {
        var c = new eN(null, b.M());
        La(FG, function (b, e) {
            c.Va(new lL(e, e, this.M()), !0)
        }, b);
        return c
    }

    var zX = y("MSG_TIMEZONE_UTC", {}, "UTC time"), BX = y("MSG_TIMEZONE_LOCAL", {}, "Local time"),
        e2 = {JB: "currentpricelayer", aI: "oppositepricelayer", MB: "drawingslayer", NB: "indicatorslayer"}, f2 = [];
    f2[e2.JB] = y("MSG_CURRENT_PRICE_LAYER", {}, "Current side market price");
    f2[e2.aI] = y("MSG_OPPOSITE_PRICE_LAYER", {}, "Opposite side market price");
    f2[e2.MB] = y("MSG_DRAWINGS_LAYER", {}, "Drawings");
    f2[e2.NB] = y("MSG_INDICATORS_LAYER", {}, "Indicators");
    f = Z.prototype;
    f.Sm = {};

    function i1(b, c) {
        b.Sm = b.Sm || {};
        b.Sm[c] || (b.Sm[c] = [e2.JB, e2.MB, e2.NB])
    }

    function l1(b, c) {
        b.Sm[c] || i1(b, c);
        return b.Sm[c]
    }

    function k1(b, c) {
        var d = X(b), e = d.aa();
        b.Sm = b.Sm || {};
        b.Sm[e] = c;
        La(e2, function (b) {
            var c = !!~this.Sm[e].indexOf(b);
            switch (b) {
                case e2.JB:
                    d.au(c);
                    break;
                case e2.aI:
                    d.$t(c);
                    break;
                case e2.MB:
                    E(d.ga().ri(), function (b) {
                        b.hs(c)
                    }, this);
                    break;
                case e2.NB:
                    La(d.Md, function (b) {
                        YV(d, b, c)
                    }, this)
            }
        }, b);
        rP(b.aw, l1(b, e));
        d.Ia();
        J_(b.Qi)
    }

    function lX(b) {
        g2(b, e2.MB)
    }

    function kX(b) {
        g2(b, e2.NB)
    }

    function g2(b, c) {
        ji(l1(b, X(b).aa()), c) || k1(b, oi(l1(b, X(b).aa()), [c]))
    }

    function w1(b) {
        var c = new eN(null, b.M());
        La(e2, function (b) {
            c.Va(new mL(f2[b], b, this.M()), !0)
        }, b);
        return c
    }

    function j1(b) {
        var c = " (BID and ASK)", d = "";
        Cl(X(b).W(), bl) || (c = " (" + X(b).Db() + ")", d = " (" + ("BID" == X(b).Db() ? "ASK" : "BID") + ")");
        cI(b.xL, function (b) {
            switch (b.qa()) {
                case e2.JB:
                    b.es(f2[b.qa()] + c);
                    break;
                case e2.aI:
                    b.es(f2[b.qa()] + d)
            }
        }, b)
    }

    f.qY = function () {
        X(this).Rp(this.Eh[E_(this)]) ? (X(this).xh(this.Eh[E_(this)]), this.nk.Tb(!1)) : (X(this).Ni(this.Eh[E_(this)]), this.nk.Tb(!0), kX(this));
        this.nk.Gb(q1(this))
    };

    function N1(b) {
        X(b).j.um ? (X(b).oN(!1), b.tk.Tb(!1)) : (X(b).oN(!0), b.tk.Tb(!0));
        b.tk.Gb(S0(b))
    }

    f.gM = function () {
        this.Jc && kO(this.Jc, !0);
        O(this.Wj, !0);
        ek(this.xn, "a-b-Y-wl");
        ek(this.J(), "a-b-N-wl");
        ek(this.ZR, "a-xl-yl-S");
        h2(this);
        this.Xb.G().Fa() !== X(this).Fa() && (o1(this, X(this).Fa()), s1(this, X(this).W()), Y0(this));
        c1(this);
        this.Tz()
    };
    f.Tz = function () {
        this.Pf.la && s_(this.Pf);
        var b = !GF(this.X()), c;
        this.tl.la && cI(this.tl, function (d) {
            d.qa() == WB && (d.Z(b), c && c.Z(b));
            c = d
        }, this);
        this.nk.Z(this.j.Rd && b)
    };
    f.mF = function (b) {
        this.Jc && kO(this.Jc, !0);
        this.Ud.V(X(this).ma());
        this.Qb && PY(this.Qb);
        this.Tf.Ba(1 !== X(this).Fa());
        sx(this.nL, function () {
            dk(this.xn, "a-b-Y-wl");
            dk(this.J(), "a-b-N-wl");
            O(this.Wj, !1);
            ZY(this.Ze);
            this.mj.Ba(Bl(X(this).W(), ml));
            this.mj.Gb(p1(this));
            h2(this);
            this.nt.vl || this.nt.uc()
        }, this);
        void 0 === this.pJ && (this.pJ = X(this).Ip());
        X(this).ek(this.pJ);
        NY(this.Qb, b.target.aa());
        this.ZB();
        R0(this);
        this.j.JG && !this.ml && (this.ml = new d0(this), this.ml.rG(this.j.Tm), this.ml.init());
        f1(this, this.j.ht);
        this.qo();
        this.Tz()
    };
    f.Qe = function () {
        return this.ml
    };

    function h2(b) {
        Bl(X(b).W(), ml) ? void 0 !== b.sW && X(b).Sw(b.sW) : (b.sW = b.mj.Cf(), X(b).Sw(!1))
    }

    function R0(b) {
        var c = b.cv.J(), d = X(b).K, e = X(b).je(), h = 8;
        c && d && e && (b.JF.G() && (h += d.width - e.width), h !== b.xR && (b.xR = h, ht(c, {right: b.xR + "px"})))
    }

    f.eM = function () {
        this.Jc && kO(this.Jc, !1);
        O(this.Wj, !1);
        dk(this.ZR, "a-xl-yl-S");
        ek(this.xn, "a-b-Y-wl");
        ek(this.J(), "a-b-N-wl")
    };

    function p1(b) {
        var c = y("MSG_HIDE_NEWS", {}, "Hide economic events"), d = y("MSG_SHOW_NEWS", {}, "Show economic events"),
            e = y("MSG_DISABLED_NEWS", {}, "Economic events are available only for periods less than hour");
        return Bl(X(b).W(), ml) ? X(b).nr() ? c : d : e
    }

    function H1(b) {
        var c = y("MSG_CHARTUI_DISABLE_HALLOWEEN_MODE", {}, "Disable Halloween mode"),
            d = y("MSG_CHARTUI_ENABLE_HALLOWEEN_MODE", {}, "Enable Halloween mode");
        return b.j.ht ? c : d
    }

    function q1(b) {
        var c = y("MSG_HIDE_VOLUMES", {}, "Hide volumes"), d = y("MSG_SHOW_VOLUMES", {}, "Show volumes");
        return X(b).Rp(b.Eh[E_(b)]) ? c : d
    }

    function S0(b) {
        var c = y("MSG_HIDE_CROSSHAIR", {}, "Hide crosshair"), d = y("MSG_SHOW_CROSSHAIR", {}, "Show crosshair");
        return X(b).j.um ? c : d
    }

    function I1(b) {
        var c = y("MSG_SELECT_INSTRUMENT", {}, "Select instrument"),
            d = y("MSG_SELECT_TIME_PERIOD", {}, "Select time period"),
            e = y("MSG_SELECT_OFFER_SIDE", {}, "Select offer side"),
            h = y("MSG_SELECT_PRESENTATION_TYPE", {}, "Select presentation type"),
            k = y("MSG_SELECT_OHLC_TYPE", {}, "Select OHLC type");
        us(b.Ud.J(), {title: c});
        c = {title: d};
        us(b.Xb.J(), c);
        us(b.Xb.$e.J(), c);
        us(b.Xb.zm.J(), c);
        us(b.Tf.J(), {title: e});
        e = {title: h};
        us(b.rf.J(), e);
        us(b.rf.$e.J(), e);
        us(b.rf.zm.J(), e);
        k = {title: k};
        us(b.Qd.J(), k);
        us(b.Qd.$e.J(),
            k);
        us(b.Qd.zm.J(), k)
    }

    f.qo = function () {
        var b = PF(this.J()), c = hG(this.Fb);
        JF(this.Fb, b.width - (c.left + c.right), b.height - (c.top + c.bottom));
        this.lz && (JF(this.lz, 1, b.height / 2), ht(this.lz, "max-height", b.height / 2 + "px"));
        La(this.Pa, function (b) {
            b.resize()
        }, this);
        this.X().resize();
        595 > PF(this.J()).width ? (this.Ud.sG(!0), this.Ud.Pk(null)) : this.Ud.sG(!1);
        V1(this);
        this.Ze && this.Or.Z(YY(this.Ze) && this.j.kq && this.j.Rd)
    };
    f.resize = function () {
        this.qo()
    };
    f.qv = function () {
        this.resize();
        X(this).NN(X(this).j.hm)
    };
    f.Yl = function () {
        X(this).Ia()
    };
    f.D3 = function (b) {
        this.Jc.Va(b, !0)
    };
    f.E3 = function (b, c) {
        this.Jc.el(b, dI(this.Jc, c) + 1, !0)
    };
    f.G3 = function (b, c) {
        this.Jc.el(b, dI(this.Jc, c) - 1, !0)
    };
    f.gca = function (b) {
        this.Jc.removeChild(b, !0)
    };
    f.lb = function () {
        var b = {};
        La(this.Pa, function (c, d) {
            b.charts = b.charts || {};
            b.charts[d] = Gg(c.lb())
        }, this);
        b.ui = {
            allowInstrumentChange: this.j.Ux,
            allowPeriodChange: this.j.Wx,
            allowOfferSideChange: this.j.Vx,
            showUI: this.j.bh,
            showTabs: this.j.lq,
            showTabsSettings: this.j.Ho,
            showParameterToolbar: this.j.cm,
            showOfferSide: this.j.XA,
            showAdditionalToolbar: this.j.Rd,
            showPanOffsetHandle: this.j.$A,
            showNewsButton: this.j.fx,
            showOnlineNewsButton: this.j.kq,
            showTimezoneSelect: this.j.XG,
            showDetachButton: this.j.OA,
            showLogo: this.j.js,
            showLiveButton: this.j.WA,
            showInstrumentSelect: this.j.TA,
            showZoom: this.j.ls,
            showScrollButtons: this.j.ks,
            showAutoShiftButton: this.j.eu,
            showPanDialog: this.j.YA,
            showObjectPane: this.j.gx,
            showWorkspaceImport: this.j.hu,
            allowChartWorkspaceImport: this.j.Lq,
            allowChartWorkspaceExport: this.j.Kq,
            allowSocialSharing: this.j.Bs,
            allowZoomOnScrolling: this.j.Lu,
            screenshot: this.j.nA,
            borders: this.j.vn
        };
        return Ig(b)
    };
    f.lk = !1;
    f.cb = function (b) {
        this.lk = !0;
        var c = Gg(b), c = c.charts ? c.charts[Ua(c.charts)[0]] : c;
        La(this.Qb.ft(), function (b, c) {
            MY(this.Qb, null, c)
        }, this);
        var d = X(this).aa();
        X(this).gd && (this.iI(c.options), MY(this.Qb, null, d));
        i2(this, b)
    };

    function i2(b, c) {
        var d = Gg(c);
        La(d.ui, function (b, c) {
            this[c](b)
        }, b);
        if (d.charts) var e = Ua(d.charts)[0], h = d.charts[e]; else h = d;
        X(b).cb(JSON.stringify(h));
        h.options && h.options.theme && (h = Gg(h.options.theme), Q1(b, X(b).aa(), h), U1(b, h));
        X(b).gd || X(b).init();
        d.charts && delete d.charts[e];
        X(b).aa();
        1 <= Ua(d.charts).length ? b.S().Qf(X(b), FJ, function () {
            X(this).Ia();
            X(this).Ok(X(this).j.Yi);
            this.Po();
            N1(this);
            var b = this;
            setTimeout(function () {
                j2(b, d.charts)
            }, 250)
        }) : b.S().Qf(X(b), "finishunserialize", function () {
            c1(this);
            o1(this, X(this).Fa());
            this.lk = !1;
            this.rf.V(X(this).Te())
        })
    }

    function c1(b) {
        E(Ta(b.uw.a), function (b) {
            if (b.Kb() === X(this).Fa()) {
                b.bi(X(this).hf().xi());
                var d = X(this).W();
                b.Rh = d;
                b.fn(X(this).ad());
                b.Ao(X(this).$d())
            }
            this.Xb && (d = this.Xb, b = S1(b), b.bm(d.Ag(b)), d.a.replace(b))
        }, b)
    }

    function j2(b, c) {
        if (ch(c)) c1(b), o1(b, X(b).Fa()), b.lk = !1, b.rf.V(X(b).Te()), X(b).Ia(), X(b).Ok(X(b).j.Yi), b.Po(), N1(b); else {
            var d = Ua(c)[0], e = c[d];
            delete c[d];
            d = b.iI(e.options).GX(function () {
                this.Ia();
                this.Ok(this.j.Yi);
                b.Po();
                N1(b);
                setTimeout(function () {
                    j2(b, c)
                }, 250)
            });
            d.cb(JSON.stringify(e));
            e.options && e.options.theme && (e = Gg(e.options.theme), Q1(b, d.aa(), e), U1(b, e))
        }
    }

    var k2 = new sk("HHmmss.S yyyy-MM-dd"), l2 = new sk("HHmm yyyy-MM-dd"), m2 = new sk("yyyy-MM-dd");
    Z.prototype.v6 = function () {
        return this.Gw.toDataURL().replace(/data:[^;]+;base64,/, "")
    };
    Z.prototype.OS = function () {
        var b;
        a:switch (b = X(this).W().Y(), !0) {
            case 1E3 >= b:
                b = k2;
                break a;
            case 864E5 > b:
                b = l2;
                break a;
            default:
                b = m2
        }
        var c = DJ(X(this));
        return [X(this).ma().toString().replace("/", ""), X(this).Db().toString(), X(this).W().toString(), "since", b.format(new Date(c.vg)), "to", b.format(new Date(c.fh))].join(" ") + ".png"
    };

    function X(b) {
        return b.Pa[b.Qb.$l]
    }

    function E_(b) {
        return b.Qb.$l
    }

    Z.prototype.iI = function (b, c) {
        this.Dz = b;
        if (this.Qb) return this.Qb.As(void 0 === c ? !0 : c)
    };
    var G1 = y("MSG_IMPORT_WORKSPACE", {}, "Load chart workspace"),
        D1 = y("MSG_EXPORT_WORKSPACE", {}, "Save chart workspace"), n1 = y("MSG_CHART_SETTINGS", {}, "Chart settings"),
        A1 = y("MSG_SHARE", {}, "Share"), x1 = y("MSG_SHARE_WORKSPACE", {}, "Share workspace"),
        y1 = y("MSG_SHARE_SNAPSHOT", {}, "Share snapshot"), z1 = y("MSG_SAVE_SNAPSHOT", {}, "Save snapshot"),
        B1 = y("MSG_SAVE_CHART_TO_CLOUD", {}, "Save to cloud"), C1 = y("MSG_SAVE_CHART_TO_FILE", {}, "Save to file"),
        E1 = y("MSG_LOAD_CHART_FROM_CLOUD", {}, "Load from cloud"), F1 = y("MSG_LOAD_CHART_FROM_FILE",
        {}, "Load from file"), t0 = "dfc" + (wa() + Math.random()).toString(32).replace(".", "");
    Z.prototype.SU = function (b) {
        b.target.qa().action === N0 ? b.target.qa().Ll.action(b.target.qa().action) : (T1(this, b.target.qa().Ll.HD()), this.Ae || (this.Ae = new p0(this.j.ew, this.ij, this.zz), this.Ae.Ci(this.j.ei), this.Ae.Wf(this.j.qD)), sx(q0(this.Ae), v(function () {
            b.target.qa().Ll.action(b.target.qa().action)
        }, this)))
    };

    function P1(b, c) {
        c.target.qa().Ll.isEnabled() && (T1(b, c.target.qa().Ll.HD()), b.Ae || (b.Ae = new p0(b.j.ew, b.ij, b.zz), b.Ae.Ci(b.j.ei), b.Ae.Wf(b.j.qD)), sx(q0(b.Ae), v(function () {
            var b = c.target.qa().Ll;
            b.isEnabled() && b.ca.Ae.Nl() && (b.Wk = b.Wk || new eY(b.ca, b.bd), b.Wk.la || b.Wk.T(b.ca.Aa()), b.Wk.Z(!0), yY(b))
        }, b)))
    }

    Z.prototype.bT = function () {
        return this.pk ? this.pk.FL : null
    };
    Z.prototype.yv = function () {
        return this.pk ? this.pk.HL : null
    };
    Z.prototype.cT = function () {
        return this.pk ? this.pk.JL : null
    };
    lM.prototype.Z = function (b) {
        lM.P.Z.call(this, b);
        b && this.xe()
    };
    Z.prototype.IC = function () {
        La(this.Pa, function (b) {
            b.IC()
        });
        au(this);
        this.ml && this.ml.Qe().Ra();
        this.j.Tm && (this.Lr && this.Lr.Ra(), this.tl && this.tl.Ra(), this.bs && this.bs.Ra(), this.Xb && this.Xb.cc().Ra(), this.rf && this.rf.cc().Ra(), this.Qd && this.Qd.cc().Ra(), this.Ud && au(this.Ud), $t(window, "resize"), this.Ud.Ac && au(this.Ud.Ac), this.Ud.Ac && this.Ud.Ac.Ra(), this.bg.qa().Ra());
        this.Ra()
    };
    Z.prototype.Ufa = function (b) {
        b ? (b = b.toLowerCase(), "jp" == b && (b = "ja"), "cn" == b && (b = "zh"), this.Ze && this.Ze.am(b)) : this.Ze.am(this.j.language)
    };

    function Q1(b, c, d) {
        b.lB[c] = d;
        b.Ze && ZY(b.Ze)
    }

    function U1(b, c) {
        b.xo.G() != c && (b.xo.V(c), R1(b))
    }

    function R1(b) {
        b.xo.es(uY("a-ib-Vk-Wk"))
    }

    Z.prototype.$w = function (b) {
        if (!FG[b]) throw Error("Unknown theme");
        this.xo.V(b)
    };

    function n2(b) {
        b = X(b).fa();
        return "Dark" === b.getName() || "DarkBlue" === b.getName() || "DarkDroid" === b.getName() || "DarkIOs" === b.getName()
    }

    Z.prototype.wH = function () {
        gY(this, this.J());
        this.j.Tm && (this.Lr && gY(this, this.Lr.J()), this.tl && gY(this, this.tl.J()), this.bs && gY(this, this.bs.J()), this.Xb && gY(this, this.Xb.cc().J()), this.rf && gY(this, this.rf.cc().J()), this.Qd && gY(this, this.Qd.cc().J()), this.Ud.Ac && dS(this.Ud, Q0 + "-xn", n2(this)), this.Ud.Ac && dS(this.Ud, Q0 + "-xn-zn", "DarkBlue" === X(this).fa().getName()), this.bg && gY(this, this.bg.qa().J()), this.bg && gY(this, this.bg.qa().Zi()));
        this.ml && gY(this, this.ml.Qe().J())
    };

    function gY(b, c) {
        K.enable(c, Q0 + "-xn", n2(b));
        K.enable(c, Q0 + "-xn-zn", "DarkBlue" === X(b).fa().getName())
    };z("dc.ChartUI", Z);
    z("dc.ChartUI.prototype", Z.prototype);
    Z.prototype.getChart = Z.prototype.X;
    Z.prototype.instrumentTransport = Z.prototype.bo;
    Z.prototype.allowInstrumentChange = Z.prototype.Ux;
    Z.prototype.allowPeriodChange = Z.prototype.Wx;
    Z.prototype.allowOfferSideChange = Z.prototype.Vx;
    Z.prototype.availableInstruments = Z.prototype.wf;
    Z.prototype.showLogo = Z.prototype.js;
    Z.prototype.lang = Z.prototype.lang;
    Z.prototype.showNewsButton = Z.prototype.fx;
    Z.prototype.showOnlineNewsButton = Z.prototype.kq;
    Z.prototype.showTimezoneSelect = Z.prototype.XG;
    Z.prototype.showPanOffsetHandle = Z.prototype.$A;
    Z.prototype.showParameterToolbar = Z.prototype.cm;
    Z.prototype.showOfferSide = Z.prototype.XA;
    Z.prototype.showAdditionalToolbar = Z.prototype.Rd;
    Z.prototype.showInstrumentSelect = Z.prototype.TA;
    Z.prototype.showLiveButton = Z.prototype.WA;
    Z.prototype.showPanDialog = Z.prototype.YA;
    Z.prototype.showUI = Z.prototype.bh;
    Z.prototype.showDetachButton = Z.prototype.OA;
    Z.prototype.showZoom = Z.prototype.ls;
    Z.prototype.showScrollButtons = Z.prototype.ks;
    Z.prototype.showAutoShiftButton = Z.prototype.eu;
    Z.prototype.showObjectPane = Z.prototype.gx;
    Z.prototype.showWorkspaceImport = Z.prototype.hu;
    Z.prototype.chartUri = Z.prototype.lC;
    Z.prototype.showContextMenu = Z.prototype.JG;
    Z.prototype.showCrossHairButton = Z.prototype.LG;
    Z.prototype.showIndicatorsDialog = Z.prototype.RG;
    Z.prototype.indicators = Z.prototype.Pv;
    Z.prototype.instrumentUri = Z.prototype.Om;
    Z.prototype.timestampUri = Z.prototype.lH;
    Z.prototype.appendChartOptions = Z.prototype.nQ;
    Z.prototype.downloadifyImage = Z.prototype.PC;
    Z.prototype.downloadifySWF = Z.prototype.QC;
    Z.prototype.screenshot = Z.prototype.nA;
    Z.prototype.watermarkImage = Z.prototype.zu;
    Z.prototype.layout = Z.prototype.Ol;
    Z.prototype.showTabs = Z.prototype.lq;
    Z.prototype.showTabsSettings = Z.prototype.Ho;
    Z.prototype.borders = Z.prototype.vn;
    Z.prototype.toggleVolumesIndicator = Z.prototype.qY;
    Z.prototype.addChart = Z.prototype.iI;
    Z.prototype.getTabBar = Z.prototype.P7;
    Z.prototype.setEnabledPopup = Z.prototype.ida;
    Z.prototype.getDetachButton = Z.prototype.u6;
    Z.prototype.allowChartWorkspaceImport = Z.prototype.Lq;
    Z.prototype.allowChartWorkspaceExport = Z.prototype.Kq;
    Z.prototype.showExportImportWorkspace = Z.prototype.ufa;
    Z.prototype.setLoginAttemptsWOAuth = Z.prototype.Zda;
    Z.prototype.setWorkspaceChartURI = Z.prototype.rfa;
    Z.prototype.setMenuOutwards = Z.prototype.rG;
    Z.prototype.chartSettingsDialog = Z.prototype.Sq;
    Z.prototype.periodSettingsDialog = Z.prototype.ow;
    Z.prototype.allowSocialSharing = Z.prototype.Bs;
    Z.prototype.showThemeToolbarButton = Z.prototype.WG;
    Z.prototype.showUndoRedoButtons = Z.prototype.hx;
    Z.prototype.setSocialSharingChartURI = Z.prototype.Eea;
    Z.prototype.allowZoomOnScrolling = Z.prototype.Lu;
    Z.prototype.updateTranslation = Z.prototype.Ufa;
    Z.prototype.setHalloweenMode = Z.prototype.EX;
    Z.prototype.showHalloweenButton = Z.prototype.OG;
    Z.prototype.setTheme = Z.prototype.$w;
    Z.prototype.disclaimerURI = Z.prototype.JC;
    Z.prototype.setWithDisclaimer = Z.prototype.IG;
    Z.prototype.getElement = Z.prototype.J;
    Z.prototype.getSettings = Z.prototype.gg;
    Z.prototype.render = Z.prototype.T;
    Z.prototype.resize = Z.prototype.resize;
    Z.prototype.forceResize = Z.prototype.qv;
    Z.prototype.serialize = Z.prototype.lb;
    Z.prototype.unserialize = Z.prototype.cb;
    Z.prototype.addToolbarItem = Z.prototype.D3;
    Z.prototype.addToolbarItemBefore = Z.prototype.G3;
    Z.prototype.addToolbarItemAfter = Z.prototype.E3;
    Z.prototype.removeToolbarItem = Z.prototype.gca;
    Z.prototype.getAvailableInstruments = Z.prototype.e6;
    Z.prototype.destroy = Z.prototype.IC;
    Z.prototype.setAuthType = Z.prototype.Ci;
    Z.prototype.setFxcommOptions = Z.prototype.tda;
    Z.prototype.setLanguage = Z.prototype.am;
    Z.prototype.setFxspiderUri = Z.prototype.zda;
    Z.prototype.setFxspiderToken = Z.prototype.yda;
    Z.prototype.setRequestsCacheEnabled = Z.prototype.dn;
    Z.prototype.setObjectOperationMonitorEnabled = Z.prototype.Tw;
    Z.prototype.setObjectOperationMonitorDepth = Z.prototype.jea;
    Z.prototype.setKeyHandlerMonitorEnabled = Z.prototype.Mda;
    Z.prototype.updateThemeUIStyles = Z.prototype.wH;
    Z.prototype.applyWorkspace = Z.prototype.P3;
    z("dc.chartui.AuthType", QW);
    z("dc.chartui.AuthType.DFC", QW.pn);
    z("dc.chartui.AuthType.OWNFXCOMM", QW.P2);
    z("dc.ChartUIToolbarControl", SY);
    SY.prototype.setEnabled = SY.prototype.Ba;
    SY.prototype.setTooltip = SY.prototype.Gb;
    SY.prototype.addEventListener = SY.prototype.addEventListener;
    SY.prototype.removeEventListener = SY.prototype.removeEventListener;
    z("dc.ChartUIToolbarSeparator", TY);
    TS.prototype.getTextForSave = TS.prototype.nT;
    TS.prototype.getFileNameForSave = TS.prototype.VS;
    TS.prototype.getDataTypeForSave = TS.prototype.HS;
    TS.prototype.saveComplete = TS.prototype.cX;
    TS.prototype.saveCancel = TS.prototype.aX;
    TS.prototype.saveError = TS.prototype.dX;
    BY.prototype.setInitCallback = BY.prototype.GX;
    BY.prototype.setSelectedTab = BY.prototype.Vk;
}).call(this)
